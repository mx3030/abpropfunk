var NS=Object.defineProperty;var TS=(s,h,g)=>h in s?NS(s,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):s[h]=g;var rn=(s,h,g)=>(TS(s,typeof h!="symbol"?h+"":h,g),g);function _mergeNamespaces(s,h){for(var g=0;g<h.length;g++){const it=h[g];if(typeof it!="string"&&!Array.isArray(it)){for(const ut in it)if(ut!=="default"&&!(ut in s)){const ct=Object.getOwnPropertyDescriptor(it,ut);ct&&Object.defineProperty(s,ut,ct.get?ct:{enumerable:!0,get:()=>it[ut]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const ut of document.querySelectorAll('link[rel="modulepreload"]'))it(ut);new MutationObserver(ut=>{for(const ct of ut)if(ct.type==="childList")for(const dt of ct.addedNodes)dt.tagName==="LINK"&&dt.rel==="modulepreload"&&it(dt)}).observe(document,{childList:!0,subtree:!0});function g(ut){const ct={};return ut.integrity&&(ct.integrity=ut.integrity),ut.referrerPolicy&&(ct.referrerPolicy=ut.referrerPolicy),ut.crossOrigin==="use-credentials"?ct.credentials="include":ut.crossOrigin==="anonymous"?ct.credentials="omit":ct.credentials="same-origin",ct}function it(ut){if(ut.ep)return;ut.ep=!0;const ct=g(ut);fetch(ut.href,ct)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function getAugmentedNamespace(s){if(s.__esModule)return s;var h=s.default;if(typeof h=="function"){var g=function it(){return this instanceof it?Reflect.construct(h,arguments,this.constructor):h.apply(this,arguments)};g.prototype=h.prototype}else g={};return Object.defineProperty(g,"__esModule",{value:!0}),Object.keys(s).forEach(function(it){var ut=Object.getOwnPropertyDescriptor(s,it);Object.defineProperty(g,it,ut.get?ut:{enumerable:!0,get:function(){return s[it]}})}),g}var mathlive_min={exports:{}};(function(s,h){(function(g,it){it(h)})(commonjsGlobal$1,function(g){var it=(()=>{var ut=Object.defineProperty,ct=Object.defineProperties,dt=Object.getOwnPropertyDescriptor,ht=Object.getOwnPropertyDescriptors,pt=Object.getOwnPropertyNames,mt=Object.getOwnPropertySymbols,vt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,yt=(at,lt,ft)=>lt in at?ut(at,lt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):at[lt]=ft,bt=(at,lt)=>{for(var ft in lt||(lt={}))vt.call(lt,ft)&&yt(at,ft,lt[ft]);if(mt)for(var ft of mt(lt))gt.call(lt,ft)&&yt(at,ft,lt[ft]);return at},wt=(at,lt)=>ct(at,ht(lt)),Et=at=>typeof at=="symbol"?at:at+"",Mt=(at,lt)=>{var ft={};for(var xt in at)vt.call(at,xt)&&lt.indexOf(xt)<0&&(ft[xt]=at[xt]);if(at!=null&&mt)for(var xt of mt(at))lt.indexOf(xt)<0&&gt.call(at,xt)&&(ft[xt]=at[xt]);return ft},Dt=(at,lt)=>{for(var ft in lt)ut(at,ft,{get:lt[ft],enumerable:!0})},$t=(at,lt,ft,xt)=>{if(lt&&typeof lt=="object"||typeof lt=="function")for(let St of pt(lt))!vt.call(at,St)&&St!==ft&&ut(at,St,{get:()=>lt[St],enumerable:!(xt=dt(lt,St))||xt.enumerable});return at},_t=at=>$t(ut({},"__esModule",{value:!0}),at),Nt={};Dt(Nt,{MathfieldElement:()=>ep,autoRenderMathInElement:()=>l2,convertAsciiMathToLatex:()=>gS,convertLatexToAsciiMath:()=>vS,convertLatexToMarkup:()=>t2,convertLatexToMathMl:()=>r2,convertLatexToSpeakableText:()=>a2,globalMathLive:()=>$s,makeSharedVirtualKeyboard:()=>_S,renderMathInDocument:()=>CS,renderMathInElement:()=>u2,serializeMathJsonToLatex:()=>i2,validateLatex:()=>hS,version:()=>AS});function kt(at){return Array.isArray(at)}var At={en:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.command":"LaTeX Command Mode","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.alphabetic":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.cut to clipboard":"Cut to Clipboard","tooltip.paste from clipboard":"Paste from Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.undo":"Undo","menu.insert matrix":"Insert Matrix","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Delimiters","menu.array.add row above":"Add Row After","menu.array.add row below":"Add Row Before","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","submenu.array.insert separator":"Insert Separator","menu.insert table":"Insert Table","submenu.table style":"Table Style"},ar:{"keyboard.tooltip.functions":"مهام","keyboard.tooltip.symbols":"حرف او رمز","keyboard.tooltip.greek":"حروف يونانية","keyboard.tooltip.command":"حالة تلقي الأوامر اللاتك","keyboard.tooltip.numeric":"الرقمية","keyboard.tooltip.alphabetic":"رموز الاحرف الرومانية","tooltip.copy to clipboard":"نسخ إلى الحافظة","tooltip.cut to clipboard":"قص إلى الحافظة","tooltip.paste from clipboard":"لصق من الحافظة","tooltip.redo":"الإعادة","tooltip.toggle virtual keyboard":"تبديل لوحة المفاتيح الإفتراضية","tooltip.undo":"إلغاء","menu.insert matrix":"أدخل المصفوفة","menu.insert vector":"أدخل متجه","submenu.array.matrix delimiters":"محددات المصفوفة","menu.array.add row above":"أضف صفًا بعد ذلك","menu.array.add row below":"أضف الصف قبل","menu.array.add column after":"أضف العمود بعد ذلك","menu.array.add column before":"أضف العمود قبل","menu.array.delete row":"احذف صف","menu.array.delete rows":"حذف الصفوف المحددة","menu.array.delete column":"حذف العمود","menu.array.delete columns":"حذف الأعمدة المحددة","submenu.array.insert separator":"أدخل فاصل","menu.insert table":"إدراج جدول","submenu.table style":"نمط الجدول"},bg:{"keyboard.tooltip.functions":"Функции","keyboard.tooltip.symbols":"Символи","keyboard.tooltip.greek":"Гръцки букви","keyboard.tooltip.command":"Команден режим на латекс","keyboard.tooltip.numeric":"Числови","keyboard.tooltip.alphabetic":"Римски букви","tooltip.copy to clipboard":"Копиране в клипборда","tooltip.redo":"Повторно","tooltip.toggle virtual keyboard":"Превключване на виртуална клавиатура","tooltip.undo":"Отмяна","menu.insert matrix":"Вмъкване на матрица","menu.insert vector":"Вмъкване на вектор","submenu.array.matrix delimiters":"Матрични разделители","menu.array.add row above":"Добавяне на ред след","menu.array.add row below":"Добавяне на ред преди","menu.array.add column after":"Добавяне на колона след","menu.array.add column before":"Добавяне на колона преди","menu.array.delete row":"Изтриване на реда","menu.array.delete rows":"Изтриване на избраните редове","menu.array.delete column":"Изтриване на колона","menu.array.delete columns":"Изтриване на избраните колони","submenu.array.insert separator":"Поставете разделител","menu.insert table":"Вмъкване на таблица","submenu.table style":"Табличен стил"},bs:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grčka slova","keyboard.tooltip.command":"LaTeX naredbeni način","keyboard.tooltip.numeric":"Numerički","keyboard.tooltip.alphabetic":"Rimska slova","tooltip.copy to clipboard":"Kopirati u clipboard","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Uključi / isključi virtualnu tipkovnicu","tooltip.undo":"Poništi","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"Matrični razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj red prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije","menu.array.delete row":"Izbriši red","menu.array.delete rows":"Izbriši odabrane redove","menu.array.delete column":"Izbriši stupac","menu.array.delete columns":"Izbriši odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Ubaci tabelu","submenu.table style":"Stil tabele"},cs:{"keyboard.tooltip.functions":"Funkce","keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"Řecké dopisy","keyboard.tooltip.command":"Příkazový režim LaTeX","keyboard.tooltip.numeric":"Číselné","keyboard.tooltip.alphabetic":"Římské dopisy","tooltip.copy to clipboard":"Zkopírovat do schránky","tooltip.redo":"Předělat","tooltip.toggle virtual keyboard":"Přepnout virtuální klávesnici","tooltip.undo":"Vrátit","menu.insert matrix":"Vložte matici","menu.insert vector":"Vložit vektor","submenu.array.matrix delimiters":"Oddělovače matic","menu.array.add row above":"Přidat řádek za","menu.array.add row below":"Přidat řádek před","menu.array.add column after":"Přidat sloupec za","menu.array.add column before":"Přidat sloupec dříve","menu.array.delete row":"Odstranit řádek","menu.array.delete rows":"Odstranit vybrané řádky","menu.array.delete column":"Odstranit sloupec","menu.array.delete columns":"Odstranit vybrané sloupce","submenu.array.insert separator":"Vložte oddělovač","menu.insert table":"Vložit tabulku","submenu.table style":"Styl tabulky"},da:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Græske bogstaver","keyboard.tooltip.command":"LaTeX kommandotilstand","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.alphabetic":"Romerske breve","tooltip.copy to clipboard":"Kopier til udklipsholder","tooltip.redo":"Gentag igen","tooltip.toggle virtual keyboard":"Skift virtuelt tastatur","tooltip.undo":"Fortryd","menu.insert matrix":"Indsæt matrix","menu.insert vector":"Indsæt vektor","submenu.array.matrix delimiters":"Matrixafgrænsere","menu.array.add row above":"Tilføj række efter","menu.array.add row below":"Tilføj række før","menu.array.add column after":"Tilføj kolonne efter","menu.array.add column before":"Tilføj kolonne før","menu.array.delete row":"Slet række","menu.array.delete rows":"Slet valgte rækker","menu.array.delete column":"Slet kolonne","menu.array.delete columns":"Slet valgte kolonner","submenu.array.insert separator":"Indsæt separator","menu.insert table":"Indsæt tabel","submenu.table style":"Tabelstil"},de:{"keyboard.tooltip.functions":"Funktionen","keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.command":"LaTeX-Befehlsmodus","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.alphabetic":"Römische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfügen","menu.insert vector":"Vektor einfügen","submenu.array.matrix delimiters":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufügen nach","menu.array.add row below":"Zeile hinzufügen vor","menu.array.add column after":"Spalte hinzufügen nach","menu.array.add column before":"Spalte hinzufügen vor","menu.array.delete row":"Zeile löschen","menu.array.delete rows":"Ausgewählte Zeilen löschen","menu.array.delete column":"Spalte löschen","menu.array.delete columns":"Ausgewählte Spalten löschen","submenu.array.insert separator":"Trennzeichen einfügen","menu.insert table":"Tabelle einfügen","submenu.table style":"Tabellenstil"},el:{"keyboard.tooltip.functions":"συναρτήσεις","keyboard.tooltip.symbols":"σύμβολα","keyboard.tooltip.greek":"ελληνικά γράμματα","keyboard.tooltip.command":"Λειτουργία εντολών LaTeX","keyboard.tooltip.numeric":"Αριθμητικός","keyboard.tooltip.alphabetic":"Ρωμαϊκά γράμματα","tooltip.copy to clipboard":"Αντιγραφή στο πρόχειρο","tooltip.redo":"Ξανακάνω","tooltip.toggle virtual keyboard":"Εναλλαγή εικονικού πληκτρολογίου","tooltip.undo":"Ξεκάνω","menu.insert matrix":"Εισαγωγή Matrix","menu.insert vector":"Εισαγωγή διανύσματος","submenu.array.matrix delimiters":"Οριοθέτες Matrix","menu.array.add row above":"Προσθήκη σειράς μετά","menu.array.add row below":"Προσθήκη σειράς πριν","menu.array.add column after":"Προσθήκη στήλης μετά","menu.array.add column before":"Προσθήκη στήλης πριν","menu.array.delete row":"Διαγραφή σειράς","menu.array.delete rows":"Διαγραφή επιλεγμένων σειρών","menu.array.delete column":"Διαγραφή στήλης","menu.array.delete columns":"Διαγραφή επιλεγμένων στηλών","submenu.array.insert separator":"Εισαγωγή διαχωριστικού","menu.insert table":"Εισαγωγή πίνακα","submenu.table style":"Στυλ πίνακα"},es:{"keyboard.tooltip.functions":"Funciones","keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.command":"Modo Comando LaTeX","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Añadir Matriz","menu.insert vector":"Añadir vector","submenu.array.matrix delimiters":"Delimitadores de Matriz","menu.array.add row above":"Añadir Línea Antes","menu.array.add row below":"Añadir Línea Despues","menu.array.add column after":"Añadir Columna Despues","menu.array.add column before":"Añadir Columna Antes","menu.array.delete row":"Borrar Línea","menu.array.delete rows":"Borrar Líneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","submenu.array.insert separator":"Insertar un Separador","menu.insert table":"Insertar Tabla","submenu.table style":"Estilo de Tabla"},et:{"keyboard.tooltip.functions":"Funktsioonid","keyboard.tooltip.symbols":"Sümbolid","keyboard.tooltip.greek":"Kreeka kirjad","keyboard.tooltip.command":"LaTeXi käsurežiim","keyboard.tooltip.numeric":"Numbriline","keyboard.tooltip.alphabetic":"Rooma kirjad","tooltip.copy to clipboard":"Kopeerida lõikelauale","tooltip.redo":"Tee uuesti","tooltip.toggle virtual keyboard":"Lülitage sisse virtuaalne klaviatuur","tooltip.undo":"Võta tagasi","menu.insert matrix":"Sisesta maatriks","menu.insert vector":"Sisesta vektor","submenu.array.matrix delimiters":"Maatriksi eraldajad","menu.array.add row above":"Lisa rida pärast","menu.array.add row below":"Lisa rida enne","menu.array.add column after":"Lisa veerg pärast","menu.array.add column before":"Lisa veerg enne","menu.array.delete row":"Kustuta rida","menu.array.delete rows":"Kustuta valitud read","menu.array.delete column":"Kustuta veerg","menu.array.delete columns":"Kustuta valitud veerud","submenu.array.insert separator":"Sisestage eraldaja","menu.insert table":"Sisesta tabeli","submenu.table style":"Tabeli stiilis"},fa:{"keyboard.tooltip.functions":"توابع","keyboard.tooltip.symbols":"نمادها","keyboard.tooltip.greek":"حروف یونانی","keyboard.tooltip.command":"حالت دستور لاتک","keyboard.tooltip.numeric":"عددی","keyboard.tooltip.alphabetic":"حروف رومی","tooltip.copy to clipboard":"کپی به کلیپبورد","tooltip.redo":"بازگشت به بعد","tooltip.toggle virtual keyboard":"نمایش/نهفتن کیبورد مجازی","tooltip.undo":"بازگشت به قبل","menu.insert matrix":"ماتریس را وارد کنید","menu.insert vector":"درج بردار","submenu.array.matrix delimiters":"مرزهای ماتریس","menu.array.add row above":"بعد از آن ردیف اضافه کنید","menu.array.add row below":"ردیف را قبل اضافه کنید","menu.array.add column after":"اضافه کردن ستون بعد","menu.array.add column before":"ستون قبل را اضافه کنید","menu.array.delete row":"ردیف را حذف کنید","menu.array.delete rows":"ردیف های انتخاب شده را حذف کنید","menu.array.delete column":"حذف ستون","menu.array.delete columns":"ستون های انتخاب شده را حذف کنید","submenu.array.insert separator":"درج جدا کننده","menu.insert table":"قرار دادن جدول","submenu.table style":"سبک میز"},fi:{"keyboard.tooltip.functions":"Toiminnot","keyboard.tooltip.symbols":"Symbolit","keyboard.tooltip.greek":"Kreikkalaiset kirjeet","keyboard.tooltip.command":"LaTeX-komentotila","keyboard.tooltip.numeric":"Numeerinen","keyboard.tooltip.alphabetic":"Roomalaiset kirjeet","tooltip.copy to clipboard":"Kopioi leikepöydälle","tooltip.redo":"Tee uudelleen","tooltip.toggle virtual keyboard":"Vaihda virtuaalinäppäimistö","tooltip.undo":"Kumoa","menu.insert matrix":"Lisää matriisi","menu.insert vector":"Lisää vektori","submenu.array.matrix delimiters":"Matriisin erottimet","menu.array.add row above":"Lisää rivi jälkeen","menu.array.add row below":"Lisää rivi ennen","menu.array.add column after":"Lisää sarake jälkeen","menu.array.add column before":"Lisää sarake ennen","menu.array.delete row":"Poista rivi","menu.array.delete rows":"Poista valitut rivit","menu.array.delete column":"Poista sarake","menu.array.delete columns":"Poista valitut sarakkeet","submenu.array.insert separator":"Aseta erotin","menu.insert table":"Lisää taulukko","submenu.table style":"Taulukon tyyli"},fr:{"keyboard.tooltip.functions":"Fonctions","keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.command":"Mode de commandes LaTeX","keyboard.tooltip.numeric":"Numérique","keyboard.tooltip.alphabetic":"Lettres romaines","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rétablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"Insérer une Matrice","menu.insert vector":"Insérer un Vecteur","submenu.array.matrix delimiters":"Délimiteurs de la Matrice","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Après","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Après","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Sélectionées","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes Sélectionées","submenu.array.insert separator":"Insérer un Séparateur","menu.insert table":"Insérer une Table","submenu.table style":"Style de la  Table"},ga:{"keyboard.tooltip.functions":"Feidhmeanna","keyboard.tooltip.symbols":"Siombailí","keyboard.tooltip.greek":"Litreacha na Gréige","keyboard.tooltip.command":"Mód Ordú LaTeX","keyboard.tooltip.numeric":"Uimhriúil","keyboard.tooltip.alphabetic":"Litreacha Rómhánacha","tooltip.copy to clipboard":"Cóipeáil chuig an Ghearrthaisce","tooltip.redo":"Athdhéan","tooltip.toggle virtual keyboard":"Méarchláir Fíorúil a Fháil","tooltip.undo":"Cealaigh","menu.insert matrix":"Cuir isteach Maitrís","menu.insert vector":"Cuir isteach Veicteoir","submenu.array.matrix delimiters":"Delimiters Maitrís","menu.array.add row above":"Cuir Rae Tar éis","menu.array.add row below":"Cuir Rae Roimh","menu.array.add column after":"Cuir Colún Tar éis","menu.array.add column before":"Cuir Colún Roimh","menu.array.delete row":"Scrios Rae","menu.array.delete rows":"Scrios Sraitheanna Roghnaithe","menu.array.delete column":"Scrios Colún","menu.array.delete columns":"Scrios Colúin Roghnaithe","submenu.array.insert separator":"Cuir Deighilteoir isteach","menu.insert table":"Ionsáigh Tábla","submenu.table style":"Stíl Tábla"},he:{"keyboard.tooltip.functions":"פונקציות","keyboard.tooltip.symbols":"סמלים","keyboard.tooltip.greek":"אותיות יווניות","keyboard.tooltip.command":"מצב פקודה לטקס","keyboard.tooltip.numeric":"מספרי","keyboard.tooltip.alphabetic":"מכתבים רומיים","tooltip.copy to clipboard":"העתק ללוח","tooltip.redo":"לַעֲשׂוֹת שׁוּב","tooltip.toggle virtual keyboard":"החלף את המקלדת הווירטואלית","tooltip.undo":"לבטל","menu.insert matrix":"הכנס מטריקס","menu.insert vector":"הכנס וקטור","submenu.array.matrix delimiters":"מפרידי מטריקס","menu.array.add row above":"הוסף שורה אחרי","menu.array.add row below":"הוסף שורה לפני","menu.array.add column after":"הוסף עמודה אחרי","menu.array.add column before":"הוסף עמודה לפני","menu.array.delete row":"מחק שורה","menu.array.delete rows":"מחק שורות שנבחרו","menu.array.delete column":"מחק עמודה","menu.array.delete columns":"מחק עמודות שנבחרו","submenu.array.insert separator":"הכנס מפריד","menu.insert table":"הכנס טבלה","submenu.table style":"טבלה סִגְנוֹן"},hr:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grčka slova","keyboard.tooltip.command":"LaTeX naredbeni način","keyboard.tooltip.numeric":"Numerički","keyboard.tooltip.alphabetic":"Rimska slova","tooltip.copy to clipboard":"Kopirati u međuspremnik","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Uključi / isključi virtualnu tipkovnicu","tooltip.undo":"Poništi","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"Matrični razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj redak prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije","menu.array.delete row":"Izbriši redak","menu.array.delete rows":"Izbriši odabrane retke","menu.array.delete column":"Izbriši stupac","menu.array.delete columns":"Izbriši odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Umetni tablicu","submenu.table style":"Stil tabele"},id:{"keyboard.tooltip.functions":"Fungsi","keyboard.tooltip.symbols":"Simbol","keyboard.tooltip.greek":"Huruf Yunani","keyboard.tooltip.command":"Mode Perintah LaTeX","keyboard.tooltip.numeric":"Numerik","keyboard.tooltip.alphabetic":"Surat Romawi","tooltip.copy to clipboard":"Menyalin ke clipboard","tooltip.redo":"Mengulangi","tooltip.toggle virtual keyboard":"Alihkan Keyboard Virtual","tooltip.undo":"Membuka","menu.insert matrix":"Sisipkan Matriks","menu.insert vector":"Sisipkan Vektor","submenu.array.matrix delimiters":"Pembatas Matriks","menu.array.add row above":"Tambahkan Baris Setelah","menu.array.add row below":"Tambahkan Baris Sebelumnya","menu.array.add column after":"Tambahkan Kolom Setelah","menu.array.add column before":"Tambahkan Kolom Sebelumnya","menu.array.delete row":"Hapus Baris","menu.array.delete rows":"Hapus Baris yang Dipilih","menu.array.delete column":"Hapus Kolom","menu.array.delete columns":"Hapus Kolom yang Dipilih","submenu.array.insert separator":"Sisipkan Pemisah","menu.insert table":"Sisipkan Tabel","submenu.table style":"Gaya Tabel"},hi:{"keyboard.tooltip.functions":"कार्यों","keyboard.tooltip.symbols":"प्रतीक","keyboard.tooltip.greek":"ग्रीक अक्षर","keyboard.tooltip.command":"लाटेक्स कमांड मोड","keyboard.tooltip.numeric":"संख्यात्मक","keyboard.tooltip.alphabetic":"रोमन पत्र","tooltip.copy to clipboard":"क्लिपबोर्ड पर कॉपी करें","tooltip.redo":"फिर से करें","tooltip.toggle virtual keyboard":"वर्चुअल कीबोर्ड टॉगल करें","tooltip.undo":"पूर्ववत","menu.insert matrix":"मैट्रिक्स डालें","menu.insert vector":"वेक्टर डालें","submenu.array.matrix delimiters":"मैट्रिक्स सीमांकक","menu.array.add row above":"बाद में पंक्ति जोड़ें","menu.array.add row below":"पहले पंक्ति जोड़ें","menu.array.add column after":"बाद में कॉलम जोड़ें","menu.array.add column before":"पहले कॉलम जोड़ें","menu.array.delete row":"पंक्ति को हटाएं","menu.array.delete rows":"चयनित पंक्तियों को हटाएं","menu.array.delete column":"कॉलम हटाएं","menu.array.delete columns":"चयनित कॉलम हटाएं","submenu.array.insert separator":"विभाजक डालें","menu.insert table":"टेबल इंसर्ट करें","submenu.table style":"टेबल स्टाइल"},hu:{"keyboard.tooltip.functions":"Funkciók","keyboard.tooltip.symbols":"Szimbólumok","keyboard.tooltip.greek":"Görög levelek","keyboard.tooltip.command":"LaTeX Parancs mód","keyboard.tooltip.numeric":"Numerikus","keyboard.tooltip.alphabetic":"Római levelek","tooltip.copy to clipboard":"Másolja a vágólapra","tooltip.redo":"Újra","tooltip.toggle virtual keyboard":"Váltás a virtuális billentyűzetre","tooltip.undo":"Visszavonás","menu.insert matrix":"Helyezze be a Mátrixot","menu.insert vector":"Vektor beszúrása","submenu.array.matrix delimiters":"Mátrixhatárolók","menu.array.add row above":"Sor hozzáadása után","menu.array.add row below":"Add Add Sor előtt","menu.array.add column after":"Oszlop hozzáadása után","menu.array.add column before":"Add oszlop előtt","menu.array.delete row":"Sor törlése","menu.array.delete rows":"Kijelölt sorok törlése","menu.array.delete column":"Oszlop törlése","menu.array.delete columns":"A kijelölt oszlopok törlése","submenu.array.insert separator":"Helyezze be az elválasztót","menu.insert table":"Helyezze be a táblázatot","submenu.table style":"Táblázatos stílus"},it:{"keyboard.tooltip.functions":"Funzioni","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.command":"Modalità di comando LaTeX","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.alphabetic":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.insert vector":"Inserisci Vettore","submenu.array.matrix delimiters":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo","menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","submenu.array.insert separator":"Inserisci un Separatore","menu.insert table":"Inserisci Tabella","submenu.table style":"Stile tabella"},is:{"keyboard.tooltip.functions":"Aðgerðir","keyboard.tooltip.symbols":"Tákn","keyboard.tooltip.greek":"Grísk bréf","keyboard.tooltip.command":"LaTeX stjórnunarstilling","keyboard.tooltip.numeric":"Tölulegt","keyboard.tooltip.alphabetic":"Rómversk bréf","tooltip.copy to clipboard":"Afritaðu á klemmuspjald","tooltip.redo":"Endurtaka","tooltip.toggle virtual keyboard":"Skiptu um sýndarlyklaborð","tooltip.undo":"Afturkalla","menu.insert matrix":"Settu fylki inn","menu.insert vector":"Settu inn Vector","submenu.array.matrix delimiters":"Matrix afmörkun","menu.array.add row above":"Bæta við röð á eftir","menu.array.add row below":"Bæta við röð áður","menu.array.add column after":"Bæta við dálki á eftir","menu.array.add column before":"Bæta við dálki áður","menu.array.delete row":"Eyða röð","menu.array.delete rows":"Eyða völdum línum","menu.array.delete column":"Eyða dálki","menu.array.delete columns":"Eyða völdum dálkum","submenu.array.insert separator":"Settu skiljuna í","menu.insert table":"Settu inn töflu","submenu.table style":"Töflu stíl"},ja:{"keyboard.tooltip.functions":"関数","keyboard.tooltip.symbols":"シンボル","keyboard.tooltip.greek":"ギリシャ文字","keyboard.tooltip.command":"ラテックスコマンドモード","keyboard.tooltip.numeric":"数値","keyboard.tooltip.alphabetic":"ローマ字","tooltip.copy to clipboard":"クリップボードにコピー","tooltip.redo":"やり直し","tooltip.toggle virtual keyboard":"仮想キーボードの切り替え","tooltip.undo":"元に戻す","menu.insert matrix":"マトリックスを挿入","menu.insert vector":"ベクトルを挿入","submenu.array.matrix delimiters":"行列区切り文字","menu.array.add row above":"後に行を追加","menu.array.add row below":"前に行を追加","menu.array.add column after":"後に列を追加","menu.array.add column before":"前に列を追加","menu.array.delete row":"行を削除","menu.array.delete rows":"選択した行を削除する","menu.array.delete column":"列を削除","menu.array.delete columns":"選択した列を削除する","submenu.array.insert separator":"セパレーターを挿入","menu.insert table":"テーブルを挿入","submenu.table style":"テーブルスタイル"},ko:{"keyboard.tooltip.functions":"기능","keyboard.tooltip.symbols":"기호","keyboard.tooltip.greek":"그리스 문자","keyboard.tooltip.command":"유액 명령 모드","keyboard.tooltip.numeric":"숫자","keyboard.tooltip.alphabetic":"로마 문자","tooltip.copy to clipboard":"클립 보드에 복사","tooltip.redo":"다시 하다","tooltip.toggle virtual keyboard":"가상 키보드 전환","tooltip.undo":"실행 취소","menu.insert matrix":"매트릭스 삽입","menu.insert vector":"벡터 삽입","submenu.array.matrix delimiters":"행렬 구분 기호","menu.array.add row above":"뒤에 행 추가","menu.array.add row below":"앞에 행 추가","menu.array.add column after":"뒤에 열 추가","menu.array.add column before":"앞에 열 추가","menu.array.delete row":"행 삭제","menu.array.delete rows":"선택한 행 삭제","menu.array.delete column":"열 삭제","menu.array.delete columns":"선택한 열 삭제","submenu.array.insert separator":"구분자 삽입","menu.insert table":"표 삽입","submenu.table style":"테이블 스타일"},lv:{"keyboard.tooltip.functions":"Funkcijas","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grieķu burti","keyboard.tooltip.command":"LaTeX komandu režīms","keyboard.tooltip.numeric":"Ciparu skaitlis","keyboard.tooltip.alphabetic":"Romiešu vēstules","tooltip.copy to clipboard":"Kopēt starpliktuvē","tooltip.redo":"Pārtaisīt","tooltip.toggle virtual keyboard":"Pārslēgt virtuālo tastatūru","tooltip.undo":"Atsaukt","menu.insert matrix":"Ievietojiet matricu","menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobežotāji","menu.array.add row above":"Pievienot rindu pēc","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu pēc","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"Dzēst rindu","menu.array.delete rows":"Dzēst atlasītās rindas","menu.array.delete column":"Dzēst kolonnu","menu.array.delete columns":"Dzēst atlasītās kolonnas","submenu.array.insert separator":"Ievietojiet atdalītāju","menu.insert table":"Ievietojiet tabulu","submenu.table style":"Galda stils"},lt:{"keyboard.tooltip.functions":"Funkcijos","keyboard.tooltip.symbols":"Simboliai","keyboard.tooltip.greek":"Graikiškos raidės","keyboard.tooltip.command":"LaTeX komandų režimas","keyboard.tooltip.numeric":"Skaitmeninis","keyboard.tooltip.alphabetic":"Romos laiškai","tooltip.copy to clipboard":"Nukopijuoti į iškarpinę","tooltip.redo":"Perdaryti","tooltip.toggle virtual keyboard":"Perjungti virtualiąją klaviatūrą","tooltip.undo":"Atšaukti","menu.insert matrix":"Ievietojiet matricu","menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobežotāji","menu.array.add row above":"Pievienot rindu pēc","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu pēc","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"Dzēst rindu","menu.array.delete rows":"Dzēst atlasītās rindas","menu.array.delete column":"Dzēst kolonnu","menu.array.delete columns":"Dzēst atlasītās kolonnas","submenu.array.insert separator":"Ievietojiet atdalītāju","menu.insert table":"Ievietojiet tabulu","submenu.table style":"Tabulas stili"},lu:{"keyboard.tooltip.functions":"Funktiounen","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Griichesch Bréiwer","keyboard.tooltip.command":"LaTeX Kommando Modus","keyboard.tooltip.numeric":"Numeresch","keyboard.tooltip.alphabetic":"Réimesch Bréiwer","tooltip.copy to clipboard":"Kopéiert op Clipboard","tooltip.redo":"Nees nei maachen","tooltip.toggle virtual keyboard":"Wiesselt Virtuell Tastatur","tooltip.undo":"Undoen","menu.insert matrix":"Matrix asetzen","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Ofgrenzer","menu.array.add row above":"Dobäizemaachen Rei No","menu.array.add row below":"Füügt Rei vir","menu.array.add column after":"Dobäizemaachen Kolonn No","menu.array.add column before":"Kolonn derbäi Virun","menu.array.delete row":"Rad läschen","menu.array.delete rows":"Läscht Ausgewielte Reien","menu.array.delete column":"Läscht Kolonn","menu.array.delete columns":"Läscht Ausgewielte Kolonnen","submenu.array.insert separator":"Insert Separator","menu.insert table":"Dësch anzeginn","submenu.table style":"Dësch Style"},nl:{"keyboard.tooltip.functions":"Functies","keyboard.tooltip.symbols":"Symbolen","keyboard.tooltip.greek":"Griekse letters","keyboard.tooltip.command":"LaTeX commando mode","keyboard.tooltip.numeric":"Numeriek","keyboard.tooltip.alphabetic":"Romeinse letters","tooltip.copy to clipboard":"Kopiëren naar klembord","tooltip.redo":"Opnieuw","tooltip.toggle virtual keyboard":"Schakel naar virtueel toetsenbord","tooltip.undo":"Ongedaan maken","menu.insert matrix":"Matrix invoegen","menu.insert vector":"Vector invoegen","submenu.array.matrix delimiters":"Matrixscheidingstekens","menu.array.add row above":"Rij toevoegen na","menu.array.add row below":"Rij toevoegen eerder","menu.array.add column after":"Kolom toevoegen na","menu.array.add column before":"Kolom toevoegen voor","menu.array.delete row":"Verwijder rij","menu.array.delete rows":"Geselecteerde rijen verwijderen","menu.array.delete column":"Kolom verwijderen","menu.array.delete columns":"Geselecteerde kolommen verwijderen","submenu.array.insert separator":"Scheidingsteken invoegen","menu.insert table":"Tabel invoegen","submenu.table style":"Tabelstijl"},no:{"keyboard.tooltip.functions":"Funksjoner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Greske bokstaver","keyboard.tooltip.command":"LaTeX kommandomodus","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.alphabetic":"Romerske bokstaver","tooltip.copy to clipboard":"Kopiere til utklippstavle","tooltip.redo":"Gjøre om","tooltip.toggle virtual keyboard":"Bytt virtuelt tastatur","tooltip.undo":"Angre","menu.insert matrix":"Sett inn matrise","menu.insert vector":"Sett inn vektor","submenu.array.matrix delimiters":"Matrix avgrensere","menu.array.add row above":"Legg til rad etter","menu.array.add row below":"Legg til rad før","menu.array.add column after":"Legg til kolonne etter","menu.array.add column before":"Legg til kolonne før","menu.array.delete row":"Slett rad","menu.array.delete rows":"Slett valgte rader","menu.array.delete column":"Slett kolonne","menu.array.delete columns":"Slett valgte kolonner","submenu.array.insert separator":"Sett inn skilletegn","menu.insert table":"Sett inn tabell","submenu.table style":"Tabellstil"},mk:{"keyboard.tooltip.functions":"Функции","keyboard.tooltip.symbols":"Симболи","keyboard.tooltip.greek":"Грчки букви","keyboard.tooltip.command":"Режим на команда во латекс","keyboard.tooltip.numeric":"Нумерички","keyboard.tooltip.alphabetic":"Римски писма","tooltip.copy to clipboard":"Копирајте во клипборд","tooltip.redo":"Повторно","tooltip.toggle virtual keyboard":"Вклучете ја виртуелната тастатура","tooltip.undo":"Врати","menu.insert matrix":"Вметнете матрица","menu.insert vector":"Вметни вектор","submenu.array.matrix delimiters":"Разграничувачи на матрица","menu.array.add row above":"Додадете ред после","menu.array.add row below":"Додади ред пред тоа","menu.array.add column after":"Додадете колона после","menu.array.add column before":"Додадете колона пред тоа","menu.array.delete row":"Избриши го редот","menu.array.delete rows":"Избришете ги избраните редови","menu.array.delete column":"Избриши ја колоната","menu.array.delete columns":"Избриши ја колоната","submenu.array.insert separator":"Вметнете сепаратор","menu.insert table":"Вметни табела","submenu.table style":"Табела стил"},pl:{"keyboard.tooltip.functions":"Funkcje","keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.command":"Tryb poleceń LaTeX","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.alphabetic":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywróć","tooltip.toggle virtual keyboard":"Przełącz wirtualną klawiaturę","tooltip.undo":"Cofnij","menu.insert matrix":"Wstaw macierz","menu.insert vector":"Wstaw wektor","submenu.array.matrix delimiters":"Ograniczniki macierzy","menu.array.add row above":"Dodaj wiersz po","menu.array.add row below":"Dodaj wiersz przed","menu.array.add column after":"Dodaj kolumnę po","menu.array.add column before":"Dodaj kolumnę przed","menu.array.delete row":"Usuń wiersz","menu.array.delete rows":"Usuń wybrane wiersze","menu.array.delete column":"Usuń kolumnę","menu.array.delete columns":"Usuń wybrane kolumny","submenu.array.insert separator":"Wstaw separator","menu.insert table":"Wypełnij tabelę","submenu.table style":"Styl tabelę"},pt:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.command":"Modo de Comando LaTeX","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar para área de transferência","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.insert vector":"Inserir vetor","submenu.array.matrix delimiters":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes","menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","submenu.array.insert separator":"Inserir Separador","menu.insert table":"Insira a tabela","submenu.table style":"Estilo tabela"},ro:{"keyboard.tooltip.functions":"Funcții","keyboard.tooltip.symbols":"Simboluri","keyboard.tooltip.greek":"Scrisori grecești","keyboard.tooltip.command":"Modul de comandă latex","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.alphabetic":"Scrisori romane","tooltip.copy to clipboard":"Copiați în clipboard","tooltip.redo":"A reface","tooltip.toggle virtual keyboard":"Comutați tastatura virtuală","tooltip.undo":"Anula","menu.insert matrix":"Introduceți Matrix","menu.insert vector":"Inserați Vector","submenu.array.matrix delimiters":"Delimitatori de matrice","menu.array.add row above":"Adăugați rândul după","menu.array.add row below":"Adăugați rândul înainte","menu.array.add column after":"Adăugați o coloană după","menu.array.add column before":"Adăugați o coloană înainte","menu.array.delete row":"Ștergeți rândul","menu.array.delete rows":"Ștergeți rândurile selectate","menu.array.delete column":"Ștergeți coloana","menu.array.delete columns":"Ștergeți coloanele selectate","submenu.array.insert separator":"Introduceți separatorul","menu.insert table":"Introduceți tabelul","submenu.table style":"Table style"},ru:{"keyboard.tooltip.functions":"Функции","keyboard.tooltip.symbols":"Символы","keyboard.tooltip.greek":"Греческие буквы","keyboard.tooltip.command":"Режим командной строки Латекс","keyboard.tooltip.numeric":"числовой","keyboard.tooltip.alphabetic":"Латинские буквы","tooltip.copy to clipboard":"Скопировать в буфер обмена","tooltip.redo":"переделывать","tooltip.toggle virtual keyboard":"Переключить виртуальную клавиатуру","tooltip.undo":"расстегивать","menu.insert matrix":"Вставить матрицу","menu.insert vector":"Вставить вектор","submenu.array.matrix delimiters":"Матричные разделители","menu.array.add row above":"Добавить строку после","menu.array.add row below":"Добавить строку перед","menu.array.add column after":"Добавить столбец после","menu.array.add column before":"Добавить столбец перед","menu.array.delete row":"Удалить строку","menu.array.delete rows":"Удалить выбранные строки","menu.array.delete column":"Удалить столбец","menu.array.delete columns":"Удалить выбранные столбцы","submenu.array.insert separator":"Вставить разделитель","menu.insert table":"Вставить таблицу","submenu.table style":"Табличный стиль"},sk:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"Grécke listy","keyboard.tooltip.command":"Príkazový režim LaTeX","keyboard.tooltip.numeric":"Numerické","keyboard.tooltip.alphabetic":"Rímske listy","tooltip.copy to clipboard":"Skopírovať do schránky","tooltip.redo":"Znova","tooltip.toggle virtual keyboard":"Prepnúť virtuálnu klávesnicu","tooltip.undo":"Vrátenie späť","menu.insert matrix":"Vložte maticu","menu.insert vector":"Vložte vektor","submenu.array.matrix delimiters":"Oddeľovače matíc","menu.array.add row above":"Pridajte riadok za","menu.array.add row below":"Pridajte riadok pred","menu.array.add column after":"Pridať stĺpec za","menu.array.add column before":"Pridajte stĺpec predtým","menu.array.delete row":"Odstrániť riadok","menu.array.delete rows":"Odstrániť vybraté riadky","menu.array.delete column":"Odstrániť stĺpec","menu.array.delete columns":"Odstrániť vybraté stĺpce","submenu.array.insert separator":"Vložte oddeľovač","menu.insert table":"Vložte tabuľku","submenu.table style":"Štýl tabuľky"},sl:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grška pisma","keyboard.tooltip.command":"Ukazni način LaTeX","keyboard.tooltip.numeric":"Številsko","keyboard.tooltip.alphabetic":"Rimska pisma","tooltip.copy to clipboard":"Kopirati v odložišče","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Preklop navidezne tipkovnice","tooltip.undo":"Razveljavi","menu.insert matrix":"Vstavi matrico","menu.insert vector":"Vstavi vektor","submenu.array.matrix delimiters":"Matrični ločevalniki","menu.array.add row above":"Dodaj vrstico po","menu.array.add row below":"Dodaj vrstico prej","menu.array.add column after":"Dodaj stolpec po","menu.array.add column before":"Dodaj stolpec prej","menu.array.delete row":"Izbriši vrstico","menu.array.delete rows":"Izbriši izbrane vrstice","menu.array.delete column":"Izbriši stolpec","menu.array.delete columns":"Izbriši izbrane stolpce","submenu.array.insert separator":"Vstavi ločilo","menu.insert table":"Vstavi tabelo","submenu.table style":"Tabela slog"},sq:{"keyboard.tooltip.functions":"Funksione","keyboard.tooltip.symbols":"Simbolet","keyboard.tooltip.greek":"Letrat Greke","keyboard.tooltip.command":"Modaliteti i komandës latex","keyboard.tooltip.numeric":"Numerike","keyboard.tooltip.alphabetic":"Letrat romake","tooltip.copy to clipboard":"Kopjoni në Clipboard","tooltip.redo":"Riparo","tooltip.toggle virtual keyboard":"Aktivizo tastierën virtuale","tooltip.undo":"Zhbëj","menu.insert matrix":"Vendosni Matricën","menu.insert vector":"Vendos vektorin","submenu.array.matrix delimiters":"Përcaktuesit e matricës","menu.array.add row above":"Shto Rreshtin Pas","menu.array.add row below":"Shto Rreshtin Para","menu.array.add column after":"Shto kolonën pas","menu.array.add column before":"Shto kolonën para","menu.array.delete row":"Fshi Rreshtin","menu.array.delete rows":"Fshi rreshtat e zgjedhur","menu.array.delete column":"Fshi kolonën","menu.array.delete columns":"Fshi kolonat e zgjedhura","submenu.array.insert separator":"Vendos Ndarësin","menu.insert table":"Vendos tabelën","submenu.table style":"Stili tabelën"},sr:{"keyboard.tooltip.functions":"Функције","keyboard.tooltip.symbols":"Симболи","keyboard.tooltip.greek":"Греек Леттерс","keyboard.tooltip.command":"ЛаТеКс командни режим","keyboard.tooltip.numeric":"Нумерички","keyboard.tooltip.alphabetic":"Римска писма","tooltip.copy to clipboard":"Копирајте у међуспремник","tooltip.redo":"Понови","tooltip.toggle virtual keyboard":"Укључи / искључи виртуелну тастатуру","tooltip.undo":"Опозови","menu.insert matrix":"Уметни матрицу","menu.insert vector":"Уметни вектор","submenu.array.matrix delimiters":"Матрик Делимитерс","menu.array.add row above":"Додај ред после","menu.array.add row below":"Додај ред пре","menu.array.add column after":"Додај колону после","menu.array.add column before":"Додај колону пре","menu.array.delete row":"Избриши ред","menu.array.delete rows":"Избриши изабране редове","menu.array.delete column":"Избриши колону","menu.array.delete columns":"Избриши изабране колоне","submenu.array.insert separator":"Уметни сепаратор","menu.insert table":"Убаци табелу","submenu.table style":"Табеларни стил"},sv:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Grekiska bokstäver","keyboard.tooltip.command":"LaTeX kommandoläge","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.alphabetic":"Romerska bokstäver","tooltip.copy to clipboard":"Kopiera till Urklipp","tooltip.redo":"Göra om","tooltip.toggle virtual keyboard":"Växla virtuellt tangentbord","tooltip.undo":"Ångra","menu.insert matrix":"Sätt in matris","menu.insert vector":"Infoga vektor","submenu.array.matrix delimiters":"Matrisavgränsare","menu.array.add row above":"Lägg till rad efter","menu.array.add row below":"Lägg till rad före","menu.array.add column after":"Lägg till kolumn efter","menu.array.add column before":"Lägg till kolumn före","menu.array.delete row":"Radera rad","menu.array.delete rows":"Ta bort valda rader","menu.array.delete column":"Ta bort kolumn","menu.array.delete columns":"Ta bort valda kolumner","submenu.array.insert separator":"Sätt i separator","menu.insert table":"Infoga tabell","submenu.table style":"Tabellstil"},th:{"keyboard.tooltip.functions":"ฟังก์ชั่น","keyboard.tooltip.symbols":"สัญลักษณ์","keyboard.tooltip.greek":"อักษรกรีก","keyboard.tooltip.command":"โหมดคำสั่ง น้ำยาง","keyboard.tooltip.numeric":"ตัวเลข","keyboard.tooltip.alphabetic":"อักษรโรมัน","tooltip.copy to clipboard":"คัดลอกไปที่คลิปบอร์ด","tooltip.redo":"ทำซ้ำ","tooltip.toggle virtual keyboard":"สลับแป้นพิมพ์เสมือน","tooltip.undo":"เลิกทำ","menu.insert matrix":"แทรกเมทริกซ์","menu.insert vector":"แทรกเวกเตอร์","submenu.array.matrix delimiters":"ตัวคั่นเมทริกซ์","menu.array.add row above":"เพิ่มแถวหลัง","menu.array.add row below":"เพิ่มแถวก่อน","menu.array.add column after":"เพิ่มคอลัมน์หลัง","menu.array.add column before":"เพิ่มคอลัมน์ก่อน","menu.array.delete row":"ลบแถว","menu.array.delete rows":"ลบแถวที่เลือก","menu.array.delete column":"ลบคอลัมน์","menu.array.delete columns":"ลบคอลัมน์ที่เลือก","submenu.array.insert separator":"ตัวคั่นแทรก","menu.insert table":"แทรกตาราง","submenu.table style":"สไตล์ตาราง"},tr:{"keyboard.tooltip.functions":"Fonksiyonlar","keyboard.tooltip.symbols":"Semboller","keyboard.tooltip.greek":"Yunan harfleri","keyboard.tooltip.command":"LaTeX Komut Modu","keyboard.tooltip.numeric":"Sayısal","keyboard.tooltip.alphabetic":"Roma Harfleri","tooltip.copy to clipboard":"Panoya kopyala","tooltip.redo":"Yeniden yap","tooltip.toggle virtual keyboard":"Sanal Klavyeyi Aç/Kapat","tooltip.undo":"Geri alma","menu.insert matrix":"Matris Ekle","menu.insert vector":"Vektör Ekle","submenu.array.matrix delimiters":"Matris Sınırlayıcılar","menu.array.add row above":"Satırdan Sonra Ekle","menu.array.add row below":"Önce Satır Ekle","menu.array.add column after":"Sonra Sütun Ekle","menu.array.add column before":"Önce Sütun Ekle","menu.array.delete row":"Sırayı sil","menu.array.delete rows":"Seçili Satırları Sil","menu.array.delete column":"Sütunu Sil","menu.array.delete columns":"Seçili Sütunları Sil","submenu.array.insert separator":"Ayırıcı Ekle","menu.insert table":"Tablo Ekle","submenu.table style":"Tablo Stili"},uk:{"keyboard.tooltip.functions":"Функції","keyboard.tooltip.symbols":"Символи","keyboard.tooltip.greek":"Грецькі літери","keyboard.tooltip.command":"Командний режим латексу","keyboard.tooltip.numeric":"Числовий","keyboard.tooltip.alphabetic":"Римські літери","tooltip.copy to clipboard":"Копіювати в буфер обміну","tooltip.redo":"Повторити","tooltip.toggle virtual keyboard":"Переключити віртуальну клавіатуру","tooltip.undo":"Скасувати","menu.insert matrix":"Вставити матрицю","menu.insert vector":"Вставити вектор","submenu.array.matrix delimiters":"Матричні роздільники","menu.array.add row above":"Додати рядок після","menu.array.add row below":"Додати рядок до","menu.array.add column after":"Додати стовпець після","menu.array.add column before":"Додати стовпець перед","menu.array.delete row":"Видалити рядок","menu.array.delete rows":"Видалити вибрані рядки","menu.array.delete column":"Видалити стовпець","menu.array.delete columns":"Видалити вибрані стовпці","submenu.array.insert separator":"Вставте роздільник","menu.insert table":"Вставити таблицю","submenu.table style":"Стиль таблиці"},vi:{"keyboard.tooltip.functions":"Chức năng","keyboard.tooltip.symbols":"Ký hiệu","keyboard.tooltip.greek":"Chữ Hy Lạp","keyboard.tooltip.command":"Chế độ lệnh LaTeX","keyboard.tooltip.numeric":"Số","keyboard.tooltip.alphabetic":"Chữ cái La mã","tooltip.copy to clipboard":"Sao chép vào clipboard","tooltip.redo":"Làm lại","tooltip.toggle virtual keyboard":"Chuyển đổi bàn phím ảo","tooltip.undo":"Hoàn tác","menu.insert matrix":"Chèn ma trận","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Dấu phân cách ma trận","menu.array.add row above":"Thêm hàng sau","menu.array.add row below":"Thêm hàng trước","menu.array.add column after":"Thêm cột sau","menu.array.add column before":"Thêm cột trước","menu.array.delete row":"Xóa hàng","menu.array.delete rows":"Xóa hàng đã chọn","menu.array.delete column":"Xóa cột","menu.array.delete columns":"Xóa các cột đã chọn","submenu.array.insert separator":"Chèn dấu phân cách","menu.insert table":"Chèn bảng","submenu.table style":"Kiểu bảng"},zh_cn:{"keyboard.tooltip.functions":"职能","keyboard.tooltip.symbols":"符号","keyboard.tooltip.greek":"希腊字母","keyboard.tooltip.command":"乳胶 命令模式","keyboard.tooltip.numeric":"数字","keyboard.tooltip.alphabetic":"罗马字母","tooltip.copy to clipboard":"复制到剪贴板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切换虚拟键盘","tooltip.undo":"撤消","menu.insert matrix":"插入矩阵","menu.insert vector":"插入向量","submenu.array.matrix delimiters":"矩阵分隔符","menu.array.add row above":"在后面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在后面添加列r","menu.array.add column before":"在前面添加列","menu.array.delete row":"删除行","menu.array.delete rows":"删除选定行","menu.array.delete column":"删除列","menu.array.delete columns":"删除选定的列","submenu.array.insert separator":"插入分隔符","menu.insert table":"插入表格","submenu.table style":"表格样式"},zh_tw:{"keyboard.tooltip.functions":"職能","keyboard.tooltip.symbols":"符號","keyboard.tooltip.greek":"希臘字母","keyboard.tooltip.command":"乳膠命令模式","keyboard.tooltip.numeric":"數字","keyboard.tooltip.alphabetic":"羅馬字母","tooltip.copy to clipboard":"複製到剪貼板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切換虛擬鍵盤","tooltip.undo":"撤消","menu.insert matrix":"插入矩陣","menu.insert vector":"插入向量","submenu.array.matrix delimiters":"矩陣分隔符","menu.array.add row above":"在後面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在後面添加列","menu.array.add column before":"在前面添加列","menu.array.delete row":"刪除行","menu.array.delete rows":"刪除選定行","menu.array.delete column":"刪除列","menu.array.delete columns":"刪除選定的列","submenu.array.insert separator":"插入分隔符","menu.insert table":"插入表格","submenu.table style":"表格樣式"}};function Bt(){return"window"in globalThis&&"document"in globalThis}function Ft(){return"matchMedia"in window?window.matchMedia("(any-pointer: coarse)").matches:"ontouchstart"in window||navigator.maxTouchPoints>0}function Lt(){return typeof navigator.vibrate=="function"}function Ot(){var at,lt;if(!Bt())return"other";let ft=(lt=(at=navigator.userAgentData)==null?void 0:at.platform)!=null?lt:navigator.platform;return/^mac/i.test(ft)?navigator.maxTouchPoints===5?"ios":"macos":/^win/i.test(ft)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":"other"}function It(){if(!Bt())return!0;if(/firefox/i.test(navigator.userAgent)){let at=navigator.userAgent.match(/firefox\/(\d+)/i);return at?parseInt(at[1])>=78:!1}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){let at=navigator.userAgent.match(/edg\/(\d+)/i);return at?parseInt(at[1])>=79:!1}return!0}var Rt={strings:At,_locale:"",get locale(){return Rt._locale||(Rt._locale=Bt()?navigator.language.slice(0,5):"en"),Rt._locale},set locale(at){Rt._locale=at},merge(at,lt){if(at&&lt){let ft=Rt._locale;Rt.locale=at,Rt.strings[at]=bt(bt({},Rt.strings[at]),lt),Rt.locale=ft}else if(at&&!lt)for(let ft of Object.keys(at))Rt.merge(ft,at[ft])}};function Vt(at){if(at===void 0)return;let lt=Rt.locale.slice(0,2),ft="";if(Rt.strings[Rt.locale]&&(ft=Rt.strings[Rt.locale][at]),!ft&&Rt.strings[lt]&&(ft=Rt.strings[lt][at]),ft||(ft=Rt.strings.en[at]),!!ft)return ft}var Xt={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},Wt={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},jt={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},qt={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},Zt={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},Ut={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function Yt(at){var lt,ft,xt,St,Ct,Tt;let Pt=at.split("!"),zt,Kt,Ht,Jt=255,fr=255,hr=255,mr=-1,Rr=Pt.length>0&&Pt[0].startsWith("-");Rr&&(Pt[0]=Pt[0].slice(1));for(let Yr=0;Yr<Pt.length;Yr++){zt=Jt,Kt=fr,Ht=hr;let Pr=(lt=Pt[Yr].trim().match(/^([A-Za-z\d]+)/))==null?void 0:lt[1],Ur=Pr==null?void 0:Pr.toLowerCase(),un=Pr&&(Tt=(Ct=(St=(xt=(ft=qt[Ur])!=null?ft:qt[Zt[Pr]])!=null?xt:Wt[Pr])!=null?St:Ut[Pr])!=null?Ct:Xt[Pr])!=null?Tt:Pt[Yr].trim(),Zr=un.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if(Zr!=null&&Zr[1]&&Zr[2]&&Zr[3])Jt=Math.max(0,Math.min(255,Number.parseInt(Zr[1],16))),fr=Math.max(0,Math.min(255,Number.parseInt(Zr[2],16))),hr=Math.max(0,Math.min(255,Number.parseInt(Zr[3],16)));else if(Zr=un.match(/^#([\da-f]{3})$/i),Zr!=null&&Zr[1]){let dn=Number.parseInt(Zr[1][0],16),an=Number.parseInt(Zr[1][1],16),Mn=Number.parseInt(Zr[1][2],16);Jt=Math.max(0,Math.min(255,dn*16+dn)),fr=Math.max(0,Math.min(255,an*16+an)),hr=Math.max(0,Math.min(255,Mn*16+Mn))}else if(Zr=un.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),Zr!=null&&Zr[1]&&Zr[2]&&Zr[3])Jt=Math.max(0,Math.min(255,Number.parseInt(Zr[1]))),fr=Math.max(0,Math.min(255,Number.parseInt(Zr[2]))),hr=Math.max(0,Math.min(255,Number.parseInt(Zr[3])));else return;mr>=0&&(Jt=(1-mr)*Jt+mr*zt,fr=(1-mr)*fr+mr*Kt,hr=(1-mr)*hr+mr*Ht,mr=-1),Yr+1<Pt.length&&(mr=Math.max(0,Math.min(100,Number.parseInt(Pt[++Yr])))/100)}return mr>=0&&(Jt=mr*Jt+(1-mr)*zt,fr=mr*fr+(1-mr)*Kt,hr=mr*hr+(1-mr)*Ht),Rr&&(Jt=255-Jt,fr=255-fr,hr=255-hr),"#"+("00"+Math.round(Jt).toString(16)).slice(-2)+("00"+Math.round(fr).toString(16)).slice(-2)+("00"+Math.round(hr).toString(16)).slice(-2)}function lr(at){var lt,ft;return at=at.trim(),(ft=(lt=jt[at.toLowerCase()])!=null?lt:jt[Zt[at]])!=null?ft:Yt(at)}function rr(at){if(!at||at[0]!=="#")return;at=at.slice(1);let lt;return at.length<=4?(lt={r:parseInt(at[0]+at[0],16),g:parseInt(at[1]+at[1],16),b:parseInt(at[2]+at[2],16)},at.length===4&&(lt.a=parseInt(at[3]+at[3],16)/255)):(lt={r:parseInt(at[0]+at[1],16),g:parseInt(at[2]+at[3],16),b:parseInt(at[4]+at[5],16)},at.length===8&&(lt.a=parseInt(at[6]+at[7],16)/255)),lt&&lt.a===void 0&&(lt.a=1),lt}function Qt(at,lt,ft){return ft<0&&(ft+=6),ft>=6&&(ft-=6),ft<1?(lt-at)*ft+at:ft<3?lt:ft<4?(lt-at)*(4-ft)+at:at}function ur(at){let[lt,ft,xt]=[at.h,at.s,at.l];lt=(lt+360)%360/60,xt=Math.max(0,Math.min(xt,1)),ft=Math.max(0,Math.min(ft,1));let St=xt<=.5?xt*(ft+1):xt+ft-xt*ft,Ct=xt*2-St;return{r:Math.round(255*Qt(Ct,St,lt+2)),g:Math.round(255*Qt(Ct,St,lt)),b:Math.round(255*Qt(Ct,St,lt-2))}}function wr(at){return at<0?0:at>255?255:Math.round(at)}function vr(at){let{r:lt,g:ft,b:xt}=at,St=((1<<24)+(wr(lt)<<16)+(wr(ft)<<8)+wr(xt)).toString(16).slice(1);return St[0]===St[1]&&St[2]===St[3]&&St[4]===St[5]&&St[6]===St[7]&&(St=St[0]+St[2]+St[4]),"#"+St}function Dr(at){let{r:lt,g:ft,b:xt}=at;lt=lt/255,ft=ft/255,xt=xt/255;let St=Math.min(lt,ft,xt),Ct=Math.max(lt,ft,xt),Tt=Ct-St,Pt,zt;Ct===St?Pt=0:lt===Ct?Pt=(ft-xt)/Tt:ft===Ct?Pt=2+(xt-lt)/Tt:xt===Ct&&(Pt=4+(lt-ft)/Tt),Pt=Math.min(Pt*60,360),Pt<0&&(Pt+=360);let Kt=(St+Ct)/2;return Ct===St?zt=0:Kt<=.5?zt=Tt/(Ct+St):zt=Tt/(2-Ct-St),{h:Pt,s:zt,l:Kt}}function Or(at){let lt=rr(at);if(!lt)return at;let{h:ft,s:xt,l:St}=Dr(lt);return xt+=.1,St-=.1,vr(ur({h:ft,s:xt,l:St}))}var Mr={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},dr=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"},{start:120822,len:10,offset:48,variant:"monospace"}];function _r(at,lt,ft){if(!/[A-Za-z\d]/.test(at)||!lt&&!ft)return at;let xt=at.codePointAt(0);if(xt===void 0)return at;for(let St of dr)if((!lt||St.variant===lt)&&(!ft||St.style===ft)&&xt>=St.offset&&xt<St.offset+St.len){let Ct=St.start+xt-St.offset;return String.fromCodePoint(Mr[Ct]||Ct)}return at}function zr(at){var lt;if((at<119808||at>120831)&&(at<8448||at>8527))return{char:String.fromCodePoint(at)};for(let ft in Mr)if(Mr[ft]===at){at=(lt=ft.codePointAt(0))!=null?lt:0;break}for(let ft of dr)if(at>=ft.start&&at<ft.start+ft.len)return{char:String.fromCodePoint(at-ft.start+ft.offset),variant:ft.variant,style:ft.style};return{char:String.fromCodePoint(at)}}function yr(at){return at?Array.isArray(at)?at:typeof at=="object"&&"group"in at?at.group:[]:[]}var Lr={},tr={60:"\\lt",62:"\\gt",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},ir={},br={},nr={darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",N:"\\mathbb{N}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",lArr:"\\Leftarrow",Larr:"\\Leftarrow",lrarr:"\\leftrightarrow",lrArr:"\\Leftrightarrow",Lrarr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",plusmn:"\\pm",rarr:"\\rightarrow",rArr:"\\Rightarrow",Rarr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",weierp:"\\wp",Zeta:"\\mathrm{Z}"},cr={varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},gr={bra:"\\mathinner{\\langle{#1}|}",ket:"\\mathinner{|{#1}\\rangle}",braket:"\\mathinner{\\langle{#1}\\rangle}",set:"\\mathinner{\\lbrace #1 \\rbrace}",Bra:"\\left\\langle #1\\right|",Ket:"\\left|#1\\right\\rangle",Braket:"\\left\\langle{#1}\\right\\rangle",Set:"\\left\\lbrace #1 \\right\\rbrace"},Sr={iff:"\\;⟺\\;",nicefrac:"^{#1}\\!\\!/\\!_{#2}",rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}",mathstrut:{def:"\\vphantom{(}",primitive:!0},tripledash:{def:"\\vphantom{-}\\raise{4mu}{\\mkern1.5mu\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2mu}}",expand:!0},"braket.sty":{package:gr},"amsmath.sty":{package:cr,primitive:!0},"texvc.sty":{package:nr,primitive:!1}},kr={" ":32,"\\#":35,"\\&":38,"\\$":36,"\\%":37,"-":45,"\\_":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbraceleft":123,"\\textbraceright":125,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"–":8211,"—":8212,"‘":8216,"’":8217,"“":8220,"”":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},er=/[\w!@*()-=+{}[\]\\';:?/.,~<>`|$%#&^" ]/,ar,xr;It()?(ar=new RegExp("\\p{Letter}","u"),xr=new RegExp("[0-9\\p{Letter}]","u")):(ar=/[a-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒößÖẞìíòúÌÍÒÚáñÁÑ]/,xr=/[\da-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒößÖẞìíòúÌÍÒÚáñÁÑ]/);function Tr(at,lt,ft="mord",xt){lt!==void 0&&(Lr[at]={definitionType:"symbol",type:ft,variant:xt,codepoint:lt},tr[lt]||(tr[lt]=at),kr[at]||(kr[at]=lt))}function Fr(at,lt,ft){if(typeof at=="string"){for(let xt=0;xt<at.length;xt++){let St=at.charAt(xt);Tr(St,St.codePointAt(0))}return}for(let[xt,St,Ct,Tt]of at)Tr(xt,St,Ct??lt,Tt??ft)}function Er(at,lt){for(let ft=at;ft<=lt;ft++)Tr(String.fromCodePoint(ft),ft)}function jr(at){var lt;return(lt=br[at])!=null?lt:null}function Kr(at,lt){var ft,xt;if(lt.length===0||lt==="\\"||!lt.startsWith("\\"))return[];let St=[];for(let Tt in ir)Tt.startsWith(lt)&&!ir[Tt].infix&&St.push({match:Tt,frequency:(ft=ir[Tt].frequency)!=null?ft:0});for(let Tt in Lr)Tt.startsWith(lt)&&St.push({match:Tt,frequency:(xt=Lr[Tt].frequency)!=null?xt:0});let Ct=lt.substring(1);for(let Tt of Object.keys(at.options.macros))Tt.startsWith(Ct)&&St.push({match:"\\"+Tt,frequency:0});return St.sort((Tt,Pt)=>{var zt,Kt;return Tt.frequency===Pt.frequency?Tt.match.length===Pt.match.length?Tt.match<Pt.match?-1:1:Tt.match.length-Pt.match.length:((zt=Pt.frequency)!=null?zt:0)-((Kt=Tt.frequency)!=null?Kt:0)}),St.map(Tt=>Tt.match)}function Xr(at){let lt="auto",ft=at.match(/:([^=]+)/);return ft&&(lt=ft[1].trim()),lt}function Hr(at){if(!at)return[];let lt=[],ft=at.split("]");if(ft[0].startsWith("[")){lt.push({isOptional:!0,type:Xr(ft[0].slice(1))});for(let xt=1;xt<=ft.length;xt++)lt.push(...Hr(ft[xt]))}else if(ft=at.split("}"),ft[0].startsWith("{")){lt.push({isOptional:!1,type:Xr(ft[0].slice(1))});for(let xt=1;xt<=ft.length;xt++)lt.push(...Hr(ft[xt]))}return lt}function gn(at){if(!at)return"";let lt="",ft=!0;for(let xt of at)typeof xt.value=="string"?lt+=xt.value:ft=!1;return ft?lt:""}function xn(at,lt){typeof at=="string"&&(at=[at]);let ft={tabular:!1,params:[],createAtom:lt};for(let xt of at)br[xt]=ft}function hn(at,lt,ft){typeof at=="string"&&(at=[at]);let xt={tabular:!0,params:Hr(lt),createAtom:ft};for(let St of at)br[St]=xt}function Ar(at,lt,ft){var xt,St;ft||(ft={});let Ct={definitionType:"function",params:Hr(lt),ifMode:ft.ifMode,isFunction:(xt=ft.isFunction)!=null?xt:!1,applyMode:ft.applyMode,infix:(St=ft.infix)!=null?St:!1,createAtom:ft.createAtom,applyStyle:ft.applyStyle,serialize:ft.serialize,render:ft.render};if(typeof at=="string")ir["\\"+at]=Ct;else for(let Tt of at)ir["\\"+Tt]=Ct}var _n;function Gt(at){return _n||(_n=Br(Sr)),at?Br(bt(bt({},_n),at)):_n}function pr(at,lt){var ft,xt,St,Ct;if(typeof at=="string"){let Tt=0,Pt=at;return/(^|[^\\])#1/.test(Pt)&&(Tt=1),/(^|[^\\])#2/.test(Pt)&&(Tt=2),/(^|[^\\])#3/.test(Pt)&&(Tt=3),/(^|[^\\])#4/.test(Pt)&&(Tt=4),/(^|[^\\])#5/.test(Pt)&&(Tt=5),/(^|[^\\])#6/.test(Pt)&&(Tt=6),/(^|[^\\])#7/.test(Pt)&&(Tt=7),/(^|[^\\])#8/.test(Pt)&&(Tt=8),/(^|[^\\])#9/.test(Pt)&&(Tt=9),{expand:(ft=lt==null?void 0:lt.expand)!=null?ft:!0,captureSelection:(xt=lt==null?void 0:lt.captureSelection)!=null?xt:!0,args:Tt,def:Pt}}return bt({expand:(St=lt==null?void 0:lt.expand)!=null?St:!0,captureSelection:(Ct=lt==null?void 0:lt.captureSelection)!=null?Ct:!0,args:0},at)}function Br(at){if(!at)return{};let lt={};for(let ft of Object.keys(at)){let xt=at[ft];if(xt==null)delete lt[ft];else if(typeof xt=="object"&&"package"in xt)for(let St of Object.keys(xt.package))lt[St]=pr(xt.package[St],{expand:!xt.primitive,captureSelection:xt.captureSelection});else lt[ft]=pr(xt)}return lt}function Vr(at,lt="math"){if(!at||at.length===0)return null;let ft=null;if(at.startsWith("\\")){if(ft=ir[at],ft)return!ft.ifMode||ft.ifMode===lt?ft:null;lt==="math"?ft=Lr[at]:kr[at]&&(ft={definitionType:"symbol",type:"mord",codepoint:kr[at]})}else if(lt==="math"){if(ft=Lr[at],!ft&&at.length===1){let xt=Wn("math",at.codePointAt(0));return xt.startsWith("\\")?wt(bt({},Vr(xt,"math")),{command:xt}):null}}else kr[at]?ft={definitionType:"symbol",type:"mord",codepoint:kr[at]}:lt==="text"&&(ft={definitionType:"symbol",type:"mord",codepoint:at.codePointAt(0)});return ft&&ft.definitionType==="symbol"&&ft.type==="mord"&&(ft.codepoint===102||ft.codepoint===103||ft.codepoint===104)&&(ft.isFunction=!0),ft??null}function vn(at,lt){if(!at.startsWith("\\"))return null;let ft=at.slice(1);return lt[ft]}function wn(at,lt){var ft;if(at==="text")return(ft=Wn(at,lt.codePointAt(0)))!=null?ft:lt;let xt;if(xt=Wn(at,lt.codePointAt(0)),xt)return xt;let St=lt.codePointAt(0),Ct=zr(St);return!Ct.style&&!Ct.variant?"":(xt=Ct.char,Ct.variant&&(xt="\\"+Ct.variant+"{"+xt+"}"),Ct.style==="bold"?xt="\\mathbf{"+xt+"}":Ct.style==="italic"?xt="\\mathit{"+xt+"}":Ct.style==="bolditalic"&&(xt="\\mathbfit{"+xt+"}"),"\\mathord{"+xt+"}")}function Wn(at,lt){if(lt===void 0)return"";if(at==="math"&&tr[lt])return tr[lt];if(at==="text"){let ft=Object.keys(kr).find(xt=>kr[xt]===lt);if(!ft){let xt=lt.toString(16);ft="^".repeat(xt.length)+xt}return ft}return String.fromCodePoint(lt)}var Nn=[0,.68889,0,0,.72222],Qn=[0,.68889,0,0,.66667],bo=[0,.68889,0,0,.77778],$a=[0,.68889,0,0,.61111],Bo=[.16667,.68889,0,0,.77778],Uo=[0,.68889,0,0,.55556],sn=[0,0,0,0,.25],Zn=[0,.825,0,0,2.33334],Oo=[0,.9,0,0,2.33334],Ko=[0,.68889,0,0,.54028],Mo=[-.03598,.46402,0,0,.5],Jn=[-.13313,.36687,0,0,1],$r=[.01354,.52239,0,0,1],cn=[.01354,.52239,0,0,1.11111],fn=[0,.54986,0,0,1],pn=[0,.69224,0,0,.5],Nr=[0,.43056,0,0,1],Un=[.08198,.58198,0,0,.77778],_i=[.19444,.69224,0,0,.41667],po=[.1808,.675,0,0,1],Lo=[.19444,.69224,0,0,.83334],ns=[.13667,.63667,0,0,1],$o=[-.064,.437,0,0,1.334],On=[.08167,.58167,0,0,.77778],na=[0,.69224,0,0,.72222],oo=[0,.69224,0,0,.66667],En=[-.13313,.36687,0,0,.77778],Kn=[.06062,.54986,0,0,.77778],ks=[0,.69224,0,0,.77778],lo=[.25583,.75583,0,0,.77778],eo=[.25142,.75726,0,0,.77778],Vo=[.20576,.70576,0,0,.77778],mo=[.30274,.79383,0,0,.77778],gs=[.22958,.72958,0,0,.77778],Ns=[.1808,.675,0,0,.77778],Ho=[.13667,.63667,0,0,.77778],xo=[.13597,.63597,0,0,.77778],as=[.03517,.54986,0,0,.77778],Ts=[0,.675,0,0,.77778],np=[.19444,.69224,0,0,.61111],ap=[0,.54986,0,0,.76042],vu=[0,.54986,0,0,.66667],is=[.0391,.5391,0,0,.77778],Qo=[.03517,.54986,0,0,1.33334],Cr=[.38569,.88569,0,0,.77778],Wr=[.23222,.74111,0,0,.77778],en=[.19444,.69224,0,0,.77778],tn=[0,.37788,0,0,.5],mn=[0,.54986,0,0,.72222],Fn=[0,.69224,0,0,.83334],nn=[.11111,.69224,0,0,.66667],bn=[.26167,.75726,0,0,.77778],Bn=[.48256,.98256,0,0,.77778],yn=[.28481,.79383,0,0,.77778],Rn=[.08167,.58167,0,0,.22222],In=[.08167,.58167,0,0,.38889],wo=[0,.43056,.04028,0,.66667],ho=[.41951,.91951,0,0,.77778],So=[.24982,.74947,0,0,.38865],vo=[.08319,.58283,0,0,.75623],Ao=[0,.10803,0,0,.27764],Eo=[0,.47534,0,0,.50181],Ys=[.18906,.47534,0,0,.50181],_h=[0,.69141,0,0,.50181],e1=[.24982,.74947,0,0,.27764],Rm=[0,.69141,0,0,.21471],ip=[.25,.75,0,0,.44722],Wo=[0,.64444,0,0,.575],Gl=[.08556,.58556,0,0,.89444],op=[0,.69444,0,0,.89444],sp=[0,.68611,0,0,.9],zm=[0,.68611,0,0,.86944],Bs=[.25,.75,0,0,.575],lp=[.25,.75,0,0,.31944],Qs=[0,.69444,0,0,.63889],Xl=[0,.69444,0,0,.31944],t1=[0,.44444,0,0,.63889],r1=[0,.44444,0,0,.51111],Os=[0,.69444,0,0,.575],Jo=[.13333,.63333,0,0,.89444],a1=[0,.44444,0,0,.31944],i1=[0,.69444,0,0,.86944],o1=[0,.68611,0,0,.69166],up=[0,.68611,0,0,.83055],Im=[0,.68611,0,0,.89444],jm=[0,.69444,0,0,.60278],s1=[.19444,.69444,0,0,.51111],l1=[0,.69444,0,0,.83055],os=[-.10889,.39111,0,0,1.14999],u1=[.19444,.69444,0,0,.575],gu=[.19444,.69444,0,0,1.14999],c1=[.19444,.69444,0,0,.70277],d1=[.05556,.75,0,0,.575],qm=[0,.68611,0,0,.95833],f1=[.08556,.58556,0,0,.76666],Um=[-.02639,.47361,0,0,.575],p1=[0,.44444,0,0,.89444],Js=[0,.55556,0,0,.76666],m1=[-.10889,.39111,0,0,.89444],Km=[.00222,.50222,0,0,.89444],Fs=[.19667,.69667,0,0,.89444],h1=[.08556,.58556,0,0,1.14999],Vm=[0,.69444,0,0,.70277],cp=[-.02778,.47222,0,0,.575],dp=[.25,.75,0,0,.51111],v1=[-.13889,.36111,0,0,1.14999],g1=[.19444,.69444,0,0,1.02222],fp=[.12963,.69444,0,0,.89444],y1=[.19444,.69444,0,0,.44722],Ps=[0,.64444,.13167,0,.59111],b1=[.19444,.64444,.13167,0,.59111],Hm=[0,.68611,.17208,0,.8961],x1=[.19444,.44444,.105,0,.53222],w1=[0,.44444,.085,0,.82666],S1=[0,.69444,.06709,0,.59111],pp=[0,.69444,.12945,0,.35555],E1=[0,.69444,0,0,.94888],Wm=[0,.69444,.11472,0,.59111],D1=[0,.68611,.10778,0,.88555],_1=[0,.69444,.07939,0,.62055],mp=[0,.69444,.12417,0,.30667],Ls=[0,.64444,.13556,0,.51111],C1=[.19444,.64444,.13556,0,.51111],hp=[0,.68333,.16389,0,.74333],M1=[.19444,.43056,.08847,0,.46],$1=[0,.43056,.07514,0,.71555],A1=[0,.69444,.06646,0,.51111],k1=[0,.69444,0,0,.83129],N1=[0,.69444,.1225,0,.51111],T1=[0,.68333,.09403,0,.76666],B1=[0,.68333,.11111,0,.76666],O1=[0,.69444,.06961,0,.51444],ys=[0,.69444,0,0,.27778],Zl=[.25,.75,0,0,.38889],Go=[0,.64444,0,0,.5],yl=[0,.69444,0,0,.77778],xl=[0,.68333,0,0,.75],yu=[0,.68333,0,0,.77778],F1=[0,.68333,0,0,.68056],bu=[0,.68333,0,0,.72222],bs=[.25,.75,0,0,.5],vp=[.25,.75,0,0,.27778],ao=[0,.69444,0,0,.5],Yl=[0,.69444,0,0,.55556],Gm=[0,.43056,0,0,.44445],xu=[0,.43056,0,0,.5],P1=[.19444,.43056,0,0,.55556],L1=[0,.43056,0,0,.55556],Xo=[.08333,.58333,0,0,.77778],R1=[0,.43056,0,0,.27778],z1=[0,.66786,0,0,.27778],I1=[0,.69444,0,0,.75],j1=[0,.66786,0,0,.5],q1=[0,.68333,0,0,.625],Xm=[.19444,.69444,0,0,.44445],wu=[0,.69444,0,0,.72222],U1=[.19444,.69444,0,0,.5],Su=[.19444,.69444,0,0,1],K1=[.011,.511,0,0,1.126],Zm=[.19444,.69444,0,0,.61111],Ym=[.05556,.75,0,0,.5],V1=[0,.68333,0,0,.83334],H1=[.0391,.5391,0,0,.66667],Qm=[-.05555,.44445,0,0,.5],W1=[0,.43056,0,0,.77778],Sl=[0,.55556,0,0,.66667],gp=[-.03625,.46375,0,0,.77778],G1=[-.01688,.48312,0,0,.77778],X1=[.0391,.5391,0,0,1],Rs=[0,.69444,0,0,.61111],yp=[-.03472,.46528,0,0,.5],bp=[.25,.75,0,0,.44445],Z1=[-.14236,.35764,0,0,1],xp=[.244,.744,0,0,.412],Y1=[.19444,.69444,0,0,.88889],wp=[.12963,.69444,0,0,.77778],Q1=[.19444,.69444,0,0,.38889],J1=[.011,.511,0,0,1.638],ev=[.19444,.69444,0,0,0],Sp=[0,.44444,0,0,.575],Eu=[.19444,.44444,0,0,.575],tv=[0,.68611,0,0,.75555],rv=[0,.69444,0,0,.66759],nv=[0,.68611,0,0,.80555],av=[0,.68611,.08229,0,.98229],iv=[0,.68611,0,0,.76666],ov=[0,.44444,0,0,.58472],sv=[.19444,.44444,0,0,.6118],Du=[.19444,.43056,0,0,.5],lv=[0,.68333,.02778,.08334,.76278],uv=[0,.68333,.08125,.05556,.83125],cv=[0,.43056,0,.05556,.48472],dv=[.19444,.43056,0,.08334,.51702],fv=[.25,.75,0,0,.42778],go=[0,.69444,0,0,.55],xs=[0,.69444,0,0,.73334],zs=[0,.69444,0,0,.79445],pv=[0,.69444,0,0,.51945],Jm=[0,.69444,0,0,.70278],mv=[0,.69444,0,0,.76389],hv=[.25,.75,0,0,.34306],e0=[0,.69444,0,0,.56111],vv=[0,.69444,0,0,.25556],gv=[.19444,.45833,0,0,.56111],yv=[0,.45833,0,0,.56111],Ep=[0,.69444,0,0,.30556],bv=[0,.69444,0,0,.58056],xv=[0,.69444,0,0,.67223],t0=[0,.69444,0,0,.85556],r0=[0,.69444,0,0,.55834],ss=[0,.65556,.11156,0,.5],n0=[0,.69444,.08094,0,.70834],a0=[.17014,0,0,0,.44445],wv=[0,.69444,.0799,0,.5],Sv=[0,.69444,0,0,.73752],Ev=[0,.69444,.09205,0,.5],Dv=[0,.69444,.09031,0,.77778],i0=[0,.69444,.07816,0,.27778],_v=[0,.69444,.00316,0,.5],Cv=[.19444,.69444,0,0,.83334],Mv=[.05556,.75,0,0,.83334],$v=[0,.75,0,0,.5],Av=[.125,.08333,0,0,.27778],kv=[0,.08333,0,0,.27778],ls=[0,.65556,0,0,.5],o0=[0,.69444,0,0,.47222],ws=[0,.69444,0,0,.66667],Nv=[0,.69444,0,0,.59722],s0=[0,.69444,0,0,.54167],l0=[0,.69444,0,0,.70834],Tv=[.25,.75,0,0,.28889],u0=[0,.69444,0,0,.51667],Bv=[0,.44444,0,0,.44445],Ov=[.19444,.44444,0,0,.51667],Fv=[0,.44444,0,0,.38333],Pv=[0,.44444,0,0,.51667],Lv=[0,.69444,0,0,.83334],Rv=[.35001,.85,0,0,.45834],zv=[.35001,.85,0,0,.57778],Iv=[.35001,.85,0,0,.41667],jv=[.35001,.85,0,0,.58334],Dp=[0,.72222,0,0,.55556],qv=[1e-5,.6,0,0,.66667],Uv=[1e-5,.6,0,0,.77778],Kv=[.25001,.75,0,0,.94445],Vv=[.306,.805,.19445,0,.47222],Hv=[.30612,.805,.19445,0,.47222],Ql=[.25001,.75,0,0,.83334],Jl=[.35001,.85,0,0,.47222],c0=[.25001,.75,0,0,1.11111],Wv=[.65002,1.15,0,0,.59722],Gv=[.65002,1.15,0,0,.81111],Xv=[.65002,1.15,0,0,.47222],Zv=[.65002,1.15,0,0,.66667],_p=[0,.75,0,0,1],Yv=[.55001,1.05,0,0,1.27778],Qv=[.862,1.36,.44445,0,.55556],Jv=[.86225,1.36,.44445,0,.55556],eu=[.55001,1.05,0,0,1.11111],Cp=[.65002,1.15,0,0,.52778],_g=[.65002,1.15,0,0,.61111],d0=[.55001,1.05,0,0,1.51112],ey=[.95003,1.45,0,0,.73611],ty=[.95003,1.45,0,0,1.04445],ry=[.95003,1.45,0,0,.52778],Mp=[.95003,1.45,0,0,.75],$p=[0,.75,0,0,1.44445],Ap=[.95003,1.45,0,0,.58334],ny=[1.25003,1.75,0,0,.79167],ay=[1.25003,1.75,0,0,1.27778],iy=[1.25003,1.75,0,0,.58334],kp=[1.25003,1.75,0,0,.80556],Np=[0,.825,0,0,1.8889],Tp=[1.25003,1.75,0,0,.63889],Bp=[.64502,1.155,0,0,.875],oy=[1e-5,.6,0,0,.875],f0=[-99e-5,.601,0,0,.66667],Op=[.64502,1.155,0,0,.66667],sy=[1e-5,.9,0,0,.88889],ly=[.65002,1.15,0,0,.88889],uy=[.90001,0,0,0,.88889],cy=[-.00499,.605,0,0,1.05556],Fp=[0,.12,0,0,.45],on=[0,.61111,0,0,.525],es=[.08333,.69444,0,0,.525],dy=[-.08056,.53055,0,0,.525],fy=[-.05556,.55556,0,0,.525],ko=[0,.43056,0,0,.525],_u=[.22222,.43056,0,0,.525],py=[0,0,0,0,.525],q2={"AMS-Regular":{32:sn,65:Nn,66:Qn,67:Nn,68:Nn,69:Qn,70:$a,71:bo,72:bo,73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:bo,76:Qn,77:[0,.68889,0,0,.94445],78:Nn,79:Bo,80:$a,81:Bo,82:Nn,83:Uo,84:Qn,85:Nn,86:Nn,87:[0,.68889,0,0,1],88:Nn,89:Nn,90:Qn,107:Uo,160:sn,165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:Uo,295:Ko,710:Zn,732:Oo,770:Zn,771:Oo,989:On,1008:wo,8245:[0,.54986,0,0,.275],8463:Ko,8487:Nn,8498:Uo,8502:Qn,8503:[0,.68889,0,0,.44445],8504:Qn,8513:[0,.68889,0,0,.63889],8592:Mo,8594:Mo,8602:Jn,8603:Jn,8606:$r,8608:$r,8610:cn,8611:cn,8619:fn,8620:fn,8621:[-.13313,.37788,0,0,1.38889],8622:Jn,8624:pn,8625:pn,8630:Nr,8631:Nr,8634:Un,8635:Un,8638:_i,8639:_i,8642:_i,8643:_i,8644:po,8646:po,8647:po,8648:Lo,8649:po,8650:Lo,8651:$r,8652:$r,8653:Jn,8654:Jn,8655:Jn,8666:ns,8667:ns,8669:[-.13313,.37788,0,0,1],8672:$o,8674:$o,8705:[0,.825,0,0,.5],8708:Uo,8709:On,8717:[0,.43056,0,0,.42917],8722:Mo,8724:[.08198,.69224,0,0,.77778],8726:On,8733:ks,8736:na,8737:na,8738:[.03517,.52239,0,0,.72222],8739:Rn,8740:[.25142,.74111,0,0,.27778],8741:In,8742:[.25142,.74111,0,0,.5],8756:oo,8757:oo,8764:En,8765:[-.13313,.37788,0,0,.77778],8769:En,8770:gp,8774:mo,8776:G1,8778:On,8782:Kn,8783:Kn,8785:Un,8786:Un,8787:Un,8790:ks,8791:gs,8796:[.08198,.91667,0,0,.77778],8806:lo,8807:lo,8808:eo,8809:eo,8812:[.25583,.75583,0,0,.5],8814:Vo,8815:Vo,8816:mo,8817:mo,8818:gs,8819:gs,8822:Ns,8823:Ns,8828:Ho,8829:Ho,8830:gs,8831:gs,8832:Vo,8833:Vo,8840:mo,8841:mo,8842:xo,8843:xo,8847:as,8848:as,8858:Un,8859:Un,8861:Un,8862:Ts,8863:Ts,8864:Ts,8865:Ts,8872:[0,.69224,0,0,.61111],8873:na,8874:[0,.69224,0,0,.88889],8876:$a,8877:$a,8878:Nn,8879:Nn,8882:as,8883:as,8884:Ho,8885:Ho,8888:[0,.54986,0,0,1.11111],8890:P1,8891:np,8892:np,8901:[0,.54986,0,0,.27778],8903:On,8905:On,8906:On,8907:ks,8908:ks,8909:[-.03598,.46402,0,0,.77778],8910:ap,8911:ap,8912:as,8913:as,8914:vu,8915:vu,8916:oo,8918:is,8919:is,8920:Qo,8921:Qo,8922:Cr,8923:Cr,8926:Ho,8927:Ho,8928:mo,8929:mo,8934:Wr,8935:Wr,8936:Wr,8937:Wr,8938:Vo,8939:Vo,8940:mo,8941:mo,8994:en,8995:en,9416:[.15559,.69224,0,0,.90222],9484:pn,9488:pn,9492:tn,9496:tn,9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:Ts,9633:Ts,9650:mn,9651:mn,9654:as,9660:mn,9661:mn,9664:as,9674:nn,9733:[.19444,.69224,0,0,.94445],10003:Fn,10016:Fn,10731:nn,10846:[.19444,.75583,0,0,.61111],10877:Ho,10878:Ho,10885:lo,10886:lo,10887:xo,10888:xo,10889:bn,10890:bn,10891:Bn,10892:Bn,10901:Ho,10902:Ho,10933:eo,10934:eo,10935:bn,10936:bn,10937:bn,10938:bn,10949:lo,10950:lo,10955:yn,10956:yn,57350:Rn,57351:In,57352:On,57353:wo,57356:eo,57357:eo,57358:ho,57359:mo,57360:mo,57361:ho,57366:eo,57367:eo,57368:eo,57369:eo,57370:xo,57371:xo},"Caligraphic-Regular":{32:sn,65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:sn},"Fraktur-Regular":{32:sn,33:[0,.69141,0,0,.29574],34:Rm,38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:So,41:So,42:[0,.62119,0,0,.27764],43:vo,44:Ao,45:vo,46:Ao,47:[.24982,.74947,0,0,.50181],48:Eo,49:Eo,50:Eo,51:Ys,52:Ys,53:Ys,54:_h,55:Ys,56:_h,57:Ys,58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:e1,93:e1,94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:sn,8216:Rm,8217:Rm,58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:sn,33:[0,.69444,0,0,.35],34:jm,35:[.19444,.69444,0,0,.95833],36:d1,37:[.05556,.75,0,0,.95833],38:op,39:Xl,40:ip,41:ip,42:[0,.75,0,0,.575],43:Jo,44:[.19444,.15556,0,0,.31944],45:Fv,46:[0,.15556,0,0,.31944],47:Bs,48:Wo,49:Wo,50:Wo,51:Wo,52:Wo,53:Wo,54:Wo,55:Wo,56:Wo,57:Wo,58:a1,59:[.19444,.44444,0,0,.31944],60:Gl,61:m1,62:Gl,63:[0,.69444,0,0,.54305],64:op,65:zm,66:[0,.68611,0,0,.81805],67:up,68:[0,.68611,0,0,.88194],69:tv,70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:sp,73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:o1,77:[0,.68611,0,0,1.09166],78:sp,79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:zm,89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:lp,92:Bs,93:lp,94:Os,95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:Qs,99:r1,100:Qs,101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:Qs,105:Xl,106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:Xl,109:[0,.44444,0,0,.95833],110:t1,111:Sp,112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:t1,118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:r1,123:Bs,124:lp,125:Bs,126:[.35,.34444,0,0,.575],160:sn,163:[0,.69444,0,0,.86853],168:Os,172:[0,.44444,0,0,.76666],176:i1,177:Jo,184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:Jo,216:[.04861,.73472,0,0,.89444],223:Nv,230:[0,.44444,0,0,.83055],247:Jo,248:[.09722,.54167,0,0,.575],305:a1,338:[0,.68611,0,0,1.16944],339:p1,567:[.19444,.44444,0,0,.35139],710:Os,711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:Os,715:Os,728:Os,729:Xl,730:i1,732:Os,733:Os,915:o1,916:qm,920:Im,923:nv,926:iv,928:sp,931:up,933:Im,934:up,936:Im,937:up,8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:Xl,8217:Xl,8220:jm,8221:jm,8224:s1,8225:s1,8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:rv,8465:l1,8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:l1,8501:Vm,8592:os,8593:u1,8594:os,8595:u1,8596:os,8597:Bs,8598:gu,8599:gu,8600:gu,8601:gu,8636:os,8637:os,8640:os,8641:os,8656:os,8657:c1,8658:os,8659:c1,8660:os,8661:[.25,.75,0,0,.70277],8704:Qs,8706:[0,.69444,.06389,0,.62847],8707:Qs,8709:d1,8711:qm,8712:f1,8715:f1,8722:Jo,8723:Jo,8725:Bs,8726:Bs,8727:cp,8728:Um,8729:Um,8730:[.18,.82,0,0,.95833],8733:p1,8734:[0,.44444,0,0,1.14999],8736:na,8739:lp,8741:Bs,8743:Js,8744:Js,8745:Js,8746:Js,8747:[.19444,.69444,.12778,0,.56875],8764:m1,8768:[.19444,.69444,0,0,.31944],8771:Km,8776:[.02444,.52444,0,0,.89444],8781:Km,8801:Km,8804:Fs,8805:Fs,8810:h1,8811:h1,8826:Gl,8827:Gl,8834:Gl,8835:Gl,8838:Fs,8839:Fs,8846:Js,8849:Fs,8850:Fs,8851:Js,8852:Js,8853:Jo,8854:Jo,8855:Jo,8856:Jo,8857:Jo,8866:Vm,8867:Vm,8868:op,8869:op,8900:Um,8901:[-.02639,.47361,0,0,.31944],8902:cp,8968:dp,8969:dp,8970:dp,8971:dp,8994:v1,8995:v1,9651:g1,9657:cp,9661:g1,9667:cp,9711:gu,9824:fp,9825:fp,9826:fp,9827:fp,9837:[0,.75,0,0,.44722],9838:y1,9839:y1,10216:ip,10217:ip,10815:sp,10927:Fs,10928:Fs,57376:ev},"Main-BoldItalic":{32:sn,33:[0,.69444,.11417,0,.38611],34:_1,35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:pp,40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:Ps,49:Ps,50:Ps,51:Ps,52:b1,53:Ps,54:Ps,55:b1,56:Ps,57:Ps,58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:Wm,64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:Hm,73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:Hm,79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:S1,95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:x1,104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:x1,114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:sn,168:[0,.69444,.11473,0,.59111],176:E1,184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:w1,248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:w1,567:[.19444,.44444,.04611,0,.385],710:S1,711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:pp,730:E1,732:Wm,733:Wm,915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:Hm,931:[0,.68611,.11431,0,.82666],933:D1,934:[0,.68611,.05632,0,.82666],936:D1,937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:pp,8217:pp,8220:[0,.69444,.16772,0,.62055],8221:_1},"Main-Italic":{32:sn,33:mp,34:O1,35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:mp,40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:Ls,49:Ls,50:Ls,51:Ls,52:C1,53:Ls,54:Ls,55:C1,56:Ls,57:Ls,58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:N1,64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:hp,73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:hp,79:T1,80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:hp,86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:A1,95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:M1,104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:M1,114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:sn,168:[0,.66786,.10474,0,.51111],176:k1,184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:$1,248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:$1,710:A1,711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:k1,732:[0,.66786,.11585,0,.51111],733:N1,915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:T1,923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:hp,931:[0,.68333,.12028,0,.71555],933:B1,934:[0,.68333,.05986,0,.71555],936:B1,937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:mp,8217:mp,8220:[0,.69444,.1685,0,.51444],8221:O1,8463:Ko},"Main-Regular":{32:sn,33:ys,34:ao,35:Cv,36:Ym,37:Mv,38:yl,39:ys,40:Zl,41:Zl,42:$v,43:Xo,44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:bs,48:Go,49:Go,50:Go,51:Go,52:Go,53:Go,54:Go,55:Go,56:Go,57:Go,58:R1,59:[.19444,.43056,0,0,.27778],60:is,61:En,62:is,63:o0,64:yl,65:xl,66:[0,.68333,0,0,.70834],67:bu,68:[0,.68333,0,0,.76389],69:F1,70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:xl,73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:yu,76:q1,77:[0,.68333,0,0,.91667],78:xl,79:yu,80:F1,81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:bu,85:xl,86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:xl,89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:vp,92:bs,93:vp,94:ao,95:[.31,.12056,.02778,0,.5],97:xu,98:Yl,99:Gm,100:Yl,101:Gm,102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:Yl,105:z1,106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:ys,109:[0,.43056,0,0,.83334],110:L1,111:xu,112:P1,113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:L1,118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:Gm,123:bs,124:vp,125:bs,126:[.35,.31786,0,0,.5],160:sn,163:[0,.69444,0,0,.76909],167:Xm,168:j1,172:[0,.43056,0,0,.66667],176:I1,177:Xo,182:Zm,184:a0,198:[0,.68333,0,0,.90278],215:Xo,216:[.04861,.73194,0,0,.77778],223:ao,230:[0,.43056,0,0,.72222],247:Xo,248:[.09722,.52778,0,0,.5],305:R1,338:[0,.68333,0,0,1.01389],339:W1,567:[.19444,.43056,0,0,.30556],710:ao,711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:ao,715:ao,728:ao,729:z1,730:I1,732:j1,733:ao,915:q1,916:V1,920:yu,923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:xl,931:bu,933:yu,934:bu,936:yu,937:bu,8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:ys,8217:ys,8220:ao,8221:ao,8224:Xm,8225:Xm,8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:Ko,8465:wu,8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:wu,8501:Rs,8592:Jn,8593:U1,8594:Jn,8595:U1,8596:Jn,8597:bs,8598:Su,8599:Su,8600:Su,8601:Su,8614:[.011,.511,0,0,1],8617:K1,8618:K1,8636:Jn,8637:Jn,8640:Jn,8641:Jn,8652:[.011,.671,0,0,1],8656:Jn,8657:Zm,8658:Jn,8659:Zm,8660:Jn,8661:[.25,.75,0,0,.61111],8704:Yl,8706:[0,.69444,.05556,.08334,.5309],8707:Yl,8709:Ym,8711:V1,8712:H1,8715:H1,8722:Xo,8723:Xo,8725:bs,8726:bs,8727:yp,8728:Qm,8729:Qm,8730:[.2,.8,0,0,.83334],8733:W1,8734:Nr,8736:na,8739:vp,8741:bs,8743:Sl,8744:Sl,8745:Sl,8746:Sl,8747:[.19444,.69444,.11111,0,.41667],8764:En,8768:[.19444,.69444,0,0,.27778],8771:gp,8773:[-.022,.589,0,0,1],8776:G1,8781:gp,8784:[-.133,.67,0,0,.778],8801:gp,8804:xo,8805:xo,8810:X1,8811:X1,8826:is,8827:is,8834:is,8835:is,8838:xo,8839:xo,8846:Sl,8849:xo,8850:xo,8851:Sl,8852:Sl,8853:Xo,8854:Xo,8855:Xo,8856:Xo,8857:Xo,8866:Rs,8867:Rs,8868:yl,8869:yl,8872:[.249,.75,0,0,.867],8900:Qm,8901:[-.05555,.44445,0,0,.27778],8902:yp,8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:bp,8969:bp,8970:bp,8971:bp,8994:Z1,8995:Z1,9136:xp,9137:xp,9651:Y1,9657:yp,9661:Y1,9667:yp,9711:Su,9824:wp,9825:wp,9826:wp,9827:wp,9837:[0,.75,0,0,.38889],9838:Q1,9839:Q1,10216:Zl,10217:Zl,10222:xp,10223:xp,10229:[.011,.511,0,0,1.609],10230:J1,10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:J1,10815:xl,10927:xo,10928:xo,57376:ev},"Math-BoldItalic":{32:sn,48:Sp,49:Sp,50:Sp,51:Eu,52:Eu,53:Eu,54:Wo,55:Eu,56:Wo,57:Eu,65:zm,66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:av,73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:tv,77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:rv,105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:ov,112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:sn,915:[0,.68611,.15972,0,.65694],916:qm,920:[0,.68611,.03194,0,.86722],923:nv,926:[0,.68611,.07458,0,.84125],928:av,931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:iv,936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:ov,960:[0,.44444,.03704,0,.68241],961:sv,962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:sv,1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:sn,48:xu,49:xu,50:xu,51:Du,52:Du,53:Du,54:Go,55:Du,56:Go,57:Du,65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:uv,73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:lv,80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:cv,112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:sn,915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:lv,923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:uv,931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:cv,960:[0,.43056,.03588,0,.57003],961:dv,962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:dv,1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:sn,33:[0,.69444,0,0,.36667],34:r0,35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:Ep,40:fv,41:fv,42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:go,49:go,50:go,51:go,52:go,53:go,54:go,55:go,56:go,57:go,58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:pv,64:xs,65:xs,66:xs,67:Jm,68:zs,69:[0,.69444,0,0,.64167],70:Rs,71:xs,72:zs,73:[0,.69444,0,0,.33056],74:pv,75:mv,76:bv,77:[0,.69444,0,0,.97778],78:zs,79:zs,80:Jm,81:[.10556,.69444,0,0,.79445],82:Jm,83:Rs,84:xs,85:mv,86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:xs,89:[0,.69444,.0275,0,.73334],90:xv,91:hv,93:hv,94:go,95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:e0,99:[0,.45833,0,0,.48889],100:e0,101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:e0,105:vv,106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:vv,109:[0,.45833,0,0,.86667],110:yv,111:[0,.45833,0,0,.55],112:gv,113:gv,114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:yv,118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:sn,168:go,176:xs,180:go,184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:go,711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:go,729:Ep,730:xs,732:go,733:go,915:bv,916:[0,.69444,0,0,.91667],920:t0,923:xv,926:xs,928:zs,931:zs,933:t0,934:zs,936:t0,937:zs,8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:Ep,8217:Ep,8220:r0,8221:r0},"SansSerif-Italic":{32:sn,33:[0,.69444,.05733,0,.31945],34:_v,35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:i0,40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:Av,45:[0,.44444,.01946,0,.33333],46:kv,47:[.25,.75,.13164,0,.5],48:ss,49:ss,50:ss,51:ss,52:ss,53:ss,54:ss,55:ss,56:ss,57:ss,58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:ws,66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:n0,73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:s0,77:[0,.69444,.08094,0,.875],78:n0,79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:wv,95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:sn,168:[0,.67937,.06385,0,.5],176:Sv,184:a0,305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:wv,711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:Ev,715:ao,728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:Sv,732:[0,.67659,.08826,0,.5],733:Ev,915:[0,.69444,.13372,0,.54167],916:Lv,920:[0,.69444,.07555,0,.77778],923:Rs,926:[0,.69444,.12816,0,.66667],928:n0,931:[0,.69444,.11983,0,.72222],933:Dv,934:[0,.69444,.04603,0,.72222],936:Dv,937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:i0,8217:i0,8220:[0,.69444,.14205,0,.5],8221:_v},"SansSerif-Regular":{32:sn,33:[0,.69444,0,0,.31945],34:ao,35:Cv,36:Ym,37:Mv,38:[0,.69444,0,0,.75834],39:ys,40:Zl,41:Zl,42:$v,43:Xo,44:Av,45:[0,.44444,0,0,.33333],46:kv,47:bs,48:ls,49:ls,50:ls,51:ls,52:ls,53:ls,54:ls,55:ls,56:ls,57:ls,58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:o0,64:ws,65:ws,66:ws,67:Qs,68:[0,.69444,0,0,.72223],69:Nv,70:[0,.69444,0,0,.56945],71:ws,72:l0,73:ys,74:o0,75:[0,.69444,0,0,.69445],76:s0,77:[0,.69444,0,0,.875],78:l0,79:[0,.69444,0,0,.73611],80:Qs,81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:Yl,84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:ws,89:[0,.69444,.025,0,.66667],90:Rs,91:Tv,93:Tv,94:ao,95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:u0,99:Bv,100:u0,101:Bv,102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:u0,105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:Pv,111:[0,.44444,0,0,.5],112:Ov,113:Ov,114:[0,.44444,.01389,0,.34167],115:Fv,116:[0,.57143,0,0,.36111],117:Pv,118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:sn,168:[0,.67937,0,0,.5],176:ws,184:a0,305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:ao,711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:ao,715:ao,728:ao,729:[0,.67937,0,0,.27778],730:ws,732:[0,.67659,0,0,.5],733:ao,915:s0,916:Lv,920:yl,923:Rs,926:ws,928:l0,931:wu,933:yl,934:wu,936:yl,937:wu,8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:ys,8217:ys,8220:ao,8221:ao},"Script-Regular":{32:sn,65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:sn},"Size1-Regular":{32:sn,40:Rv,41:Rv,47:zv,91:Iv,92:zv,93:Iv,123:jv,125:jv,160:sn,710:Dp,732:Dp,770:Dp,771:Dp,8214:[-99e-5,.601,0,0,.77778],8593:qv,8595:qv,8657:Uv,8659:Uv,8719:Kv,8720:Kv,8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:Hv,8748:Vv,8749:Vv,8750:Hv,8896:Ql,8897:Ql,8898:Ql,8899:Ql,8968:Jl,8969:Jl,8970:Jl,8971:Jl,9168:f0,10216:Jl,10217:Jl,10752:c0,10753:c0,10754:c0,10756:Ql,10758:Ql},"Size2-Regular":{32:sn,40:Wv,41:Wv,47:Gv,91:Xv,92:Gv,93:Xv,123:Zv,125:Zv,160:sn,710:_p,732:_p,770:_p,771:_p,8719:Yv,8720:Yv,8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:Jv,8748:Qv,8749:Qv,8750:Jv,8896:eu,8897:eu,8898:eu,8899:eu,8968:Cp,8969:Cp,8970:Cp,8971:Cp,10216:_g,10217:_g,10752:d0,10753:d0,10754:d0,10756:eu,10758:eu},"Size3-Regular":{32:sn,40:ey,41:ey,47:ty,91:ry,92:ty,93:ry,123:Mp,125:Mp,160:sn,710:$p,732:$p,770:$p,771:$p,8730:[.95003,1.45,0,0,1],8968:Ap,8969:Ap,8970:Ap,8971:Ap,10216:Mp,10217:Mp},"Size4-Regular":{32:sn,40:ny,41:ny,47:ay,91:iy,92:ay,93:iy,123:kp,125:kp,160:sn,710:Np,732:Np,770:Np,771:Np,8730:[1.25003,1.75,0,0,1],8968:Tp,8969:Tp,8970:Tp,8971:Tp,9115:Bp,9116:oy,9117:Bp,9118:Bp,9119:oy,9120:Bp,9121:Op,9122:f0,9123:Op,9124:Op,9125:f0,9126:Op,9127:sy,9128:ly,9129:uy,9130:[0,.3,0,0,.88889],9131:sy,9132:ly,9133:uy,9143:[.88502,.915,0,0,1.05556],10216:kp,10217:kp,57344:cy,57345:cy,57680:Fp,57681:Fp,57682:Fp,57683:Fp},"Typewriter-Regular":{32:py,33:on,34:on,35:on,36:es,37:es,38:on,39:on,40:es,41:es,42:[0,.52083,0,0,.525],43:dy,44:[.13889,.125,0,0,.525],45:dy,46:[0,.125,0,0,.525],47:es,48:on,49:on,50:on,51:on,52:on,53:on,54:on,55:on,56:on,57:on,58:ko,59:[.13889,.43056,0,0,.525],60:fy,61:[-.19549,.41562,0,0,.525],62:fy,63:on,64:on,65:on,66:on,67:on,68:on,69:on,70:on,71:on,72:on,73:on,74:on,75:on,76:on,77:on,78:on,79:on,80:on,81:[.13889,.61111,0,0,.525],82:on,83:on,84:on,85:on,86:on,87:on,88:on,89:on,90:on,91:es,92:es,93:es,94:on,95:[.09514,0,0,0,.525],96:on,97:ko,98:on,99:ko,100:on,101:ko,102:on,103:_u,104:on,105:on,106:[.22222,.61111,0,0,.525],107:on,108:on,109:ko,110:ko,111:ko,112:_u,113:_u,114:ko,115:ko,116:[0,.55358,0,0,.525],117:ko,118:ko,119:ko,120:ko,121:_u,122:ko,123:es,124:es,125:es,126:on,127:on,160:py,176:on,184:[.19445,0,0,0,.525],305:ko,567:_u,711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:on,715:on,728:on,730:on,770:on,771:on,776:on,915:on,916:on,920:on,923:on,926:on,928:on,931:on,933:on,934:on,936:on,937:on,8216:on,8217:on,8242:on,9251:[.11111,.21944,0,0,.525]}},U2=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,tu=10,ts=.25,K2=1.2,El=.431,my={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[El,El,El],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.5,.732,.925],num2:[.394,.384,.5],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[ts,ts,ts],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},p0=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],m0=5,hy={" ":" ","​":" ",Å:"A",Ç:"C",Ð:"D",Þ:"o",å:"a",ç:"c",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Dl(at,lt){at===void 0&&(at=77);let ft=q2[lt][at];if(ft)return{defaultMetrics:!1,depth:ft[0],height:ft[1],italic:ft[2],skew:ft[3],width:ft[4]};if(at===11034)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0,width:.8};let xt=String.fromCodePoint(at);if(xt in hy)at=hy[xt].codePointAt(0);else if(U2.test(xt))return at=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0,width:1};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0,width:.8}}var h0={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],longrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],longleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],longleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],longrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],longleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],longleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],longRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716],longLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},v0={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},vy={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:`m 529 160
  c -179 0 -524 -115 -524 -115
  c -5 -1 -9 -5 -9 -10
  c 0 -1 1 -2 1 -3
  l 4 -22
  c 1 -5 5 -9 11 -9
  h 2
  s 338 93 512 92
  c 174 0 513 -92 513 -92
  h 2
  c 5 0 9 4 11 9
  l 5 22
  c 1 6 -2 12 -8 13
  c 0 0 -342 115 -520 115
  z
  `,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,widetilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,widetilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,widetilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,widetilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};function V2(at){if(v0[at]){let[Kt,Ht,Jt]=v0[at],fr=`<span class="stretchy" style="height:${Jt}em"><svg width="100%" height="${Jt}em" viewBox="0 0 ${Kt} ${Ht}" preserveAspectRatio="none" ><path fill="currentcolor" d="${vy[at]}"></path></svg></span>`;return`<span style="display:inline-block;height:${Jt/2}em;min-width:0">${fr}</span>`}let[lt,ft,xt,St]=h0[at],Ct,Tt,Pt=xt/1e3;lt.length===3?(Ct=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],Tt=["xMinYMin","xMidYMin","xMaxYMin"]):lt.length===2?(Ct=["slice-1-of-2","slice-2-of-2"],Tt=["xMinYMin","xMaxYMin"]):(Ct=["slice-1-of-1"],Tt=[St]);let zt=lt.map((Kt,Ht)=>`<span class="${Ct[Ht]}" style=height:${Pt}em><svg width=400em height=${Pt}em viewBox="0 0 400000 ${xt}" preserveAspectRatio="${Tt[Ht]} slice"><path fill="currentcolor" d="${vy[Kt]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${Pt}em;min-width:${ft}em;">${zt}</span>`}function H2(at){return h0[at]?h0[at][2]/1e3:v0[at][2]}function W2(at){let lt=[];for(let ft=0;ft<at.length;ft++){let xt=at.charCodeAt(ft);if(xt===13&&at.charCodeAt(ft+1)===10&&(xt=10,ft++),(xt===13||xt===12)&&(xt=10),xt===0&&(xt=65533),xt>=55296&&xt<=56319){let St=at.charCodeAt(ft+1);if(St>=56320&&St<=57343){let Ct=xt-55296,Tt=St-56320;xt=65536+Ct*1024+Tt,ft++}}lt.push(xt)}return lt}var Pp=8205,G2=[[Pp,1],[65038,2],[127995,5],[129456,4],[917536,96]],Lp,gy=[127462,127487];function yy(at){var lt;if(Lp===void 0){Lp={};for(let ft of G2)for(let xt=ft[0];xt<=ft[0]+ft[1]-1;xt++)Lp[xt]=!0}return(lt=Lp[at])!=null?lt:!1}function X2(at){return at>=gy[0]&&at<=gy[1]}function by(at){if(/^[\u0020-\u00FF]*$/.test(at))return at;let lt=[],ft=W2(at),xt=0;for(;xt<ft.length;){let St=ft[xt++],Ct=ft[xt];if(Ct===Pp){let Tt=xt-1;for(xt+=2;ft[xt]===Pp;)xt+=2;lt.push(String.fromCodePoint(...ft.slice(Tt,xt-Tt+1)))}else if(yy(Ct)){let Tt=xt-1;for(;yy(ft[xt]);)xt+=ft[xt]===Pp?2:1;lt.push(String.fromCodePoint(...ft.slice(Tt,2*xt-Tt-1)))}else X2(St)?(xt+=1,lt.push(String.fromCodePoint(...ft.slice(xt-2,2)))):lt.push(String.fromCodePoint(St))}return lt}var Z2=class{constructor(at){this.s=by(at),this.pos=0,this.obeyspaces=!1}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(at){let lt=typeof this.s=="string"?at.exec(this.s.slice(this.pos)):at.exec(this.s.slice(this.pos).join(""));return lt!=null&&lt[0]?(this.pos+=lt[0].length,lt[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";let at=this.get();if(at==="\\"){if(!this.end()){let lt=this.match(/^[a-zA-Z\*]+/);return lt?this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/):lt=this.get(),"\\"+lt}}else{if(at==="{")return"<{>";if(at==="}")return"<}>";if(at==="^"){if(this.peek()==="^"){this.get();let lt=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(lt)return String.fromCodePoint(Number.parseInt(lt.slice(lt.lastIndexOf("^")+1),16))}return at}else if(at==="#"){if(!this.end()){let lt=!1;if(/[\d?@]/.test(this.peek())&&(lt=!0,this.pos+1<this.s.length)){let ft=this.s[this.pos+1];lt=/[^\dA-Za-z]/.test(ft)}return lt?"#"+this.get():"#"}}else if(at==="$")return this.peek()==="$"?(this.get(),"<$$>"):"<$>"}return at}};function Y2(at,lt){var ft,xt,St,Ct;let Tt=[],Pt=at.next();if(Pt&&Pt!=="\\relax"){if(Pt==="\\noexpand")Pt=at.next(),Pt&&Tt.push(Pt);else if(Pt==="\\obeyspaces")at.obeyspaces=!0;else if(Pt==="\\bgroup")Tt.push("<{>");else if(Pt==="\\egroup")Tt.push("<}>");else if(Pt==="\\string"){if(Pt=at.next(),Pt)if(Pt.startsWith("\\"))for(let zt of Pt)Tt.push(zt==="\\"?"\\backslash":zt);else Pt==="<{>"?Tt.push("\\{"):Pt==="<space>"?Tt.push("~"):Pt==="<}>"&&Tt.push("\\}")}else if(Pt==="\\csname"){for(;at.peek()==="<space>";)at.next();let zt="",Kt=!1,Ht=[];do{if(Ht.length===0)if(/^#[\d?@]$/.test(at.peek())){let Jt=at.get().slice(1);Ht=Rp((xt=(ft=lt==null?void 0:lt(Jt))!=null?ft:lt==null?void 0:lt("?"))!=null?xt:"\\placeholder{}",lt),Pt=Ht[0]}else Pt=at.next(),Ht=Pt?[Pt]:[];Kt=Ht.length===0,!Kt&&Pt==="\\endcsname"&&(Kt=!0,Ht.shift()),Kt||(Kt=Pt==="<$>"||Pt==="<$$>"||Pt==="<{>"||Pt==="<}>"||typeof Pt=="string"&&Pt.length>1&&Pt.startsWith("\\")),Kt||(zt+=Ht.shift())}while(!Kt);zt&&Tt.push("\\"+zt),Tt.push(...Ht)}else if(Pt!=="\\endcsname")if(Pt.length>1&&Pt.startsWith("#")){let zt=Pt.slice(1);Tt.push(...Rp((Ct=(St=lt==null?void 0:lt(zt))!=null?St:lt==null?void 0:lt("?"))!=null?Ct:"\\placeholder{}",lt))}else Tt.push(Pt)}return Tt}function Rp(at,lt=null){let ft=[],xt="";for(let Tt of at.toString().split(/\r?\n/)){xt&&ft.push(xt),xt=" ";let Pt=Tt.match(/((?:\\%)|[^%])*/);Pt!==null&&ft.push(Pt[0])}let St=new Z2(ft.join("")),Ct=[];do Ct.push(...Y2(St,lt));while(!St.end());return Ct}function Cn(at){let lt="",ft=[];for(let xt of at)xt&&(lt&&/^[a-zA-Z\*]/.test(xt)&&ft.push(lt),ft.push(xt),/^\\[a-zA-Z]+\*?[\"\'][^\ ]+$/.test(xt)&&ft.push(" "),lt=/\\[a-zA-Z]+\*?$/.test(xt)?" ":"");return ft.join("")}function jn(at,...lt){return at.startsWith("\\"),lt.length===0?at:Cn([at,...lt.map(ft=>`{${ft}}`)])}function Cu(at){return Cn(at.map(lt=>{var ft;return(ft={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[lt])!=null?ft:lt}))}var xy=class rp{constructor(lt){rp._registry[lt]=this}static createAtom(lt,ft,xt){return rp._registry[lt].createAtom(ft,Vr(ft,lt),xt)}static serialize(lt,ft){var xt;if(!lt||lt.length===0)return"";if((xt=ft.skipStyles)!=null&&xt){let St=[];for(let Ct of wy(lt)){let Tt=rp._registry[Ct[0].mode];St.push(...Tt.serialize(Ct,ft))}return Cn(St)}return Cn(J2(lt,ft))}static getFont(lt,ft,xt){return rp._registry[lt].getFont(ft,xt)}};xy._registry={};var Ro=xy;function wy(at){let lt=[],ft=[],xt="NONE";for(let St of at)St.type!=="first"&&(St.mode!==xt?(ft.length>0&&lt.push(ft),ft=[St],xt=St.mode):ft.push(St));return ft.length>0&&lt.push(ft),lt}function Is(at,lt){let ft=[],xt=[],St;for(let Ct of at)if(Ct.type!=="first"&&Ct.style){let Tt;lt==="variant"?(Tt=Ct.style.variant,Ct.style.variantStyle&&Ct.style.variantStyle!=="up"&&(Tt+="-"+Ct.style.variantStyle)):Tt=Ct.style[lt],Tt===St?xt.push(Ct):(xt.length>0&&ft.push(xt),xt=[Ct],St=Tt)}return xt.length>0&&ft.push(xt),ft}function Sy(at,lt){var ft;let{parent:xt}=at[0],St=xt==null?void 0:xt.computedStyle.color,Ct=[];for(let Tt of wy(at)){let Pt=lt.defaultMode;for(let zt of Is(Tt,"color")){let Kt=zt[0].computedStyle,Ht=Ro._registry[zt[0].mode].serialize(zt,wt(bt({},lt),{defaultMode:Pt==="text"?"text":"math"}));!lt.skipStyles&&Kt.color&&Kt.color!=="none"&&(!xt||St!==Kt.color)?Ct.push(jn("\\textcolor",(ft=Kt.verbatimColor)!=null?ft:Kt.color,Cn(Ht))):Ct.push(Cn(Ht))}}return Ct}function Q2(at,lt){let{parent:ft}=at[0],xt=ft==null?void 0:ft.computedStyle.backgroundColor;return Is(at,"backgroundColor").map(St=>{var Ct;if(St.length>0||St[0].type!=="box"){let Tt=St[0].computedStyle;if(Tt.backgroundColor&&Tt.backgroundColor!=="none"&&(!ft||xt!==Tt.backgroundColor))return jn("\\colorbox",(Ct=Tt.verbatimBackgroundColor)!=null?Ct:Tt.backgroundColor,Cn(Sy(St,wt(bt({},lt),{defaultMode:"text"}))))}return Cn(Sy(St,lt))})}function J2(at,lt){if(at.length===0)return[];let{parent:ft}=at[0],xt=ft==null?void 0:ft.computedStyle.fontSize,St=[];for(let Ct of Is(at,"fontSize")){let Tt=Ct[0].computedStyle.fontSize,Pt=Q2(Ct,lt);Pt&&(Tt&&Tt!=="auto"&&(!ft||xt!==Tt)?St.push(["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][Tt],...Pt):St.push(...Pt))}return St}function g0(at){return at?{mord:"ord",mbin:"bin",mop:"op",mrel:"rel",mopen:"open",mclose:"close",mpunct:"punct",minner:"inner",spacing:"ignore",latex:"latex",composition:"inner",error:"inner",placeholder:"ord",supsub:"ignore"}[at]:void 0}function Mu(at){if(at.length===0)return"ord";let lt=g0(at[0].type),ft=g0(at[at.length-1].type);return lt&&lt===ft?lt:"ord"}function zp(at,lt){if(typeof at=="string")return at;if(typeof at=="number"){let ft=Math.ceil(100*at)/100;return ft===0?"0":ft.toString()+(lt??"")}return""}var Qr=class c2{constructor(lt,ft){var xt,St,Ct,Tt,Pt,zt;if(typeof lt=="number"?this.value=String.fromCodePoint(lt):typeof lt=="string"?this.value=lt:kt(lt)?this.children=lt.filter(Ht=>Ht!==null):lt&&lt instanceof c2&&(this.children=[lt]),this.children)for(let Ht of this.children)Ht.parent=this;if(this.type=(xt=ft==null?void 0:ft.type)!=null?xt:"ignore",this.isSelected=(ft==null?void 0:ft.isSelected)===!0,ft!=null&&ft.caret&&(this.caret=ft.caret),this.classes=(St=ft==null?void 0:ft.classes)!=null?St:"",this.isTight=(Ct=ft==null?void 0:ft.isTight)!=null?Ct:!1,ft!=null&&ft.properties)for(let Ht of Object.keys(ft.properties))this.setStyle(Ht,ft.properties[Ht]);ft!=null&&ft.attributes&&(this.attributes=ft.attributes);let Kt=ft==null?void 0:ft.fontFamily;if(ft!=null&&ft.style&&this.value&&(Kt=(Pt=Ro.getFont((Tt=ft.mode)!=null?Tt:"math",this,wt(bt({variant:"normal"},ft.style),{letterShapeStyle:ft.letterShapeStyle})))!=null?Pt:void 0),Kt||(Kt="Main-Regular"),this.height=0,this.depth=0,this._width=0,this.hasExplicitWidth=!1,this.skew=0,this.italic=0,this.maxFontSize=0,this.scale=1,this.type==="latex")this.height=.8,this.depth=.2,this._width=1;else if(typeof lt=="number"){let Ht=Dl(lt,Kt);this.height=Ht.height,this.depth=Ht.depth,this._width=Ht.width,this.skew=Ht.skew,this.italic=Ht.italic}else if(this.value){this.height=-1/0,this.depth=-1/0,this._width=0,this.skew=-1/0,this.italic=-1/0;for(let Ht=0;Ht<this.value.length;Ht++){let Jt=Dl(this.value.codePointAt(Ht),Kt);this.height=Math.max(this.height,Jt.height),this.depth=Math.max(this.depth,Jt.depth),this._width+=Jt.width,this.skew=Jt.skew,this.italic=Jt.italic}}else if(this.children&&this.children.length>0)if(this.children.length===1){let Ht=this.children[0];this.height=Ht.height,this.depth=Ht.depth,this._width=Ht.width,this.maxFontSize=Ht.maxFontSize,this.skew=Ht.skew,this.italic=Ht.italic}else{let Ht=-1/0,Jt=-1/0,fr=0,hr=0;for(let mr of this.children)mr.height>Ht&&(Ht=mr.height),mr.depth>Jt&&(Jt=mr.depth),hr=Math.max(hr,(zt=mr.maxFontSize)!=null?zt:0),fr+=mr.width;this.height=Ht,this.depth=Jt,this._width=fr,this.maxFontSize=hr}(ft==null?void 0:ft.height)!==void 0&&(this.height=ft.height),(ft==null?void 0:ft.depth)!==void 0&&(this.depth=ft.depth),(ft==null?void 0:ft.width)!==void 0&&(this.width=ft.width),(ft==null?void 0:ft.maxFontSize)!==void 0&&(this.maxFontSize=ft.maxFontSize)}set atomID(lt){lt===void 0||lt.length===0||(this.id=lt)}selected(lt){if(this.isSelected!==lt&&(this.isSelected=lt,this.children))for(let ft of this.children)ft.selected(lt)}setStyle(lt,ft,xt){if(ft===void 0)return;let St=zp(ft,xt);St.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[lt]=St)}setTop(lt){Number.isFinite(lt)&&Math.abs(lt)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=zp(lt,"em"),this.height-=lt,this.depth+=lt)}get left(){var lt;return(lt=this.cssProperties)!=null&&lt["margin-left"]?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(lt){Number.isFinite(lt)&&(lt===0?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-left"]=zp(lt,"em")))}set right(lt){Number.isFinite(lt)&&(lt===0?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=zp(lt,"em")))}get width(){return this._width}set width(lt){this._width=lt,this.hasExplicitWidth=!0}wrap(lt){let ft=lt.parent;if(!ft)return this;lt.isPhantom&&this.setStyle("opacity",0);let xt=lt.color;xt&&xt!==ft.color&&this.setStyle("color",xt);let St=lt.backgroundColor;this.isSelected&&(St=Or(St)),St&&St!==ft.backgroundColor&&(this.setStyle("background-color",St),this.setStyle("display","inline-block")),this.scale;let Ct=lt.scalingFactor;return this.scale=Ct,this.height*=Ct,this.depth*=Ct,this._width*=Ct,this.skew*=Ct,this.italic*=Ct,this}toMarkup(){var lt,ft,xt,St;let Ct=(lt=this.value)!=null?lt:"";if(this.children)for(let hr of this.children)Ct+=hr.toMarkup();let Tt="";if(this.svgBody)Tt=V2(this.svgBody);else if(this.svgOverlay){Tt='<span style="',Tt+="display: inline-block;",Tt+=`height:${this.height+this.depth}em;`,Tt+=`vertical-align:${this.depth}em;`,Tt+='">',Tt+=Ct,Tt+="</span>",Tt+='<svg style="position:absolute;overflow:overlay;',Tt+=`height:${this.height+this.depth}em;`;let hr=(ft=this.cssProperties)==null?void 0:ft.padding;hr?(Tt+=`top:${hr};`,Tt+=`left:${hr};`,Tt+=`width:calc(100% - 2 * ${hr} );`):Tt+="top:0;left:0;width:100%;",Tt+="z-index:2;",Tt+='"',this.svgStyle&&(Tt+=` style="${this.svgStyle}"`),Tt+=`>${this.svgOverlay}</svg>`}let Pt="",zt=this.classes.split(" ");zt.push((xt={latex:"ML__latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])!=null?xt:""),this.caret==="latex"&&zt.push("ML__latex-caret"),this.isSelected&&zt.push("ML__selected");let Kt=zt.length===1?zt[0]:zt.filter((hr,mr,Rr)=>hr.length>0&&Rr.indexOf(hr)===mr).join(" ");if(Kt.length>0&&(Pt+=` class="${Kt}"`),this.id&&(Pt+=` data-atom-id=${this.id}`),this.cssId&&(Pt+=` id="${this.cssId.replace(/ /g,"-")}" `),this.attributes&&(Pt+=" "+Object.keys(this.attributes).map(hr=>`${hr}="${this.attributes[hr]}"`).join(" ")),this.htmlData){let hr=this.htmlData.split(",");for(let mr of hr){let Rr=mr.match(/([^=]+)=(.+$)/);if(Rr){let Yr=Rr[1].trim().replace(/ /g,"-");Yr&&(Pt+=` data-${Yr}="${Rr[2]}" `)}else{let Yr=mr.trim().replace(/ /g,"-");Yr&&(Pt+=` data-${Yr} `)}}}let Ht=(St=this.cssProperties)!=null?St:{};this.hasExplicitWidth&&(Ht.width,Ht.width=`${Math.round(this._width*100)/100}em`);let Jt=Object.keys(Ht).map(hr=>`${hr}:${Ht[hr]}`);if(this.scale!==void 0&&this.scale!==1&&(Ct.length>0||Tt.length>0)&&Jt.push(`font-size: ${Math.round(this.scale*1e4)/100}%`),this.htmlStyle){let hr=this.htmlStyle.split(";"),mr="";for(let Rr of hr){let Yr=Rr.match(/([^=]+):(.+$)/);if(Yr){let Pr=Yr[1].trim().replace(/ /g,"-");Pr&&(mr+=`${Pr}:${Yr[2]};`)}}mr&&(Pt+=` style="${mr}"`)}Jt.length>0&&(Pt+=` style="${Jt.join(";")}"`);let fr="";return Pt.length>0||Tt.length>0?fr=`<span${Pt}>${Ct}${Tt}</span>`:fr=Ct,this.caret==="text"?fr+='<span class="ML__text-caret"></span>':this.caret==="math"&&(fr+='<span class="ML__caret"></span>'),fr}tryCoalesceWith(lt){if(this.svgBody||!this.value||lt.svgBody||!lt.value)return!1;let ft=this.children&&this.children.length>0,xt=lt.children&&lt.children.length>0;if(ft||xt)return!1;if(lt.cssProperties||this.cssProperties){for(let zt of["border","border-left","border-right","border-right-width","left","margin","margin-left","margin-right","padding","position","width"])if(lt.cssProperties&&zt in lt.cssProperties||this.cssProperties&&zt in this.cssProperties)return!1}let St=this.cssProperties?Object.keys(this.cssProperties).length:0,Ct=lt.cssProperties?Object.keys(lt.cssProperties).length:0;if(St!==Ct)return!1;if(St>0){for(let zt of Object.keys(this.cssProperties))if(this.cssProperties[zt]!==lt.cssProperties[zt])return!1}let Tt=this.classes.trim().replace(/\s+/g," ").split(" "),Pt=lt.classes.trim().replace(/\s+/g," ").split(" ");if(Tt.length!==Pt.length)return!1;Tt.sort(),Pt.sort();for(let[zt,Kt]of Tt.entries())if(Kt==="vertical-separator"||Kt!==Pt[zt])return!1;return this.value+=lt.value,this.height=Math.max(this.height,lt.height),this.depth=Math.max(this.depth,lt.depth),this._width=this._width+lt._width,this.maxFontSize=Math.max(this.maxFontSize,lt.maxFontSize),this.italic=lt.italic,!0}};function y0(at){if(!at||at.length===0)return[];at[0].children=y0(at[0].children);let lt=[at[0]];for(let ft=1;ft<at.length;ft++)lt[lt.length-1].tryCoalesceWith(at[ft])||(at[ft].children=y0(at[ft].children),lt.push(at[ft]));return lt}function Ip(at){return at.children&&(at.children=y0(at.children)),at}function jp(at,lt){if(!at)return new Qr(null,lt);let ft=new Qr(null,{classes:"ML__strut",type:"ignore"});ft.setStyle("height",Math.max(0,at.height),"em");let xt=[ft];if(at.depth!==0){let St=new Qr(null,{classes:"ML__strut--bottom",type:"ignore"});St.setStyle("height",at.height+at.depth,"em"),St.setStyle("vertical-align",-at.depth,"em"),xt.push(St)}return xt.push(at),new Qr(xt,wt(bt({},lt),{type:"lift"}))}function Ey(at,lt,ft){return at.svgOverlay=lt,at.svgStyle=ft,at}function qp(at){let lt=H2(at)/2,ft=new Qr(null,{height:lt+.166,depth:lt-.166,maxFontSize:0});return ft.svgBody=at,ft}function e4(at){if("individualShift"in at){let lt=at.individualShift,ft=lt[0],xt=[ft],St=-ft.shift-ft.box.depth,Ct=St;for(let Tt=1;Tt<lt.length;Tt++){let Pt=lt[Tt],zt=-Pt.shift-Ct-Pt.box.depth,Kt=zt-(ft.box.height+ft.box.depth);Ct=Ct+zt,xt.push(Kt),xt.push(Pt),ft=Pt}return[xt,St]}if("top"in at){let lt=at.top;for(let ft of at.children)lt-=typeof ft=="number"?ft:ft.box.height+ft.box.depth;return[at.children,lt]}else{if("bottom"in at)return[at.children,-at.bottom];if("firstBaseline"in at){let lt=at.firstBaseline[0];if(typeof lt=="number")throw new Error("First child must be an element.");return[at.firstBaseline,-lt.box.depth]}else if("shift"in at){let lt=at.children[0];if(typeof lt=="number")throw new Error("First child must be an element.");return[at.children,-lt.box.depth-at.shift]}}return[null,0]}function t4(at){var lt;let[ft,xt]=e4(at);if(!ft)return[[],0,0];let St=0;for(let hr of ft)if(typeof hr!="number"){let mr=hr.box;St=Math.max(St,mr.maxFontSize,mr.height)}St+=2;let Ct=new Qr(null,{classes:"pstrut",height:St});Ct.setStyle("height",St,"em");let Tt=[],Pt=xt,zt=xt,Kt=xt;for(let hr of ft){if(typeof hr=="number")Kt+=hr;else{let mr=hr.box,Rr=(lt=hr.classes)!=null?lt:[],Yr=new Qr([Ct,mr],{classes:Rr.join(" "),style:hr.style});mr.setStyle("height",mr.height+mr.depth,"em"),mr.setStyle("display","inline-block"),Yr.setStyle("top",-St-Kt-mr.depth,"em"),hr.marginLeft&&Yr.setStyle("margin-left",hr.marginLeft,"em"),hr.marginRight&&Yr.setStyle("margin-right",hr.marginRight,"em"),Tt.push(Yr),Kt+=mr.height+mr.depth}Pt=Math.min(Pt,Kt),zt=Math.max(zt,Kt)}let Ht=new Qr(Tt,{classes:"vlist"});if(Ht.setStyle("height",zt,"em"),Pt>=0)return[[new Qr(Ht,{classes:"vlist-r"})],zt,-Pt];let Jt=new Qr(new Qr(null),{classes:"vlist"});Jt.setStyle("height",-Pt,"em");let fr=new Qr(8203,{classes:"vlist-s",maxFontSize:0,height:0,depth:0});return[[new Qr([Ht,fr],{classes:"vlist-r"}),new Qr(Jt,{classes:"vlist-r"})],zt,-Pt]}var ro=class extends Qr{constructor(at,lt){var ft;let[xt,St,Ct]=t4(at);super(xt.length===1?xt[0]:xt,{classes:((ft=lt==null?void 0:lt.classes)!=null?ft:"")+" vlist-t"+(xt.length===2?" vlist-t2":""),height:St,depth:Ct,type:lt==null?void 0:lt.type})}};function r4(at,lt){var ft,xt,St,Ct,Tt;let Pt=at.metrics,zt=new Qr(lt.base),Kt=(ft=lt.baseShift)!=null?ft:0,Ht=(xt=lt.slant)!=null?xt:0,Jt=0,fr=0;lt.above&&(Jt=(St=lt.aboveShift)!=null?St:Math.max(Pt.bigOpSpacing1,Pt.bigOpSpacing3-lt.above.depth)),lt.below&&(fr=(Ct=lt.belowShift)!=null?Ct:Math.max(Pt.bigOpSpacing2,Pt.bigOpSpacing4-lt.below.height));let hr=null;if(lt.below&&lt.above){let mr=Pt.bigOpSpacing5+lt.below.height+lt.below.depth+fr+zt.depth+Kt;hr=new ro({bottom:mr,children:[Pt.bigOpSpacing5,{box:lt.below,marginLeft:-Ht,classes:["ML__center"]},fr,{box:zt,classes:["ML__center"]},Jt,{box:lt.above,marginLeft:Ht,classes:["ML__center"]},Pt.bigOpSpacing5]}).wrap(at)}else if(lt.below&&!lt.above)hr=new ro({top:zt.height-Kt,children:[Pt.bigOpSpacing5,{box:lt.below,marginLeft:-Ht,classes:["ML__center"]},fr,{box:zt,classes:["ML__center"]}]}).wrap(at);else if(!lt.below&&lt.above){let mr=zt.depth+Kt;hr=new ro({bottom:mr,children:[{box:zt,classes:["ML__center"]},Jt,{box:lt.above,marginLeft:Ht,classes:["ML__center"]},Pt.bigOpSpacing5]}).wrap(at)}else{let mr=zt.depth+Kt;hr=new ro({bottom:mr,children:[{box:zt},Pt.bigOpSpacing5]}).wrap(at)}return new Qr(hr,{type:(Tt=lt.type)!=null?Tt:"op"})}var b0=7,Up=6,Kp=5,_l=4,ru=3,zo=2,Cl=1,Do=0,js=class{constructor(at,lt,ft){this.id=at,this.sizeDelta=lt,this.cramped=ft;let xt={"-4":2,"-3":1,0:0}[lt];this.metrics=Object.keys(my).reduce((St,Ct)=>wt(bt({},St),{[Ct]:my[Ct][xt]}),{})}getFontSize(at){return Math.max(1,at+this.sizeDelta)}get sup(){return us[[Do,Cl,Do,Cl,zo,ru,zo,ru][this.id]]}get sub(){return us[[Do,Do,Do,Do,zo,zo,zo,zo][this.id]]}get fracNum(){return us[[Do,Cl,Do,Cl,zo,ru,_l,Kp][this.id]]}get fracDen(){return us[[Do,Do,Do,Do,zo,zo,_l,_l][this.id]]}get cramp(){return us[[Do,Do,zo,zo,_l,_l,Up,Up][this.id]]}get isTight(){return this.sizeDelta<0}},$u={7:new js(b0,0,!1),6:new js(Up,0,!0),5:new js(Kp,0,!1),4:new js(_l,0,!0),3:new js(ru,-3,!1),2:new js(zo,-3,!0),1:new js(Cl,-4,!1),0:new js(Do,-4,!0)},us=wt(bt({},$u),{displaystyle:$u[b0],textstyle:$u[Kp],scriptstyle:$u[ru],scriptscriptstyle:$u[Cl]});function Dy(at,lt){var ft;if(!at)return 0;let xt={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:tu,bp:803/800,dd:1238/1157,pc:12,in:72.27,mu:10/18}[(ft=at.unit)!=null?ft:"pt"];if(Number.isFinite(lt)){let St=10**lt;return Math.round(at.dimension/tu*xt*St)/St}return at.dimension*xt}function _y(at,lt){if(at===null)return 0;let ft=Dy(at)/tu;if(Number.isFinite(lt)){let xt=10**lt;return Math.round(ft*xt)/xt}return ft}function x0(at){var lt;return`${at.dimension}${(lt=at.unit)!=null?lt:"pt"}`}function n4(at){let lt=x0(at.glue);return at.grow&&at.grow.dimension!==0&&(lt+=` plus ${x0(at.grow)}`),at.shrink&&at.shrink.dimension!==0&&(lt+=` minus ${x0(at.shrink)}`),lt}function uo(at){var lt,ft;if(at==null)return null;let xt="";if("dimension"in at&&(xt=`${at.dimension}${(lt=at.unit)!=null?lt:"pt"}`),"glue"in at&&(xt=n4(at)),"number"in at)if(!("base"in at)||at.base==="decimal")xt=Number(at.number).toString();else if(at.base==="alpha")xt=`\`${String.fromCodePoint(at.number)}`;else{let St=Math.round(at.number)>>>0;at.base==="hexadecimal"?(xt=Number(St).toString(16).toUpperCase(),St<=255?xt=xt.padStart(2,"0"):St<=65535?xt=xt.padStart(4,"0"):St<=16777215?xt=xt.padStart(6,"0"):xt=xt.padStart(8,"0"),xt=`"${xt}`):at.base==="octal"&&(xt=Number(St).toString(8),St<=63?xt=xt.padStart(2,"0"):St<=30583?xt=xt.padStart(4,"0"):xt=xt.padStart(8,"0"),xt=`'${xt}`)}return"register"in at&&("factor"in at&&(at.factor===-1?xt="-":at.factor!==1&&(xt=Number(at.factor).toString())),"global"in at&&at.global&&(xt+="\\global"),xt+=`\\${at.register}`),"string"in at&&(xt=at.string),(ft=at.relax)!=null&&ft&&(xt+="\\relax"),xt}function cs(at,lt){return at==null?null:"number"in at?wt(bt({},at),{number:at.number*lt}):"register"in at?"factor"in at&&at.factor?wt(bt({},at),{factor:at.factor*lt}):wt(bt({},at),{factor:lt}):"dimension"in at?wt(bt({},at),{dimension:at.dimension*lt}):"glue"in at?at.shrink&&at.grow?{glue:cs(at.glue,lt),shrink:cs(at.shrink,lt),grow:cs(at.grow,lt)}:at.shrink?{glue:cs(at.glue,lt),shrink:cs(at.shrink,lt)}:at.grow?{glue:cs(at.glue,lt),grow:cs(at.grow,lt)}:{glue:cs(at.glue,lt)}:null}var a4={"p@":{dimension:1},"z@":{dimension:0},maxdimen:{dimension:16383.99999},hfuzz:{dimension:.1},vfuzz:{dimension:.1},overfullrule:{dimension:5},hsize:{dimension:6.5,unit:"in"},vsize:{dimension:8.9,unit:"in"},parindent:{dimension:20},maxdepth:{dimension:4},splitmaxdepth:{register:"maxdimen"},boxmaxdepth:{register:"maxdimen"},delimitershortfall:{dimension:5},nulldelimiterspace:{dimension:1.2,unit:"pt"},scriptspace:{dimension:.5},topskip:{dimension:10},splittopskip:{dimension:10},normalbaselineskip:{dimension:12},normallineskip:{dimension:1},normallineskiplimit:{dimension:0},jot:{dimension:3},doublerulesep:{dimension:2},arrayrulewidth:{dimension:.4},arraycolsep:{dimension:5},fboxsep:{dimension:3},fboxrule:{dimension:.4},"z@skip":{glue:{dimension:0},shrink:{dimension:0},grow:{dimension:0}},hideskip:{glue:{dimension:-1e3},grow:{dimension:1,unit:"fill"}},"@flushglue":{glue:{dimension:0},grow:{dimension:1,unit:"fill"}},parskip:{glue:{dimension:0},grow:{dimension:1}},abovedisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},abovedisplayshortskip:{glue:{dimension:0},grow:{dimension:3}},belowdisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},belowdisplayshortskip:{glue:{dimension:7},grow:{dimension:3},shrink:{dimension:4}},parfillskip:{glue:{dimension:0},grow:{dimension:1,unit:"fil"}},thinmuskip:{glue:{dimension:3,unit:"mu"}},medmuskip:{glue:{dimension:4,unit:"mu"},grow:{dimension:2,unit:"mu"},shrink:{dimension:4,unit:"mu"}},thickmuskip:{glue:{dimension:5,unit:"mu"},grow:{dimension:5,unit:"mu"}},smallskipamount:{glue:{dimension:3},grow:{dimension:1},shrink:{dimension:1}},medskipamount:{glue:{dimension:6},grow:{dimension:2},shrink:{dimension:3}},bigskipamount:{glue:{dimension:12},grow:{dimension:2},shrink:{dimension:4}},pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:1,month:new Date().getMonth()+1,day:new Date().getDate(),year:new Date().getFullYear()};function Cy(){return bt({},a4)}function w0(){return{registers:Cy(),smartFence:!1,renderPlaceholder:void 0,placeholderSymbol:"▢",letterShapeStyle:Rt.locale.startsWith("fr")?"french":"tex",minFontScale:0,colorMap:Yt,backgroundColorMap:lr,getMacro:at=>vn(at,Gt())}}var Dn=class d2{constructor(lt,ft){var xt,St,Ct,Tt,Pt,zt,Kt,Ht,Jt,fr,hr,mr,Rr,Yr,Pr;let Ur;lt!=null&&lt.parent?(this.parent=lt.parent,Ur=lt.parent,this.registers={}):(Ur=bt(bt({},w0()),(xt=lt==null?void 0:lt.from)!=null?xt:{}),this.registers=Ur.registers),Ur.atomIdsSettings&&(this.atomIdsSettings=bt({},Ur.atomIdsSettings)),this.renderPlaceholder=Ur.renderPlaceholder,this.isPhantom=(Tt=(Ct=lt==null?void 0:lt.isPhantom)!=null?Ct:(St=this.parent)==null?void 0:St.isPhantom)!=null?Tt:!1,this.letterShapeStyle=Ur.letterShapeStyle,this.minFontScale=Ur.minFontScale,ft!=null&&ft.color&&ft.color!=="none"?this.color=ft.color:this.color=(zt=(Pt=this.parent)==null?void 0:Pt.color)!=null?zt:"",ft!=null&&ft.backgroundColor&&ft.backgroundColor!=="none"?this.backgroundColor=ft.backgroundColor:this.backgroundColor=(Ht=(Kt=this.parent)==null?void 0:Kt.backgroundColor)!=null?Ht:"",ft!=null&&ft.fontSize&&ft.fontSize!=="auto"&&ft.fontSize!==((Jt=this.parent)==null?void 0:Jt.size)?this.size=ft.fontSize:this.size=(hr=(fr=this.parent)==null?void 0:fr.size)!=null?hr:m0;let un=(Rr=(mr=this.parent)==null?void 0:mr.mathstyle)!=null?Rr:us.displaystyle;if(typeof(lt==null?void 0:lt.mathstyle)=="string"){if(Ur instanceof d2)switch(lt.mathstyle){case"cramp":un=un.cramp;break;case"superscript":un=un.sup;break;case"subscript":un=un.sub;break;case"numerator":un=un.fracNum;break;case"denominator":un=un.fracDen;break}switch(lt.mathstyle){case"textstyle":un=us.textstyle;break;case"displaystyle":un=us.displaystyle;break;case"scriptstyle":un=us.scriptstyle;break;case"scriptscriptstyle":un=us.scriptscriptstyle;break}}this.mathstyle=un,this.smartFence=Ur.smartFence,this.placeholderSymbol=Ur.placeholderSymbol,this.colorMap=(Yr=Ur.colorMap)!=null?Yr:Zr=>Zr,this.backgroundColorMap=(Pr=Ur.backgroundColorMap)!=null?Pr:Zr=>Zr,this.getMacro=Ur.getMacro,this.parent!==void 0||this.registers}makeID(){if(!this.atomIdsSettings)return;if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;if(typeof this.atomIdsSettings.seed!="number")return`${Date.now().toString(36).slice(-2)}${Math.floor(Math.random()*1e5).toString(36)}`;let lt=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,lt}scale(lt){return lt*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return this.mathstyle.id===b0||this.mathstyle.id===Up}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get metrics(){return this.mathstyle.metrics}get effectiveFontSize(){return Math.max(p0[Math.max(1,this.size+this.mathstyle.sizeDelta)],this.minFontScale)}getRegister(lt){var ft;if((ft=this.registers)!=null&&ft[lt])return this.registers[lt];if(this.parent)return this.parent.getRegister(lt)}getRegisterAsNumber(lt){let ft=this.getRegister(lt);if(typeof ft=="number")return ft;if(typeof ft=="string")return Number(ft)}getRegisterAsGlue(lt){var ft;if((ft=this.registers)!=null&&ft[lt]){let xt=this.registers[lt];return typeof xt=="object"&&"glue"in xt?xt:typeof xt=="object"&&"dimension"in xt?{glue:{dimension:xt.dimension}}:typeof xt=="number"?{glue:{dimension:xt}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(lt)}getRegisterAsEm(lt,ft){return _y(this.getRegisterAsDimension(lt),ft)}getRegisterAsDimension(lt){var ft;if((ft=this.registers)!=null&&ft[lt]){let xt=this.registers[lt];return typeof xt=="object"&&"glue"in xt?xt.glue:typeof xt=="object"&&"dimension"in xt?xt:typeof xt=="number"?{dimension:xt}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(lt)}setRegister(lt,ft){if(ft===void 0){delete this.registers[lt];return}this.registers[lt]=ft}evaluate(lt){if(!lt||!("register"in lt))return lt;let ft=this;if("global"in lt&&lt.global)for(;ft.parent;)ft=ft.parent;let xt=1;"factor"in lt&&lt.factor!==1&&lt.factor!==void 0&&(xt=lt.factor);let St=ft.getRegister(lt.register);if(St===void 0)return;if(typeof St=="string")return{string:Number(St).toString()+St};if(typeof St=="number")return{number:xt*St};let Ct=ft.evaluate(St);if(Ct!==void 0)return"string"in Ct?{string:Number(St).toString()+Ct.string}:"number"in Ct?{number:xt*Ct.number}:"dimension"in Ct?wt(bt({},Ct),{dimension:xt*Ct.dimension}):"glue"in Ct?wt(bt({},Ct),{glue:wt(bt({},Ct.glue),{dimension:xt*Ct.glue.dimension}),shrink:Ct.shrink?wt(bt({},Ct.shrink),{dimension:xt*Ct.shrink.dimension}):void 0,grow:Ct.grow?wt(bt({},Ct.grow),{dimension:xt*Ct.grow.dimension}):void 0}):lt}toDimension(lt){let ft=this.evaluate(lt);return ft===void 0?null:"dimension"in ft?ft:"glue"in ft?ft.glue:"number"in ft?{dimension:ft.number}:null}toEm(lt,ft){if(lt===null)return 0;let xt=this.toDimension(lt);return xt===null?0:Dy(xt,ft)/tu}toNumber(lt){if(lt===null)return null;let ft=this.evaluate(lt);return ft===void 0?null:"number"in ft?ft.number:"dimension"in ft?ft.dimension:"glue"in ft?ft.glue.dimension:"string"in ft?Number(ft.string):null}toColor(lt){var ft,xt;if(lt===null)return null;let St=this.evaluate(lt);return St===void 0?null:"string"in St?(xt=(ft=this.colorMap)==null?void 0:ft.call(this,St.string))!=null?xt:St.string:null}toBackgroundColor(lt){var ft,xt;if(lt===null)return null;let St=this.evaluate(lt);return St===void 0?null:"string"in St?(xt=(ft=this.backgroundColorMap)==null?void 0:ft.call(this,St.string))!=null?xt:St.string:null}},nu=["body","above","below","superscript","subscript"];function Ml(at){return typeof at=="string"&&nu.includes(at)}function Vp(at){return at!==void 0&&Array.isArray(at)&&at.length===2}var Ir=class As{constructor(lt){this.subsupPlacement=void 0,this.explicitSubsupPlacement=!1;var ft,xt,St,Ct,Tt,Pt,zt,Kt,Ht;this.type=lt.type,typeof lt.value=="string"&&(this.value=lt.value),this.command=(xt=(ft=lt.command)!=null?ft:this.value)!=null?xt:"",this.mode=(St=lt.mode)!=null?St:"math",this.isFunction=(Ct=lt.isFunction)!=null?Ct:!1,this.subsupPlacement=lt.limits,this.style=(Tt=bt({},lt.style))!=null?Tt:{},this.displayContainsHighlight=(Pt=lt.displayContainsHighlight)!=null?Pt:!1,this.captureSelection=(zt=lt.captureSelection)!=null?zt:!1,this.skipBoundary=(Kt=lt.skipBoundary)!=null?Kt:!1,this.verbatimLatex=(Ht=lt.verbatimLatex)!=null?Ht:void 0,lt.args&&(this.args=lt.args),lt.body&&(this.body=lt.body),this._changeCounter=0}static createBox(lt,ft,xt){var St;if(!ft)return null;let Ct=i4(ft),Tt=[];for(let zt of Ct){let Kt=zt[0].style,Ht=o4(lt,zt,{style:{color:Kt.color,backgroundColor:Kt.backgroundColor,fontSize:Kt.fontSize}});Ht&&Tt.push(Ht)}if(Tt.length===0)return null;let Pt=((St=xt==null?void 0:xt.classes)!=null?St:"").trim();return Tt.length===1&&!Pt&&!(xt!=null&&xt.type)?Tt[0].wrap(lt):new Qr(Tt,{classes:Pt,type:xt==null?void 0:xt.type}).wrap(lt)}static serialize(lt,ft){return Ro.serialize(lt,ft)}static commonAncestor(lt,ft){if(lt===ft||lt.parent===ft.parent)return lt.parent;let xt=new WeakSet,{parent:St}=lt;for(;St;)xt.add(St),St=St.parent;for(St=ft.parent;St;){if(xt.has(St))return St;St=St.parent}}static fromJson(lt){return typeof lt=="string"?new As({type:"mord",value:lt,mode:"math"}):new As(lt)}get latexMode(){return this.mode==="math"?"math":"text"}toJson(){let lt={};if(this.type&&(lt.type=this.type),this.mode!=="math"&&(lt.mode=this.mode),this.command&&this.command!==this.value&&(lt.command=this.command),this.value!==void 0&&(lt.value=this.value),this.style&&Object.keys(this.style).length>0&&(lt.style=bt({},this.style)),this.verbatimLatex!==void 0&&(lt.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(lt.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(lt.explicitSubsupPlacement=!0),this.isFunction&&(lt.isFunction=!0),this.displayContainsHighlight&&(lt.displayContainsHighlight=!0),this.isExtensibleSymbol&&(lt.isExtensibleSymbol=!0),this.skipBoundary&&(lt.skipBoundary=!0),this.captureSelection&&(lt.captureSelection=!0),this.args&&(lt.args=s4(this.args)),this._branches)for(let ft of Object.keys(this._branches))this._branches[ft]&&(lt[ft]=this._branches[ft].filter(xt=>xt.type!=="first").map(xt=>xt.toJson()));return lt.type==="mord"&&Object.keys(lt).length===2&&"value"in lt?lt.value:lt}get changeCounter(){return this.parent?this.parent.changeCounter:this._changeCounter}set isDirty(lt){if(lt){this.parent||this._changeCounter++,"verbatimLatex"in this&&(this.verbatimLatex=void 0),this._children=void 0;let{parent:ft}=this;for(;ft;)ft.parent||ft._changeCounter++,"verbatimLatex"in ft&&(ft.verbatimLatex=void 0),ft._children=void 0,ft=ft.parent}}_serialize(lt){var ft;if(!(lt.expandMacro||lt.skipStyles)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let xt=Vr(this.command,this.mode);return xt!=null&&xt.serialize?xt.serialize(this,lt):this.body&&this.command?Cn([jn(this.command,this.bodyToLatex(lt)),this.supsubToLatex(lt)]):this.body?Cn([this.bodyToLatex(lt),this.supsubToLatex(lt)]):!this.value||this.value==="​"?"":(ft=this.command)!=null?ft:wn(this.mode,this.value)}bodyToLatex(lt){var ft;return Ro.serialize(this.body,wt(bt({},lt),{defaultMode:(ft=lt.defaultMode)!=null?ft:this.latexMode}))}aboveToLatex(lt){return Ro.serialize(this.above,lt)}belowToLatex(lt){return Ro.serialize(this.below,lt)}supsubToLatex(lt){let ft="";if(lt=wt(bt({},lt),{defaultMode:"math"}),this.branch("subscript")!==void 0){let xt=Ro.serialize(this.subscript,lt);xt.length===0?ft+="_{}":xt.length===1?/^[0-9]$/.test(xt)?ft+=`_${xt}`:ft+=`_{${xt}}`:ft+=`_{${xt}}`}if(this.branch("superscript")!==void 0){let xt=Ro.serialize(this.superscript,lt);xt.length===0?ft+="^{}":xt.length===1?xt==="′"?ft+="^\\prime ":xt==="″"?ft+="^\\doubleprime ":/^[0-9]$/.test(xt)?ft+=`^${xt}`:ft+=`^{${xt}}`:ft+=`^{${xt}}`}return ft}get treeDepth(){let lt=1,ft=this.parent;for(;ft;)ft=ft.parent,lt+=1;return lt}get inCaptureSelection(){let lt=this;for(;lt;){if(lt.captureSelection)return!0;lt=lt.parent}return!1}get parentPrompt(){let lt=this.parent;for(;lt;){if(lt.type==="prompt"&&!lt.captureSelection)return lt;lt=lt.parent}return null}branch(lt){if(Ml(lt)&&this._branches)return this._branches[lt]}get branches(){if(!this._branches)return[];let lt=[];for(let ft of nu)this._branches[ft]&&lt.push(ft);return lt}createBranch(lt){return Ml(lt),Ml(lt)?(this._branches?this._branches[lt]||(this._branches[lt]=[this.makeFirstAtom(lt)]):this._branches={[lt]:[this.makeFirstAtom(lt)]},this.isDirty=!0,this._branches[lt]):[]}get row(){return Vp(this.parentBranch)?this.parentBranch[0]:-1}get col(){return Vp(this.parentBranch)?this.parentBranch[1]:-1}get body(){var lt;return(lt=this._branches)==null?void 0:lt.body}set body(lt){this.setChildren(lt,"body")}get superscript(){var lt;return(lt=this._branches)==null?void 0:lt.superscript}set superscript(lt){this.setChildren(lt,"superscript")}get subscript(){var lt;return(lt=this._branches)==null?void 0:lt.subscript}set subscript(lt){this.setChildren(lt,"subscript")}get above(){var lt;return(lt=this._branches)==null?void 0:lt.above}set above(lt){this.setChildren(lt,"above")}get below(){var lt;return(lt=this._branches)==null?void 0:lt.below}set below(lt){this.setChildren(lt,"below")}get computedStyle(){var lt,ft;let xt=typeof this.style.verbatimColor=="string",St=typeof this.style.verbatimBackgroundColor=="string",Ct=bt(bt({},(ft=(lt=this.parent)==null?void 0:lt.computedStyle)!=null?ft:{}),this.style);return delete Ct.variant,delete Ct.variantStyle,St||delete Ct.verbatimBackgroundColor,xt||delete Ct.verbatimColor,Ct}applyStyle(lt){this.isDirty=!0,this.style=bt(bt({},this.style),lt),this.style.fontFamily==="none"&&delete this.style.fontFamily,this.style.fontShape==="auto"&&delete this.style.fontShape,this.style.fontSeries==="auto"&&delete this.style.fontSeries,this.style.color==="none"&&(delete this.style.color,delete this.style.verbatimColor),this.style.backgroundColor==="none"&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),this.style.fontSize==="auto"&&delete this.style.fontSize;for(let ft of this.children)ft.applyStyle(lt)}getInitialBaseElement(){var lt,ft,xt;return this.hasEmptyBranch("body")?this:((lt=this.body)==null||lt[0].type,(xt=(ft=this.body[1])==null?void 0:ft.getInitialBaseElement())!=null?xt:this)}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){return this.type==="leftright"||this.type==="genfrac"||this.type==="subsup"||this.type==="delim"||this.type==="array"||this.type==="surd"?!1:this.getFinalBaseElement().type==="mord"}hasEmptyBranch(lt){let ft=this.branch(lt);return ft?(ft.length>0,ft[0].type,ft.length===1):!0}setChildren(lt,ft){var xt;if(!lt||(Ml(ft),!Ml(ft)))return;(xt=lt[0])==null||xt.type;let St=[this.makeFirstAtom(ft),...lt];this._branches?this._branches[ft]=St:this._branches={[ft]:St};for(let Ct of lt)Ct.parent=this,Ct.parentBranch=ft;this.isDirty=!0}makeFirstAtom(lt){let ft=new As({type:"first",mode:this.mode});return ft.parent=this,ft.parentBranch=lt,ft}addChild(lt,ft){lt.type,this.createBranch(ft).push(lt),this.isDirty=!0,lt.parent=this,lt.parentBranch=ft}addChildBefore(lt,ft){ft.parentBranch;let xt=this.createBranch(ft.parentBranch);xt.splice(xt.indexOf(ft),0,lt),this.isDirty=!0,lt.parent=this,lt.parentBranch=ft.parentBranch}addChildAfter(lt,ft){ft.parentBranch;let xt=this.createBranch(ft.parentBranch);xt.splice(xt.indexOf(ft)+1,0,lt),this.isDirty=!0,lt.parent=this,lt.parentBranch=ft.parentBranch}addChildren(lt,ft){let xt=this.createBranch(ft);for(let St of lt)St.parent=this,St.parentBranch=ft,xt.push(St);this.isDirty=!0}addChildrenAfter(lt,ft){lt.length===0||lt[0].type,ft.parentBranch;let xt=this.createBranch(ft.parentBranch);xt.splice(xt.indexOf(ft)+1,0,...lt),this.isDirty=!0;for(let St of lt)St.parent=this,St.parentBranch=ft.parentBranch;return lt[lt.length-1]}removeBranch(lt){let ft=this.branch(lt);if(Ml(lt)&&(this._branches[lt]=void 0),!ft)return[];for(let xt of ft)xt.parent=void 0,xt.parentBranch=void 0;return ft[0].type,ft.shift(),this.isDirty=!0,ft}removeChild(lt){if(lt.parent,lt.type==="first")return;let ft=this.branch(lt.parentBranch),xt=ft.indexOf(lt);ft.splice(xt,1),this.isDirty=!0,lt.parent=void 0,lt.parentBranch=void 0}get siblings(){return this.parent?this.parent.branch(this.parentBranch):[]}get firstSibling(){return this.siblings[0]}get lastSibling(){let{siblings:lt}=this;return lt[lt.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return this.siblings.length===1}get leftSibling(){this.parent;let lt=this.parent.branch(this.parentBranch);return lt[lt.indexOf(this)-1]}get rightSibling(){this.parent;let lt=this.parent.branch(this.parentBranch);return lt[lt.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&this.children.length>0)}get firstChild(){return this.hasChildren,this.children[0]}get lastChild(){this.hasChildren;let{children:lt}=this;return lt[lt.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];let lt=[];for(let ft of nu)if(this._branches[ft])for(let xt of this._branches[ft])lt.push(...xt.children),lt.push(xt);return this._children=lt,lt}render(lt){if(this.type==="first"&&!lt.atomIdsSettings)return null;let ft=Vr(this.command,this.mode);if(ft!=null&&ft.render)return ft.render(this,lt);let xt=new Dn({parent:lt},this.style),St=this.createBox(xt,{classes:this.parent?"":"ML__base"});return St?(!this.subsupPlacement&&(this.superscript||this.subscript)&&(St=this.attachSupsub(xt,{base:St})),St.wrap(xt)):null}attachSupsub(lt,ft){var xt;let St=ft.base,Ct=this.superscript,Tt=this.subscript;if(!Ct&&!Tt)return St;let Pt=null,zt=null,Kt=(xt=ft.isCharacterBox)!=null?xt:this.isCharacterBox(),Ht=0;if(Ct){let Rr=new Dn({parent:lt,mathstyle:"superscript"});Pt=As.createBox(Rr,Ct),Kt||(Ht=St.height-lt.metrics.supDrop*Rr.scalingFactor)}let Jt=0;if(Tt){let Rr=new Dn({parent:lt,mathstyle:"subscript"});zt=As.createBox(Rr,Tt),Kt||(Jt=St.depth+lt.metrics.subDrop*Rr.scalingFactor)}let fr;lt.isDisplayStyle?fr=lt.metrics.sup1:lt.isCramped?fr=lt.metrics.sup3:fr=lt.metrics.sup2;let hr=.5/tu/lt.scalingFactor,mr=null;if(zt&&Pt){Ht=Math.max(Ht,fr,Pt.depth+.25*lt.metrics.xHeight),Jt=Math.max(Jt,lt.metrics.sub2);let Rr=lt.metrics.defaultRuleThickness;if(Ht-Pt.depth-(zt.height-Jt)<4*Rr){Jt=4*Rr-(Ht-Pt.depth)+zt.height;let Pr=.8*lt.metrics.xHeight-(Ht-Pt.depth);Pr>0&&(Ht+=Pr,Jt-=Pr)}let Yr=this.isExtensibleSymbol&&St.italic?-St.italic:0;mr=new ro({individualShift:[{box:zt,shift:Jt,marginLeft:Yr},{box:Pt,shift:-Ht}]}).wrap(lt)}else zt&&!Pt?(Jt=Math.max(Jt,lt.metrics.sub1,zt.height-.8*El),mr=new ro({shift:Jt,children:[{box:zt,marginRight:hr,marginLeft:this.isCharacterBox()?-St.italic:0}]})):!zt&&Pt&&(Ht=Math.max(Ht,fr,Pt.depth+.25*El),mr=new ro({shift:-Ht,children:[{box:Pt,marginRight:hr}]}));return new Qr([St,new Qr(mr,{caret:this.caret,isSelected:this.isSelected,classes:"msubsup"})],{type:ft.type})}attachLimits(lt,ft){let xt=this.superscript?As.createBox(new Dn({parent:lt,mathstyle:"superscript"},this.style),this.superscript):null,St=this.subscript?As.createBox(new Dn({parent:lt,mathstyle:"subscript"},this.style),this.subscript):null;return!xt&&!St?ft.base.wrap(lt):r4(lt,wt(bt({},ft),{above:xt,below:St}))}bind(lt,ft){if(!ft||lt.isPhantom||this.value==="​")return ft;let xt=this.parent;for(;xt&&!xt.captureSelection;)xt=xt.parent;return xt!=null&&xt.captureSelection||(this.id||(this.id=lt.makeID()),ft.atomID=this.id),ft}createBox(lt,ft){var xt,St,Ct,Tt;let Pt=(xt=this.value)!=null?xt:this.body,zt=(St=ft==null?void 0:ft.boxType)!=null?St:g0(this.type),Kt=(Ct=ft==null?void 0:ft.classes)!=null?Ct:"";this.mode==="text"&&(Kt+=" ML__text");let Ht=typeof Pt=="string"||Pt===void 0?new Qr(Pt??null,{type:zt,isSelected:this.isSelected,mode:this.mode,maxFontSize:lt.scalingFactor,style:wt(bt({variant:"normal"},this.style),{fontSize:Math.max(1,lt.size+lt.mathstyle.sizeDelta)}),letterShapeStyle:lt.letterShapeStyle,classes:Kt}):(Tt=As.createBox(lt,Pt,{type:zt,classes:Kt}))!=null?Tt:new Qr(null);return lt.isTight&&(Ht.isTight=!0),(this.mode!=="math"||this.style.variant==="main")&&(Ht.italic=0),Ht.right=Ht.italic,this.bind(lt,Ht),this.caret&&!this.superscript&&!this.subscript&&(Ht.caret=this.caret),Ht}isDigit(){var lt;return this.type==="mord"&&this.value?/^[\d,\.]$/.test(this.value):this.type==="group"&&((lt=this.body)==null?void 0:lt.length)===2?this.body[0].type==="first"&&this.body[1].value===",":!1}asDigit(){var lt;return this.type==="mord"&&this.value&&/^[\d,\.]$/.test(this.value)?this.value:this.type==="group"&&((lt=this.body)==null?void 0:lt.length)===2&&this.body[0].type==="first"&&this.body[1].value===","?".":""}};function i4(at){let lt,ft=[],xt=[];for(let St of at)if(!lt&&!St.style)xt.push(St);else{let Ct=St.computedStyle;lt&&Ct.color===lt.color&&Ct.backgroundColor===lt.backgroundColor&&Ct.fontSize===lt.fontSize?xt.push(St):(xt.length>0&&ft.push(xt),xt=[St],lt=Ct)}return xt.length>0&&ft.push(xt),ft}function o4(at,lt,ft){var xt,St,Ct,Tt,Pt;if(!lt||lt.length===0)return null;let zt=new Dn({parent:at},ft.style),Kt=!((xt=zt.atomIdsSettings)!=null&&xt.groupNumbers),Ht=[];if(lt.length===1){let fr=lt[0],hr=fr.render(zt);hr&&(Kt&&fr.isSelected&&hr.selected(!0),Ht=[hr])}else{let fr="",hr=!0;for(let mr of lt){(St=zt.atomIdsSettings)!=null&&St.groupNumbers&&fr&&(hr&&mr.isDigit()||!hr&&S0(mr))&&(zt.atomIdsSettings.overrideID=fr);let Rr=mr.render(zt);zt.atomIdsSettings&&(zt.atomIdsSettings.overrideID=void 0),Rr&&((Ct=zt.atomIdsSettings)!=null&&Ct.groupNumbers&&((mr.isDigit()||S0(mr))&&(!fr||hr!==mr.isDigit())&&(hr=mr.isDigit(),fr=(Tt=mr.id)!=null?Tt:""),fr&&(!(mr.isDigit()||S0(mr))||!mr.hasEmptyBranch("superscript")||!mr.hasEmptyBranch("subscript"))&&(fr="")),Kt&&mr.isSelected&&Rr.selected(!0),Ht.push(Rr))}}if(Ht.length===0)return null;let Jt=new Qr(Ht,wt(bt({isTight:zt.isTight},ft),{type:(Pt=ft.type)!=null?Pt:"lift"}));return Jt.isSelected=Ht.every(fr=>fr.isSelected),Jt.wrap(zt)}function S0(at){return at.mode==="text"}function s4(at){return at.map(lt=>lt===null?"<null>":Array.isArray(lt)&&lt[0]instanceof Ir?{atoms:lt.map(ft=>ft.toJson())}:typeof lt=="object"&&"group"in lt?{group:lt.group.map(ft=>ft.toJson())}:lt)}var Au=class f2 extends Ir{constructor(lt,ft,xt){super({type:"text",command:lt,mode:"text",displayContainsHighlight:!0}),this.value=ft,this.verbatimLatex=ft,this.applyStyle(xt)}static fromJson(lt){return new f2(lt.command,lt.value,lt.style)}render(lt){let ft=this.createBox(lt);return this.caret&&(ft.caret=this.caret),ft}_serialize(lt){var ft;return(ft=this.verbatimLatex)!=null?ft:Wn("text",this.value.codePointAt(0))}};function l4(at,lt){if(at.direction===lt.direction){let ft=at.ranges.length;if(lt.ranges.length===ft){let xt=0;for(;xt<ft&&u4(at.ranges[xt],lt.ranges[xt])==="equal";)xt++;return xt===ft?"equal":"different"}}return"different"}function u4(at,lt){return at[0]===lt[0]&&at[1]===lt[1]?"equal":"different"}function co(at){let lt=1/0,ft=-1/0;for(let xt of at.ranges)lt=Math.min(lt,xt[0],xt[1]),ft=Math.max(ft,xt[0],xt[1]);return[lt,ft]}function c4(at,lt){if(!lt)return"";if(typeof lt=="string")return lt;if(!at||lt.after===void 0)return lt.value;let ft=!1,xt=!1,St=!1,Ct=!1,Tt=!1,Pt=!1,zt=!1,Kt=!1,Ht=!1,Jt=!1,fr=!1,hr=!1,mr=!1,Rr=!1,Yr=!1,Pr=at[0],Ur=0;for(;Pr!=null&&Pr.type&&/msubsup|placeholder/.test(Pr.type);)Ur+=1,Pr=at[Ur];return ft=!Pr||Pr.type==="first",Pr&&(Rr=Pr.mode==="text",xt=!Rr&&Pr.type==="mord"&&ar.test(Pr.value),St=!Rr&&Pr.type==="mord"&&/\d+$/.test(Pr.value),Ct=!Rr&&Pr.isFunction,Tt=Pr.type==="genfrac",Pt=Pr.type==="surd",zt=Pr.type==="mbin",Kt=Pr.type==="mrel",Ht=Pr.type==="mop",Jt=Pr.type==="mpunct"||Pr.type==="minner",fr=Pr.type==="array",hr=Pr.type==="mopen",mr=Pr.type==="mclose"||Pr.type==="leftright",Yr=Pr.type==="space"),lt.after.includes("nothing")&&ft||lt.after.includes("letter")&&xt||lt.after.includes("digit")&&St||lt.after.includes("function")&&Ct||lt.after.includes("frac")&&Tt||lt.after.includes("surd")&&Pt||lt.after.includes("binop")&&zt||lt.after.includes("relop")&&Kt||lt.after.includes("operator")&&Ht||lt.after.includes("punct")&&Jt||lt.after.includes("array")&&fr||lt.after.includes("openfence")&&hr||lt.after.includes("closefence")&&mr||lt.after.includes("text")&&Rr||lt.after.includes("space")&&Yr?lt.value:""}function E0(at,lt,ft){return ft?c4(at,ft[lt]):""}var My={"&":"\\&","%":"\\%",$:"\\$","''":"^{\\doubleprime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","∞":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"∑":"\\sum",sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","∆":"\\differentialD","∂":"\\differentialD",arcsin:"\\arcsin",arccos:"\\arccos",arctan:"\\arctan",arcsec:"\\arcsec",arccsc:"\\arccsc",arsinh:"\\arsinh",arcosh:"\\arcosh",artanh:"\\artanh",arcsech:"\\arcsech",arccsch:"\\arccsch",arg:"\\arg",ch:"\\ch",cosec:"\\cosec",cosh:"\\cosh",cot:"\\cot",cotg:"\\cotg",coth:"\\coth",csc:"\\csc",ctg:"\\ctg",cth:"\\cth",sec:"\\sec",sinh:"\\sinh",sh:"\\sh",tanh:"\\tanh",tg:"\\tg",th:"\\th",sin:"\\sin",cos:"\\cos",tan:"\\tan",lg:"\\lg",lb:"\\lb",log:"\\log",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:"\\forall",EE:"\\exists","!EE":"\\nexists","&&":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\Z",QQ:"\\Q",RR:"\\R",CC:"\\C",xx:"\\times","+-":"\\pm","≠":"\\ne","!=":"\\ne","≥":"\\ge",">=":"\\ge","≤":"\\le","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","≈":"\\approx","?=":"\\questeq","÷":"\\div","¬":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},µ:"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega",Ω:"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\mod",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",gcd:"\\operatorname{gcd}",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","-->...":"\\longrightarrow\\cdots","->":"\\to","|->":"\\mapsto","-->":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\Leftrightarrow","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","{":"\\{","}":"\\}","*":"\\cdot","**":"\\star","***":"\\ast","//":"\\slash","\\\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceil","~|":"\\rceil",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail",frac:"\\frac{#?}{#?}",cbrt:"\\sqrt[3]{#?}",nthroot:"\\sqrt[#?]{#?}"};function Hp(at,lt){var ft;let xt=(ft=lt==null?void 0:lt.format)!=null?ft:"auto";return xt==="auto"&&([xt,at]=d4(at)),xt==="ascii-math"?(at=at.replace(/\u2061/gu,""),at=at.replace(/\u3016/gu,"{"),at=at.replace(/\u3017/gu,"}"),at=at.replace(/([^\\])sinx/g,"$1\\sin x"),at=at.replace(/([^\\])cosx/g,"$1\\cos x "),at=at.replace(/\u2013/g,"-"),["ascii-math",No(at,{inlineShortcuts:lt==null?void 0:lt.inlineShortcuts})]):["latex",at]}function No(at,lt){var ft,xt,St;if(!at)return"";let Ct=!1,Tt,Pt=(ft=lt.inlineShortcuts)!=null?ft:My;if(!Ct&&(at.startsWith("^")||at.startsWith("_"))&&(Tt=$l(at.slice(1),{inlineShortcuts:Pt,noWrap:!0}),at=at[0]+"{"+Tt.match+"}",at+=No(Tt.rest,lt),Ct=!0),Ct||(Tt=at.match(/^(sqrt|\u221A)(.*)/),Tt&&(Tt=$l(Tt[2],{inlineShortcuts:Pt,noWrap:!0}),at="\\sqrt{"+((xt=Tt.match)!=null?xt:"\\placeholder{}")+"}",at+=No(Tt.rest,lt),Ct=!0)),Ct||(Tt=at.match(/^(\\cbrt|\u221B)(.*)/),Tt&&(Tt=$l(Tt[2],{inlineShortcuts:Pt,noWrap:!0}),at="\\sqrt[3]{"+((St=Tt.match)!=null?St:"\\placeholder{}")+"}",at+=No(Tt.rest,lt),Ct=!0)),Ct||(Tt=at.match(/^abs(.*)/),Tt&&(Tt=$l(Tt[1],{inlineShortcuts:Pt,noWrap:!0}),at="\\left|"+Tt.match+"\\right|",at+=No(Tt.rest,lt),Ct=!0)),Ct||(Tt=at.match(/^["”“](.*?)["”“](.*)/),Tt&&(at="\\text{"+Tt[1]+"}",at+=No(Tt[2],lt),Ct=!0)),Ct||(Tt=at.match(/^([^a-zA-Z\(\{\[\_\^\\\s"]+)(.*)/),Tt&&(at=$y(Tt[1],Pt),at+=No(Tt[2],lt),Ct=!0)),!Ct&&/^([fgh])[^a-zA-Z]/.test(at)&&(Tt=$l(at.slice(1),{inlineShortcuts:Pt,noWrap:!0}),at=at[1]==="("?at[0]+"\\left("+Tt.match+"\\right)":at[0]+Tt.match,at+=No(Tt.rest,lt),Ct=!0),Ct||(Tt=at.match(/^([a-zA-Z]+)(.*)/),Tt&&(at=$y(Tt[1],Pt),at+=No(Tt[2],lt),Ct=!0)),!Ct)if(Tt=$l(at,{inlineShortcuts:Pt,noWrap:!0}),Tt.match&&Tt.rest[0]==="/"){let zt=$l(Tt.rest.slice(1),{inlineShortcuts:Pt,noWrap:!0});zt.match&&(at="\\frac{"+Tt.match+"}{"+zt.match+"}"+No(zt.rest,lt)),Ct=!0}else Tt.match&&(at=at.startsWith("(")?"\\left("+Tt.match+"\\right)"+No(Tt.rest,lt):Tt.match+No(Tt.rest,lt),Ct=!0);return Ct||(Tt=at.match(/^(\s+)(.*)$/),Tt&&(at=" "+No(Tt[2],lt),Ct=!0)),at}function $l(at,lt){let ft="";at=at.trim();let xt=at,St=at.charAt(0),Ct={"(":")","{":"}","[":"]"}[St];if(Ct){let Tt=1,Pt=1;for(;Pt<at.length&&Tt>0;)at[Pt]===St&&Tt++,at[Pt]===Ct&&Tt--,Pt++;Tt===0?(lt.noWrap&&St==="("?ft=No(at.substring(1,Pt-1),lt):(St==="{"&&Ct==="}"&&(St="\\{",Ct="\\}"),ft="\\left"+St+No(at.substring(1,Pt-1),lt)+"\\right"+Ct),xt=at.slice(Math.max(0,Pt))):(ft=at.substring(1,Pt),xt="")}else{let Tt=at.match(/^([a-zA-Z]+)/);if(Tt){let Pt=E0(null,at,lt.inlineShortcuts);if(Pt)return Pt=Pt.replace("_{#?}",""),Pt=Pt.replace("^{#?}",""),{match:Pt,rest:at.slice(Pt.length)}}if(Tt=at.match(/^([a-zA-Z])/),Tt)return{match:Tt[1],rest:at.slice(1)};if(Tt=at.match(/^(-)?\d+(\.\d*)?/),Tt)return{match:Tt[0],rest:at.slice(Tt[0].length)};/^\\(left|right)/.test(at)||(Tt=at.match(/^(\\[a-zA-Z]+)/),Tt&&(xt=at.slice(Tt[1].length),ft=Tt[1]))}return{match:ft,rest:xt}}function $y(at,lt){let ft=E0(null,at,lt);return ft?(ft=ft.replace("_{#?}",""),ft=ft.replace("^{#?}",""),ft+=" "):ft=at,ft}var Ay=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],["\\begin{equation*}","\\end{equation*}"]];function D0(at){let lt=at.trim();for(let ft of Ay)if(lt.startsWith(ft[0])&&lt.endsWith(ft[1]))return[!0,lt.substring(ft[0].length,lt.length-ft[1].length)];return[!1,at]}function d4(at){if(at=at.trim(),at.length<=1)return["latex",at];let lt;return[lt,at]=D0(at),lt?["latex",at]:at.startsWith("`")&&at.endsWith("`")?(at=at.substring(1,at.length-1),["ascii-math",at]):at.includes("\\")?["latex",at]:/\$.+\$/.test(at)?["latex",`\\text{${at}}`]:[void 0,at]}var f4="$$",p4="$$",m4=(at,lt,ft)=>(Ay.some(xt=>lt.startsWith(xt[0])&&lt.endsWith(xt[1]))||(lt=`${f4} ${lt} ${p4}`),lt),ky=class Lm{constructor(lt){Lm._modes[lt]=this}static onPaste(lt,ft,xt){var St;if(!ft.contentEditable&&ft.userSelect==="none")return ft.model.announce("plonk"),!1;if(typeof xt=="string"){let Tt=new DataTransfer;Tt.setData("text/plain",xt),xt=Tt}let Ct=new ClipboardEvent("paste",{clipboardData:xt,cancelable:!0});return(St=ft.host)!=null&&St.dispatchEvent(Ct)?Lm._modes[lt].onPaste(ft,xt):!1}static onCopy(lt,ft){var xt;if(!ft.clipboardData)return;if(!lt.contentEditable&&lt.userSelect==="none"){lt.model.announce("plonk");return}let St=lt.model,Ct=St.selectionIsCollapsed?[0,St.lastOffset]:co(St.selection),Tt=St.getAtoms(Ct);if(Tt.every(Pt=>Pt.mode==="text"||!Pt.mode))ft.clipboardData.setData("text/plain",Tt.filter(Pt=>Pt instanceof Au).map(Pt=>Pt.value).join(""));else if(Tt.every(Pt=>Pt.mode==="latex"))ft.clipboardData.setData("text/plain",St.getAtoms(Ct,{includeChildren:!0}).map(Pt=>{var zt;return(zt=Pt.value)!=null?zt:""}).join(""));else{let Pt;Tt.length===1&&Tt[0].verbatimLatex!==void 0?Pt=Tt[0].verbatimLatex:Pt=St.getValue(Ct,"latex-expanded"),ft.clipboardData.setData("application/x-latex",Pt);try{ft.clipboardData.setData("text/plain",lt.options.onExport(lt,Pt,Ct))}catch{}if(Tt.length===1){let zt=Tt[0];(zt.type==="root"||zt.type==="group")&&(Tt=zt.body.filter(Kt=>Kt.type!=="first"))}try{ft.clipboardData.setData("application/json+mathlive",JSON.stringify(Tt.map(zt=>zt.toJson())))}catch{}if((xt=window[Symbol.for("io.cortexjs.compute-engine")])!=null&&xt.ComputeEngine){let zt=window.MathfieldElement.computeEngine;if(zt)try{zt.jsonSerializationOptions={metadata:["latex"]};let Kt=zt.parse(St.getValue(Ct,"latex-unstyled")),Ht=JSON.stringify(Kt.json);Ht&&ft.clipboardData.setData("application/json",Ht)}catch{}}}ft.preventDefault()}static insert(lt,ft,xt={}){var St;let Ct=xt.mode==="auto"?lt.mode:(St=xt.mode)!=null?St:lt.mode;return Lm._modes[Ct].insert(lt,ft,xt)}onPaste(lt,ft){return!1}insert(lt,ft,xt){return!1}};ky._modes={};var Gn=ky,h4=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Home]",command:"moveToMathfieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathfieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathfieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathfieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",command:"moveToNextGroup"},{key:"shift+[Tab]",command:"moveToPreviousGroup"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"\\",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete","reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"[Undo]",command:"undo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"cmd+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"ctrl+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"cmd+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"ctrl+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"cmd+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathfieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathfieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+alt+[KeyT]",ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"shift+alt+[KeyT]",ifMode:"text",command:["switchMode","math","",""]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"alt+[Tab]",ifMode:"math",command:"addColumnAfter"},{key:"shift+alt+[Tab]",ifMode:"math",command:"addColumnBefore"},{key:"alt+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Enter]",ifMode:"math",command:"addRowBefore"},{key:"alt+[Return]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Return]",ifMode:"math",command:"addRowBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]}],v4={"\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\infty":"alt+[Digit5]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};function ku(at,lt,ft,xt){let St=lt.split(" ");for(let Ct of St){let Tt=Ct.match(/(.*):(.*)/);if(Tt){let Pt=xt??{};Tt[2]==="active"?Pt.passive=!1:Pt[Tt[2]]=!0,at.addEventListener(Tt[1],ft,Pt)}else at.addEventListener(Ct,ft,xt)}}function Wp(at,lt,ft,xt){let St=lt.split(" ");for(let Ct of St){let Tt=Ct.match(/(.*):(.*)/);if(Tt){let Pt=xt??{};Tt[2]==="active"?Pt.passive=!1:Pt[Tt[2]]=!0,at.removeEventListener(Tt[1],ft,Pt)}else at.removeEventListener(Ct,ft,xt)}}function Al(at){var lt;return((lt=at.element)==null?void 0:lt.mathfield)===at}function g4(at){var lt,ft;return(ft=(lt=at.querySelector(".ML__caret"))!=null?lt:at.querySelector(".ML__text-caret"))!=null?ft:at.querySelector(".ML__latex-caret")}function Gp(at){let lt=g4(at);if(!lt)return null;let ft=lt.getBoundingClientRect();return{x:ft.right,y:ft.bottom,height:ft.height}}function y4(at){var lt;if(!at.parent)return"root";let ft=(lt=at.parent.id)!=null?lt:"";return ft+=typeof at.parentBranch=="string"?"-"+at.parentBranch:`-${at.parentBranch[0]}/${at.parentBranch[0]}`,ft}function Ny(at,lt,ft){if(!lt)return null;let xt=at.field.getBoundingClientRect(),St=lt.right-lt.left,Ct=lt.bottom-lt.top,Tt=Math.ceil(lt.left-xt.left+at.field.scrollLeft*ft),Pt=Math.ceil(lt.top-xt.top);return{left:Tt,right:Tt+St,top:Pt,bottom:Pt+Ct}}function Ty(at){let lt=at.getBoundingClientRect(),ft=parseInt(getComputedStyle(at).marginRight),xt={top:lt.top-1,bottom:lt.bottom,left:lt.left,right:lt.right-1+ft};if(at.children.length===0||at.tagName.toUpperCase()==="SVG")return xt;for(let St of at.children)if(St.nodeType===1&&"atomId"in St.dataset&&!St.classList.contains("pstrut")){let Ct=Ty(St);xt.left=Math.min(xt.left,Ct.left),xt.right=Math.max(xt.right,Ct.right),xt.top=Math.min(xt.top,Ct.top),xt.bottom=Math.max(xt.bottom,Ct.bottom)}return xt}function Nu(at,lt){var ft,xt;if(!lt.id)return null;let St=(xt=(ft=at.atomBoundsCache)==null?void 0:ft.get(lt.id))!=null?xt:null;if(St!==null)return St;let Ct=at.fieldContent.querySelector(`[data-atom-id="${lt.id}"]`);return St=Ct?Ty(Ct):null,at.atomBoundsCache&&(St?at.atomBoundsCache.set(lt.id,St):at.atomBoundsCache.delete(lt.id)),St??null}function b4(at,lt,ft){let xt=new Map;for(let St of at.model.getAtoms(lt,{includeChildren:!0})){if(ft!=null&&ft.excludeAtomsWithBackground&&St.style.backgroundColor)continue;let Ct=at.field,Tt=parseFloat(getComputedStyle(Ct).width),Pt=Ct.getBoundingClientRect().width/Tt;Pt=isNaN(Pt)?1:Pt;let zt=Ny(at,Nu(at,St),Pt);if(zt){let Kt=y4(St);if(xt.has(Kt)){let Ht=xt.get(Kt);xt.set(Kt,{left:Math.min(Ht.left,zt.left),right:Math.max(Ht.right,zt.right),top:Math.min(Ht.top,zt.top),bottom:Math.max(Ht.bottom,zt.bottom)})}else xt.set(Kt,zt)}}return[...xt.values()]}function By(at,lt){return at.model.selection.ranges.reduce((ft,xt)=>ft.concat(...b4(at,xt,lt)),[])}function _0(at,lt){return at==="*"||lt==="none"?!0:lt==="same-origin"?!window.origin||at===window.origin:typeof lt=="function"?lt(at):!1}function Oy(at){let lt=0,ft=0,xt=at.offsetWidth,St=at.offsetHeight;for(;at instanceof HTMLElement;)lt+=at.offsetTop,ft+=at.offsetLeft,at=at.offsetParent;return new DOMRect(ft,lt,xt,St)}var x4=`@keyframes ML__caret-blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}
.ML__container {
  display: inline-flex;
  flex-flow: row;
  justify-content: space-between;
  align-items: flex-end;
  min-height: 39px;
  /* Need some room for the virtual keyboard toggle */
  width: 100%;
  /* Encourage browsers to consider allocating a hardware accelerated
   layer for this element. */
  isolation: isolate;
  /* Prevent the browser from trying to interpret touch gestures in the field */
  /* "Disabling double-tap to zoom removes the need for browsers to
        delay the generation of click events when the user taps the screen." */
  touch-action: none;
  --_caret-color: var(--caret-color, hsl(var(--_hue), 40%, 49%));
  --_selection-color: var(--selection-color, #000);
  --_selection-background-color: var(--selection-background-color, hsl(var(--_hue), 70%, 85%));
  --_text-highlight-background-color: var(--highlight-text, hsla(var(--_hue), 40%, 50%, 0.1));
  --_contains-highlight-background-color: var(--contains-highlight-background-color, hsl(var(--_hue), 40%, 95%));
  --_smart-fence-color: var(--smart-fence-color, currentColor);
  --_smart-fence-opacity: var(--smart-fence-opacity, 0.5);
  --_latex-color: var(--latex-color, hsl(var(--_hue), 40%, 50%));
  --_correct-color: var(--correct-color, #10a000);
  --_incorrect-color: var(--incorrect-color, #a01b00);
  --_composition-background-color: var(--composition-background-color, #fff1c2);
  --_composition-text-color: var(--composition-text-color, black);
  --_composition-underline-color: var(--composition-underline-color, transparent);
}
/* This is the actual field content (formula) */
.ML__content {
  display: flex;
  align-items: center;
  align-self: center;
  position: relative;
  overflow: hidden;
  padding: 2px 0 2px 1px;
  width: 100%;
}
.ML__virtual-keyboard-toggle {
  box-sizing: border-box;
  display: flex;
  align-self: center;
  align-items: center;
  flex-shrink: 0;
  flex-direction: column;
  justify-content: center;
  width: 34px;
  height: 34px;
  padding: 0;
  margin-right: 4px;
  cursor: pointer;
  /* Avoid some weird blinking with :hover */
  border-radius: 8px;
  border: 1px solid transparent;
  transition: background 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  color: hsl(var(--_hue), 40%, 50%);
  fill: currentColor;
  background: transparent;
}
.ML__virtual-keyboard-toggle:hover {
  background: hsla(0, 0%, 70%, 0.3);
  color: #333;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle > span {
  display: flex;
  align-self: center;
  align-items: center;
}
/* The invisible element used to capture keyboard events. We're just trying
 really hard to make sure it doesn't show. */
.ML__keyboard-sink {
  display: inline-block;
  resize: none;
  outline: none;
  border: none;
  /* Need these for Microsoft Edge */
  position: fixed;
  clip: rect(0 0 0 0);
  /* Need this to prevent iOS Safari from auto-zooming */
  font-size: 1em;
  font-family: KaTeX_Main;
}
.ML__composition {
  background: var(--_composition-background-color);
  color: var(--_composition-text-color);
  text-decoration: underline var(--_composition-underline-color);
}
.ML__caret:after {
  content: '';
  border: none;
  border-radius: 2px;
  border-right: 2px solid var(--_caret-color);
  margin-right: -2px;
  position: relative;
  left: -1px;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__text-caret:after {
  content: '';
  border: none;
  border-radius: 1px;
  border-right: 1px solid var(--_caret-color);
  margin-right: -1px;
  position: relative;
  left: 0;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__latex-caret:after {
  content: '_';
  border: none;
  margin-right: 0;
  margin-right: calc(-1ex - 2px);
  position: relative;
  color: var(--_caret-color);
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__focused .ML__text {
  background: var(--_text-highlight-background-color);
}
/* When using smartFence, the anticipated closing fence is displayed
with this style */
.ML__smart-fence__close {
  opacity: var(--_smart-fence-opacity);
  color: var(--_smart-fence-color);
}
.ML__selected,
.ML__focused .ML__selected .ML__contains-caret,
.ML__focused .ML__selected .ML__smart-fence__close,
.ML__focused .ML__selected .ML__placeholder {
  color: var(--_selection-color);
  opacity: 1;
}
:host(:focus) .ML__selection {
  box-sizing: border-box;
  background: var(--_selection-background-color) !important;
}
.ML__contains-caret.ML__close,
.ML__contains-caret.ML__open,
.ML__contains-caret > .ML__close,
.ML__contains-caret > .ML__open,
.ML__contains-caret .ML__sqrt-sign,
.ML__contains-caret .ML__sqrt-line {
  color: var(--_caret-color);
}
.ML__contains-highlight {
  background: var(--_contains-highlight-background-color);
  box-sizing: border-box;
}
.ML__latex {
  font-family: 'Berkeley Mono', 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  font-weight: 400;
  color: var(--_latex-color);
}
.ML__suggestion {
  opacity: 0.5;
}
.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle:focus {
  outline: none;
  border-radius: 8px;
  border: 2px solid hsl(var(--_hue), 40%, 50%);
}
.ML__virtual-keyboard-toggle.is-pressed,
.ML__virtual-keyboard-toggle.is-active:hover,
.ML__virtual-keyboard-toggle.is-active {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
/* Add an attribute 'data-ML__tooltip' to automatically show a
   tooltip over a element on hover.
   Use 'data-position="top"' to place the tooltip above the
   element rather than below.
   Use 'data-delay' to delay the triggering of the tooltip.
*/
[data-ML__tooltip] {
  position: relative;
}
[data-ML__tooltip][data-placement='top']::after {
  top: inherit;
  bottom: 100%;
}
[data-ML__tooltip]::after {
  content: attr(data-ML__tooltip);
  position: absolute;
  display: none;
  z-index: 2;
  right: 110%;
  left: calc(100% + 8px);
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  border-radius: 2px;
  background: #616161;
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  text-align: center;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-style: normal;
  font-weight: 400;
  font-size: 12px;
  /* Phone */
  opacity: 0;
  transform: scale(0.5);
  transition: all 0.15s cubic-bezier(0.4, 0, 1, 1);
}
@media only screen and (max-width: 767px) {
  [data-ML__tooltip]::after {
    padding: 8px 16px;
    font-size: 16px;
  }
}
:not(.tracking) [data-ML__tooltip]:hover {
  position: relative;
}
:not(.tracking) [data-ML__tooltip]:hover::after {
  visibility: visible;
  display: inline-table;
  opacity: 1;
  transform: scale(1);
}
[data-ML__tooltip][data-delay]::after {
  transition-delay: 0s;
}
[data-ML__tooltip][data-delay]:hover::after {
  transition-delay: 1s;
  /* attr(data-delay); Should work. But doesn't. */
}
.ML__prompt {
  border-radius: 2px;
}
.ML__editablePromptBox {
  outline: 1px solid #acacac;
  border-radius: 2px;
  z-index: -1;
}
.ML__focusedPromptBox {
  outline: highlight auto 1px;
}
.ML__lockedPromptBox {
  background-color: rgba(142, 142, 141, 0.4);
  z-index: -1;
}
.ML__correctPromptBox {
  outline: 1px solid var(--_correct-color);
  box-shadow: 0 0 5px var(--_correct-color);
}
.ML__incorrectPromptBox {
  outline: 1px solid var(--_incorrect-color);
  box-shadow: 0 0 5px var(--_incorrect-color);
}
`,w4=`.ML__container {
  min-height: auto !important;
  --_hue: var(--hue, 212);
  --_placeholder-color: var(--placeholder-color, hsl(var(--_hue), 40%, 49%));
  --_placeholder-opacity: var(--placeholder-opacity, 0.4);
  --_text-font-family: var(--text-font-family, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif);
}
.ML__sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}
.ML__is-inline {
  display: inline-block;
}
.ML__base {
  visibility: inherit;
  display: inline-block;
  position: relative;
  cursor: text;
  padding: 0;
  margin: 0;
  box-sizing: content-box;
  border: 0;
  outline: 0;
  vertical-align: baseline;
  font-weight: inherit;
  font-family: inherit;
  font-style: inherit;
  text-decoration: none;
  width: min-content;
}
.ML__strut,
.ML__strut--bottom {
  display: inline-block;
  min-height: 0.5em;
}
.ML__small-delim {
  font-family: KaTeX_Main;
}
/* Text mode */
.ML__text {
  font-family: var(--_text-font-family);
  white-space: pre;
}
/* Use cmr for 'math upright' */
.ML__cmr {
  font-family: KaTeX_Main;
  font-style: normal;
}
.ML__mathit {
  font-family: KaTeX_Math;
  /* The KaTeX_Math font is italic by default, so the font-style below is only 
     useful when a fallback font is used
  */
  font-style: italic;
}
.ML__mathbf {
  font-family: KaTeX_Main;
  font-weight: bold;
}
/* Lowercase greek symbols should stick to math font when \\mathbf is applied 
   to match TeX idiosyncratic behavior */
.lcGreek.ML__mathbf {
  font-family: KaTeX_Math;
  font-weight: normal;
}
.ML__mathbfit {
  font-family: KaTeX_Math;
  font-weight: bold;
  font-style: italic;
}
.ML__ams {
  font-family: KaTeX_AMS;
}
/* Blackboard */
.ML__bb {
  font-family: KaTeX_AMS;
}
.ML__cal {
  font-family: KaTeX_Caligraphic;
}
.ML__frak {
  font-family: KaTeX_Fraktur;
}
.ML__tt {
  font-family: KaTeX_Typewriter;
}
.ML__script {
  font-family: KaTeX_Script;
}
.ML__sans {
  font-family: KaTeX_SansSerif;
}
.ML__series_ul {
  font-weight: 100;
}
.ML__series_el {
  font-weight: 100;
}
.ML__series_l {
  font-weight: 200;
}
.ML__series_sl {
  font-weight: 300;
}
.ML__series_sb {
  font-weight: 500;
}
.ML__bold,
.ML__boldsymbol {
  font-weight: 700;
}
.ML__series_eb {
  font-weight: 800;
}
.ML__series_ub {
  font-weight: 900;
}
.ML__series_uc {
  font-stretch: ultra-condensed;
}
.ML__series_ec {
  font-stretch: extra-condensed;
}
.ML__series_c {
  font-stretch: condensed;
}
.ML__series_sc {
  font-stretch: semi-condensed;
}
.ML__series_sx {
  font-stretch: semi-expanded;
}
.ML__series_x {
  font-stretch: expanded;
}
.ML__series_ex {
  font-stretch: extra-expanded;
}
.ML__series_ux {
  font-stretch: ultra-expanded;
}
.ML__it {
  font-style: italic;
}
.ML__shape_ol {
  -webkit-text-stroke: 1px black;
  text-stroke: 1px black;
  color: transparent;
}
.ML__shape_sc {
  font-variant: small-caps;
}
.ML__shape_sl {
  font-style: oblique;
}
/* First level emphasis */
.ML__emph {
  color: #bc2612;
}
/* Second level emphasis */
.ML__emph .ML__emph {
  color: #0c7f99;
}
.ML__highlight {
  color: #007cb2;
  background: #edd1b0;
}
.ML__center {
  text-align: center;
}
.ML__label_padding {
  padding: 0 0.5em;
}
.ML__frac-line {
  width: 100%;
  min-height: 1px;
}
.ML__frac-line:after {
  content: '';
  display: block;
  margin-top: max(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  /* There's a bug since Chrome 62 where 
      sub-pixel border lines don't draw at some zoom 
      levels (110%, 90%). 
      Setting the min-height used to work around it, but that workaround
      broke in Chrome 84 or so.
      Setting the background (and the min-height) seems to work for now.
      */
  background: currentColor;
  box-sizing: content-box;
  /* Vuetify sets the box-sizing to inherit 
            causes the fraction line to not draw at all sizes (see #26) */
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt {
  display: inline-block;
}
.ML__sqrt-sign {
  display: inline-block;
  position: relative;
}
.ML__sqrt-line {
  display: inline-block;
  height: max(1px, 0.04em);
  width: 100%;
}
.ML__sqrt-line:before {
  content: '';
  display: block;
  margin-top: min(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  background: currentColor;
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt-line:after {
  border-bottom-width: 1px;
  content: ' ';
  display: block;
  margin-top: -0.1em;
}
.ML__sqrt-index {
  margin-left: 0.27777778em;
  margin-right: -0.55555556em;
}
.ML__delim-size1 {
  font-family: KaTeX_Size1;
}
.ML__delim-size2 {
  font-family: KaTeX_Size2;
}
.ML__delim-size3 {
  font-family: KaTeX_Size3;
}
.ML__delim-size4 {
  font-family: KaTeX_Size4;
}
.ML__delim-mult .delim-size1 > span {
  font-family: KaTeX_Size1;
}
.ML__delim-mult .delim-size4 > span {
  font-family: KaTeX_Size4;
}
.ML__accent-body > span {
  font-family: KaTeX_Main;
  width: 0;
}
.ML__accent-vec {
  position: relative;
  left: 0.24em;
}
.ML__mathlive {
  display: inline-block;
  direction: ltr;
  text-align: left;
  text-indent: 0;
  text-rendering: auto;
  font-family: KaTeX_Main, 'Times New Roman', serif;
  font-style: normal;
  font-size-adjust: none;
  font-stretch: normal;
  font-variant-caps: normal;
  letter-spacing: normal;
  line-height: 1.2;
  word-wrap: normal;
  word-spacing: normal;
  white-space: nowrap;
  text-shadow: none;
  -webkit-user-select: none;
  user-select: none;
  width: min-content;
}
.ML__mathlive .style-wrap {
  position: relative;
}
.ML__mathlive .mfrac,
.ML__mathlive .left-right {
  display: inline-block;
}
.ML__mathlive .vlist-t {
  display: inline-table;
  table-layout: fixed;
  border-collapse: collapse;
}
.ML__mathlive .vlist-r {
  display: table-row;
}
.ML__mathlive .vlist {
  display: table-cell;
  vertical-align: bottom;
  position: relative;
}
.ML__mathlive .vlist > span {
  display: block;
  height: 0;
  position: relative;
}
.ML__mathlive .vlist > span > span {
  display: inline-block;
}
.ML__mathlive .vlist > span > .pstrut {
  overflow: hidden;
  width: 0;
}
.ML__mathlive .vlist-t2 {
  margin-right: -2px;
}
.ML__mathlive .vlist-s {
  display: table-cell;
  vertical-align: bottom;
  font-size: 1px;
  width: 2px;
  min-width: 2px;
}
.ML__mathlive .msubsup {
  text-align: left;
}
.ML__mathlive .negativethinspace {
  display: inline-block;
  margin-left: -0.16667em;
  height: 0.71em;
}
.ML__mathlive .thinspace {
  display: inline-block;
  width: 0.16667em;
  height: 0.71em;
}
.ML__mathlive .mediumspace {
  display: inline-block;
  width: 0.22222em;
  height: 0.71em;
}
.ML__mathlive .thickspace {
  display: inline-block;
  width: 0.27778em;
  height: 0.71em;
}
.ML__mathlive .enspace {
  display: inline-block;
  width: 0.5em;
  height: 0.71em;
}
.ML__mathlive .quad {
  display: inline-block;
  width: 1em;
  height: 0.71em;
}
.ML__mathlive .qquad {
  display: inline-block;
  width: 2em;
  height: 0.71em;
}
.ML__mathlive .llap,
.ML__mathlive .rlap {
  width: 0;
  position: relative;
  display: inline-block;
}
.ML__mathlive .llap > .inner,
.ML__mathlive .rlap > .inner {
  position: absolute;
}
.ML__mathlive .llap > .fix,
.ML__mathlive .rlap > .fix {
  display: inline-block;
}
.ML__mathlive .llap > .inner {
  right: 0;
}
.ML__mathlive .rlap > .inner {
  left: 0;
}
.ML__mathlive .rule {
  display: inline-block;
  border: solid 0;
  position: relative;
  box-sizing: border-box;
}
.ML__mathlive .overline .overline-line,
.ML__mathlive .underline .underline-line {
  width: 100%;
}
.ML__mathlive .overline .overline-line:before,
.ML__mathlive .underline .underline-line:before {
  content: '';
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  display: block;
}
.ML__mathlive .overline .overline-line:after,
.ML__mathlive .underline .underline-line:after {
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  content: '';
  display: block;
  margin-top: -1px;
}
.ML__mathlive .stretchy {
  display: block;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__mathlive .stretchy:before,
.ML__mathlive .stretchy:after {
  content: '';
}
.ML__mathlive .stretchy svg {
  display: block;
  position: absolute;
  width: 100%;
  height: inherit;
  fill: currentColor;
  stroke: currentColor;
  fill-rule: nonzero;
  fill-opacity: 1;
  stroke-width: 1;
  stroke-linecap: butt;
  stroke-linejoin: miter;
  stroke-miterlimit: 4;
  stroke-dasharray: none;
  stroke-dashoffset: 0;
  stroke-opacity: 1;
}
.ML__mathlive .slice-1-of-2 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__mathlive .slice-2-of-2 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__mathlive .slice-1-of-3 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__mathlive .slice-2-of-3 {
  display: inline-flex;
  position: absolute;
  left: 25%;
  width: 50%;
  overflow: hidden;
}
.ML__mathlive .slice-3-of-3 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__mathlive .slice-1-of-1 {
  display: inline-flex;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__mathlive .nulldelimiter {
  display: inline-block;
}
.ML__mathlive .op-group {
  display: inline-block;
}
.ML__mathlive .op-symbol {
  position: relative;
}
.ML__mathlive .op-symbol.small-op {
  font-family: KaTeX_Size1;
}
.ML__mathlive .op-symbol.large-op {
  font-family: KaTeX_Size2;
}
.ML__mathlive .mtable .vertical-separator {
  display: inline-block;
  min-width: 1px;
  box-sizing: border-box;
}
.ML__mathlive .mtable .arraycolsep {
  display: inline-block;
}
.ML__mathlive .mtable .col-align-m > .vlist-t {
  text-align: center;
}
.ML__mathlive .mtable .col-align-c > .vlist-t {
  text-align: center;
}
.ML__mathlive .mtable .col-align-l > .vlist-t {
  text-align: left;
}
.ML__mathlive .mtable .col-align-r > .vlist-t {
  text-align: right;
}
.ML__error {
  display: inline-block;
  background-image: radial-gradient(ellipse at center, hsl(341, 100%, 40%), rgba(0, 0, 0, 0) 70%);
  background-color: hsla(341, 100%, 40%, 0.1);
  background-repeat: repeat-x;
  background-size: 3px 3px;
  padding-bottom: 3px;
  background-position: 0 100%;
}
.ML__error > .ML__error {
  background: transparent;
  padding: 0;
}
.ML__placeholder {
  color: var(--_placeholder-color);
  opacity: var(--_placeholder-opacity);
  padding-left: 0.4ex;
  padding-right: 0.4ex;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
}
.ML__notation {
  position: absolute;
  box-sizing: border-box;
  line-height: 0;
}
/* This class is used to implement the \`\\mathtip\` and \`\\texttip\` commands
   For UI elements, see \`[data-ML__tooltip]\`
*/
.ML__tooltip-container {
  position: relative;
  transform: scale(0);
}
.ML__tooltip-container .ML__tooltip-content {
  position: fixed;
  display: inline-table;
  visibility: hidden;
  z-index: 2;
  width: max-content;
  max-width: 400px;
  padding: 12px 12px;
  border-radius: 8px;
  background: #616161;
  --_selection-color: #fff;
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  opacity: 0;
  transition: opacity 0.15s cubic-bezier(0.4, 0, 1, 1);
}
.ML__tooltip-container .ML__tooltip-content .ML__text {
  white-space: normal;
}
.ML__tooltip-container .ML__tooltip-content .ML__base {
  display: contents;
}
.ML__tooltip-container:hover .ML__tooltip-content {
  visibility: visible;
  opacity: 1;
  font-size: 0.75em;
  transform: scale(1) translate(0, 3em);
}
`,S4=`#mathlive-environment-popover.is-visible {
  visibility: visible;
}
#mathlive-environment-popover {
  --_environment-panel-height: var(--environment-panel-height, 70px);
  --_accent-color: var(--accent-color, #0c75d8);
  --_background: var(--environment-panel-background, #0c75d8);
  --_button-background: var(--environment-panel-button-background, white);
  --_button-background-hover: var(--environment-panel-button-background-hover, #f5f5f7);
  --_button-background-active: var(--environment-panel-button-background-active, #f5f5f7);
  --_button-text: var(--environment-panel-button-text, #e3e4e8);
  position: absolute;
  width: calc(var(--_environment-panel-height) * 2);
  height: var(--_environment-panel-height);
  border-radius: 4px;
  border: 1.5px solid var(--_accent-color);
  background-color: var(--_background);
  box-shadow: 0 0 30px 0 var(--environment-shadow, rgba(0, 0, 0, 0.4));
  pointer-events: all;
  visibility: hidden;
}
#mathlive-environment-popover .MLEP__array-buttons {
  height: calc(var(--_environment-panel-height) * 5/4);
  width: calc(var(--_environment-panel-height) * 5/4);
  margin-left: calc(0px - var(--_environment-panel-height) * 0.16);
  margin-top: calc(0px - var(--_environment-panel-height) * 0.19);
}
#mathlive-environment-popover .MLEP__array-buttons .font {
  fill: white;
}
#mathlive-environment-popover .MLEP__array-buttons circle {
  fill: #7f7f7f;
  transition: fill 300ms;
}
#mathlive-environment-popover .MLEP__array-buttons .MLEP__array-insert-background {
  fill-opacity: 1;
  fill: var(--_background);
  stroke: var(--_accent-color);
  stroke-width: 3px;
}
#mathlive-environment-popover .MLEP__array-buttons line {
  stroke: var(--_accent-color);
  stroke-opacity: 0;
  stroke-width: 40;
  pointer-events: none;
  transition: stroke-opacity 300ms;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover circle {
  fill: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover line {
  stroke-opacity: 1;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls {
  height: 100%;
  width: 50%;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options {
  width: var(--_environment-panel-height);
  height: var(--_environment-panel-height);
  display: flex;
  flex-wrap: wrap;
  flex-direction: row;
  justify-content: space-around;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg {
  pointer-events: all;
  margin-top: 2px;
  width: calc(var(--_environment-panel-height) / 3 * 28 / 24);
  height: calc(var(--_environment-panel-height) / 3 - 2px);
  border-radius: calc(var(--_environment-panel-height) / 25);
  background-color: var(--_button-background);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg:hover {
  background-color: var(--_button-background-hover);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg line {
  stroke: var(--_button-text);
  stroke-width: 2;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg rect,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path {
  fill-opacity: 0;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active {
  pointer-events: none;
  background-color: var(--_button-background-active);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active line {
  stroke: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active circle {
  fill: var(--_accent-color);
}
`,E4=`/* The element that display info while in latex mode */
#mathlive-suggestion-popover {
  background-color: rgba(97, 97, 97);
  color: #fff;
  text-align: center;
  border-radius: 8px;
  position: fixed;
  z-index: 1;
  display: none;
  flex-direction: column;
  justify-content: center;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
}
#mathlive-suggestion-popover.top-tip::after {
  content: '';
  position: absolute;
  top: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.bottom-tip::after {
  content: '';
  position: absolute;
  bottom: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-top: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.is-animated {
  transition: all 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  animation: ML__fade-in cubic-bezier(0, 0, 0.2, 1) 0.15s;
}
#mathlive-suggestion-popover.is-visible {
  display: flex;
}
@keyframes ML__fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/* The wrapper class for the entire content of the popover panel */
#mathlive-suggestion-popover ul {
  display: flex;
  flex-flow: column;
  list-style: none;
  margin: 0;
  padding: 0;
  align-items: flex-start;
  max-height: 400px;
  overflow-y: auto;
}
#mathlive-suggestion-popover li {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  margin: 8px;
  padding: 8px;
  width: calc(100% - 16px - 16px);
  column-gap: 1em;
  border-radius: 8px;
  cursor: pointer;
  /* Since the content can be clicked on, provide feedback on hover */
}
#mathlive-suggestion-popover li a {
  color: #5ea6fd;
  padding-top: 0.3em;
  margin-top: 0.4em;
  display: block;
}
#mathlive-suggestion-popover li a:hover {
  color: #5ea6fd;
  text-decoration: underline;
}
#mathlive-suggestion-popover li:hover,
#mathlive-suggestion-popover li.is-pressed,
#mathlive-suggestion-popover li.is-active {
  background: rgba(255, 255, 255, 0.1);
}
/* The command inside a popover (inside a #mathlive-suggestion-popover) */
.ML__popover__command {
  font-size: 1.6rem;
  font-family: KaTeX_Main;
}
.ML__popover__current {
  background: #5ea6fd;
  color: #fff;
}
.ML__popover__latex {
  font-family: 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  align-self: center;
}
/* The keyboard shortcuts for a symbol as displayed in the popover */
.ML__popover__keybinding {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 0.8em;
  opacity: 0.7;
}
/* Style for the character that joins the modifiers of a keyboard shortcut 
(usually a "+" sign)*/
.ML__shortcut-join {
  opacity: 0.5;
}
`,D4=`/* The element that displays the keys as the user type them */
#mathlive-keystroke-caption-panel {
  visibility: hidden;
  /*min-width: 160px;*/
  /*background-color: rgba(97, 97, 200, .95);*/
  background: var(--secondary, hsl(var(--_hue), 19%, 26%));
  border-color: var(--secondary-border, hsl(0, 0%, 91%));
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
  text-align: center;
  border-radius: 6px;
  padding: 16px;
  position: absolute;
  z-index: 1;
  display: flex;
  flex-direction: row-reverse;
  justify-content: center;
  --keystroke: white;
  --on-keystroke: #555;
  --keystroke-border: #f7f7f7;
}
@media (prefers-color-scheme: dark) {
  body:not([theme='light']) #mathlive-keystroke-caption-panel {
    --keystroke: hsl(var(--_hue), 50%, 30%);
    --on-keystroke: hsl(0, 0%, 98%);
    --keystroke-border: hsl(var(--_hue), 50%, 25%);
  }
}
body[theme='dark'] #mathlive-keystroke-caption-panel {
  --keystroke: hsl(var(--_hue), 50%, 30%);
  --on-keystroke: hsl(0, 0%, 98%);
  --keystroke-border: hsl(var(--_hue), 50%, 25%);
}
#mathlive-keystroke-caption-panel > span {
  min-width: 14px;
  /*height: 8px;*/
  margin: 0 8px 0 0;
  padding: 4px;
  background-color: var(--keystroke);
  color: var(--on-keystroke);
  fill: currentColor;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 1em;
  border-radius: 6px;
  border: 2px solid var(--keystroke-border);
  /*box-shadow: 0 7px 14px rgba(0,0,0,0.25), 0 5px 5px rgba(0,0,0,0.22);*/
}
`,_4=`.ML__keyboard {
  --_keyboard-height: 0;
  --_keyboard-zindex: var(--keyboard-zindex, 105);
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_padding-horizontal: var(--keyboard-padding-horizontal, 0px);
  --_padding-top: var(--keyboard-padding-top, 5px);
  --_padding-bottom: var(--keyboard-padding-bottom, 0px);
  --_row-padding-left: var(--keyboard-row-padding-left, 0px);
  --_row-padding-right: var(--keyboard-row-padding-right, 0px);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-text-active: var(--keyboard-toolbar-text-active, var(--_accent-color));
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_toolbar-font-size: var(--keyboard-toolbar-font-size, "135%");
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, white);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-primary-background: var(--keycap-primary-background, var(--_accent-color));
  --_keycap-primary-text: var(--keycap-primary-text, #ddd);
  --_keycap-primary-background-hover: var(--keycap-primary-background-hover, #0d80f2);
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_keycap-height: var(--keycap-height, 60px);
  /* Keycap width (incl. margin) */
  --_keycap-max-width: var(--keycap-max-width, 100px);
  --_keycap-gap: var(--keycap-gap, 8px);
  --_keycap-font-size: var(--keycap-font-size, clamp(16px, 4cqw, 24px));
  --_keycap-small-font-size: var(--keycap-small-font-size, calc(var(--keycap-font-size) * 0.8));
  --_keycap-extra-small-font-size: var(--keycap-extra-small-font-size, calc(var(--keycap-font-size) / 1.42));
  --_variant-panel-background: var(--variant-panel-background, #fff);
  --_variant-keycap-text: var(--variant-keycap-text, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
  --_variant-keycap-length: var(--variant-keycap-length, 70px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 30px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 12px);
  --_keycap-shift-font-size: var(--keycap-shift-font-size, 16px);
  --_keycap-shift-color: var(--keycap-shift-color, var(--_accent-color));
  --_box-placeholder-color: var(--box-placeholder-color, var(--_accent-color));
}
.if-can-undo,
.if-can-redo,
.if-can-copy,
.if-can-cut,
.if-can-paste {
  opacity: 0.4;
  pointer-events: none;
}
.can-undo .if-can-undo,
.can-redo .if-can-redo,
.can-copy .if-can-copy,
.can-cut .if-can-cut,
.can-paste .if-can-paste {
  opacity: 1;
  pointer-events: all;
}
body > .ML__keyboard {
  position: fixed;
  --_padding-bottom: calc(var(--_padding-bottom) + env(safe-area-inset-bottom, 0));
}
body > .ML__keyboard.is-visible > .MLK__backdrop {
  box-shadow: 0 -5px 6px rgba(0, 0, 0, 0.08);
  border-top: 1px solid var(--_border);
}
body > .ML__keyboard.backdrop-is-transparent.is-visible > .MLK__backdrop {
  box-shadow: none;
  border: none;
}
body > .ML__keyboard.is-visible.animate > .MLK__backdrop {
  transition: 0.28s cubic-bezier(0, 0, 0.2, 1);
  transition-property: transform, opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__keyboard {
  position: relative;
  overflow: hidden;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  z-index: var(--_keyboard-zindex);
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  opacity: 1;
  transform: none;
  pointer-events: none;
}
.ML__keyboard :where(div) {
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  transform: none;
}
.MLK__backdrop {
  position: absolute;
  bottom: calc(-1 * var(--_keyboard-height));
  width: 100%;
  height: var(--_keyboard-height);
  box-sizing: border-box;
  padding-top: var(--_padding-top);
  padding-bottom: var(--_padding-bottom);
  padding-left: var(--_padding-horizontal);
  padding-right: var(--_padding-horizontal);
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0);
  background: var(--_background);
}
.backdrop-is-transparent .MLK__backdrop {
  background: transparent;
}
/* If a custom layout has a custom container/backdrop
  (backdrop-is-transparent), make sure to let pointer event go through. */
.backdrop-is-transparent .MLK__plate {
  background: transparent;
  pointer-events: none;
}
/* If a custom layout has a custom container/backdrop, make sure to 
   allow pointer events on it. */
.backdrop-is-transparent .MLK__layer > div > div {
  pointer-events: all;
}
.ML__keyboard.is-visible > .MLK__backdrop {
  transform: translate(0, calc(-1 * var(--_keyboard-height)));
  opacity: 1;
  visibility: visible;
}
.caps-lock-indicator {
  display: none;
  width: 8px;
  height: 8px;
  background: #0cbc0c;
  box-shadow: inset 0 0 4px 0 #13ca13, 0 0 4px 0 #a9ef48;
  border-radius: 8px;
  right: 8px;
  top: 8px;
  position: absolute;
}
.ML__keyboard.is-caps-lock .caps-lock-indicator {
  display: block;
}
.ML__keyboard.is-caps-lock .shift {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
}
.MLK__plate {
  position: absolute;
  top: 0;
  left: var(--_padding-horizontal);
  width: calc(100% - 2 * var(--_padding-horizontal));
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  container-type: inline-size;
  touch-action: none;
  -webkit-user-select: none;
  user-select: none;
  pointer-events: all;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 16px;
  /* Size of toolbar labels */
  font-weight: 400;
  text-shadow: none;
}
.ML__box-placeholder {
  color: var(--_box-placeholder-color);
}
.MLK__tex {
  font-family: KaTeX_Main, KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__tex-math {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
  font-style: italic;
}
.MLK__layer {
  display: none;
  outline: none;
}
.MLK__layer.is-visible {
  display: flex;
  flex-flow: column;
}
/* Keyboard layouts are made or rows of keys... */
.MLK__rows {
  display: flex;
  flex-flow: column;
  align-items: center;
  border-collapse: separate;
  clear: both;
  border: 0;
  margin: 0;
  margin-bottom: var(--_keycap-gap);
  gap: var(--_keycap-gap);
  /* If the styling include, e.g., some shadows, they will be
  cut off by the overflow. In that case, set the padding to 
  compensate. */
  padding-left: var(--_row-padding-left);
  padding-right: var(--_row-padding-right);
  overflow-x: auto;
  touch-action: none;
}
.MLK__rows > .row {
  display: flex;
  flex-flow: row;
  justify-content: center;
  width: 100%;
  gap: var(--_keycap-gap);
  margin: 0;
  padding: 0;
  /* For the alignment of the text on some modifiers (e.g. shift) */
  /* Extra spacing between two adjacent keys */
  /** A regular keycap */
}
.MLK__rows > .row .tex {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .row .tex-math {
  font-family: KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .row .big-op {
  font-size: calc(1.25 * var(--_keycap-font-size));
}
.MLK__rows > .row .small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__rows > .row .bottom {
  justify-content: flex-end;
}
.MLK__rows > .row .left {
  align-items: flex-start;
  padding-left: 12px;
}
.MLK__rows > .row .right {
  align-items: flex-end;
  padding-right: 12px;
}
.MLK__rows > .row .w0 {
  width: 0;
}
.MLK__rows > .row .w5 {
  width: calc(min(var(--_keycap-max-width, 100px), 10%) / 2 - var(--_keycap-gap));
}
.MLK__rows > .row .w15 {
  width: calc(1.5 * min(var(--_keycap-max-width, 100px), 10%) - var(--_keycap-gap));
}
.MLK__rows > .row .w20 {
  width: calc(2 * min(var(--_keycap-max-width, 100px), 10%) - var(--_keycap-gap));
}
.MLK__rows > .row .w50 {
  width: calc(5 * min(var(--_keycap-max-width, 100px), 10%) - var(--_keycap-gap));
}
.MLK__rows > .row .MLK__keycap.w50 {
  font-size: 80%;
  padding-top: 10px;
  font-weight: 100;
}
.MLK__rows > .row .separator {
  background: transparent;
  border: none;
  pointer-events: none;
}
.MLK__rows > .row .horizontal-rule {
  height: 6px;
  margin-top: 3px;
  margin-bottom: 0;
  width: 100%;
  border-radius: 0;
  border-top: var(--_horizontal-rule);
}
.MLK__rows > .row .ghost {
  background: var(--_toolbar-background);
  border: none;
  color: var(--_toolbar-text);
}
.MLK__rows > .row .ghost:hover {
  background: var(--_toolbar-background-hover);
}
.MLK__rows > .row .bigfnbutton {
  font-size: var(--_keycap-extra-small-font-size);
}
.MLK__rows > .row .shift,
.MLK__rows > .row .action {
  color: var(--_keycap-secondary-text);
  background: var(--_keycap-secondary-background);
  border-color: var(--_keycap-secondary-border);
  border-bottom-color: var(--_keycap-secondary-border-bottom);
  line-height: 0.8;
  font-size: min(1rem, var(--_keycap-small-font-size));
  font-weight: 600;
  padding: 8px 12px 8px 12px;
}
.MLK__rows > .row .shift:hover,
.MLK__rows > .row .action:hover {
  background: var(--_keycap-secondary-background-hover);
}
.MLK__rows > .row .action.primary {
  background: var(--_keycap-primary-background);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .row .action.primary:hover {
  background: var(--_keycap-primary-background-hover);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .row .shift.selected,
.MLK__rows > .row .action.selected {
  color: var(--_toolbar-text-active);
}
.MLK__rows > .row .shift.selected.is-pressed,
.MLK__rows > .row .action.selected.is-pressed,
.MLK__rows > .row .shift.selected.is-active,
.MLK__rows > .row .action.selected.is-active {
  color: white;
}
.MLK__rows > .row .warning {
  background: #cd0030;
  color: white;
}
.MLK__rows > .row .warning svg.svg-glyph {
  width: 24px;
  height: 24px;
  min-height: 24px;
}
.MLK__rows > .row div {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: space-evenly;
  width: calc(min(var(--_keycap-max-width), 10%) - var(--_keycap-gap));
  height: var(--_keycap-height);
  box-sizing: border-box;
  padding: 0;
  vertical-align: top;
  text-align: center;
  float: left;
  color: var(--_keycap-text);
  fill: currentColor;
  font-size: var(--_keycap-font-size);
  background: var(--_keycap-background);
  border: 1px solid var(--_keycap-border);
  border-bottom-color: var(--_keycap-border-bottom);
  border-radius: 6px;
  cursor: pointer;
  touch-action: none;
  /* Keys with a variants panel */
  position: relative;
  overflow: hidden;
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
.MLK__rows > .row div:hover {
  background: var(--_keycap-background-hover);
}
.MLK__rows > .row div .ML__mathlive {
  pointer-events: none;
  touch-action: none;
}
.MLK__rows > .row div svg.svg-glyph {
  margin: 8px 0;
  width: 20px;
  height: 20px;
  min-height: 20px;
}
.MLK__rows > .row div svg.svg-glyph-lg {
  margin: 8px 0;
  width: 24px;
  height: 24px;
  min-height: 24px;
}
.MLK__rows > .row div.MLK__tex-math {
  font-size: 25px;
}
.MLK__rows > .row div.is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
}
.MLK__rows > .row div.MLK__keycap.is-active,
.MLK__rows > .row div.action.is-active,
.MLK__rows > .row div.MLK__keycap.is-pressed,
.MLK__rows > .row div.action.is-pressed {
  z-index: calc(var(--_keyboard-zindex) - 5);
}
.MLK__rows > .row div.MLK__keycap.is-active aside,
.MLK__rows > .row div.action.is-active aside,
.MLK__rows > .row div.MLK__keycap.is-pressed aside,
.MLK__rows > .row div.action.is-pressed aside {
  display: none;
}
.MLK__rows > .row div.MLK__keycap.is-active .MLK__shift,
.MLK__rows > .row div.action.is-active .MLK__shift,
.MLK__rows > .row div.MLK__keycap.is-pressed .MLK__shift,
.MLK__rows > .row div.action.is-pressed .MLK__shift {
  display: none;
}
.MLK__rows > .row div.shift.is-pressed,
.MLK__rows > .row div.MLK__keycap.is-pressed,
.MLK__rows > .row div.action.is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
}
.MLK__rows > .row div.shift.is-active,
.MLK__rows > .row div.MLK__keycap.is-active,
.MLK__rows > .row div.action.is-active {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
}
.MLK__rows > .row div small {
  color: var(--_keycap-secondary-text);
}
.MLK__rows > .row div aside {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 10px;
  line-height: 10px;
  color: var(--_keycap-secondary-text);
}
/* Add an attribute 'data-tooltip' to display a tooltip on hover.
Note there are a different set of tooltip rules for the keyboard toggle
(it's in a different CSS tree) */
.MLK__tooltip {
  position: relative;
}
.MLK__tooltip::after {
  position: absolute;
  display: inline-table;
  content: attr(data-tooltip);
  top: inherit;
  bottom: 100%;
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  background: #616161;
  color: #fff;
  text-align: center;
  z-index: 2;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  border-radius: 2px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-weight: 400;
  font-size: 12px;
  transition: all 0.15s cubic-bezier(0.4, 0, 1, 1) 1s;
  opacity: 0;
  transform: scale(0.5);
}
.MLK__tooltip:hover {
  position: relative;
}
.MLK__tooltip:hover::after {
  opacity: 1;
  transform: scale(1);
}
.MLK__toolbar {
  align-self: center;
  display: flex;
  flex-flow: row;
  justify-content: space-between;
  width: 100%;
  max-width: 996px;
  min-height: 32px;
  /* Icons for undo/redo, etc. */
}
.MLK__toolbar svg {
  height: 20px;
  width: 20px;
}
.MLK__toolbar > .left {
  position: relative;
  display: flex;
  justify-content: flex-start;
  flex-flow: row;
}
.MLK__toolbar > .right {
  display: flex;
  justify-content: flex-end;
  flex-flow: row;
}
.MLK__toolbar > div > div {
  /* "button" in the toolbar */
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--_toolbar-text);
  fill: currentColor;
  background: var(--_toolbar-background);
  font-size: var(--_toolbar-font-size);
  padding: 4px 15px;
  cursor: pointer;
  width: max-content;
  min-width: 42px;
  min-height: 22px;
  border: none;
  padding-left: 10px;
  padding-right: 10px;
  padding-bottom: 8px;
  padding-top: 8px;
  margin-top: 7px;
  margin-bottom: 8px;
  margin-left: 4px;
  margin-right: 4px;
  border-radius: 8px;
  box-shadow: none;
  border-bottom: 2px solid transparent;
}
.MLK__toolbar > div > div:not(.disabled):not(.selected):hover {
  background: var(--_toolbar-background-hover);
}
.MLK__toolbar > div > div.disabled svg,
.MLK__toolbar > div > div.disabled:hover svg,
.MLK__toolbar > div > div.disabled.is-pressed svg {
  color: var(--_toolbar-text);
  opacity: 0.2;
}
.MLK__toolbar > div > div:hover,
.MLK__toolbar > div > div:active,
.MLK__toolbar > div > div.is-pressed,
.MLK__toolbar > div > div.is-active {
  color: var(--_toolbar-text-active);
}
.MLK__toolbar > div > div.selected {
  color: var(--_toolbar-text-active);
  background: var(--_toolbar-background-selected);
  border-radius: 0;
  border-bottom-color: var(--_toolbar-text-active);
  padding-bottom: 4px;
  margin-bottom: 12px;
}
/* This is the element that displays variants on press+hold */
.MLK__variant-panel {
  visibility: hidden;
  position: fixed;
  display: flex;
  flex-flow: row wrap-reverse;
  justify-content: center;
  align-content: center;
  margin: 0;
  padding: 0;
  bottom: auto;
  top: 0;
  box-sizing: content-box;
  transform: none;
  z-index: calc(var(--_keyboard-zindex) + 1);
  touch-action: none;
  max-width: 350px;
  background: var(--_variant-panel-background);
  text-align: center;
  border-radius: 6px;
  padding: 6px;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
  transition: none;
}
.MLK__variant-panel.is-visible {
  visibility: visible;
}
.MLK__variant-panel.compact {
  --_variant-keycap-length: var(--variant-keycap-length, 50px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 10px);
}
.MLK__variant-panel .item {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: center;
  font-size: var(--_variant-keycap-font-size);
  height: var(--_variant-keycap-length);
  width: var(--_variant-keycap-length);
  margin: 0;
  box-sizing: border-box;
  border-radius: 5px;
  border: 1px solid transparent;
  background: transparent;
  pointer-events: all;
  cursor: pointer;
  color: var(--_variant-keycap-text);
  fill: currentColor;
}
@media (max-height: 412px) {
  .MLK__variant-panel .item {
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
.MLK__variant-panel .item .ML__mathlive {
  pointer-events: none;
}
.MLK__variant-panel .item.is-active {
  background: var(--_variant-keycap-background-active);
  color: var(--_variant-keycap-text-active);
}
.MLK__variant-panel .item.is-pressed {
  background: var(--_variant-keycap-background-pressed);
  color: var(--_variant-keycap-text-pressed);
}
.MLK__variant-panel .item.small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__variant-panel .item.swatch-button {
  box-sizing: border-box;
  background: #fbfbfb;
}
.MLK__variant-panel .item.swatch-button > span {
  display: inline-block;
  margin: 6px;
  width: calc(100% - 12px);
  height: calc(100% - 12px);
  border-radius: 50%;
}
.MLK__variant-panel .item.swatch-button:hover {
  background: #f0f0f0;
}
.MLK__variant-panel .item.swatch-button:hover > span {
  border-radius: 2px;
}
.MLK__variant-panel .item.box > div,
.MLK__variant-panel .item.box > span {
  border: 1px dashed rgba(0, 0, 0, 0.24);
}
.MLK__variant-panel .item .warning {
  min-height: 60px;
  min-width: 60px;
  background: #cd0030;
  color: white;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
}
.MLK__variant-panel .item .warning.is-pressed,
.MLK__variant-panel .item .warning.is-active {
  background: red;
}
.MLK__variant-panel .item .warning svg.svg-glyph {
  width: 50px;
  height: 50px;
}
.MLK__variant-panel .item aside {
  font-size: var(--_variant-keycap-aside-font-size);
  line-height: 12px;
  opacity: 0.78;
  padding-top: 2px;
}
.MLK__keycap {
  position: relative;
}
.MLK__shift {
  display: block;
  position: absolute;
  right: 4px;
  top: 4px;
  font-size: var(--_keycap-shift-font-size);
  color: var(--_keycap-shift-color);
}
.hide-shift .MLK__shift {
  display: none;
}
@media (max-width: 414px) {
  .MLK__variant-panel {
    max-width: 350px;
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
/* @xs breakpoint: iPhone 5 */
@container (max-width: 414px) {
  .MLK__rows {
    --_keycap-gap: min(var(--_keycap-gap, 2px), 2px);
    --_keycap-height: min(var(--_keycap-height, 42px), 42px);
    --_keycap-max-width: min(var(--_keycap-max-width, 62px), 62px);
  }
  .MLK__toolbar > div > div {
    font-size: 100%;
    padding: 0;
    margin-left: 2px;
    margin-right: 2px;
  }
  .MLK__rows .shift,
  .MLK__rows .action {
    font-size: 65%;
  }
  .MLK__rows .warning svg.svg-glyph {
    width: 14px;
    height: 14px;
    min-height: 14px;
  }
}
@container (max-width: 744px) {
  .MLK__rows {
    --_keycap-gap: min(var(--keycap-gap, 2px), 2px);
    --_keycap-height: min(var(--keycap-height, 52px), 52px);
    --_keycap-max-width: min(var(--keycap-max-width, 62px), 62px);
  }
  .MLK__toolbar > div > div {
    padding-left: 0;
    padding-right: 0;
  }
  .MLK__tooltip::after {
    padding: 8px 16px;
    font-size: 16px;
  }
  .MLK__rows > .row > div.fnbutton {
    font-size: 16px;
  }
  .MLK__rows > .row > div.bigfnbutton {
    font-size: calc(var(--_keycap-extra-small-font-size) / 1.55);
  }
  .MLK__rows > .row > div.small {
    font-size: 13px;
  }
  .MLK__rows > .row > div > aside {
    display: none;
  }
  .MLK__shift {
    display: none;
  }
}
/* Medium breakpoint: larger phones */
@container (max-width: 768px) {
  .MLK__rows {
    --_keycap-height: min(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .row > div > small {
    font-size: 14px;
  }
}
@container (max-width: 1444px) {
  .MLK__rows .if-wide {
    display: none;
  }
}
@media (prefers-color-scheme: dark) {
  .ML__keyboard {
    --_accent-color: var(--keyboard-accent-color, #0b5c9c);
    --_background: var(--keyboard-background, #151515);
    --_border: var(--keyboard-border, transparent);
    --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
    --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
    --keyboard-toolbar-background-hover: #303030;
    --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
    --_keycap-background: var(--keycap-background, #1f2022);
    --_keycap-background-hover: var(--keycap-background, #2f3032);
    --_keycap-border: var(--_keycap-border, transparent);
    --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
    --_keycap-text: var(--keycap-text, #e3e4e8);
    --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
    --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
    --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
    --keycap-secondary-border: transparent;
    --keycap-secondary-border-bottom: transparent;
    --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
    --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
    --_variant-panel-background: var(--variant-panel-background, #303030);
    --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
  }
}
/* Same as the media query, but with a class */
[theme='dark'] .ML__keyboard .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0b5c9c);
  --_background: var(--keyboard-background, #151515);
  --_border: var(--keyboard-border, transparent);
  --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
  --keyboard-toolbar-background-hover: #303030;
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
  --_keycap-background: var(--keycap-background, #1f2022);
  --_keycap-background-hover: var(--keycap-background, #2f3032);
  --_keycap-border: var(--_keycap-border, transparent);
  --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
  --_keycap-text: var(--keycap-text, #e3e4e8);
  --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
  --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
  --keycap-secondary-border: transparent;
  --keycap-secondary-border-bottom: transparent;
  --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
  --_variant-panel-background: var(--variant-panel-background, #303030);
  --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
}
[theme='light'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, white);
  --_keycap-background-hover: var(--keycap-background, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--_keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--_keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_variant-panel-background: var(--variant-panel-background, #fff);
  --_variant-keycap-text: var(--variant-keycap-textvar, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
}
`,Nl;function Tu(at){let lt="";switch(at){case"mathfield-element":lt=`
    :host { display: inline-block; background-color: field; color: fieldtext; border-width: 1px; border-style: solid; border-color: #acacac; border-radius: 2px; padding:4px;}
    :host([hidden]) { display: none; }
    :host([disabled]), :host([disabled]:focus), :host([disabled]:focus-within) { outline: none; opacity:  .5; }
    :host(:focus), :host(:focus-within) {
      outline: Highlight auto 1px;    /* For Firefox */
      outline: -webkit-focus-ring-color auto 1px;
    }
    :host([readonly]:focus), :host([readonly]:focus-within),
    :host([read-only]:focus), :host([read-only]:focus-within) {
      outline: none;
    }
    @media (hover: none) and (pointer: coarse) {
      :host(:not(:focus)) :first-child { pointer-events: none !important; }
    }`;break;case"core":lt=w4;break;case"mathfield":lt=x4;break;case"environment-popover":lt=S4;break;case"suggestion-popover":lt=E4;break;case"keystroke-caption":lt=D4;break;case"virtual-keyboard":lt=_4;break}return lt}function Xp(at){return Nl||(Nl={}),Nl[at]||(Nl[at]=new CSSStyleSheet,Nl[at].replaceSync(Tu(at))),Nl[at]}var Ss;function Es(at){var lt;if(!("adoptedStyleSheets"in document)){if(window.document.getElementById(`mathlive-style-${at}`))return;let ft=window.document.createElement("style");ft.id=`mathlive-style-${at}`,ft.append(window.document.createTextNode(Tu(at))),window.document.head.appendChild(ft);return}if(Ss||(Ss={}),((lt=Ss[at])!=null?lt:0)!==0)Ss[at]+=1;else{let ft=Xp(at);document.adoptedStyleSheets=[...document.adoptedStyleSheets,ft],Ss[at]=1}}function qs(at){if("adoptedStyleSheets"in document&&Ss!=null&&Ss[at]&&(Ss[at]-=1,Ss[at]<=0)){let lt=Nl[at];document.adoptedStyleSheets=document.adoptedStyleSheets.filter(ft=>ft!==lt)}}var Zp=class p2 extends Ir{constructor(lt){var ft;super(wt(bt({},lt),{type:"accent",body:(ft=lt.body)!=null?ft:void 0})),lt.accentChar?this.accent=lt.accentChar:this.svgAccent=lt==null?void 0:lt.svgAccent,this.skipBoundary=!0,this.captureSelection=!0}static fromJson(lt){return new p2(lt)}toJson(){return wt(bt({},super.toJson()),{accentChar:this.accent,svgAccent:this.svgAccent})}render(lt){var ft;let xt=new Dn({parent:lt,mathstyle:"cramp"},this.style),St=(ft=Ir.createBox(xt,this.body))!=null?ft:new Qr("▢",{style:this.style}),Ct=0;!this.hasEmptyBranch("body")&&this.body.length===2&&this.body[1].isCharacterBox()&&(Ct=St.skew);let Tt=Math.min(St.height,El),Pt;if(this.svgAccent)Pt=qp(this.svgAccent),Tt=xt.metrics.bigOpSpacing1-Tt;else if(this.accent){let Kt=new Qr(this.accent,{fontFamily:"Main-Regular"});Kt.italic=0;let Ht=this.accent===8407?" ML__accent-vec":"";Pt=new Qr(new Qr(Kt),{classes:"ML__accent-body"+Ht})}Pt=new ro({shift:0,children:[{box:new Qr(St)},-Tt,{box:Pt,marginLeft:St.left+2*Ct,classes:["ML__center"]}]});let zt=new Qr(Pt,{type:"lift"});return this.caret&&(zt.caret=this.caret),this.bind(xt,zt.wrap(xt)),this.attachSupsub(xt,{base:zt})}},Yp={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},Qp=Object.fromEntries(Object.entries(Yp).map(([at,lt])=>[lt,at]));function Jp(at){var lt;return(lt={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"∣":8739,"∥":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[at])!=null?lt:at.codePointAt(0)}function C4(at,lt,ft,xt){var St;let Ct=new Qr(Jp(at),{fontFamily:"Main-Regular",isSelected:xt.isSelected,classes:"ML__small-delim "+((St=xt.classes)!=null?St:"")}).wrap(lt);return ft&&Ct.setTop((1-lt.scalingFactor)*ts),Ct}function Fy(at,lt,ft,xt,St){var Ct,Tt;let Pt=new Dn({parent:xt,mathstyle:"textstyle"},St==null?void 0:St.style),zt=new Qr(Jp(at),{fontFamily:`Size${lt}-Regular`,isSelected:St.isSelected,classes:((Ct=St.classes)!=null?Ct:"")+` ML__delim-size${lt}`,type:(Tt=St.type)!=null?Tt:"ignore"}).wrap(Pt);return ft&&zt.setTop((1-Pt.scalingFactor)*ts),zt}function Py(at,lt,ft,xt,St){var Ct;let Tt,Pt,zt,Kt;Tt=zt=Kt=Jp(at),Pt=null;let Ht="Size1-Regular";at==="\\vert"||at==="\\lvert"||at==="\\rvert"||at==="\\mvert"||at==="\\mid"?zt=Tt=Kt=8739:at==="\\Vert"||at==="\\lVert"||at==="\\rVert"||at==="\\mVert"||at==="\\|"?zt=Tt=Kt=8741:at==="\\uparrow"?zt=Kt=9168:at==="\\Uparrow"?zt=Kt=8214:at==="\\downarrow"?Tt=zt=9168:at==="\\Downarrow"?Tt=zt=8214:at==="\\updownarrow"?(Tt=8593,zt=9168,Kt=8595):at==="\\Updownarrow"?(Tt=8657,zt=8214,Kt=8659):at==="["||at==="\\lbrack"?(Tt=9121,zt=9122,Kt=9123,Ht="Size4-Regular"):at==="]"||at==="\\rbrack"?(Tt=9124,zt=9125,Kt=9126,Ht="Size4-Regular"):at==="\\lfloor"||at==="⌊"?(zt=Tt=9122,Kt=9123,Ht="Size4-Regular"):at==="\\lceil"||at==="⌈"?(Tt=9121,zt=Kt=9122,Ht="Size4-Regular"):at==="\\rfloor"||at==="⌋"?(zt=Tt=9125,Kt=9126,Ht="Size4-Regular"):at==="\\rceil"||at==="⌉"?(Tt=9124,zt=Kt=9125,Ht="Size4-Regular"):at==="("||at==="\\lparen"?(Tt=9115,zt=9116,Kt=9117,Ht="Size4-Regular"):at===")"||at==="\\rparen"?(Tt=9118,zt=9119,Kt=9120,Ht="Size4-Regular"):at==="\\{"||at==="\\lbrace"?(Tt=9127,Pt=9128,Kt=9129,zt=9130,Ht="Size4-Regular"):at==="\\}"||at==="\\rbrace"?(Tt=9131,Pt=9132,Kt=9133,zt=9130,Ht="Size4-Regular"):at==="\\lgroup"||at==="⟮"?(Tt=9127,Kt=9129,zt=9130,Ht="Size4-Regular"):at==="\\rgroup"||at==="⟯"?(Tt=9131,Kt=9133,zt=9130,Ht="Size4-Regular"):at==="\\lmoustache"||at==="⎰"?(Tt=9127,Kt=9133,zt=9130,Ht="Size4-Regular"):at==="\\rmoustache"||at==="⎱"?(Tt=9131,Kt=9129,zt=9130,Ht="Size4-Regular"):at==="\\surd"?(Tt=57345,Kt=9143,zt=57344,Ht="Size4-Regular"):at==="\\ulcorner"?(Tt=9484,zt=Kt=32):at==="\\urcorner"?(Tt=9488,zt=Kt=32):at==="\\llcorner"?(Kt=9492,zt=Tt=32):at==="\\lrcorner"&&(Tt=9496,zt=Tt=32);let Jt=Dl(Tt,Ht),fr=Jt.height+Jt.depth,hr=Dl(zt,Ht),mr=hr.height+hr.depth,Rr=Dl(Kt,Ht),Yr=Rr.height+Rr.depth,Pr=0,Ur=1;if(Pt!==null){let ba=Dl(Pt,Ht);Pr=ba.height+ba.depth,Ur=2}let un=fr+Yr+Pr,Zr=Math.max(0,Math.ceil((lt-un)/(Ur*mr))),dn=un+Zr*Ur*mr,an=ts;ft&&(an=an*xt.scalingFactor);let Mn=dn/2-an,Pn=.008,_a=[];_a.push({box:new Qr(Kt,{fontFamily:Ht})}),_a.push(-Pn);let Jr=new Qr(zt,{fontFamily:Ht});if(Pt===null)for(let ba=0;ba<Zr;ba++)_a.push({box:Jr});else{for(let ba=0;ba<Zr;ba++)_a.push({box:Jr});_a.push(-Pn),_a.push({box:new Qr(Pt,{fontFamily:Ht})}),_a.push(-Pn);for(let ba=0;ba<Zr;ba++)_a.push({box:Jr})}_a.push(-Pn),_a.push({box:new Qr(Tt,{fontFamily:Ht})});let jo="";Ht==="Size1-Regular"?jo=" delim-size1":Ht==="Size4-Regular"&&(jo=" delim-size4");let hs=new ro({bottom:Mn,children:_a},{classes:jo});return new Qr(hs,wt(bt({},St??{}),{classes:((Ct=St==null?void 0:St.classes)!=null?Ct:"")+" ML__delim-mult"}))}var Ly=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","⌊","⌋","⌈","⌉"]),M4=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","⟮","⟯","⎰","⎱"]),Ry=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),$4=[0,1.2,1.8,2.4,3];function A4(at,lt,ft,xt){return at===void 0||at==="."?Tl(ft,xt.classes):(at==="<"||at==="\\lt"||at==="⟨"?at="\\langle":(at===">"||at==="\\gt"||at==="⟩")&&(at="\\rangle"),Ly.has(at)||Ry.has(at)?Fy(at,lt,!1,ft,xt):M4.has(at)?Py(at,$4[lt],!1,ft,xt):null)}var k4=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],N4=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],T4=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function B4(at){return at.type==="small"?"Main-Regular":at.type==="large"?"Size"+at.size+"-Regular":(at.type,"Size4-Regular")}function O4(at,lt,ft,xt){let St={"-4":0,"-3":1,0:2}[xt.mathstyle.sizeDelta];for(let Ct=St;Ct<ft.length&&ft[Ct].type!=="stack";Ct++){let Tt=Dl(at,B4(ft[Ct]));if(Tt.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let Pt=Tt.height+Tt.depth;if(ft[Ct].type==="small"&&(ft[Ct].mathstyle==="scriptscriptstyle"?Pt*=Math.max(p0[Math.max(1,xt.size-2)],xt.minFontScale):ft[Ct].mathstyle==="scriptstyle"&&(Pt*=Math.max(p0[Math.max(1,xt.size-1)],xt.minFontScale))),Pt>lt)return ft[Ct]}return ft[ft.length-1]}function em(at,lt,ft,xt,St,Ct){if(!lt||lt.length===0||lt===".")return Tl(St);lt==="<"||lt==="\\lt"?lt="\\langle":(lt===">"||lt==="\\gt")&&(lt="\\rangle");let Tt;Ry.has(lt)?Tt=k4:Ly.has(lt)?Tt=T4:Tt=N4;let Pt=O4(Jp(lt),ft,Tt,St),zt=new Dn({parent:St,mathstyle:Pt.mathstyle},Ct==null?void 0:Ct.style);return Pt.type==="small"?C4(lt,zt,xt,wt(bt({},Ct),{type:at})):Pt.type==="large"?Fy(lt,Pt.size,xt,zt,wt(bt({},Ct),{type:at})):(Pt.type,Py(lt,ft,xt,zt,wt(bt({},Ct),{type:at})))}function Bu(at,lt,ft,xt,St,Ct){if(lt===".")return Tl(St,Ct==null?void 0:Ct.classes);let Tt=ts*St.scalingFactor,Pt=901,zt=5/tu,Kt=Math.max(ft-Tt,xt+Tt),Ht=Math.max(Kt/500*Pt,2*Kt-zt);return em(at,lt,Ht,!0,St,Ct)}function Tl(at,lt){return new Qr(null,{classes:" nulldelimiter "+(lt??""),type:"ignore",width:at.getRegisterAsEm("nulldelimiterspace")}).wrap(new Dn({parent:at,mathstyle:"textstyle"}))}var Ds=class m2 extends Ir{constructor(lt){var ft;super({type:"placeholder",command:"\\placeholder",mode:(ft=lt==null?void 0:lt.mode)!=null?ft:"math",style:lt==null?void 0:lt.style}),this.captureSelection=!0}static fromJson(lt){return new m2(lt)}toJson(){return super.toJson()}render(lt){let ft;return this.value=lt.placeholderSymbol,typeof lt.renderPlaceholder=="function"?ft=lt.renderPlaceholder(lt):ft=this.createBox(lt),this.caret&&(ft.classes+=" ML__placeholder-selected"),ft}_serialize(){return"\\placeholder{}"}},zy=["matrix","matrix*","pmatrix","pmatrix*","bmatrix","bmatrix*","Bmatrix","Bmatrix*","vmatrix","vmatrix*","Vmatrix","Vmatrix*"],Iy=["cases","dcases","rcases"],jy=["align","align*","aligned","gather","gathered","split"],F4=["array","subequations","eqnarray"];function P4(at){return F4.concat(jy).concat(Iy).concat(zy).includes(at)}function qy(at){return zy.includes(at)}function L4(at){return Iy.includes(at)}function R4(at){return jy.includes(at)}function z4(at,lt,ft){let xt=0;for(let Kt of ft)"align"in Kt&&(xt+=1);let St=0,Ct=[];for(let Kt of lt){let Ht=0;for(St=Math.max(St,Math.min(Kt.length,xt));Ht<Kt.length;){let Jt=[],fr=Math.min(Kt.length,Ht+xt);for(;Ht<fr;){let hr=Kt[Ht];hr.length===0?Jt.push([new Ir({type:"first",mode:at.mode})]):hr[0].type!=="first"?Jt.push([new Ir({type:"first",mode:at.mode}),...hr]):(hr.slice(1).some(mr=>mr.type==="first"),Jt.push(hr)),Ht+=1}Ct.push(Jt)}}Ct.length>0&&Ct[Ct.length-1].length===1&&Ct[Ct.length-1][0].length===1&&Ct[Ct.length-1][0][0].type==="first"&&Ct.pop();let Tt=[];for(let Kt of Ct){if(Kt.length!==St)for(let Ht=Kt.length;Ht<St;Ht++)Kt.push([new Ir({type:"first",mode:at.mode}),new Ds]);Tt.push(Kt)}let Pt=0,zt=0;for(let Kt of Tt){zt=0;for(let Ht of Kt){for(let Jt of Ht)Jt.parent=at,Jt.parentBranch=[Pt,zt];zt+=1}Pt+=1}return at.isDirty=!0,Tt}var Tn=class h2 extends Ir{constructor(lt,ft,xt,St={}){var Ct;super({type:"array"}),this.environmentName=lt,this.rowGaps=xt,St.mathstyleName&&(this.mathstyleName=St.mathstyleName),St.columns&&(St.columns.length===0?this.colFormat=[{align:"l"}]:this.colFormat=St.columns),this.colFormat||(this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]),this.array=z4(this,ft,this.colFormat),St.leftDelim&&(this.leftDelim=St.leftDelim),St.rightDelim&&(this.rightDelim=St.rightDelim),St.arraycolsep!==void 0&&(this.arraycolsep=St.arraycolsep),this.colSeparationType=St.colSeparationType,St.arraystretch!==void 0&&(this.arraystretch=St.arraystretch),this.minColumns=(Ct=St.minColumns)!=null?Ct:1}static fromJson(lt){return new h2(lt.environmentName,lt.array,lt.rowGaps,lt)}toJson(){let lt=wt(bt({},super.toJson()),{environmentName:this.environmentName,array:this.array.map(ft=>ft.map(xt=>xt.map(St=>St.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType});return this.arraystretch!==void 0&&(lt.arraystretch=this.arraystretch),this.arraycolsep!==void 0&&(lt.arraycolsep=this.arraycolsep),this.leftDelim&&(lt.leftDelim=this.leftDelim),this.rightDelim&&(lt.rightDelim=this.rightDelim),lt}branch(lt){var ft;if(Vp(lt))return(ft=this.array[lt[0]][lt[1]])!=null?ft:void 0}createBranch(lt){var ft;return Vp(lt)?(this.isDirty=!0,(ft=this.branch(lt))!=null?ft:[]):[]}get rowCount(){return this.array.length}get colCount(){return this.array[0].length}get maxColumns(){return this.colFormat.filter(lt=>!!lt.align).length}removeBranch(lt){if(Ml(lt))return super.removeBranch(lt);let ft=this.branch(lt);return this.array[lt[0]][lt[1]]=void 0,ft.forEach(xt=>{xt.parent=void 0,xt.parentBranch=void 0}),ft[0].type,ft.shift(),this.isDirty=!0,ft}get hasChildren(){return this.children.length>0}get children(){let lt=[];for(let ft of this.array)for(let xt of ft)if(xt)for(let St of xt)lt.push(...St.children),lt.push(St);return[...lt,...super.children]}render(lt){var ft,xt,St,Ct,Tt,Pt;let zt=new Dn({parent:lt,mathstyle:this.mathstyleName},this.style),Kt=zt.getRegisterAsEm("arrayrulewidth"),Ht=zt.getRegisterAsEm("arraycolsep"),Jt=zt.getRegisterAsEm("doublerulesep"),fr=(xt=(ft=this.arraystretch)!=null?ft:zt.getRegisterAsNumber("arraystretch"))!=null?xt:1,hr=typeof this.arraycolsep=="number"?this.arraycolsep:Ht;this.colSeparationType==="small"&&(hr=.2778*(new Dn({parent:lt,mathstyle:"scriptstyle"}).scalingFactor/lt.scalingFactor));let mr=fr*K2,Rr=.7*mr,Yr=.3*mr,Pr=0,Ur=[],un=0,Zr=this.array.length;for(let Ln=0;Ln<Zr;++Ln){let Yn=this.array[Ln];un=Math.max(un,Yn.length);let io=new Dn({parent:zt,mathstyle:this.mathstyleName},this.style),vs=Rr/io.scalingFactor,yo=Yr/io.scalingFactor,Zs={cells:[],height:0,depth:0,pos:0};for(let kS of Yn){let J0=(St=Ir.createBox(io,kS,{type:"ignore"}))!=null?St:new Qr(null,{type:"ignore"});yo=Math.max(yo,J0.depth),vs=Math.max(vs,J0.height),Zs.cells.push(J0)}let tp=(Ct=_y(this.rowGaps[Ln]))!=null?Ct:0;tp>0&&(tp+=Yr,yo=Math.max(yo,tp),tp=0),Ln<Zr-1&&!qy(this.environmentName)&&this.environmentName!=="cases"&&this.environmentName!=="array"&&(yo+=zt.getRegisterAsEm("jot")),Zs.height=vs,Zs.depth=yo,Pr+=vs,Zs.pos=Pr,Pr+=yo+tp,Ur.push(Zs)}let dn=Pr/2+ts,an=[];for(let Ln=0;Ln<un;Ln++){let Yn=[];for(let io of Ur){let vs=io.cells[Ln];vs.depth=io.depth,vs.height=io.height,Yn.push({box:vs,shift:io.pos-dn})}Yn.length>0&&an.push(new ro({individualShift:Yn}))}let Mn=[],Pn=!1,_a=!1,Jr=0,jo=!this.leftDelim,{colFormat:hs}=this;for(let Ln of hs){if("align"in Ln&&Jr>=an.length)break;if("align"in Ln)Pn?Mn.push(rm(2*hr)):(_a||jo)&&Mn.push(rm(hr)),Mn.push(new Qr(an[Jr],{classes:"col-align-"+Ln.align})),Jr++,Pn=!0,_a=!1,jo=!1;else if("gap"in Ln){if(typeof Ln.gap=="number")Mn.push(rm(Ln.gap));else{let Yn=I4(lt,Ur,dn,Ln.gap);Yn&&Mn.push(Yn)}Pn=!1,_a=!1,jo=!1}else if("separator"in Ln){let Yn=new Qr(null,{classes:"vertical-separator"});Yn.setStyle("height",Pr,"em"),Yn.setStyle("border-right",`${Kt}em ${Ln.separator} currentColor`),Yn.setStyle("vertical-align",-(Pr-dn),"em");let io=0;_a?io=Jt-Kt:Pn&&(io=hr-Kt),Yn.left=io,Mn.push(Yn),Pn=!1,_a=!0,jo=!1}}Pn&&!this.rightDelim&&Mn.push(rm(hr));let ba=new Qr(Mn,{classes:"mtable"});if((!this.leftDelim||this.leftDelim===".")&&(!this.rightDelim||this.rightDelim==="."))return this.caret&&(ba.caret=this.caret),this.bind(lt,ba);let Xs=ba.height,qo=ba.depth,Po=this.bind(lt,new Qr([this.bind(lt,Bu("open",(Tt=this.leftDelim)!=null?Tt:".",Xs,qo,zt,{isSelected:this.isSelected})),ba,this.bind(lt,Bu("close",(Pt=this.rightDelim)!=null?Pt:".",Xs,qo,zt,{isSelected:this.isSelected}))],{type:"ord"}));return Po?(this.caret&&(Po.caret=this.caret),this.bind(lt,this.attachSupsub(lt,{base:Po}))):null}_serialize(lt){var ft;let xt=[`\\begin{${this.environmentName}}`];if(this.environmentName==="array"){if(xt.push("{"),this.colFormat!==void 0)for(let St of this.colFormat)"align"in St&&typeof St.align=="string"?xt.push(St.align):"separator"in St&&St.separator==="solid"?xt.push("|"):"separator"in St&&St.separator==="dashed"&&xt.push(":");xt.push("}")}for(let St=0;St<this.array.length;St++){for(let Ct=0;Ct<this.array[St].length;Ct++)Ct>0&&xt.push(" & "),xt.push(Ir.serialize(this.array[St][Ct],lt));if(St<this.array.length-1){let Ct=this.rowGaps[St];Ct!=null&&Ct.dimension?xt.push(`\\\\[${Ct.dimension} ${(ft=Ct.unit)!=null?ft:"pt"}] `):xt.push("\\\\ ")}}return xt.push(`\\end{${this.environmentName}}`),Cn(xt)}getCell(lt,ft){return this.array[lt][ft]}setCell(lt,ft,xt){this.type==="array"&&Array.isArray(this.array)&&this.array[lt][ft];for(let Ct of this.array[lt][ft])Ct.parent=void 0,Ct.parentBranch=void 0;let St=xt;(xt.length===0||xt[0].type!=="first")&&(St=[new Ir({type:"first",mode:this.mode}),...xt]),this.array[lt][ft]=St;for(let Ct of St)Ct.parent=this,Ct.parentBranch=[lt,ft];this.isDirty=!0}addRowBefore(lt){this.type==="array"&&Array.isArray(this.array);let ft=[];for(let xt=0;xt<this.colCount;xt++)ft.push(tm(this));this.array.splice(lt,0,ft);for(let xt=lt;xt<this.rowCount;xt++)for(let St=0;St<this.colCount;St++){let Ct=this.array[xt][St];if(Ct)for(let Tt of Ct)Tt.parentBranch=[xt,St]}this.isDirty=!0}addRowAfter(lt){this.type==="array"&&Array.isArray(this.array);let ft=[];for(let xt=0;xt<this.colCount;xt++)ft.push(tm(this));this.array.splice(lt+1,0,ft);for(let xt=lt+1;xt<this.rowCount;xt++)for(let St=0;St<this.colCount;St++){let Ct=this.array[xt][St];if(Ct)for(let Tt of Ct)Tt.parentBranch=[xt,St]}this.isDirty=!0}removeRow(lt){this.type==="array"&&Array.isArray(this.array)&&this.rowCount>lt;let ft=this.array.splice(lt,1);for(let xt of ft)for(let St of xt)if(St)for(let Ct of St)Ct.parent=void 0,Ct.parentBranch=void 0;for(let xt=lt;xt<this.rowCount;xt++)for(let St=0;St<this.colCount;St++){let Ct=this.array[xt][St];if(Ct)for(let Tt of Ct)Tt.parentBranch=[xt,St]}this.isDirty=!0}addColumnBefore(lt){this.type==="array"&&Array.isArray(this.array);for(let ft of this.array)ft.splice(lt,0,tm(this));for(let ft=0;ft<this.rowCount;ft++)for(let xt=lt;xt<this.colCount;xt++){let St=this.array[ft][xt];if(St)for(let Ct of St)Ct.parentBranch=[ft,xt]}this.isDirty=!0}addColumnAfter(lt){this.type==="array"&&Array.isArray(this.array);for(let ft of this.array)ft.splice(lt+1,0,tm(this));for(let ft=0;ft<this.rowCount;ft++)for(let xt=lt+1;xt<this.colCount;xt++){let St=this.array[ft][xt];if(St)for(let Ct of St)Ct.parentBranch=[ft,xt]}this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(lt){this.type==="array"&&Array.isArray(this.array)&&this.colCount>lt;for(let ft of this.array){let xt=ft.splice(lt,1);for(let St of xt)if(St)for(let Ct of St)Ct.parent=void 0,Ct.parentBranch=void 0}for(let ft=0;ft<this.rowCount;ft++)for(let xt=lt;xt<this.colCount;xt++){let St=this.array[ft][xt];if(St)for(let Ct of St)Ct.parentBranch=[ft,xt]}this.isDirty=!0}get cells(){let lt=[];for(let ft of this.array)for(let xt of ft)xt&&lt.push(xt.filter(St=>St.type!=="first"));return lt}};function tm(at){let lt=new Ir({type:"first",mode:at.mode});lt.parent=at;let ft=new Ds;return ft.parent=at,[lt,ft]}function rm(at){return new Qr(null,{classes:"arraycolsep",width:at})}function I4(at,lt,ft,xt){if(!xt)return null;let St=[];for(let Ct of lt){let Tt=Ir.createBox(at,xt,{type:"ignore"});Tt&&(Tt.depth=Ct.depth,Tt.height=Ct.height,St.push({box:Tt,shift:Ct.pos-ft}))}return new ro({individualShift:St}).wrap(at)}var Us=class v2 extends Ir{constructor(lt){super({mode:lt.mode,command:lt.command,style:lt.style,body:lt.body,type:"box"}),this.framecolor=lt.framecolor,this.backgroundcolor=lt.backgroundcolor,this.padding=lt.padding,this.offset=lt.offset,this.border=lt.border}static fromJson(lt){return new v2(lt)}toJson(){return wt(bt({},super.toJson()),{framecolor:this.framecolor,backgroundcolor:this.backgroundcolor,padding:this.padding,offset:this.offset,border:this.border})}render(lt){var ft,xt,St,Ct;let Tt=Ir.createBox(lt,this.body,{type:"lift"});if(!Tt)return null;let Pt=lt.toEm((ft=this.offset)!=null?ft:{dimension:0});Tt.depth+=Pt;let zt=new Dn({parent:lt},this.style),Kt=zt.toEm((xt=this.padding)!=null?xt:{register:"fboxsep"}),Ht=new Qr(null,{classes:"ML__box"});Ht.height=Tt.height+Kt,Ht.depth=Tt.depth+Kt,Ht.setStyle("box-sizing","border-box"),Ht.setStyle("position","absolute"),Ht.setStyle("top",-Kt+.3,"em"),Ht.setStyle("height",Ht.height+Ht.depth,"em"),Ht.setStyle("left",0),Ht.setStyle("width","100%"),this.backgroundcolor&&Ht.setStyle("background-color",(St=zt.toColor(this.backgroundcolor))!=null?St:"transparent"),this.framecolor&&Ht.setStyle("border",`${zt.getRegisterAsEm("fboxrule",2)}em solid ${(Ct=zt.toColor(this.framecolor))!=null?Ct:"black"}`),this.border&&Ht.setStyle("border",this.border),Tt.setStyle("display","inline-block"),Tt.setStyle("position","relative"),Tt.setStyle("height",Tt.height+Tt.depth,"em"),Tt.setStyle("vertical-align",-Tt.height,"em");let Jt=new Qr([Ht,Tt],{type:"lift"});return Jt.setStyle("display","inline-block"),Jt.setStyle("position","relative"),Jt.setStyle("line-height",0),Jt.height=Tt.height+Kt+(Pt>0?Pt:0),Jt.depth=Tt.depth+Kt+(Pt<0?-Pt:0),Jt.setStyle("padding-left",Kt,"em"),Jt.setStyle("padding-right",Kt,"em"),Jt.setStyle("height",Tt.height+Tt.depth+2*Kt+Math.abs(Pt),"em"),Jt.setStyle("margin-top",-Kt,"em"),Jt.setStyle("top",Tt.depth-Tt.height+2*Kt-Pt,"em"),Jt.setStyle("vertical-align",Tt.depth+2*Kt,"em"),this.caret&&(Jt.caret=this.caret),this.attachSupsub(lt,{base:Jt})}_serialize(lt){return lt.skipStyles?Cn([this.bodyToLatex(lt),this.supsubToLatex(lt)]):super._serialize(lt)}},Uy=class g2 extends Ir{constructor(lt,ft){var xt;super({type:"composition",mode:(xt=ft==null?void 0:ft.mode)!=null?xt:"math",value:lt})}static fromJson(lt){return new g2(lt.value,lt)}toJson(){return super.toJson()}get computedStyle(){return{}}render(lt){let ft=new Qr(this.value,{classes:"ML__composition",type:"composition"});return this.bind(lt,ft),this.caret&&(ft.caret=this.caret),ft}_serialize(lt){return""}},Bl=class y2 extends Ir{constructor(lt){super({type:"error",value:lt,command:lt,mode:"math"}),this.verbatimLatex=lt}static fromJson(lt){return new y2(lt.command)}toJson(){return super.toJson()}render(lt){let ft=this.createBox(lt,{classes:"ML__error"});return this.caret&&(ft.caret=this.caret),ft}},Ky=class b2 extends Ir{constructor(lt,ft,xt){super({type:"group",mode:ft,style:xt}),this.body=lt,this.boxType=lt.length>1?"ord":"ignore",this.skipBoundary=!0,this.displayContainsHighlight=!1,lt&&lt.length===1&&lt[0].command===","&&(this.captureSelection=!0)}static fromJson(lt){return new b2(lt.body,lt.mode,lt.style)}render(lt){let ft=Ir.createBox(lt,this.body,{type:this.boxType});return ft?(this.caret&&(ft.caret=this.caret),this.bind(lt,ft)):null}_serialize(lt){if(!(lt.expandMacro||lt.skipStyles)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let ft=Vr(this.command,this.mode);return ft!=null&&ft.serialize?ft.serialize(this,lt):`{${this.bodyToLatex(lt)}}`}},Xn=class x2 extends Ir{constructor(lt,ft,xt){super({type:"leftright",style:xt.style,displayContainsHighlight:!0}),this.variant=lt,this.body=ft,this.leftDelim=xt.leftDelim,this.rightDelim=xt.rightDelim}static fromJson(lt){var ft;return new x2((ft=lt.variant)!=null?ft:"",lt.body,lt)}toJson(){let lt=super.toJson();return this.variant&&(lt.variant=this.variant),this.leftDelim&&(lt.leftDelim=this.leftDelim),this.rightDelim&&(lt.rightDelim=this.rightDelim),lt}_serialize(lt){var ft,xt;let St=this.matchingRightDelim();return this.variant==="left...right"?Cn(["\\left",(ft=this.leftDelim)!=null?ft:".",this.bodyToLatex(lt),"\\right",St]):this.variant==="mleft...mright"?Cn(["\\mleft",(xt=this.leftDelim)!=null?xt:".",this.bodyToLatex(lt),"\\mright",St]):Cn([!this.leftDelim||this.leftDelim==="."?"":this.leftDelim,this.bodyToLatex(lt),St])}matchingRightDelim(){var lt,ft;if(this.rightDelim&&this.rightDelim!=="?")return this.rightDelim;let xt=(lt=this.leftDelim)!=null?lt:".";return(ft=Yp[xt])!=null?ft:xt}render(lt){var ft,xt,St;let Ct=new Dn({parent:lt},this.style);this.body;let Tt=new Dn({parent:lt,mathstyle:"textstyle"},this.style),Pt=(ft=Ir.createBox(Ct,this.body,{type:"inner"}))!=null?ft:new Qr(null,{type:"inner"}),zt=Pt.height/Tt.scalingFactor,Kt=Pt.depth/Tt.scalingFactor,Ht=[];if(this.leftDelim&&Ht.push(this.bind(Tt,Bu("open",this.leftDelim,zt,Kt,Tt,{isSelected:this.isSelected,classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),Pt&&(Vy(Pt.children,this,Ct,zt,Kt),Ht.push(Pt)),this.rightDelim){let hr=this.containsCaret?" ML__contains-caret":"",mr=this.rightDelim;mr==="?"&&(Ct.smartFence?(mr=this.matchingRightDelim(),hr+=" ML__smart-fence__close"):mr="."),Ht.push(this.bind(Tt,Bu("close",mr,zt,Kt,Tt,{isSelected:this.isSelected,classes:hr+" ML__close",mode:this.mode,style:this.style})))}let Jt=(St=this.variant==="mleft...mright"||((xt=this.leftSibling)==null?void 0:xt.isFunction))!=null?St:!1,fr=new Qr(Ht,{type:Jt?"close":"inner",classes:"left-right"});return this.caret&&(fr.caret=this.caret),this.bind(Ct,fr.wrap(Ct))}};function Vy(at,lt,ft,xt,St){if(at)for(let Ct=0;Ct<at.length;Ct++){let Tt=at[Ct];Tt.type==="middle"?(at[Ct]=lt.bind(ft,Bu("inner",Tt.value,xt,St,ft,{isSelected:lt.isSelected})),at[Ct].caret=Tt.caret,at[Ct].isSelected=Tt.isSelected,at[Ct].cssId=Tt.cssId,at[Ct].htmlData=Tt.htmlData,at[Ct].htmlStyle=Tt.htmlStyle,at[Ct].attributes=Tt.attributes,at[Ct].cssProperties=Tt.cssProperties):Tt.children&&Vy(Tt.children,lt,ft,xt,St)}}var Hy=class w2 extends Ir{constructor(lt,ft){var xt;super({type:"macro",command:lt,style:ft.style}),this.body=ft.body,ft.captureSelection===void 0?ft.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=ft.captureSelection,this.macroArgs=ft.args,this.expand=(xt=ft.expand)!=null?xt:!1}static fromJson(lt){return new w2(lt.command,lt)}toJson(){let lt=super.toJson();return this.expand&&(lt.expand=!0),this.captureSelection!==void 0&&(lt.captureSelection=this.captureSelection),this.macroArgs&&(lt.args=this.macroArgs),lt}_serialize(lt){var ft;return lt.expandMacro&&this.expand?this.bodyToLatex(lt):this.command+((ft=this.macroArgs)!=null?ft:"")}render(lt){let ft=Ir.createBox(lt,this.body);return ft?(this.caret&&(ft.caret=this.caret),this.bind(lt,ft)):null}},j4=class S2 extends Ir{constructor(){super({type:"macro-argument"})}static fromJson(lt){return new S2}toJson(){return super.toJson()}_serialize(lt){return""}render(lt){return null}},Wy=class E2 extends Ir{constructor(lt,ft,xt=!1,St,Ct){var Tt;super({type:"prompt",mode:(Tt=Ct==null?void 0:Ct.mode)!=null?Tt:"math",style:Ct==null?void 0:Ct.style,command:"\\placeholder"}),this.body=St,this.correctness=ft,this.placeholderId=lt,this.locked=xt,this.captureSelection=this.locked}static fromJson(lt){return new E2(lt.placeholderId,lt.correctness,lt.locked,lt.body,lt)}toJson(){let lt=super.toJson();return this.placeholderId&&(lt.placeholderId=this.placeholderId),this.body||delete lt.body,this.body&&(lt.body=this.body.filter(ft=>ft.type!=="first").map(ft=>ft.toJson())),this.correctness&&(lt.correctness=this.correctness),lt.locked=this.locked,lt}render(lt){let ft=new Dn({parent:lt}),xt=ft.getRegisterAsEm("fboxsep"),St=xt,Ct=Ir.createBox(lt,this.body);if(!Ct)return null;Ct.height||(Ct.height=.5),Ct.setStyle("vertical-align",-Ct.height,"em"),this.correctness==="correct"?Ct.setStyle("color","var(--correct-color, var(--ML__correct-color))"):this.correctness==="incorrect"&&Ct.setStyle("color","var(--incorrect-color, var(--ML__incorrect-color))");let Tt=new Qr(Ct,{type:"ord"}),Pt="ML__prompt ";this.locked?Pt+=" ML__lockedPromptBox ":Pt+=" ML__editablePromptBox ",this.correctness==="correct"?Pt+=" ML__correctPromptBox ":this.correctness==="incorrect"&&(Pt+=" ML__incorrectPromptBox "),this.containsCaret&&(Pt+=" ML__focusedPromptBox ");let zt=new Qr(null,{classes:Pt});zt.height=Tt.height+St,zt.depth=Tt.depth+St,zt.setStyle("box-sizing","border-box"),zt.setStyle("position","absolute"),zt.setStyle("height",Tt.height+Tt.depth+2*St,"em"),St===0?zt.setStyle("width","100%"):(zt.setStyle("width",`calc(100% + ${2*St}em)`),zt.setStyle("top",xt,"em"),zt.setStyle("left",-St,"em")),(!this.body||this.body.length===1)&&(zt.setStyle("width",`calc(100% + ${3*St}em)`),zt.setStyle("left",-1.5*St,"em"));let Kt="";this.correctness==="incorrect"&&(Kt+='<line x1="3%"  y1="97%" x2="97%" y2="3%" stroke-width="0.5" stroke="var(--incorrect-color, var(--ML__incorrect-color))" stroke-linecap="round" />'),Kt&&Ey(zt,Kt,""),Tt.setStyle("display","inline-block"),Tt.setStyle("height",Ct.height+Ct.depth,"em"),Tt.setStyle("vertical-align",-St,"em");let Ht=new Qr([zt,Tt],{classes:"ML__prompt-atom"});return Ht.setStyle("position","relative"),Ht.setStyle("display","inline-block"),Ht.setStyle("line-height",0),Ht.height=Tt.height+St+.2,Ht.depth=Tt.depth+St,Ht.left=St,Ht.right=St,Ht.setStyle("height",Tt.height+St,"em"),Ht.setStyle("top",Tt.depth-Tt.height,"em"),Ht.setStyle("vertical-align",Tt.depth+St,"em"),Ht.setStyle("margin-left",.5,"em"),Ht.setStyle("margin-right",.5,"em"),this.caret&&(Ht.caret=this.caret),this.bind(ft,this.attachSupsub(lt,{base:Ht}))}_serialize(lt){var ft;let xt=(ft=this.bodyToLatex(lt))!=null?ft:"",St="\\placeholder";return this.placeholderId&&(St+=`[${this.placeholderId}]`),this.correctness==="correct"?St+="[correct]":this.correctness==="incorrect"&&(St+="[incorrect]"),this.locked&&(St+="[locked]"),jn(St,xt)}},nm=class D2 extends Ir{constructor(lt){super({type:"subsup",style:lt==null?void 0:lt.style}),this.subsupPlacement="auto"}static fromJson(lt){let ft=new D2(lt);for(let xt of nu)lt[xt]&&ft.setChildren(lt[xt],xt);return ft}render(lt){var ft;let xt=new Dn({parent:lt,isPhantom:!0}),St=this.leftSibling,Ct=(ft=St.render(xt))!=null?ft:new Qr(null),Tt=new Qr(null,{height:Ct.height,depth:Ct.depth});return this.attachSupsub(lt,{base:Tt,isCharacterBox:St.isCharacterBox(),type:"ignore"})}_serialize(lt){return this.supsubToLatex(lt)}};function au(at){return at?!/^(<$$>|<$>|<space>|<{>|<}>|#[0-9\?]|\\.+)$/.test(at):!1}var Gy=class{constructor(at,lt,ft){this.errors=[],this.index=0,this.endCount=0;var xt,St,Ct,Tt;ft!=null||(ft={}),this.tokens=at,this.context=lt instanceof Dn&&!(ft!=null&&ft.parseMode)&&!ft.mathstyle?lt:new Dn({from:lt,mathstyle:ft.mathstyle},ft.style),this.args=(xt=ft.args)!=null?xt:void 0,this.smartFence=this.context.smartFence,this.parsingContext={parent:void 0,mathlist:[],style:(St=ft.style)!=null?St:{},parseMode:(Ct=ft.parseMode)!=null?Ct:"math",mathstyle:(Tt=ft.mathstyle)!=null?Tt:"displaystyle",tabular:!1}}beginContext(at){var lt,ft,xt;let St=this.parsingContext,Ct={parent:St,mathlist:[],style:bt({},St.style),parseMode:(lt=at==null?void 0:at.mode)!=null?lt:St.parseMode,mathstyle:(ft=at==null?void 0:at.mathstyle)!=null?ft:St.mathstyle,tabular:(xt=at==null?void 0:at.tabular)!=null?xt:!1};this.parsingContext=Ct}endContext(){this.parsingContext=this.parsingContext.parent}onError(at){this.errors.push(bt({before:Cu(this.tokens.slice(this.index,this.index+10)),after:Cu(this.tokens.slice(Math.max(0,this.index-10),this.index))},at))}get mathlist(){return this.parsingContext.mathlist}set mathlist(at){this.parsingContext.mathlist=at}get parseMode(){return this.parsingContext.parseMode}set parseMode(at){this.parsingContext.parseMode=at}get tabularMode(){return this.parsingContext.tabular}get style(){let at=this.parsingContext;for(;at;){if(at.style)return bt({},at.style);at=at.parent}return{}}set style(at){this.parsingContext.style=at}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}next(){this.index+=1}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}match(at){return this.tokens[this.index]===at?(this.index++,!0):!1}lastSubsupAtom(){let at;return this.mathlist.length>0&&(at=this.mathlist[this.mathlist.length-1],at.type==="subsup"||at.subsupPlacement!==void 0)||(at=new nm({style:this.style}),this.mathlist.push(at)),at}hasPattern(at){return at.test(this.tokens[this.index])}hasInfixCommand(){var at;let{index:lt}=this;if(lt<this.tokens.length&&this.tokens[lt].startsWith("\\")){let ft=Vr(this.tokens[lt],this.parseMode);return!ft||ft.definitionType==="symbol"||ft.ifMode&&!ft.ifMode.includes(this.parseMode)?!1:(at=ft.infix)!=null?at:!1}return!1}matchColumnSeparator(){return!this.tabularMode||this.peek()!=="&"?!1:(this.index++,!0)}matchRowSeparator(){if(!this.tabularMode)return!1;let at=this.peek();return at!=="\\\\"&&at!=="\\cr"&&at!=="\\tabularnewline"?!1:(this.index++,!0)}placeholder(){var at;let lt=(at=this.args)==null?void 0:at.call(this,"?");return lt?_o(lt,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new Ds({mode:this.parseMode,style:this.style})]}skipWhitespace(){for(;this.match("<space>"););}skipUntilToken(at){let lt=this.tokens[this.index];for(;lt&&lt!==at;)lt=this.tokens[++this.index];lt===at&&this.index++}skipFiller(){for(;this.match("\\relax")||this.match("<space>"););}matchKeyword(at){let lt=this.index,ft=this.end(),xt="";for(;!ft;){let Ct=this.get();au(Ct)?(xt+=Ct,ft=this.end()||xt.length>=at.length):ft=!0}let St=at.toUpperCase()===xt.toUpperCase();return St||(this.index=lt),St}scanString(){let at="";for(;!this.end();){let lt=this.peek();if(lt==="]")return at;if(lt==="<space>")at+=" ";else if(lt.startsWith("\\"))this.onError({code:"unexpected-command-in-string"}),at+=lt.substring(1);else if(au(lt))at+=lt;else return at;this.next()}return at}scanBalancedString(){let at="",lt=this.end(),ft=1;for(;!lt;){let xt=this.get();xt==="<space>"?at+=" ":xt==="<{>"?(at+="{",ft+=1):xt==="<}>"?(ft-=1,ft>0?at+="}":this.index-=1):xt==="<$>"?at+="$":xt==="<$$>"?at+="$$":at+=xt,lt=ft===0||this.end()}return at}scanLiteralGroup(){var at;if(!this.match("<{>"))return"";let lt="",ft=1;for(;ft>0&&!this.end();){let xt=this.get();xt==="<}>"?(ft-=1,ft>0&&(lt+="}")):xt==="<{>"?(ft+=1,lt+="{"):(/\\[a-zA-Z]+$/.test(lt)&&/^[a-zA-Z]/.test(xt)&&(lt+=" "),lt+=(at={"<space>":" ","<$$>":"$$","<$>":"$"}[xt])!=null?at:xt)}return lt}scanNumber(at=!0){var lt,ft;let xt=!1,St=this.peek();for(;St==="<space>"||St==="+"||St==="-";)this.get(),St==="-"&&(xt=!xt),St=this.peek();at=!!at;let Ct=10,Tt=/\d/;if(this.match("'"))Ct=8,Tt=/[0-7]/,at=!0;else if(this.match('"'))Ct=16,Tt=/[\dA-F]/,at=!0;else if(this.match("x"))Ct=16,Tt=/[\dA-Fa-f]/,at=!0;else if(this.match("`"))return St=this.get(),St?St.length===2&&St.startsWith("\\")?{number:(xt?-1:1)*((lt=St.codePointAt(1))!=null?lt:0),base:"alpha"}:{number:(xt?-1:1)*((ft=St.codePointAt(0))!=null?ft:0),base:"alpha"}:null;let Pt="";for(;this.hasPattern(Tt);)Pt+=this.get();if(!at&&(this.match(".")||this.match(",")))for(Pt+=".";this.hasPattern(Tt);)Pt+=this.get();let zt=at?Number.parseInt(Pt,Ct):Number.parseFloat(Pt);return Number.isNaN(zt)?null:{number:xt?-zt:zt,base:Ct===16?"hexadecimal":Ct===8?"octal":"decimal"}}scanRegister(){var at;let lt=this.index,ft=this.scanNumber(!1);if(this.skipWhitespace(),this.match("\\relax"))return ft;let xt=!1;if(ft===null)for(;;){let Ct=this.peek();if(Ct==="-")xt=!xt;else if(Ct!=="+")break;this.next(),this.skipWhitespace()}if(this.match("\\global")){this.skipWhitespace();let Ct=this.get();return Ct.startsWith("\\")?ft?{register:Ct,global:!0,factor:(xt?-1:1)*ft.number}:xt?{register:Ct,global:!0,factor:-1}:{register:Ct,global:!0}:(this.index=lt,null)}let St=this.get();return St!=null&&St.startsWith("\\")?(St=St.substring(1),this.context.registers[St]?!xt||ft!==null?{register:St,factor:(xt?-1:1)*((at=ft==null?void 0:ft.number)!=null?at:1)}:{register:St}:(this.index=lt,null)):(this.index=lt,null)}scanValue(){let at=this.scanRegister();if(at)return at;let lt=this.index,ft=this.scanGlueOrDimen();if(ft&&("unit"in ft||"glue"in ft&&"unit"in ft.glue))return ft;this.index=lt;let xt=this.scanNumber();if(xt)return xt;if(this.end()||!au(this.peek()))return null;let St=this.scanString();return St.length>0?{string:St}:null}scanDimen(){let at=this.scanNumber(!1);if(at===null)return null;let lt=at.number;this.skipWhitespace(),this.matchKeyword("true"),this.skipWhitespace();let ft;return this.matchKeyword("pt")?ft="pt":this.matchKeyword("mm")?ft="mm":this.matchKeyword("cm")?ft="cm":this.matchKeyword("ex")?ft="ex":this.matchKeyword("px")?ft="px":this.matchKeyword("em")?ft="em":this.matchKeyword("bp")?ft="bp":this.matchKeyword("dd")?ft="dd":this.matchKeyword("pc")?ft="pc":this.matchKeyword("in")?ft="in":this.matchKeyword("mu")&&(ft="mu"),ft?{dimension:lt,unit:ft}:{dimension:lt}}scanGlueOrDimen(){let at=this.scanDimen();if(at===null)return null;if(this.skipWhitespace(),this.match("\\relax"))return at;let lt={glue:at};if(this.matchKeyword("plus")){let ft=this.scanDimen();if(ft)lt.grow=ft;else return lt}if(this.skipWhitespace(),this.match("\\relax"))return lt;if(this.skipWhitespace(),this.matchKeyword("minus")){let ft=this.scanDimen();if(ft)lt.shrink=ft;else return lt}return!lt.grow&&!lt.shrink?at:lt}scanColspec(){this.skipWhitespace();let at=[];for(;!this.end()&&!(this.peek()==="<}>"||this.peek()==="]");){let lt=this.get();lt==="c"||lt==="r"||lt==="l"?at.push({align:lt}):lt==="|"?at.push({separator:"solid"}):lt===":"?at.push({separator:"dashed"}):lt==="@"&&(this.match("<{>")&&(this.beginContext({mode:"math"}),at.push({gap:this.scan(ft=>ft==="<}>")}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return at}scanModeSet(){let at;if(this.match("\\(")&&(at="textstyle"),!at&&this.match("\\[")&&(at="displaystyle"),!at)return null;this.beginContext({mode:"math",mathstyle:at});let lt=this.scan(ft=>ft===(at==="displaystyle"?"\\]":"\\)"));return this.match(at==="displaystyle"?"\\]":"\\)")||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),lt}scanModeShift(){let at="";if(this.match("<$>")&&(at="<$>"),!at&&this.match("<$$>")&&(at="<$$>"),!at)return null;this.beginContext({mode:"math",mathstyle:"textstyle"});let lt=this.scan(ft=>ft===at);return this.match(at)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),lt}scanEnvironment(){if(!this.match("\\begin"))return null;let at=this.scanArgument("string");if(!at)return null;let lt=jr(at);if(!lt)return this.onError({code:"unknown-environment",arg:at}),null;let ft=[];if(lt.params)for(let Pt of lt.params)if(Pt.isOptional)ft.push(this.scanOptionalArgument(Pt.type));else{let zt=this.scanArgument(Pt.type);zt||this.onError({code:"missing-argument",arg:at}),ft.push(zt)}this.beginContext({tabular:lt.tabular});let xt=[],St=[],Ct=[],Tt=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:at}),Tt=!0),!Tt&&this.match("\\end")&&(this.scanArgument("string")!==at&&this.onError({code:"unbalanced-environment",arg:at}),Tt=!0),!Tt)if(this.matchColumnSeparator())Ct.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){Ct.push(this.mathlist),this.mathlist=[];let Pt=null;this.skipWhitespace(),this.match("[")&&(Pt=this.scanDimen(),this.skipWhitespace(),this.match("]")),St.push(Pt??{dimension:0}),xt.push(Ct),Ct=[]}else this.mathlist.push(...this.scan(Pt=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline"].includes(Pt)));while(!Tt);return Ct.push(this.mathlist),Ct.length>0&&xt.push(Ct),this.endContext(),lt.createAtom(at,xt,St,ft)}scanExpression(){let at=this.mathlist;if(this.mathlist=[],this.parseExpression()){let lt=this.mathlist;return this.mathlist=at,lt}return this.mathlist=at,null}scan(at){this.beginContext(),at||(at=Tt=>Tt==="<}>");let lt="",ft=null,xt=[],St=null;for(;!this.end()&&!at(this.peek());)this.hasInfixCommand()&&!lt?(lt=this.get(),ft=Vr(lt,"math"),ft&&(xt=this.scanArguments(ft)[1]),St=this.mathlist,this.mathlist=[]):this.parseExpression();let Ct;return lt?(xt.unshift(this.mathlist),St&&xt.unshift(St),Ct=[ft.createAtom({command:lt,args:xt,style:this.style,mode:this.parseMode})]):Ct=this.mathlist,this.endContext(),Ct}scanGroup(){let at=this.index;if(!this.match("<{>"))return null;let lt=this.scan(xt=>xt==="<}>");this.match("<}>")||this.onError({code:"unbalanced-braces"});let ft=new Ky(lt,this.parseMode,this.style);return ft.verbatimLatex=Cu(this.tokens.slice(at,this.index)),ft}scanSmartFence(){if(this.skipWhitespace(),!this.match("("))return null;this.beginContext();let at=1;for(;!this.end()&&at!==0;)this.match("(")&&(at+=1),this.match(")")&&(at-=1),at!==0&&this.parseExpression();at===0&&this.match(")");let lt=new Xn("",this.mathlist,{leftDelim:"(",rightDelim:at===0?")":"?"});return this.endContext(),lt}scanDelim(){this.skipWhitespace();let at=this.peek();if(!at)return this.onError({code:"unexpected-end-of-string"}),null;if(!au(at)&&!at.startsWith("\\"))return null;this.next();let lt=Vr(at,"math");return lt?lt.definitionType==="function"&&lt.ifMode&&!lt.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:at}),null):lt.definitionType==="symbol"&&(lt.type==="mopen"||lt.type==="mclose")||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(at)?at:(this.onError({code:"unexpected-delimiter",arg:at}),null):(this.onError({code:"unknown-command",arg:at}),null)}scanLeftRight(){var at;if(this.match("\\right"))return this.onError({code:"unbalanced-braces"}),new Bl("\\right");if(this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),new Bl("\\mright");let lt="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;lt="\\mright"}let ft=this.scanDelim();if(!ft)return this.onError({code:"unexpected-delimiter"}),new Bl(lt==="\\right"?"\\left":"\\mleft");for(this.beginContext();!this.end()&&!this.match(lt);)this.parseExpression();let xt=this.mathlist;this.endContext();let St=(at=this.scanDelim())!=null?at:".";return new Xn(lt==="\\right"?"left...right":"mleft...mright",xt,{leftDelim:ft,rightDelim:St,style:this.style})}parseSupSub(){if(this.parseMode!=="math")return!1;let at=this.peek();if(at!=="^"&&at!=="_"&&at!=="'")return!1;let lt=this.lastSubsupAtom();for(;at==="^"||at==="_"||at==="'";)this.match("'")?this.match("'")?lt.addChild(new Ir({type:"mord",command:"\\doubleprime",mode:"math",value:"′′"}),"superscript"):lt.addChild(new Ir({type:"mord",command:"\\prime",mode:"math",value:"′"}),"superscript"):(this.match("^")||this.match("_"))&&lt.addChildren(yr(this.scanArgument("expression")),at==="_"?"subscript":"superscript"),at=this.peek();return!0}parseLimits(){if(this.parseMode!=="math")return!1;let at=this.match("\\limits"),lt=!at&&this.match("\\nolimits"),ft=!lt&&!at&&this.match("\\displaylimits");if(!at&&!lt&&!ft)return!1;let xt=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return xt===null||xt.type!=="mop"?!1:(xt.explicitSubsupPlacement=!0,at&&(xt.subsupPlacement="over-under"),lt&&(xt.subsupPlacement="adjacent"),ft&&(xt.subsupPlacement="auto"),!0)}scanArguments(at){if(!(at!=null&&at.params))return[void 0,[]];let lt,ft=[],xt=at.infix?2:0;for(;xt<at.params.length;){let St=at.params[xt];St.type==="rest"?ft.push(this.scan(Ct=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline"].includes(Ct))):St.isOptional?ft.push(this.scanOptionalArgument(St.type)):St.type.endsWith("*")?lt=St.type.slice(0,-1):ft.push(this.scanArgument(St.type)),xt+=1}return[lt,ft]}scanSymbolOrLiteral(){let at=this.peek();if(!at)return null;this.next();let lt;if(au(at)){let ft=Ro.createAtom(this.parseMode,at,bt({},this.style));return ft?[ft]:null}if(lt=this.scanMacro(at),lt)return[lt];if(at.startsWith("\\")){let ft=Vr(at,this.parseMode);if(!ft)return this.onError({code:"unknown-command",arg:at}),[new Bl(at)];if(ft.definitionType==="symbol"){let xt=bt({},this.style);ft.variant&&(xt.variant=ft.variant),lt=new Ir({type:ft.type,command:at,style:xt,value:String.fromCodePoint(ft.codepoint),mode:this.parseMode,verbatimLatex:at})}else{if(ft.applyMode||ft.applyStyle||ft.infix)return this.onError({code:"invalid-command",arg:at}),[new Bl(at)];ft.createAtom&&(lt=ft.createAtom({command:at,args:[],style:this.style,mode:this.parseMode}))}}return lt?[lt]:null}scanArgument(at){var lt;this.skipFiller();let ft=this.parseMode;if(at==="auto"&&(at=ft),!this.match("<{>")){if(at==="string")return this.scanString();if(at==="value")return this.scanValue();if(at==="delim")return(lt=this.scanDelim())!=null?lt:".";if(at==="expression")return this.scanExpression();if(at==="math"){at!==ft&&this.beginContext({mode:"math"});let St=this.scanSymbolOrLiteral();return at!==ft&&this.endContext(),St}if(at==="text"){at!==ft&&this.beginContext({mode:"text"});let St=this.scanSymbolOrLiteral();return at!==ft&&this.endContext(),St}return null}if(at==="text"){this.beginContext({mode:"text"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let St=this.mathlist;return this.endContext(),{group:St}}if(at==="math"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let St=this.mathlist;return this.endContext(),{group:St}}let xt=null;if(at==="expression"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let St=this.mathlist;return this.endContext(),{group:St}}return at==="string"?xt=this.scanString():at==="balanced-string"?xt=this.scanBalancedString():at==="colspec"?xt=this.scanColspec():at==="value"&&(xt=this.scanValue()),this.skipUntilToken("<}>"),xt}scanOptionalArgument(at){if(at=at==="auto"?this.parseMode:at,this.skipFiller(),!this.match("["))return null;let lt=null;for(;!this.end()&&!this.match("]");)if(at==="string")lt=this.scanString();else if(at==="value")lt=this.scanValue();else if(at==="colspec")lt=this.scanColspec();else if(at==="bbox"){let ft={},xt=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let St of xt){let Ct=St.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(Ct)ft.padding={dimension:parseInt(Ct[1]),unit:Ct[2]};else{let Tt=St.match(/^\s*border\s*:\s*(.*)/);Tt?ft.border=Tt[1]:ft.backgroundcolor={string:St}}}lt=ft}else at==="math"&&(this.beginContext({mode:"math"}),lt=this.mathlist.concat(this.scan(ft=>ft==="]")),this.endContext());return lt}scanSymbolOrCommand(at){var lt,ft;if(at==="\\placeholder"){let Tt=this.scanOptionalArgument("string"),Pt=this.scanOptionalArgument("math"),zt=Ir.serialize(Pt,{defaultMode:"math"}),Kt=[],Ht;!Ht&&zt==="correct"?Ht="correct":!Ht&&zt==="incorrect"?Ht="incorrect":zt!==""&&(Kt=Pt);let Jt=this.scanOptionalArgument("string")==="locked",fr=this.scanArgument("auto"),hr;return fr&&Array.isArray(fr)&&fr.length>0?hr=fr:fr&&typeof fr=="object"&&"group"in fr?hr=fr.group:hr=Kt,Tt?[new Wy(Tt,Ht,Jt,hr??Kt,{mode:this.parseMode,style:this.style})]:[new Ds({mode:this.parseMode,style:this.style})]}let xt=this.scanMacro(at);if(xt)return[xt];let St=Vr(at,this.parseMode);if(!St)return this.onError({code:"unknown-command",arg:at}),this.parseMode==="text"?[...at].map(Tt=>new Ir({type:"text",value:Tt,mode:"text",style:this.style})):[new Bl(at)];let Ct=this.index;if(St.definitionType==="symbol"){let Tt=bt({},this.style);St.variant&&(Tt.variant=St.variant),xt=new Ir({type:St.type,command:at,style:Tt,value:String.fromCodePoint(St.codepoint),mode:this.parseMode})}else{if(St.ifMode&&!St.ifMode.includes(this.parseMode))return[];let Tt=this.parseMode;St.applyMode&&(this.parseMode=St.applyMode);let[Pt,zt]=this.scanArguments(St);if(this.parseMode=Tt,St.applyMode&&!St.applyStyle&&!St.createAtom)return yr(zt[0]);if(St.infix)return this.onError({code:"too-many-infix-commands",arg:at}),null;if(typeof St.createAtom=="function")xt=St.createAtom({command:at,args:zt,style:this.style,mode:this.parseMode}),Pt&&(xt.body=yr(this.scanArgument(Pt)));else if(typeof St.applyStyle=="function"){let Kt=bt(bt({},this.style),St.applyStyle(at,zt,this.context)),Ht=this.parseMode;if(St.applyMode&&(this.parseMode=St.applyMode),Pt){let Jt=this.style;this.style=Kt;let fr=this.scanArgument(Pt);return this.style=Jt,this.parseMode=Ht,yr(fr)}this.style=Kt}else xt=new Ir({type:"mord",command:(lt=St.command)!=null?lt:at,style:bt({},this.style),value:at,mode:(ft=St.applyMode)!=null?ft:this.parseMode})}if(!xt)return null;if(xt instanceof Ir&&xt.verbatimLatex===void 0&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(at)){let Tt=Cn([at,Cu(this.tokens.slice(Ct,this.index))]);Tt&&(xt.verbatimLatex=Tt)}if(xt.verbatimLatex===null&&(xt.verbatimLatex=void 0),xt.isFunction&&this.smartFence){let Tt=this.scanSmartFence();if(Tt)return[xt,Tt]}return[xt]}scanSymbolCommandOrLiteral(){let at=this.get();if(!at)return null;if(au(at)){let lt=Ro.createAtom(this.parseMode,at,bt({},this.style));if(!lt)return null;if(lt.isFunction&&this.smartFence){let ft=this.scanSmartFence();if(ft)return[lt,ft]}return[lt]}return at.startsWith("\\")?this.scanSymbolOrCommand(at):at==="<space>"?this.parseMode==="text"?[new Au(" "," ",this.style)]:null:(at==="<}>"?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:at}),null)}scanMacro(at){var lt;let ft=this.context.getMacro(at);if(!ft)return null;let xt=this.index,St=ft.args,Ct={"?":(lt=this.args)==null?void 0:lt.call(this,"?")};for(let Tt=1;Tt<=St;Tt++)Ct[Tt]=this.scanLiteralGroup();return new Hy(at,{expand:ft.expand,captureSelection:ft.captureSelection,args:xt===this.index?null:Cu(this.tokens.slice(xt,this.index)),style:this.parsingContext.style,body:_o(ft.def,{context:this.context,parseMode:this.parseMode,args:Tt=>Ct[Tt],mathstyle:this.parsingContext.mathstyle,style:this.parsingContext.style})})}parseExpression(){var at,lt,ft,xt;let St=(xt=(ft=(lt=(at=this.scanEnvironment())!=null?at:this.scanModeShift())!=null?lt:this.scanModeSet())!=null?ft:this.scanGroup())!=null?xt:this.scanLeftRight();if(St===null){if(this.parseSupSub()||this.parseLimits())return!0;St=this.scanSymbolCommandOrLiteral()}return St?(Array.isArray(St)?this.mathlist.push(...St):this.mathlist.push(St),!0):!1}};function _o(at,lt){var ft,xt,St,Ct;let Tt=(ft=lt==null?void 0:lt.args)!=null?ft:void 0,Pt=new Gy(Rp(at,Tt),lt==null?void 0:lt.context,{args:Tt,mathstyle:(xt=lt==null?void 0:lt.mathstyle)!=null?xt:"displaystyle",parseMode:(St=lt==null?void 0:lt.parseMode)!=null?St:"math",style:(Ct=lt==null?void 0:lt.style)!=null?Ct:{}}),zt=[];for(;!Pt.end();)zt.push(...Pt.scan(()=>!1));return zt}function Xy(at,lt){var ft;let xt=new Gy(Rp(at,null),lt==null?void 0:lt.context,{mathstyle:"displaystyle",parseMode:(ft=lt==null?void 0:lt.parseMode)!=null?ft:"math"});for(;!xt.end();)xt.scan();return xt.errors}var Zy=class _2 extends Ir{constructor(lt,ft){super({type:"chem"},{command:lt,mode:"math"});let xt=Vn.go(Gr.go(ft,lt==="\\pu"?"pu":"ce"),!1);this.body=_o(xt),this.verbatimLatex=lt+"{"+ft+"}",this.arg=ft,this.captureSelection=!0}static fromJson(lt){return new _2(lt.command,lt.arg)}toJson(){return wt(bt({},super.toJson()),{arg:this.arg})}render(lt){let ft=Ir.createBox(lt,this.body,{type:"inner"});return this.caret&&(ft.caret=this.caret),this.bind(lt,ft)}_serialize(lt){return this.verbatimLatex}};Ar(["ce","pu"],"{chemformula:balanced-string}",{createAtom:at=>{var lt;return new Zy(at.command,(lt=at.args[0])!=null?lt:"")}});var Gr={go:function(at,lt){if(!at)return[];lt===void 0&&(lt="ce");var ft="0",xt={};xt.parenthesisLevel=0,at=at.replace(/\n/g," "),at=at.replace(/[\u2212\u2013\u2014\u2010]/g,"-"),at=at.replace(/[\u2026]/g,"...");for(var St,Ct=10,Tt=[];;){St!==at?(Ct=10,St=at):Ct--;var Pt=Gr.stateMachines[lt],zt=Pt.transitions[ft]||Pt.transitions["*"];e:for(var Kt=0;Kt<zt.length;Kt++){var Ht=Gr.patterns.match_(zt[Kt].pattern,at);if(Ht){for(var Jt=zt[Kt].task,fr=0;fr<Jt.action_.length;fr++){var hr;if(Pt.actions[Jt.action_[fr].type_])hr=Pt.actions[Jt.action_[fr].type_](xt,Ht.match_,Jt.action_[fr].option);else if(Gr.actions[Jt.action_[fr].type_])hr=Gr.actions[Jt.action_[fr].type_](xt,Ht.match_,Jt.action_[fr].option);else throw["MhchemBugA","mhchem bug A. Please report. ("+Jt.action_[fr].type_+")"];Gr.concatArray(Tt,hr)}if(ft=Jt.nextState||ft,at.length>0){if(Jt.revisit||(at=Ht.remainder),!Jt.toContinue)break e}else return Tt}}if(Ct<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(at,lt){if(lt)if(Object.prototype.toString.call(lt)==="[object Array]")for(var ft=0;ft<lt.length;ft++)at.push(lt[ft]);else at.push(lt)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(at){var lt=at.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:(?:([eE])|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return lt&&lt[0]?{match_:lt.slice(1),remainder:at.substr(lt[0].length)}:null},"(-)(9)^(-9)":function(at){var lt=at.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return lt&&lt[0]?{match_:lt.slice(1),remainder:at.substr(lt[0].length)}:null},"state of aggregation $":function(at){var lt=Gr.patterns.findObserveGroups(at,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(lt&&lt.remainder.match(/^($|[\s,;\)\]\}])/))return lt;var ft=at.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return ft?{match_:ft[0],remainder:at.substr(ft[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(at){return Gr.patterns.findObserveGroups(at,"^{","","","}")},"^($...$)":function(at){return Gr.patterns.findObserveGroups(at,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(at){return Gr.patterns.findObserveGroups(at,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(at){return Gr.patterns.findObserveGroups(at,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(at){return Gr.patterns.findObserveGroups(at,"_{","","","}")},"_($...$)":function(at){return Gr.patterns.findObserveGroups(at,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(at){return Gr.patterns.findObserveGroups(at,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(at){return Gr.patterns.findObserveGroups(at,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(at){return Gr.patterns.findObserveGroups(at,"","{","}","")},"{(...)}":function(at){return Gr.patterns.findObserveGroups(at,"{","","","}")},"$...$":function(at){return Gr.patterns.findObserveGroups(at,"","$","$","")},"${(...)}$":function(at){return Gr.patterns.findObserveGroups(at,"${","","","}$")},"$(...)$":function(at){return Gr.patterns.findObserveGroups(at,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(at){return Gr.patterns.findObserveGroups(at,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(at){return Gr.patterns.findObserveGroups(at,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(at){return Gr.patterns.findObserveGroups(at,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(at){return Gr.patterns.findObserveGroups(at,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(at){return Gr.patterns.findObserveGroups(at,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(at){return Gr.patterns.findObserveGroups(at,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(at){return Gr.patterns.findObserveGroups(at,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(at){return Gr.patterns.findObserveGroups(at,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(at){return Gr.patterns.findObserveGroups(at,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(at){return Gr.patterns.findObserveGroups(at,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(at){return Gr.patterns.findObserveGroups(at,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(at){return Gr.patterns.findObserveGroups(at,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(at){var lt;if(lt=at.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/),lt)return{match_:lt[0],remainder:at.substr(lt[0].length)};var ft=Gr.patterns.findObserveGroups(at,"","$","$","");return ft&&(lt=ft.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/),lt)?{match_:lt[0],remainder:at.substr(lt[0].length)}:null},amount2:function(at){return this.amount(at)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(at){if(at.match(/^\([a-z]+\)$/))return null;var lt=at.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return lt?{match_:lt[0],remainder:at.substr(lt[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(at,lt,ft,xt,St,Ct,Tt,Pt,zt,Kt){var Ht=function(Pr,Ur){if(typeof Ur=="string")return Pr.indexOf(Ur)!==0?null:Ur;var un=Pr.match(Ur);return un?un[0]:null},Jt=function(Pr,Ur,un){for(var Zr=0;Ur<Pr.length;){var dn=Pr.charAt(Ur),an=Ht(Pr.substr(Ur),un);if(an!==null&&Zr===0)return{endMatchBegin:Ur,endMatchEnd:Ur+an.length};if(dn==="{")Zr++;else if(dn==="}"){if(Zr===0)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];Zr--}Ur++}return null},fr=Ht(at,lt);if(fr===null||(at=at.substr(fr.length),fr=Ht(at,ft),fr===null))return null;var hr=Jt(at,fr.length,xt||St);if(hr===null)return null;var mr=at.substring(0,xt?hr.endMatchEnd:hr.endMatchBegin);if(Ct||Tt){var Rr=this.findObserveGroups(at.substr(hr.endMatchEnd),Ct,Tt,Pt,zt);if(Rr===null)return null;var Yr=[mr,Rr.match_];return{match_:Kt?Yr.join(""):Yr,remainder:Rr.remainder}}else return{match_:mr,remainder:at.substr(hr.endMatchEnd)}},match_:function(at,lt){var ft=Gr.patterns.patterns[at];if(ft===void 0)throw["MhchemBugP","mhchem bug P. Please report. ("+at+")"];if(typeof ft=="function")return Gr.patterns.patterns[at](lt);var xt=lt.match(ft);if(xt){var St;return xt[2]?St=[xt[1],xt[2]]:xt[1]?St=xt[1]:St=xt[0],{match_:St,remainder:lt.substr(xt[0].length)}}return null}},actions:{"a=":function(at,lt){at.a=(at.a||"")+lt},"b=":function(at,lt){at.b=(at.b||"")+lt},"p=":function(at,lt){at.p=(at.p||"")+lt},"o=":function(at,lt){at.o=(at.o||"")+lt},"q=":function(at,lt){at.q=(at.q||"")+lt},"d=":function(at,lt){at.d=(at.d||"")+lt},"rm=":function(at,lt){at.rm=(at.rm||"")+lt},"text=":function(at,lt){at.text_=(at.text_||"")+lt},insert:function(at,lt,ft){return{type_:ft}},"insert+p1":function(at,lt,ft){return{type_:ft,p1:lt}},"insert+p1+p2":function(at,lt,ft){return{type_:ft,p1:lt[0],p2:lt[1]}},copy:function(at,lt){return lt},rm:function(at,lt){return{type_:"rm",p1:lt||""}},text:function(at,lt){return Gr.go(lt,"text")},"{text}":function(at,lt){var ft=["{"];return Gr.concatArray(ft,Gr.go(lt,"text")),ft.push("}"),ft},"tex-math":function(at,lt){return Gr.go(lt,"tex-math")},"tex-math tight":function(at,lt){return Gr.go(lt,"tex-math tight")},bond:function(at,lt,ft){return{type_:"bond",kind_:ft||lt}},"color0-output":function(at,lt){return{type_:"color0",color:lt[0]}},ce:function(at,lt){return Gr.go(lt)},"1/2":function(at,lt){var ft=[];lt.match(/^[+\-]/)&&(ft.push(lt.substr(0,1)),lt=lt.substr(1));var xt=lt.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return xt[1]=xt[1].replace(/\$/g,""),ft.push({type_:"frac",p1:xt[1],p2:xt[2]}),xt[3]&&(xt[3]=xt[3].replace(/\$/g,""),ft.push({type_:"tex-math",p1:xt[3]})),ft},"9,9":function(at,lt){return Gr.go(lt,"9,9")}},createTransitions:function(at){var lt,ft,xt,St,Ct={};for(lt in at)for(ft in at[lt])for(xt=ft.split("|"),at[lt][ft].stateArray=xt,St=0;St<xt.length;St++)Ct[xt[St]]=[];for(lt in at)for(ft in at[lt])for(xt=at[lt][ft].stateArray||[],St=0;St<xt.length;St++){var Tt=at[lt][ft];if(Tt.action_){Tt.action_=[].concat(Tt.action_);for(var Pt=0;Pt<Tt.action_.length;Pt++)typeof Tt.action_[Pt]=="string"&&(Tt.action_[Pt]={type_:Tt.action_[Pt]})}else Tt.action_=[];for(var zt=lt.split("|"),Kt=0;Kt<zt.length;Kt++)if(xt[St]==="*")for(var Ht in Ct)Ct[Ht].push({pattern:zt[Kt],task:Tt});else Ct[xt[St]].push({pattern:zt[Kt],task:Tt})}return Ct},stateMachines:{}};Gr.stateMachines={ce:{transitions:Gr.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(at,lt){var ft;if((at.d||"").match(/^[0-9]+$/)){var xt=at.d;at.d=void 0,ft=this.output(at),at.b=xt}else ft=this.output(at);return Gr.actions["o="](at,lt),ft},"d= kv":function(at,lt){at.d=lt,at.dType="kv"},"charge or bond":function(at,lt){if(at.beginsWithBond){var ft=[];return Gr.concatArray(ft,this.output(at)),Gr.concatArray(ft,Gr.actions.bond(at,lt,"-")),ft}else at.d=lt},"- after o/d":function(at,lt,ft){var xt=Gr.patterns.match_("orbital",at.o||""),St=Gr.patterns.match_("one lowercase greek letter $",at.o||""),Ct=Gr.patterns.match_("one lowercase latin letter $",at.o||""),Tt=Gr.patterns.match_("$one lowercase latin letter$ $",at.o||""),Pt=lt==="-"&&(xt&&xt.remainder===""||St||Ct||Tt);Pt&&!at.a&&!at.b&&!at.p&&!at.d&&!at.q&&!xt&&Ct&&(at.o="$"+at.o+"$");var zt=[];return Pt?(Gr.concatArray(zt,this.output(at)),zt.push({type_:"hyphen"})):(xt=Gr.patterns.match_("digits",at.d||""),ft&&xt&&xt.remainder===""?(Gr.concatArray(zt,Gr.actions["d="](at,lt)),Gr.concatArray(zt,this.output(at))):(Gr.concatArray(zt,this.output(at)),Gr.concatArray(zt,Gr.actions.bond(at,lt,"-")))),zt},"a to o":function(at){at.o=at.a,at.a=void 0},"sb=true":function(at){at.sb=!0},"sb=false":function(at){at.sb=!1},"beginsWithBond=true":function(at){at.beginsWithBond=!0},"beginsWithBond=false":function(at){at.beginsWithBond=!1},"parenthesisLevel++":function(at){at.parenthesisLevel++},"parenthesisLevel--":function(at){at.parenthesisLevel--},"state of aggregation":function(at,lt){return{type_:"state of aggregation",p1:Gr.go(lt,"o")}},comma:function(at,lt){var ft=lt.replace(/\s*$/,""),xt=ft!==lt;return xt&&at.parenthesisLevel===0?{type_:"comma enumeration L",p1:ft}:{type_:"comma enumeration M",p1:ft}},output:function(at,lt,ft){var xt;if(!at.r)xt=[],!at.a&&!at.b&&!at.p&&!at.o&&!at.q&&!at.d&&!ft||(at.sb&&xt.push({type_:"entitySkip"}),!at.o&&!at.q&&!at.d&&!at.b&&!at.p&&ft!==2?(at.o=at.a,at.a=void 0):!at.o&&!at.q&&!at.d&&(at.b||at.p)?(at.o=at.a,at.d=at.b,at.q=at.p,at.a=at.b=at.p=void 0):at.o&&at.dType==="kv"&&Gr.patterns.match_("d-oxidation$",at.d||"")?at.dType="oxidation":at.o&&at.dType==="kv"&&!at.q&&(at.dType=void 0),xt.push({type_:"chemfive",a:Gr.go(at.a,"a"),b:Gr.go(at.b,"bd"),p:Gr.go(at.p,"pq"),o:Gr.go(at.o,"o"),q:Gr.go(at.q,"pq"),d:Gr.go(at.d,at.dType==="oxidation"?"oxidation":"bd"),dType:at.dType}));else{var St;at.rdt==="M"?St=Gr.go(at.rd,"tex-math"):at.rdt==="T"?St=[{type_:"text",p1:at.rd||""}]:St=Gr.go(at.rd);var Ct;at.rqt==="M"?Ct=Gr.go(at.rq,"tex-math"):at.rqt==="T"?Ct=[{type_:"text",p1:at.rq||""}]:Ct=Gr.go(at.rq),xt={type_:"arrow",r:at.r,rd:St,rq:Ct}}for(var Tt in at)Tt!=="parenthesisLevel"&&Tt!=="beginsWithBond"&&delete at[Tt];return xt},"oxidation-output":function(at,lt){var ft=["{"];return Gr.concatArray(ft,Gr.go(lt,"oxidation")),ft.push("}"),ft},"frac-output":function(at,lt){return{type_:"frac-ce",p1:Gr.go(lt[0]),p2:Gr.go(lt[1])}},"overset-output":function(at,lt){return{type_:"overset",p1:Gr.go(lt[0]),p2:Gr.go(lt[1])}},"underset-output":function(at,lt){return{type_:"underset",p1:Gr.go(lt[0]),p2:Gr.go(lt[1])}},"underbrace-output":function(at,lt){return{type_:"underbrace",p1:Gr.go(lt[0]),p2:Gr.go(lt[1])}},"color-output":function(at,lt){return{type_:"color",color1:lt[0],color2:Gr.go(lt[1])}},"r=":function(at,lt){at.r=lt},"rdt=":function(at,lt){at.rdt=lt},"rd=":function(at,lt){at.rd=lt},"rqt=":function(at,lt){at.rqt=lt},"rq=":function(at,lt){at.rq=lt},operator:function(at,lt,ft){return{type_:"operator",kind_:ft||lt}}}},a:{transitions:Gr.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:Gr.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:Gr.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(at){if(at.text_){var lt={type_:"text",p1:at.text_};for(var ft in at)delete at[ft];return lt}}}},pq:{transitions:Gr.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(at,lt){return{type_:"state of aggregation subscript",p1:Gr.go(lt,"o")}},"color-output":function(at,lt){return{type_:"color",color1:lt[0],color2:Gr.go(lt[1],"pq")}}}},bd:{transitions:Gr.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(at,lt){return{type_:"color",color1:lt[0],color2:Gr.go(lt[1],"bd")}}}},oxidation:{transitions:Gr.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(at,lt){return{type_:"roman numeral",p1:lt||""}}}},"tex-math":{transitions:Gr.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(at){if(at.o){var lt={type_:"tex-math",p1:at.o};for(var ft in at)delete at[ft];return lt}}}},"tex-math tight":{transitions:Gr.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(at,lt){at.o=(at.o||"")+"{"+lt+"}"},output:function(at){if(at.o){var lt={type_:"tex-math",p1:at.o};for(var ft in at)delete at[ft];return lt}}}},"9,9":{transitions:Gr.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:Gr.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(at,lt){var ft=[];return lt[0]==="+-"||lt[0]==="+/-"?ft.push("\\pm "):lt[0]&&ft.push(lt[0]),lt[1]&&(Gr.concatArray(ft,Gr.go(lt[1],"pu-9,9")),lt[2]&&(lt[2].match(/[,.]/)?Gr.concatArray(ft,Gr.go(lt[2],"pu-9,9")):ft.push(lt[2])),(lt[3]||lt[4])&&(lt[3]==="e"||lt[4]==="*"?ft.push({type_:"cdot"}):ft.push({type_:"times"}))),lt[5]&&ft.push("10^{"+lt[5]+"}"),ft},"number^":function(at,lt){var ft=[];return lt[0]==="+-"||lt[0]==="+/-"?ft.push("\\pm "):lt[0]&&ft.push(lt[0]),Gr.concatArray(ft,Gr.go(lt[1],"pu-9,9")),ft.push("^{"+lt[2]+"}"),ft},operator:function(at,lt,ft){return{type_:"operator",kind_:ft||lt}},space:function(){return{type_:"pu-space-1"}},output:function(at){var lt,ft=Gr.patterns.match_("{(...)}",at.d||"");ft&&ft.remainder===""&&(at.d=ft.match_);var xt=Gr.patterns.match_("{(...)}",at.q||"");if(xt&&xt.remainder===""&&(at.q=xt.match_),at.d&&(at.d=at.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),at.d=at.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),at.q){at.q=at.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),at.q=at.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var St={d:Gr.go(at.d,"pu"),q:Gr.go(at.q,"pu")};at.o==="//"?lt={type_:"pu-frac",p1:St.d,p2:St.q}:(lt=St.d,St.d.length>1||St.q.length>1?lt.push({type_:" / "}):lt.push({type_:"/"}),Gr.concatArray(lt,St.q))}else lt=Gr.go(at.d,"pu-2");for(var Ct in at)delete at[Ct];return lt}}},"pu-2":{transitions:Gr.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(at,lt){at.rm+="^{"+lt+"}"},space:function(){return{type_:"pu-space-2"}},output:function(at){var lt=[];if(at.rm){var ft=Gr.patterns.match_("{(...)}",at.rm||"");ft&&ft.remainder===""?lt=Gr.go(ft.match_,"pu"):lt={type_:"rm",p1:at.rm}}for(var xt in at)delete at[xt];return lt}}},"pu-9,9":{transitions:Gr.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(at){var lt=[];if(at.text_=at.text_||"",at.text_.length>4){var ft=at.text_.length%3;ft===0&&(ft=3);for(var xt=at.text_.length-3;xt>0;xt-=3)lt.push(at.text_.substr(xt,3)),lt.push({type_:"1000 separator"});lt.push(at.text_.substr(0,ft)),lt.reverse()}else lt.push(at.text_);for(var St in at)delete at[St];return lt},"output-o":function(at){var lt=[];if(at.text_=at.text_||"",at.text_.length>4){for(var ft=at.text_.length-3,xt=0;xt<ft;xt+=3)lt.push(at.text_.substr(xt,3)),lt.push({type_:"1000 separator"});lt.push(at.text_.substr(xt))}else lt.push(at.text_);for(var St in at)delete at[St];return lt}}}};var Vn={go:function(at,lt){if(!at)return"";for(var ft="",xt=!1,St=0;St<at.length;St++){var Ct=at[St];typeof Ct=="string"?ft+=Ct:(ft+=Vn._go2(Ct),Ct.type_==="1st-level escape"&&(xt=!0))}return!lt&&!xt&&ft&&(ft="{"+ft+"}"),ft},_goInner:function(at){return at&&Vn.go(at,!0)},_go2:function(at){var lt;switch(at.type_){case"chemfive":lt="";var ft={a:Vn._goInner(at.a),b:Vn._goInner(at.b),p:Vn._goInner(at.p),o:Vn._goInner(at.o),q:Vn._goInner(at.q),d:Vn._goInner(at.d)};ft.a&&(ft.a.match(/^[+\-]/)&&(ft.a="{"+ft.a+"}"),lt+=ft.a+"\\,"),(ft.b||ft.p)&&(lt+="{\\vphantom{X}}",lt+="^{\\hphantom{"+(ft.b||"")+"}}_{\\hphantom{"+(ft.p||"")+"}}",lt+="{\\vphantom{X}}",lt+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(ft.b||"")+"}}",lt+="_{\\vphantom{2}\\llap{\\smash[t]{"+(ft.p||"")+"}}}"),ft.o&&(ft.o.match(/^[+\-]/)&&(ft.o="{"+ft.o+"}"),lt+=ft.o),at.dType==="kv"?((ft.d||ft.q)&&(lt+="{\\vphantom{X}}"),ft.d&&(lt+="^{"+ft.d+"}"),ft.q&&(lt+="_{\\smash[t]{"+ft.q+"}}")):at.dType==="oxidation"?(ft.d&&(lt+="{\\vphantom{X}}",lt+="^{"+ft.d+"}"),ft.q&&(lt+="{\\vphantom{X}}",lt+="_{\\smash[t]{"+ft.q+"}}")):(ft.q&&(lt+="{\\vphantom{X}}",lt+="_{\\smash[t]{"+ft.q+"}}"),ft.d&&(lt+="{\\vphantom{X}}",lt+="^{"+ft.d+"}"));break;case"rm":lt="\\mathrm{"+at.p1+"}";break;case"text":at.p1.match(/[\^_]/)?(at.p1=at.p1.replace(" ","~").replace("-","\\text{-}"),lt="\\mathrm{"+at.p1+"}"):lt="\\text{"+at.p1+"}";break;case"roman numeral":lt="\\mathrm{"+at.p1+"}";break;case"state of aggregation":lt="\\mskip2mu "+Vn._goInner(at.p1);break;case"state of aggregation subscript":lt="\\mskip1mu "+Vn._goInner(at.p1);break;case"bond":if(lt=Vn._getBond(at.kind_),!lt)throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+at.kind_+")"];break;case"frac":var xt="\\frac{"+at.p1+"}{"+at.p2+"}";lt="\\mathchoice{\\textstyle"+xt+"}{"+xt+"}{"+xt+"}{"+xt+"}";break;case"pu-frac":var St="\\frac{"+Vn._goInner(at.p1)+"}{"+Vn._goInner(at.p2)+"}";lt="\\mathchoice{\\textstyle"+St+"}{"+St+"}{"+St+"}{"+St+"}";break;case"tex-math":lt=at.p1+" ";break;case"frac-ce":lt="\\frac{"+Vn._goInner(at.p1)+"}{"+Vn._goInner(at.p2)+"}";break;case"overset":lt="\\overset{"+Vn._goInner(at.p1)+"}{"+Vn._goInner(at.p2)+"}";break;case"underset":lt="\\underset{"+Vn._goInner(at.p1)+"}{"+Vn._goInner(at.p2)+"}";break;case"underbrace":lt="\\underbrace{"+Vn._goInner(at.p1)+"}_{"+Vn._goInner(at.p2)+"}";break;case"color":lt="{\\color{"+at.color1+"}{"+Vn._goInner(at.color2)+"}}";break;case"color0":lt="\\color{"+at.color+"}";break;case"arrow":var Ct={rd:Vn._goInner(at.rd),rq:Vn._goInner(at.rq)},Tt=Vn._getArrow(at.r);Ct.rd||Ct.rq?at.r==="<=>"||at.r==="<=>>"||at.r==="<<=>"||at.r==="<-->"?(Tt="\\long"+Tt,Ct.rd&&(Tt="\\overset{"+Ct.rd+"}{"+Tt+"}"),Ct.rq&&(at.r==="<-->"?Tt="\\underset{\\lower2mu{"+Ct.rq+"}}{"+Tt+"}":Tt="\\underset{\\lower6mu{"+Ct.rq+"}}{"+Tt+"}"),Tt=" {}\\mathrel{"+Tt+"}{} "):(Ct.rq&&(Tt+="[{"+Ct.rq+"}]"),Tt+="{"+Ct.rd+"}",Tt=" {}\\mathrel{\\x"+Tt+"}{} "):Tt=" {}\\mathrel{\\long"+Tt+"}{} ",lt=Tt;break;case"operator":lt=Vn._getOperator(at.kind_);break;case"1st-level escape":lt=at.p1+" ";break;case"space":lt=" ";break;case"entitySkip":lt="~";break;case"pu-space-1":lt="~";break;case"pu-space-2":lt="\\mkern3mu ";break;case"1000 separator":lt="\\mkern2mu ";break;case"commaDecimal":lt="{,}";break;case"comma enumeration L":lt="{"+at.p1+"}\\mkern6mu ";break;case"comma enumeration M":lt="{"+at.p1+"}\\mkern3mu ";break;case"comma enumeration S":lt="{"+at.p1+"}\\mkern1mu ";break;case"hyphen":lt="\\text{-}";break;case"addition compound":lt="\\,{\\cdot}\\,";break;case"electron dot":lt="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":lt="{\\times}";break;case"prime":lt="\\prime ";break;case"cdot":lt="\\cdot ";break;case"tight cdot":lt="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":lt="\\times ";break;case"circa":lt="{\\sim}";break;case"^":lt="uparrow";break;case"v":lt="downarrow";break;case"ellipsis":lt="\\ldots ";break;case"/":lt="/";break;case" / ":lt="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return lt},_getArrow:function(at){switch(at){case"->":return"rightarrow";case"→":return"rightarrow";case"⟶":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"leftrightarrows";case"<=>":return"rightleftharpoons";case"⇌":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(at){switch(at){case"-":return"{-}";case"1":return"{-}";case"=":return"{=}";case"2":return"{=}";case"#":return"{\\equiv}";case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(at){switch(at){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":return" {}\\approx{} ";case"$\\approx$":return" {}\\approx{} ";case"v":return" \\downarrow{} ";case"(v)":return" \\downarrow{} ";case"^":return" \\uparrow{} ";case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}},Yy=class C2 extends Ir{constructor(lt){super(wt(bt({},lt),{type:"delim"})),this.value=lt.delim,this.size=lt.size}static fromJson(lt){return new C2(lt)}toJson(){return wt(bt({},super.toJson()),{delim:this.value,size:this.size})}render(lt){return new Qr(this.value,{type:"middle"})}_serialize(lt){if(!(lt.expandMacro||lt.skipStyles)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let ft=Vr(this.command,this.mode);return ft!=null&&ft.serialize?ft.serialize(this,lt):jn(this.command,this.value)}},Qy=class M2 extends Ir{constructor(lt){super(wt(bt({},lt),{type:"sizeddelim",value:lt.delim})),this.delimType=lt.delimType,this.size=lt.size}static fromJson(lt){return new M2(lt)}toJson(){return wt(bt({},super.toJson()),{delim:this.value,size:this.size,delimType:this.delimType})}render(lt){let ft=A4(this.value,this.size,lt,{classes:{open:"mopen",close:"mclose"}[this.delimType],type:this.delimType,isSelected:this.isSelected});return ft?(ft=this.bind(lt,ft),this.caret&&(ft.caret=this.caret),ft):null}_serialize(lt){if(!(lt.expandMacro||lt.skipStyles)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let ft=Vr(this.command,this.mode);return ft!=null&&ft.serialize?ft.serialize(this,lt):jn(this.command,this.value)}},Ou=class $2 extends Ir{constructor(lt,ft,xt,St){super({type:"enclose",command:lt,style:St.style}),this.body=ft,this.backgroundcolor=St.backgroundcolor,xt.updiagonalarrow&&(xt.updiagonalstrike=!1),xt.box&&(xt.left=!1,xt.right=!1,xt.bottom=!1,xt.top=!1),this.notation=xt,this.shadow=St.shadow,this.strokeWidth=St.strokeWidth,this.strokeStyle=St.strokeStyle,this.svgStrokeStyle=St.svgStrokeStyle,this.strokeColor=St.strokeColor,this.borderStyle=St.borderStyle,this.padding=St.padding,this.captureSelection=!0}static fromJson(lt){return new $2(lt.command,lt.body,lt.notation,lt)}toJson(){return wt(bt({},super.toJson()),{notation:this.notation,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding})}_serialize(lt){var ft;if(!(lt.expandMacro||lt.skipStyles)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let xt=Vr(this.command,this.mode);if(xt!=null&&xt.serialize)return xt.serialize(this,lt);let St=(ft=this.command)!=null?ft:"";if(this.command==="\\enclose"){St+="{"+Object.keys(this.notation).join(" ")+"}";let Ct="",Tt="";this.backgroundcolor&&this.backgroundcolor!=="transparent"&&(Ct+=Tt+'mathbackground="'+this.backgroundcolor+'"',Tt=","),this.shadow&&this.shadow!=="auto"&&(Ct+=Tt+'shadow="'+this.shadow+'"',Tt=","),this.strokeWidth||this.strokeStyle!=="solid"?(Ct+=Tt+this.borderStyle,Tt=","):this.strokeColor&&this.strokeColor!=="currentColor"&&(Ct+=Tt+'mathcolor="'+this.strokeColor+'"',Tt=","),Ct&&(St+=`[${Ct}]`)}return jn(St,this.bodyToLatex(lt))}render(lt){var ft;let xt=new Dn({parent:lt},this.style),St=Ir.createBox(xt,this.body);if(!St)return null;let Ct=xt.toEm(!this.padding||this.padding==="auto"?{register:"fboxsep"}:{string:this.padding}),Tt=q4(this.borderStyle),Pt=new Qr(null,{classes:"ML__notation"});Pt.setStyle("box-sizing","border-box"),Pt.setStyle("left",`calc(-${Tt} / 2 - ${Ct}em)`),Pt.setStyle("height",`calc(${St.height+St.depth+2*Ct}em)`),Pt.height=St.height+Ct,Pt.depth=St.depth+Ct,Pt.setStyle("width",`calc(100% + ${2*Ct}em + 2 * ${Tt})`),this.backgroundcolor&&Pt.setStyle("background-color",(ft=this.backgroundcolor)!=null?ft:"transparent"),this.notation.box&&Pt.setStyle("border",this.borderStyle),this.notation.actuarial&&(Pt.setStyle("border-top",this.borderStyle),Pt.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(Pt.setStyle("border-bottom",this.borderStyle),Pt.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(Pt.setStyle("border-radius","8px"),Pt.setStyle("border",this.borderStyle)),this.notation.circle&&(Pt.setStyle("border-radius","50%"),Pt.setStyle("border",this.borderStyle)),this.notation.top&&Pt.setStyle("border-top",this.borderStyle),this.notation.left&&Pt.setStyle("border-left",this.borderStyle),this.notation.right&&Pt.setStyle("border-right",this.borderStyle),this.notation.bottom&&Pt.setStyle("border-bottom",this.borderStyle);let zt="";if(this.notation.horizontalstrike&&(zt+='<line x1="3%"  y1="50%" x2="97%" y2="50%"',zt+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,zt+=' stroke-linecap="round"',this.svgStrokeStyle&&(zt+=` stroke-dasharray="${this.svgStrokeStyle}"`),zt+="/>"),this.notation.verticalstrike&&(zt+='<line x1="50%"  y1="3%" x2="50%" y2="97%"',zt+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,zt+=' stroke-linecap="round"',this.svgStrokeStyle&&(zt+=` stroke-dasharray="${this.svgStrokeStyle}"`),zt+="/>"),this.notation.updiagonalstrike&&(zt+='<line x1="3%"  y1="97%" x2="97%" y2="3%"',zt+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,zt+=' stroke-linecap="round"',this.svgStrokeStyle&&(zt+=` stroke-dasharray="${this.svgStrokeStyle}"`),zt+="/>"),this.notation.downdiagonalstrike&&(zt+='<line x1="3%"  y1="3%" x2="97%" y2="97%"',zt+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,zt+=' stroke-linecap="round"',this.svgStrokeStyle&&(zt+=` stroke-dasharray="${this.svgStrokeStyle}"`),zt+="/>"),zt){let Ht;this.shadow!=="none"&&(Ht=this.shadow==="auto"?"filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)":"filter: drop-shadow("+this.shadow+")"),Ey(Pt,zt,Ht)}let Kt=new Qr([Pt,St]);return Kt.setStyle("position","relative"),Kt.setStyle("display","inline"),Kt.height=St.height+Ct,Kt.depth=St.depth+Ct,Kt.left=Ct,Kt.right=Ct,this.caret&&(Kt.caret=this.caret),Kt.wrap(xt)}};function q4(at){if(!at)return"1px";let lt=at.match(/([0-9][a-zA-Z\%]+)/);return lt===null?"1px":lt[1]}var iu=class A2 extends Ir{constructor(lt,ft,xt){var St,Ct;super(wt(bt({},xt),{type:"genfrac",displayContainsHighlight:!0})),this.above=lt,this.below=ft,this.hasBarLine=(St=xt==null?void 0:xt.hasBarLine)!=null?St:!0,this.continuousFraction=(Ct=xt==null?void 0:xt.continuousFraction)!=null?Ct:!1,this.numerPrefix=xt==null?void 0:xt.numerPrefix,this.denomPrefix=xt==null?void 0:xt.denomPrefix,this.mathstyleName=xt==null?void 0:xt.mathstyleName,this.leftDelim=xt==null?void 0:xt.leftDelim,this.rightDelim=xt==null?void 0:xt.rightDelim,this.fractionNavigationOrder=xt==null?void 0:xt.fractionNavigationOrder}static fromJson(lt){return new A2(lt.above,lt.below,lt)}toJson(){let lt={};return this.continuousFraction&&(lt.continuousFraction=!0),this.numerPrefix&&(lt.numerPrefix=this.numerPrefix),this.denomPrefix&&(lt.denomPrefix=this.denomPrefix),this.leftDelim&&(lt.leftDelim=this.leftDelim),this.rightDelim&&(lt.rightDelim=this.rightDelim),this.hasBarLine||(lt.hasBarLine=!1),this.mathstyleName&&(lt.mathstyleName=this.mathstyleName),this.fractionNavigationOrder&&(lt.fractionNavigationOrder=this.fractionNavigationOrder),bt(bt({},super.toJson()),lt)}get children(){if(this._children)return this._children;let lt=[];if(this.fractionNavigationOrder==="denominator-numerator"){for(let ft of this.below)lt.push(...ft.children),lt.push(ft);for(let ft of this.above)lt.push(...ft.children),lt.push(ft)}else{for(let ft of this.above)lt.push(...ft.children),lt.push(ft);for(let ft of this.below)lt.push(...ft.children),lt.push(ft)}return this._children=lt,lt}render(lt){var ft,xt;let St=new Dn({parent:lt,mathstyle:this.mathstyleName},this.style),Ct=St.metrics,Tt=new Dn({parent:St,mathstyle:this.continuousFraction?"":"numerator"},this.style),Pt=this.numerPrefix?new Qr([new Qr(this.numerPrefix),Ir.createBox(Tt,this.above)],{isTight:Tt.isTight,type:"ignore"}):(ft=Ir.createBox(Tt,this.above,{type:"ignore"}))!=null?ft:new Qr(null,{type:"ignore"}),zt=new Dn({parent:St,mathstyle:this.continuousFraction?"":"denominator"},this.style),Kt=this.denomPrefix?new Qr([new Qr(this.denomPrefix),Ir.createBox(zt,this.below,{type:"ignore"})]):(xt=Ir.createBox(zt,this.below,{type:"ignore"}))!=null?xt:new Qr(null,{type:"ignore"}),Ht=this.hasBarLine?Ct.defaultRuleThickness:0,Jt,fr=0,hr;St.isDisplayStyle?(Jt=Tt.metrics.num1,fr=Ht>0?3*Ht:7*Ht,hr=zt.metrics.denom1):(Ht>0?(Jt=Tt.metrics.num2,fr=Ht):(Jt=Tt.metrics.num3,fr=3*Ct.defaultRuleThickness),hr=zt.metrics.denom2);let mr=[];this.isSelected&&mr.push("ML__selected");let Rr=Pt.depth,Yr=Kt.height,Pr;if(Ht<=0){let an=Jt-Rr-(Yr-hr);an<fr&&(Jt+=(fr-an)/2,hr+=(fr-an)/2),Pr=new ro({individualShift:[{box:Pt,shift:-Jt,classes:[...mr,"ML__center"]},{box:Kt,shift:hr,classes:[...mr,"ML__center"]}]}).wrap(St)}else{let an=ts+Ht/2,Mn=ts-Ht/2;Jt<fr+Rr+an&&(Jt=fr+Rr+an),hr<fr+Yr-Mn&&(hr=fr+Yr-Mn);let Pn=new Qr(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});Pn.height=Ht/2,Pn.depth=Ht/2,Pr=new ro({individualShift:[{box:Kt,shift:hr,classes:[...mr,"ML__center"]},{box:Pn,shift:-Mn,classes:mr},{box:Pt,shift:-Jt,classes:[...mr,"ML__center"]}]}).wrap(St)}let Ur=St.isDisplayStyle?Ct.delim1:Ct.delim2,un=this.leftDelim?this.bind(lt,em("open",this.leftDelim,Ur,!0,lt,{style:this.style,mode:this.mode,isSelected:this.isSelected})):Tl(St,"open"),Zr=null;this.continuousFraction?Zr=new Qr(null,{type:"close"}):this.rightDelim?Zr=this.bind(lt,em("close",this.rightDelim,Ur,!0,lt,{style:this.style,mode:this.mode,isSelected:this.isSelected})):Zr=Tl(St,"close");let dn=this.bind(lt,new Qr([un,Pr,Zr],{isTight:St.isTight,type:"inner",classes:"mfrac"}));return dn?(this.caret&&(dn.caret=this.caret),this.attachSupsub(lt,{base:dn})):null}},so=class k2 extends Ir{constructor(lt,ft){var xt;super({type:"latex",value:lt,mode:"latex"}),this.isSuggestion=(xt=ft==null?void 0:ft.isSuggestion)!=null?xt:!1,this.isError=!1}static fromJson(lt){let ft=new k2(lt.value);return lt.isSuggestion&&(ft.isSuggestion=!0),lt.isError&&(ft.isError=!0),ft}toJson(){let lt={};return this.isSuggestion&&(lt.isSuggestion=!0),this.isError&&(lt.isError=!0),bt({type:"latex",value:this.value},lt)}get computedStyle(){return{}}render(lt){let ft=new Qr(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return ft?(this.caret&&(ft.caret=this.caret),this.bind(lt,ft)):null}},Fu=class N2 extends Ir{constructor(lt){super({type:"latexgroup",mode:"latex"}),this.body=[...lt].map(ft=>new so(ft)),this.skipBoundary=!1}static fromJson(lt){return new N2("")}toJson(){return super.toJson()}render(lt){let ft=Ir.createBox(lt,this.body);return ft?(this.caret&&(ft.caret=this.caret),this.bind(lt,ft)):null}_serialize(lt){var ft,xt;return(xt=(ft=this.body)==null?void 0:ft.map(St=>St.value).join(""))!=null?xt:""}},_s=class T2 extends Ir{constructor(lt,ft){var xt,St,Ct;super(wt(bt({},ft),{type:(xt=ft.type)!=null?xt:"mop",isFunction:ft==null?void 0:ft.isFunction})),this.value=lt,this.hasArgument=(St=ft.hasArgument)!=null?St:!1,this.variant=ft==null?void 0:ft.variant,this.variantStyle=ft==null?void 0:ft.variantStyle,this.subsupPlacement=ft==null?void 0:ft.limits,this.isExtensibleSymbol=(Ct=ft==null?void 0:ft.isExtensibleSymbol)!=null?Ct:!1}static fromJson(lt){return new T2(lt.symbol,lt)}toJson(){let lt=super.toJson();return this.hasArgument&&(lt.hasArgument=!0),this.variant&&(lt.variant=this.variant),this.variantStyle&&(lt.variantStyle=this.variantStyle),this.subsupPlacement&&(lt.limits=this.subsupPlacement),this.isExtensibleSymbol&&(lt.isExtensibleSymbol=!0),this.value&&(lt.symbol=this.value),lt}render(lt){var ft;let xt,St=0,Ct=0;if(this.isExtensibleSymbol){let Pt=lt.isDisplayStyle&&this.value!=="\\smallint";if(xt=new Qr(this.value,{fontFamily:Pt?"Size2-Regular":"Size1-Regular",classes:"op-symbol "+(Pt?"large-op":"small-op"),type:"op",maxFontSize:lt.scalingFactor,isSelected:this.isSelected}),!xt)return null;xt.right=xt.italic,St=(xt.height-xt.depth)/2-ts*lt.scalingFactor,Ct=xt.italic,xt.setTop(St)}else this.type,xt=new Qr(this.value,{type:"op",mode:"math",maxFontSize:lt.scalingFactor,style:{variant:this.variant,variantStyle:this.variantStyle},isSelected:this.isSelected,letterShapeStyle:lt.letterShapeStyle});let Tt=xt;if(this.superscript||this.subscript){let Pt=(ft=this.subsupPlacement)!=null?ft:"auto";Tt=Pt==="over-under"||Pt==="auto"&&lt.isDisplayStyle?this.attachLimits(lt,{base:xt,baseShift:St,slant:Ct}):this.attachSupsub(lt,{base:xt})}return new Qr(this.bind(lt,Tt),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"op-group"}).wrap(lt)}_serialize(lt){if(!(lt.expandMacro||lt.skipStyles)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let ft=Vr(this.command,this.mode);if(ft!=null&&ft.serialize)return ft.serialize(this,lt);if(this.value==="​")return this.supsubToLatex(lt);let xt=[];return this.hasArgument?xt.push(jn(this.command,this.bodyToLatex(lt))):xt.push(this.command),this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&xt.push("\\limits"),this.subsupPlacement==="adjacent"&&xt.push("\\nolimits"),this.subsupPlacement==="auto"&&xt.push("\\displaylimits")),xt.push(this.supsubToLatex(lt)),Cn(xt)}},Ol=class B2 extends Ir{constructor(lt){let ft=lt.body;super(wt(bt({},lt),{type:"overlap",body:typeof ft=="string"?[new Ir({value:ft})]:ft,style:lt==null?void 0:lt.style})),this.skipBoundary=!0,this.align=lt==null?void 0:lt.align,this.boxType=lt==null?void 0:lt.boxType}static fromJson(lt){return new B2(lt)}toJson(){let lt={};return this.align&&(lt.align=this.align),this.boxType&&(lt.boxType=this.boxType),bt(bt({},super.toJson()),lt)}render(lt){let ft=Ir.createBox(lt,this.body,{classes:"inner"});return ft?(this.caret&&(ft.caret=this.caret),this.bind(lt,new Qr([ft,new Qr(null,{classes:"fix"})],{classes:this.align==="right"?"rlap":"llap",type:this.boxType}))):null}},Zo=class O2 extends Ir{constructor(lt){var ft,xt,St,Ct;super({type:"overunder",command:lt.command,style:lt.style,mode:lt.mode,body:lt.body,skipBoundary:(ft=lt.skipBoundary)!=null?ft:!0}),this.subsupPlacement=lt.supsubPlacement,this.svgAbove=lt.svgAbove,this.svgBelow=lt.svgBelow,this.svgBody=lt.svgBody,this.above=lt.above,this.below=lt.below,this.boxType=(xt=lt.boxType)!=null?xt:"ord",this.paddedBody=(St=lt.paddedBody)!=null?St:!1,this.paddedLabels=(Ct=lt.paddedLabels)!=null?Ct:!1}static fromJson(lt){return new O2(lt)}toJson(){let lt=super.toJson();return this.skipBoundary||(lt.skipBoundary=!1),this.subsupPlacement&&(lt.subsupPlacement=this.subsupPlacement),this.svgAbove&&(lt.svgAbove=this.svgAbove),this.svgBelow&&(lt.svgBelow=this.svgBelow),this.svgBody&&(lt.svgBody=this.svgBody),this.boxType!=="ord"&&(lt.boxType=this.boxType),this.paddedBody&&(lt.paddedBody=!0),this.paddedLabels&&(lt.paddedLabels=!0),lt}render(lt){let ft=this.svgBody?qp(this.svgBody):Ir.createBox(lt,this.body,{type:"ignore"}),xt=new Dn({parent:lt,mathstyle:"scriptstyle"},this.style),St=null;this.svgAbove?St=qp(this.svgAbove):this.above&&(St=Ir.createBox(xt,this.above,{type:"ignore"}));let Ct=null;this.svgBelow?Ct=qp(this.svgBelow):this.below&&(Ct=Ir.createBox(xt,this.below,{type:"ignore"})),this.paddedBody&&(ft=new Qr([Tl(lt,"open"),ft,Tl(lt,"close")],{type:"ignore"}));let Tt=U4(lt,{base:ft,above:St,below:Ct,type:this.boxType==="bin"||this.boxType==="rel"?this.boxType:"ord",paddedAboveBelow:this.paddedLabels});return Tt?(this.subsupPlacement==="over-under"?Tt=this.attachLimits(lt,{base:Tt,type:Tt.type}):Tt=this.attachSupsub(lt,{base:Tt}),this.caret&&(Tt.caret=this.caret),this.bind(lt,Tt)):null}};function U4(at,lt){if(!lt.base)return null;if(!lt.above&&!lt.below){let Pt=new Qr(lt.base,{type:lt.type});return Pt.setStyle("position","relative"),Pt}let ft=0;lt.above&&(ft=at.metrics.bigOpSpacing5);let xt=null,St=lt.base,Ct=0,Tt=["ML__center"];if(lt.paddedAboveBelow&&Tt.push("ML__label_padding"),lt.below&&lt.above){let Pt=at.metrics.bigOpSpacing5+lt.below.height+lt.below.depth+St.depth+Ct;xt=new ro({bottom:Pt,children:[at.metrics.bigOpSpacing5,{box:lt.below,classes:Tt},{box:St,classes:["ML__center"]},ft,{box:lt.above,classes:Tt},at.metrics.bigOpSpacing5]})}else lt.below?xt=new ro({top:St.height-Ct,children:[at.metrics.bigOpSpacing5,{box:lt.below,classes:Tt},{box:St,classes:["ML__center"]}]}):lt.above&&(xt=new ro({bottom:St.depth+Ct,children:[{box:St,classes:["ML__center"]},ft,{box:lt.above,classes:Tt},at.metrics.bigOpSpacing5]}));return new Qr(xt,{type:lt.type})}var Pu=class F2 extends Ir{constructor(lt){var ft,xt,St,Ct;super(wt(bt({},lt),{type:"phantom"})),this.captureSelection=!0,this.isInvisible=(ft=lt.isInvisible)!=null?ft:!1,this.smashDepth=(xt=lt.smashDepth)!=null?xt:!1,this.smashHeight=(St=lt.smashHeight)!=null?St:!1,this.smashWidth=(Ct=lt.smashWidth)!=null?Ct:!1}static fromJson(lt){return new F2(lt)}toJson(){let lt={};return this.isInvisible&&(lt.isInvisible=!0),this.smashDepth&&(lt.smashDepth=!0),this.smashHeight&&(lt.smashHeight=!0),this.smashWidth&&(lt.smashWidth=!0),bt(bt({},super.toJson()),lt)}render(lt){let ft=new Dn({parent:lt,isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return this.isInvisible,Ir.createBox(ft,this.body,{classes:"inner"});let xt=Ir.createBox(this.isInvisible?ft:lt,this.body);if(!xt)return null;if(this.smashWidth){let St=new Qr(null,{classes:"fix"});return new Qr([xt,St],{classes:"rlap"}).wrap(lt)}if(!this.smashHeight&&!this.smashDepth)return xt;if(this.smashHeight&&(xt.height=0),this.smashDepth&&(xt.depth=0),xt.children)for(let St of xt.children)this.smashHeight&&(St.height=0),this.smashDepth&&(St.depth=0);return new ro({firstBaseline:[{box:xt}]},{type:xt.type}).wrap(lt)}},Lu=class P2 extends Ir{constructor(lt){var ft;super(bt({type:"spacing"},lt)),this.width=lt==null?void 0:lt.width,this._braced=(ft=lt==null?void 0:lt.braced)!=null?ft:!1}static fromJson(lt){return new P2(lt)}toJson(){let lt=super.toJson();return this.width!==void 0&&(lt.width=this.width),this._braced&&(lt.braced=!0),lt}render(lt){var ft;if(this.command==="space")return new Qr(this.mode==="math"?null:" ");let xt;if(this.width!==void 0)xt=new Qr(null,{classes:"mspace"}),xt.left=lt.toEm(this.width);else{let St=(ft={"\\qquad":"qquad","\\quad":"quad","\\enspace":"enspace","\\;":"thickspace","\\:":"mediumspace","\\,":"thinspace","\\!":"negativethinspace"}[this.command])!=null?ft:"mediumspace";xt=new Qr(null,{classes:St})}return xt=this.bind(lt,xt),this.caret&&(xt.caret=this.caret),xt}_serialize(lt){var ft;if(!lt.expandMacro&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let xt=Vr(this.command,this.mode);if(xt!=null&&xt.serialize)return xt.serialize(this,lt);let St=(ft=this.command)!=null?ft:"";return this.width===void 0?St:this._braced&&!("register"in this.width)?`${St}{${uo(this.width)}}`:`${St}${uo(this.width)}`}},Jy=class L2 extends Ir{constructor(lt){var ft;super(wt(bt({},lt),{type:"surd",mode:(ft=lt.mode)!=null?ft:"math",style:lt.style,displayContainsHighlight:!0,body:lt.body})),this.above=lt.index}static fromJson(lt){return new L2(wt(bt({},lt),{index:lt.above}))}_serialize(lt){if(!(lt.expandMacro||lt.skipStyles)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let ft=Vr(this.command,this.mode);if(ft!=null&&ft.serialize)return ft.serialize(this,lt);let xt=this.command,St=this.bodyToLatex(lt);return this.above&&!this.hasEmptyBranch("above")?jn(`${xt}[${this.aboveToLatex(lt)}]`,St):/^[0-9]$/.test(St)?`${xt}${St}`:jn(xt,St)}render(lt){var ft;let xt=new Dn({parent:lt,mathstyle:"cramp"},this.style),St=(ft=Ir.createBox(xt,this.body,{type:"inner"}))!=null?ft:new Qr(null),Ct=xt.scalingFactor,Tt=xt.metrics.defaultRuleThickness/Ct,Pt=lt.isDisplayStyle?El:Tt,zt=new Qr(null,{classes:"ML__sqrt-line",style:this.style,height:Tt}),Kt=Ct*(Tt+Pt/4),Ht=Math.max(Ct*2*Pt,St.height+St.depth)+Kt+Tt,Jt=new Dn({parent:lt},this.style),fr=this.bind(Jt,new Qr(em("inner","\\surd",Ht,!1,Jt,{isSelected:this.isSelected}),{isSelected:this.isSelected,classes:"ML__sqrt-sign",style:this.style}));if(!fr)return null;let hr=fr.height+fr.depth-Tt;hr>St.height+St.depth+Kt&&(Kt=(Kt+hr-(St.height+St.depth))/2),fr.setTop(fr.height-St.height-Kt);let mr=this.bind(lt,new ro({firstBaseline:[{box:new Qr(St)},Kt-2*Tt,{box:zt},Tt]})),Rr=Ir.createBox(new Dn({parent:lt,mathstyle:"scriptscriptstyle"}),this.above,{type:"ignore"});if(!Rr){let Ur=new Qr([fr,mr],{classes:this.containsCaret?"ML__contains-caret":"",type:"inner"});return Ur.setStyle("display","inline-block"),Ur.setStyle("height",Ur.height+Ur.depth,"em"),this.caret&&(Ur.caret=this.caret),this.bind(lt,Ur)}let Yr=new ro({shift:-.6*(Math.max(fr.height,mr.height)-Math.max(fr.depth,mr.depth)),children:[{box:Rr}]}),Pr=new Qr([new Qr(Yr,{classes:"ML__sqrt-index",type:"ignore"}),fr,mr],{type:"inner",classes:this.containsCaret?"ML__contains-caret":""});return Pr.height=fr.height,Pr.depth=fr.depth,this.caret&&(Pr.caret=this.caret),this.bind(lt,Pr)}},K4=class extends Qr{constructor(at){super(null,{type:"skip",width:at})}toMarkup(){return`<span style="display:inline-block;width:${Math.round(this.width*100)/100}em"></span>`}};function am(at,lt){if(!at.parent)return;let ft=at.parent.children,xt=ft.indexOf(at),St=xt-1;for(;St>=0&&ft[St].type==="ignore";)St-=1;if(St<0&&at.parent.parent&&at.parent.type==="lift"){am(at.parent,lt);return}if(xt>0&&ft[xt-1].type==="skip"){ft[xt-1].width+=lt;return}ft.splice(xt,0,new K4(lt))}var V4={ord:{op:3,bin:4,rel:5,inner:3},op:{ord:3,op:3,rel:5,inner:3},bin:{ord:4,op:4,open:4,inner:4},rel:{ord:5,op:5,open:5,inner:5},close:{op:3,bin:4,rel:5,inner:3},punct:{ord:3,op:3,rel:3,open:3,punct:3,inner:3},inner:{ord:3,op:3,bin:4,rel:5,open:3,punct:3,inner:3}},H4={ord:{op:3},op:{ord:3,op:3},close:{op:3},inner:{op:3}};function W4(at){zu(at,(lt,ft)=>{ft.type==="bin"&&(!lt||/^(middle|bin|op|rel|open|punct)$/.test(lt.type))&&(ft.type="ord"),(lt==null?void 0:lt.type)==="bin"&&/^(rel|close|punct)$/.test(ft.type)&&(lt.type="ord"),ft.type!=="ignore"&&(lt=ft)})}function Ru(at,lt){if(!at.children)return at;let ft=at.children;W4(ft);let xt=lt.getRegisterAsEm("thinmuskip"),St=lt.getRegisterAsEm("medmuskip"),Ct=lt.getRegisterAsEm("thickmuskip");return zu(ft,(Tt,Pt)=>{var zt,Kt,Ht;if(!Tt)return;let Jt=Tt.type,fr=Pt.isTight?(zt=H4[Jt])!=null?zt:null:(Kt=V4[Jt])!=null?Kt:null,hr=(Ht=fr==null?void 0:fr[Pt.type])!=null?Ht:null;hr===3&&am(Pt,xt),hr===4&&am(Pt,St),hr===5&&am(Pt,Ct)}),at}function zu(at,lt,ft=void 0){if(!at)return ft;at=[...at];for(let xt of at)xt.type==="lift"?ft=zu(xt.children,lt,ft):xt.type==="ignore"?zu(xt.children,lt):(lt(ft,xt),zu(xt.children,lt),ft=xt);return ft}var C0=class R2 extends Ir{constructor(lt){super({type:"tooltip",command:lt.command,mode:lt.mode,style:lt.style,body:lt.body,displayContainsHighlight:!0}),this.tooltip=new Ir({type:"root",mode:lt.content,body:lt.tooltip,style:{}}),this.skipBoundary=!0,this.captureSelection=!1}static fromJson(lt){return new R2(wt(bt({},lt),{tooltip:Ks(lt.tooltip)}))}toJson(){var lt;let ft=(lt=this.tooltip.body)==null?void 0:lt.filter(xt=>xt.type!=="first").map(xt=>xt.toJson());return wt(bt({},super.toJson()),{tooltip:ft})}render(lt){let ft=Ir.createBox(new Dn,this.body);if(!ft)return null;let xt=new Dn({parent:lt,mathstyle:"displaystyle"},{fontSize:m0}),St=Ip(Ru(new Qr(this.tooltip.render(xt),{classes:"ML__tooltip-content"}),xt)),Ct=new Qr([St,ft],{classes:"ML__tooltip-container"});return this.caret&&(Ct.caret=this.caret),this.bind(lt,Ct)}};function Ks(at){if(kt(at))return at.map(xt=>Ks(xt));if(typeof at=="string")return Ir.fromJson(at);at=bt({},at);for(let xt of nu)at[xt]&&(at[xt]=Ks(at[xt]));at.args&&(at.args=G4(at.args)),at.array&&(at.array=Ks(at.array));let lt=at.type,ft;lt==="accent"&&(ft=Zp.fromJson(at)),lt==="array"&&(ft=Tn.fromJson(at)),lt==="box"&&(ft=Us.fromJson(at)),lt==="chem"&&(ft=Zy.fromJson(at)),lt==="composition"&&(ft=Uy.fromJson(at)),lt==="delim"&&(ft=Yy.fromJson(at)),lt==="enclose"&&(ft=Ou.fromJson(at)),lt==="error"&&(ft=Bl.fromJson(at)),lt==="genfrac"&&(ft=iu.fromJson(at)),lt==="group"&&(ft=Ky.fromJson(at)),lt==="latex"&&(ft=so.fromJson(at)),lt==="latexgroup"&&(ft=Fu.fromJson(at)),lt==="leftright"&&(ft=Xn.fromJson(at)),lt==="macro"&&(ft=Hy.fromJson(at)),lt==="macro-argument"&&(ft=j4.fromJson(at)),lt==="subsup"&&(ft=nm.fromJson(at)),lt==="overlap"&&(ft=Ol.fromJson(at)),lt==="overunder"&&(ft=Zo.fromJson(at)),lt==="placeholder"&&(ft=Ds.fromJson(at)),lt==="prompt"&&(ft=Wy.fromJson(at)),lt==="phantom"&&(ft=Pu.fromJson(at)),lt==="sizeddelim"&&(ft=Qy.fromJson(at)),lt==="spacing"&&(ft=Lu.fromJson(at)),lt==="surd"&&(ft=Jy.fromJson(at)),lt==="text"&&(ft=Au.fromJson(at)),lt==="tooltip"&&(ft=C0.fromJson(at)),lt==="mop"&&(ft=_s.fromJson(at)),ft||(ft=Ir.fromJson(at));for(let xt of nu)at[xt]&&ft.setChildren(at[xt],xt);return at.verbatimLatex!==void 0&&(ft.verbatimLatex=at.verbatimLatex),at.subsupPlacement&&(ft.subsupPlacement=at.subsupPlacement),at.explicitSubsupPlacement&&(ft.explicitSubsupPlacement=!0),at.isFunction&&(ft.isFunction=!0),at.isExtensibleSymbol&&(ft.isExtensibleSymbol=!0),at.skipBoundary&&(ft.skipBoundary=!0),at.captureSelection&&(ft.captureSelection=!0),ft}function G4(at){if(at&&Array.isArray(at))return at.map(lt=>lt==="<null>"?null:typeof lt=="object"&&"group"in lt?{group:lt.group.map(ft=>Ks(ft))}:typeof lt=="object"&&"atoms"in lt?lt.atoms.map(ft=>Ks(ft)):lt)}var X4={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams"],"ams-italic":["AMS-Regular","ML__ams"],"ams-bolditalic":["AMS-Regular","ML__ams"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak"],"fraktur-italic":["Fraktur-Regular","ML__frak"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb"],"double-struck-italic":["AMS-Regular","ML__bb"],"double-struck-bolditalic":["AMS-Regular","ML__bb"]},_b={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^’‘]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},ex=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,Z4=/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/,Y4=[/^[a-z]$/,/^[A-Z]$/,ex,Z4],Q4={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]},J4=class extends Ro{constructor(){super("math")}createAtom(at,lt,ft){var xt,St,Ct,Tt,Pt;if(lt===null)return new Ir({type:"mord",mode:"math",command:at,value:at,style:ft});if(lt.definitionType==="symbol"){let Kt=new Ir({type:(xt=lt.type)!=null?xt:"mord",mode:"math",command:(St=lt.command)!=null?St:at,value:String.fromCodePoint(lt.codepoint),style:ft});return(Ct=lt.isFunction)!=null&&Ct&&(Kt.isFunction=!0),at.startsWith("\\")&&(Kt.verbatimLatex=at),Kt}let zt=new Ir({type:"mord",mode:"math",command:(Tt=lt.command)!=null?Tt:at,value:at,style:ft});return(Pt=lt.isFunction)!=null&&Pt&&(zt.isFunction=!0),at.startsWith("\\")&&(zt.verbatimLatex=at),zt}serialize(at,lt){let ft=e3(at,wt(bt({},lt),{defaultMode:"math"}));return ft.length===0||lt.defaultMode!=="text"?ft:["$ ",...ft," $"]}getFont(at,lt){lt.variant;let{variant:ft}=lt,{variantStyle:xt}=lt;ft==="normal"&&!xt&&/[\u00A3\u0131\u0237]/.test(at.value)&&(ft="main",xt="italic"),ft==="normal"&&!xt&&at.value.length===1&&Y4.forEach((Pt,zt)=>{var Kt;Pt.test(at.value)&&Q4[(Kt=lt.letterShapeStyle)!=null?Kt:"tex"][zt]==="it"&&(xt="italic")}),xt==="up"&&(xt=void 0);let St=xt?ft+"-"+xt:ft,[Ct,Tt]=X4[St];return _b[ft]&&!_b[ft].test(at.value)?(at.value=_r(at.value,ft,xt),null):(ex.test(at.value)&&(at.classes+=" lcGreek"),Tt&&(at.classes+=" "+Tt),Ct)}};function e3(at,lt){let{parent:ft}=at[0],xt=tx(ft);return Is(at,"variant").map(St=>{let Ct=tx(St[0]),Tt="";Ct&&Ct!==xt&&(Tt={calligraphic:"\\mathcal",fraktur:"\\mathfrak","double-struck":"\\mathbb",script:"\\mathscr",monospace:"\\mathtt","sans-serif":"\\mathsf",normal:"\\mathrm","normal-italic":"\\mathnormal","normal-bold":"\\mathbf","normal-bolditalic":"\\mathbfit",ams:"","ams-italic":"\\mathit","ams-bold":"\\mathbf","ams-bolditalic":"\\mathbfit",main:"","main-italic":"\\mathit","main-bold":"\\mathbf","main-bolditalic":"\\mathbfit"}[Ct]);let Pt=Cn(St.map(zt=>zt._serialize(lt)));return Tt?jn(Tt,Pt):Pt})}function tx(at){if(!at)return"";let{style:lt}=at;if(lt.variant===void 0)return"";let ft=lt.variant;return lt.variantStyle&&lt.variantStyle!=="up"&&(ft+="-"+lt.variantStyle),ft}new J4;function t3(at,lt){return at.map(ft=>ft._serialize(lt))}function r3(at,lt){return Is(at,"fontShape").map(ft=>{let xt=t3(ft,lt),{fontShape:St}=ft[0].style,Ct="";return St==="it"&&(Ct="\\textit"),St==="sl"&&(Ct="\\textsl"),St==="sc"&&(Ct="\\textsc"),St==="n"&&(Ct="\\textup"),!Ct&&St?`{${jn("\\fontshape",St)}${Cn(xt)}}`:Ct?jn(Ct,Cn(xt)):Cn(xt)})}function n3(at,lt){return Is(at,"fontSeries").map(ft=>{let xt=r3(ft,lt),{fontSeries:St}=ft[0].style,Ct="";return St==="b"&&(Ct="\\textbf"),St==="l"&&(Ct="\\textlf"),St==="m"&&(Ct="\\textmd"),St&&!Ct?`{${jn("\\fontseries",St)}${Cn(xt)}}`:Ct?jn(Ct,Cn(xt)):Cn(xt)})}function a3(at,lt){return Is(at,"fontSize").map(ft=>{var xt,St;let Ct=n3(ft,lt),Tt=(St=["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][(xt=ft[0].style.fontSize)!=null?xt:""])!=null?St:"";return Tt?`${Tt} ${Cn(Ct)}`:Cn(Ct)})}function i3(at,lt){return Is(at,"fontFamily").map(ft=>{var xt,St;let Ct=a3(ft,lt),Tt=(St={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[(xt=ft[0].style.fontFamily)!=null?xt:""])!=null?St:"";return Tt?`\\${Tt}{${Cn(Ct)}}`:ft[0].style.fontFamily?`{\\fontfamily{${ft[0].style.fontFamily}} ${Cn(Ct)}}`:Cn(Ct)})}var rx={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"},o3=class extends Ro{constructor(){super("text")}createAtom(at,lt,ft){return lt&&lt.definitionType==="symbol"?new Au(at,String.fromCodePoint(lt.codepoint),ft??{}):null}serialize(at,lt){let ft=i3(at,wt(bt({},lt),{defaultMode:"text"}));return ft.length===0||lt.defaultMode==="text"?ft:["\\text{",...ft,"}"]}getFont(at,lt){var ft,xt,St,Ct,Tt;let{fontFamily:Pt}=lt;if(rx[Pt]?at.classes+=" "+rx[Pt]:Pt&&at.setStyle("font-family",Pt),lt.fontShape&&(at.classes+=" ",at.classes+=(ft={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[lt.fontShape])!=null?ft:""),lt.fontSeries){let zt=lt.fontSeries.match(/(.?[lbm])?(.?[cx])?/);zt&&(at.classes+=" ",at.classes+=(St={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[(xt=zt[1])!=null?xt:""])!=null?St:"",at.classes+=" ",at.classes+=(Tt={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[(Ct=zt[2])!=null?Ct:""])!=null?Tt:"")}return"Main-Regular"}};new o3;var s3=class extends Ro{constructor(){super("latex")}createAtom(at){return new so(at)}serialize(at,lt){return at.filter(ft=>ft instanceof so&&!ft.isSuggestion).map(ft=>ft.value)}getFont(){return null}};new s3;function nx(at){let lt=at.split("+"),ft={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:lt.pop()};return lt.includes("shift")&&(ft.shift=!0),lt.includes("alt")&&(ft.alt=!0),lt.includes("ctrl")&&(ft.ctrl=!0),lt.includes("cmd")&&(ft.cmd=!0),lt.includes("win")&&(ft.win=!0),lt.includes("meta")&&(ft.meta=!0),ft}function om(at){let lt="";return at.shift&&(lt+="shift+"),at.alt&&(lt+="alt+"),at.ctrl&&(lt+="ctrl+"),at.cmd&&(lt+="cmd+"),at.win&&(lt+="win+"),at.meta&&(lt+="meta+"),lt+at.key}var ax=M0()==="apple"?{id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","ı"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","Î"],KeyE:["e","E","´","´"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","˝"],KeyH:["h","H","˙","Ó"],KeyI:["i","I","ˆ","ˆ"],KeyJ:["j","J","∆","Ô"],KeyK:["k","K","˚",""],KeyL:["l","L","¬","Ò"],KeyM:["m","M","µ","Â"],KeyN:["n","N","˜","˜"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®","‰"],KeyS:["s","S","ß","Í"],KeyT:["t","T","†","ˇ"],KeyU:["u","U","¨","¨"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","˛"],KeyY:["y","Y","¥","Á"],KeyZ:["z","Z","Ω","¸"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["-","_","–","—"],Equal:["=","+","≠","±"],BracketLeft:["[","{","“","”"],BracketRight:["]","}","‘","’"],Backslash:["\\","|","«","»"],Semicolon:[";",":","…","Ú"],Quote:["'",'"',"æ","Æ"],Backquote:["`","˜","`","`"],Comma:[",","<","≤","¯"],Period:[".",">","≥","˘"],Slash:["/","?","÷","¿"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}}:M0()==="windows"?{id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","á","Á"],KeyB:["b","B","",""],KeyC:["c","C","©","¢"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","é","É"],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","í","Í"],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","ø","Ø"],KeyM:["m","M","µ",""],KeyN:["n","N","ñ","Ñ"],KeyO:["o","O","ó","Ó"],KeyP:["p","P","ö","Ö"],KeyQ:["q","Q","ä","Ä"],KeyR:["r","R","®",""],KeyS:["s","S","ß","§"],KeyT:["t","T","þ","Þ"],KeyU:["u","U","ú","Ú"],KeyV:["v","V","",""],KeyW:["w","W","å","Å"],KeyX:["x","X","",""],KeyY:["y","Y","ü","Ü"],KeyZ:["z","Z","æ","Æ"],Digit1:["1","!","¡","¹"],Digit2:["2","@","²",""],Digit3:["3","#","³",""],Digit4:["4","$","¤","£"],Digit5:["5","%","€",""],Digit6:["6","^","¼",""],Digit7:["7","&","½",""],Digit8:["8","*","¾",""],Digit9:["9","(","‘",""],Digit0:["0",")","’",""],Space:[" "," ","",""],Minus:["-","_","¥",""],Equal:["=","+","×","÷"],BracketLeft:["[","{","«",""],BracketRight:["]","}","»",""],Backslash:["\\","|","¬","¦"],Semicolon:[";",":","¶","°"],Quote:["'",'"',"´","¨"],Backquote:["`","~","",""],Comma:[",","<","ç","Ç"],Period:[".",">","",""],Slash:["/","?","¿",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}}:{id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},l3={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},sm=[];function M0(){switch(Ot()){case"macos":case"ios":return"apple";case"windows":return"windows"}return"linux"}function ds(at){(!at.platform||at.platform===M0())&&sm.push(at)}function u3(at,lt){var ft;let xt={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!at)return xt;for(let[St,Ct]of Object.entries(lt.mapping)){if(Ct[0]===at)return xt.key=`[${St}]`,xt;if(Ct[1]===at)return xt.shift=!0,xt.key=`[${St}]`,xt;if(Ct[2]===at)return xt.alt=!0,xt.key=`[${St}]`,xt;if(Ct[3]===at)return xt.shift=!0,xt.alt=!0,xt.key=`[${St}]`,xt}return xt.key=(ft=l3[at])!=null?ft:"",xt}function c3(at){if(at.code)return at;let lt=Object.entries(Iu().mapping),ft=!1,xt=!1,St="";for(let Ct=0;Ct<4;Ct++){for(let[Tt,Pt]of lt)if(Pt[Ct]===at.key){St=Tt,Ct===3?(ft=!0,xt=!0):Ct===2?ft=!0:Ct===1&&(xt=!0);break}if(St)break}return new KeyboardEvent(at.type,wt(bt({},at),{altKey:ft,shiftKey:xt,code:St}))}function d3(at){var lt,ft;if(!at||at.key==="Unidentified"||at.key==="Dead")return;let xt=at.shiftKey&&at.altKey?3:at.altKey?2:at.shiftKey?1:0;for(let St of sm)((lt=St.mapping[at.code])==null?void 0:lt[xt])===at.key?St.score+=1:(ft=St.mapping[at.code])!=null&&ft[xt]&&(St.score=0);sm.sort((St,Ct)=>Ct.score-St.score)}function Iu(){return sm[0]}ds(ax),ds({id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","‡","Ω"],KeyB:["b","B","ß","∫"],KeyC:["c","C","©","¢"],KeyD:["d","D","∂","∆"],KeyE:["e","E","ê","Ê"],KeyF:["f","F","ƒ","·"],KeyG:["g","G","ﬁ","ﬂ"],KeyH:["h","H","Ì","Î"],KeyI:["i","I","î","ï"],KeyJ:["j","J","Ï","Í"],KeyK:["k","K","È","Ë"],KeyL:["l","L","¬","|"],KeyM:[",","?","∞","¿"],KeyN:["n","N","~","ı"],KeyO:["o","O","œ","Œ"],KeyP:["p","P","π","∏"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","®","‚"],KeyS:["s","S","Ò","∑"],KeyT:["t","T","†","™"],KeyU:["u","U","º","ª"],KeyV:["v","V","◊","√"],KeyW:["z","Z","Â","Å"],KeyX:["x","X","≈","⁄"],KeyY:["y","Y","Ú","Ÿ"],KeyZ:["w","W","‹","›"],Digit1:["&","1","","´"],Digit2:["é","2","ë","„"],Digit3:['"',"3","“","”"],Digit4:["'","4","‘","’"],Digit5:["(","5","{","["],Digit6:["§","6","¶","å"],Digit7:["è","7","«","»"],Digit8:["!","8","¡","Û"],Digit9:["ç","9","Ç","Á"],Digit0:["à","0","ø","Ø"],Space:[" "," "," "," "],Minus:[")","°","}","]"],Equal:["-","_","—","–"],BracketLeft:["^","¨","ô","Ô"],BracketRight:["$","*","€","¥"],Backslash:["`","£","@","#"],Semicolon:["m","M","µ","Ó"],Quote:["ù","%","Ù","‰"],Backquote:["<",">","≤","≥"],Comma:[";",".","…","•"],Period:[":","/","÷","\\"],Slash:["=","+","≠","±"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","•","Ÿ"],NumpadEqual:["=","=","=","="]}}),ds({id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","ß",""],KeyC:["c","C","©"," "],KeyD:["d","D","∂","∆"],KeyE:["e","E","€","€"],KeyF:["f","F","ƒ","ﬁ"],KeyG:["g","G","","ﬂ"],KeyH:["h","H","™"," "],KeyI:["i","I"," "," "],KeyJ:["j","J","¶","¯"],KeyK:["k","K","§","ˇ"],KeyL:["l","L"," ","˘"],KeyM:["m","M","µ","˚"],KeyN:["n","N"," ","˙"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®"," "],KeyS:["s","S","∫"," "],KeyT:["t","T","†","‡"],KeyU:["u","U"," "," "],KeyV:["v","V","√","◊"],KeyW:["w","W","æ","Æ"],KeyX:["x","X","∑","›"],KeyY:["y","Y","¥"," "],KeyZ:["z","Z","Ω","‹"],Digit1:["1","!","|","ı"],Digit2:["2",'"',"@","˝"],Digit3:["3","·","#","•"],Digit4:["4","$","¢","£"],Digit5:["5","%","∞","‰"],Digit6:["6","&","¬"," "],Digit7:["7","/","÷","⁄"],Digit8:["8","(","“","‘"],Digit9:["9",")","”","’"],Digit0:["0","=","≠","≈"],Space:[" "," "," "," "],Minus:["'","?","´","¸"],Equal:["¡","¿","‚","˛"],BracketLeft:["`","^","[","ˆ"],BracketRight:["+","*","]","±"],Backslash:["ç","Ç","}","»"],Semicolon:["ñ","Ñ","~","˜"],Quote:["´","¨","{","«"],Backquote:["<",">","≤","≥"],Comma:[",",";","„",""],Period:[".",":","…","…"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["º","ª","\\","°"]}}),ds({id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","·","#",""],Digit4:["4","$","~",""],Digit5:["5","%","€",""],Digit6:["6","&","¬",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["¡","¿","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["ç","Ç","}",""],Semicolon:["ñ","Ñ","",""],Quote:["´","¨","{",""],Backquote:["º","ª","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}}),ds({id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:["m","M","µ","º"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["z","Z","«","<"],Digit1:["1","!","|","¡"],Digit2:["2",'"',"@","⅛"],Digit3:["3","·","#","£"],Digit4:["4","$","~","$"],Digit5:["5","%","½","⅜"],Digit6:["6","&","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8","(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","=","}","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["'","?","\\","¿"],Equal:["¡","¿","̃","~"],BracketLeft:["̀","̂","[","̊"],BracketRight:["+","*","]","̄"],Backslash:["ç","Ç","}","̆"],Semicolon:["ñ","Ñ","~","̋"],Quote:["́","̈","{","{"],Backquote:["º","ª","\\","\\"],Comma:[",",";","─","×"],Period:[".",":","·","÷"],Slash:["-","_","̣","̇"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}}),ds({id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@","Ω"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:[",","?","́","̋"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["z","Z","«","<"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["w","W","ł","Ł"],Digit1:["&","1","¹","¡"],Digit2:["é","2","~","⅛"],Digit3:['"',"3","#","£"],Digit4:["'","4","{","$"],Digit5:["(","5","[","⅜"],Digit6:["-","6","|","⅝"],Digit7:["è","7","`","⅞"],Digit8:["_","8","\\","™"],Digit9:["ç","9","^","±"],Digit0:["à","0","@","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:[")","°","]","¿"],Equal:["=","+","}","̨"],BracketLeft:["̂","̈","̈","̊"],BracketRight:["$","£","¤","̄"],Backslash:["*","µ","̀","̆"],Semicolon:["m","M","µ","º"],Quote:["ù","%","̂","̌"],Backquote:["²","~","¬","¬"],Comma:[";",".","─","×"],Period:[":","/","·","÷"],Slash:["!","§","̣","̇"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"]}}),ds({id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["é","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["è","7","`",""],Digit8:["_","8","\\",""],Digit9:["ç","9","^",""],Digit0:["à","0","@",""],Space:[" "," ","",""],Minus:[")","°","]",""],Equal:["=","+","}",""],BracketLeft:["^","¨","",""],BracketRight:["$","£","¤",""],Backslash:["*","µ","",""],Semicolon:["m","M","",""],Quote:["ù","%","",""],Backquote:["²","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","§","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}}),ds({id:"windows.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","µ",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"²",""],Digit3:["3","§","³",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["ß","?","\\","ẞ"],Equal:["´","`","",""],BracketLeft:["ü","Ü","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["ö","Ö","",""],Quote:["ä","Ä","",""],Backquote:["^","°","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}}),ds({id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","‹"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","™"],KeyE:["e","E","€","‰"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","Ì"],KeyH:["h","H","ª","Ó"],KeyI:["i","I","⁄","Û"],KeyJ:["j","J","º","ı"],KeyK:["k","K","∆","ˆ"],KeyL:["l","L","@","ﬂ"],KeyM:["m","M","µ","˘"],KeyN:["n","N","~","›"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","«","»"],KeyR:["r","R","®","¸"],KeyS:["s","S","‚","Í"],KeyT:["t","T","†","˝"],KeyU:["u","U","¨","Á"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","Ù"],KeyY:["z","Z","Ω","ˇ"],KeyZ:["y","Y","¥","‡"],Digit1:["1","!","¡","¬"],Digit2:["2",'"',"“","”"],Digit3:["3","§","¶","#"],Digit4:["4","$","¢","£"],Digit5:["5","%","[","ﬁ"],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{","˜"],Digit9:["9",")","}","·"],Digit0:["0","=","≠","¯"],Space:[" "," "," "," "],Minus:["ß","?","¿","˙"],Equal:["´","`","'","˚"],BracketLeft:["ü","Ü","•","°"],BracketRight:["+","*","±",""],Backslash:["#","'","‘","’"],Semicolon:["ö","Ö","œ","Œ"],Quote:["ä","Ä","æ","Æ"],Backquote:["<",">","≤","≥"],Comma:[",",";","∞","˛"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","°","„","“"],NumpadEqual:["=","=","=","="]}}),ds({id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["x","X","≈","˛"],KeyC:["j","J","∆","Ô"],KeyD:["e","E","´","´"],KeyE:[".",">","≥","˘"],KeyF:["u","U","¨","¨"],KeyG:["i","I","ˆ","ˆ"],KeyH:["d","D","∂","Î"],KeyI:["c","C","ç","Ç"],KeyJ:["h","H","˙","Ó"],KeyK:["t","T","†","ˇ"],KeyL:["n","N","˜","˜"],KeyM:["m","M","µ","Â"],KeyN:["b","B","∫","ı"],KeyO:["r","R","®","‰"],KeyP:["l","L","¬","Ò"],KeyQ:["'",'"',"æ","Æ"],KeyR:["p","P","π","∏"],KeyS:["o","O","ø","Ø"],KeyT:["y","Y","¥","Á"],KeyU:["g","G","©","˝"],KeyV:["k","K","˚",""],KeyW:[",","<","≤","¯"],KeyX:["q","Q","œ","Œ"],KeyY:["f","F","ƒ","Ï"],KeyZ:[";",":","…","Ú"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["[","{","“","”"],Equal:["]","}","‘","’"],BracketLeft:["/","?","÷","¿"],BracketRight:["=","+","≠","±"],Backslash:["\\","|","«","»"],Semicolon:["s","S","ß","Í"],Quote:["-","_","–","—"],Backquote:["`","~","`","`"],Comma:["w","W","∑","„"],Period:["v","V","√","◊"],Slash:["z","Z","Ω","¸"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}});function f3(at){if(Bt()){let lt=Ot(),ft=at.startsWith("!"),xt=at.endsWith(lt);if(ft&&!xt||!ft&&xt)return!0}return at==="!other"?!1:at==="other"}function p3(at,lt,ft){if(at.length===0)return"";let xt=om(nx(ft));for(let St=at.length-1;St>=0;St--)if(at[St].key===xt&&(!at[St].ifMode||at[St].ifMode===lt))return at[St].command;return""}function ix(at){let lt=at;return kt(lt)&&(lt=lt.length>0?lt[0]+"("+lt.slice(1).join("")+")":""),lt}function m3(at,lt){let ft=[];if(typeof lt=="string"){let Ct=v4[lt];kt(Ct)?ft=Ct.slice():Ct&&ft.push(Ct)}let xt=ix(lt),St=new RegExp("^"+xt.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(let Ct of at)St.test(ix(Ct.command))&&ft.push(Ct.key);return ft.map(ox)}function ox(at){var lt;let ft=/macos|ios|/.test(Ot()),xt=at.split("+"),St="";for(let Ct of xt)!ft&&St&&(St+='<span class="ML__shortcut-join">+</span>'),Ct.startsWith("[Key")?St+=Ct.slice(4,5):Ct.startsWith("Key")?St+=Ct.slice(3,4):Ct.startsWith("[Digit")?St+=Ct.slice(6,7):Ct.startsWith("Digit")?St+=Ct.slice(5,6):St+=(lt={cmd:"⌘",meta:ft?"⌘":"command",shift:ft?"⇧":"shift",alt:ft?"⌥":"alt",ctrl:ft?"⌃":"control","\n":ft?"⏎":"return","[return]":ft?"⏎":"return","[enter]":ft?"⌤":"enter","[tab]":ft?"⇥":"tab","[escape]":"esc","[backspace]":ft?"⌫":"backspace","[delete]":ft?"⌦":"del","[pageup]":ft?"⇞":"page up","[pagedown]":ft?"⇟":"page down","[home]":ft?"⤒":"home","[end]":ft?"⤓":"end","[space]":"space","[equal]":"=","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",bracketLeft:"[",bracketRight:"]",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"⇠",up:"⇡",right:"⇢",down:"⇣","[arrowleft]":"⇠","[arrowup]":"⇡","[arrowright]":"⇢","[arrowdown]":"⇣","[digit0]":"0","[digit1]":"1","[digit2]":"2","[digit3]":"3","[digit4]":"4","[digit5]":"5","[digit6]":"6","[digit7]":"7","[digit8]":"8","[digit9]":"9"}[Ct.toLowerCase()])!=null?lt:Ct.toUpperCase();return St}function h3(at,lt){if(at.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(at.ifPlatform))throw new Error(`Unexpected platform "${at.ifPlatform}" for keybinding ${at.key}`);if(at.ifLayout!==void 0&&(lt.score===0||!at.ifLayout.includes(lt.id)))return;let ft=nx(at.key),xt=at.ifPlatform;if(ft.cmd){if(xt&&xt!=="macos"&&xt!=="ios")throw new Error('Unexpected "cmd" modifier with platform "'+xt+`"
"cmd" modifier can only be used with macOS or iOS platform.`);xt||(xt=Ot()==="ios"?"ios":"macos"),ft.win=!1,ft.cmd=!1,ft.meta=!0}if(ft.win){if(xt&&xt!=="windows")throw new Error('Unexpected "win" modifier with platform "'+xt+`"
"win" modifier can only be used with Windows platform.`);xt="windows",ft.win=!1,ft.cmd=!1,ft.meta=!0}if(xt&&!f3(xt))return;if(/^\[.+\]$/.test(ft.key))return wt(bt({},at),{ifPlatform:xt,key:om(ft)});let St=u3(ft.key,lt);if(!St)throw new Error('Invalid keybinding key "'+at.key+'"');if(St.shift&&ft.shift||St.alt&&ft.alt)throw new Error(`The keybinding ${at.key} (${$0(at.command)}) is conflicting with the key combination ${om(St)} using the ${lt.displayName} keyboard layout`);return St.shift=St.shift||ft.shift,St.alt=St.alt||ft.alt,St.meta=ft.meta,St.ctrl=ft.ctrl,wt(bt({},at),{ifPlatform:xt,key:om(St)})}function $0(at){if(Array.isArray(at)){let lt=[...at];return lt.shift()+"("+lt.map(ft=>typeof ft=="string"?`"${ft}"`:ft.toString()).join(", ")+")"}return at}function v3(at,lt){let ft=[],xt=[];for(let St of at)try{let Ct=h3(St,lt);if(Ct){let Tt=ft.filter(Pt=>Pt.key===Ct.key&&Pt.ifMode===Ct.ifMode);if(Tt.length>0)throw new Error(`Ambiguous key binding ${St.key} (${$0(St.command)}) matches ${Tt[0].key} (${$0(Tt[0].command)}) with the ${lt.displayName} keyboard layout`);ft.push(Ct)}}catch(Ct){Ct instanceof Error&&xt.push(Ct.message)}return[ft,xt]}function Cs(at){return{value:at.model.getValue(),selectionIsCollapsed:at.model.selectionIsCollapsed,canUndo:at.canUndo(),canRedo:at.canRedo(),style:at.selectionStyle,mode:at.model.mode}}function sx(at){window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Cs(at.mathfield)),!at.silenceNotifications&&(at.silenceNotifications=!0,at.listeners.onSelectionDidChange(),at.silenceNotifications=!1)}function Hn(at,lt={}){if(at.silenceNotifications)return!0;at.silenceNotifications=!0;let ft=at.listeners.onContentWillChange(lt);return at.silenceNotifications=!1,ft}function An(at,lt){var ft;window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Cs(at.mathfield)),!(at.silenceNotifications||!at.mathfield.host)&&(at.silenceNotifications=!0,at.mathfield.host.dispatchEvent(new InputEvent("input",wt(bt({},lt),{data:lt.data?lt.data:(ft=lt.inputType)!=null?ft:"",bubbles:!0,composed:!0}))),at.silenceNotifications=!1)}var g3=class extends Gn{constructor(){super("latex")}createAtom(at){return new so(at)}onPaste(at,lt){if(!lt)return!1;let ft=typeof lt=="string"?lt:lt.getData("application/x-latex")||lt.getData("text/plain");return ft&&Hn(at.model,{inputType:"insertFromPaste",data:ft})?(at.stopCoalescingUndo(),at.stopRecording(),this.insert(at.model,ft)&&(at.startRecording(),at.snapshot("paste"),An(at.model,{inputType:"insertFromPaste"}),no(at)),at.startRecording(),!0):!1}insert(at,lt,ft){if(!Hn(at,{data:lt,inputType:"insertText"}))return!1;ft||(ft={}),ft.insertionMode||(ft.insertionMode="replaceSelection"),ft.selectionMode||(ft.selectionMode="placeholder");let{silenceNotifications:xt}=at;ft.silenceNotifications&&(at.silenceNotifications=!0);let St=at.silenceNotifications;at.silenceNotifications=!0,ft.insertionMode==="replaceSelection"&&!at.selectionIsCollapsed?at.deleteAtoms(co(at.selection)):ft.insertionMode==="replaceAll"?(at.root.setChildren([],"body"),at.position=0):ft.insertionMode==="insertBefore"?at.collapseSelection("backward"):ft.insertionMode==="insertAfter"&&at.collapseSelection("forward");let Ct=[];for(let zt of lt)er.test(zt)&&Ct.push(new so(zt));let Tt=at.at(at.position);if(Tt instanceof Fu&&(Tt=Tt.lastChild),!(Tt.parent instanceof Fu)){let zt=new Fu("");Tt.parent.addChildAfter(zt,Tt),Tt=zt.firstChild}let Pt=Tt.parent.addChildrenAfter(Ct,Tt);return at.silenceNotifications=St,ft.selectionMode==="before"||(ft.selectionMode==="item"?at.setSelection(at.anchor,at.offsetOf(Pt)):Pt&&(at.position=at.offsetOf(Pt))),An(at,{data:lt,inputType:"insertText"}),at.silenceNotifications=xt,!0}};function y3(at){return at.atoms.find(lt=>lt.type==="latexgroup")}function ju(at){var lt,ft;let xt=at.atoms.find(St=>St.type==="latexgroup");return xt?(ft=(lt=xt.body)==null?void 0:lt.filter(St=>St.type==="latex"))!=null?ft:[]:[]}function lx(at,lt){var ft;let xt=0,St=!1,Ct=Number.isFinite(lt==null?void 0:lt.before)?(ft=lt==null?void 0:lt.before)!=null?ft:0:at.lastOffset;for(;xt<=Ct&&!St;){let zt=at.at(xt);St=zt instanceof so&&zt.isSuggestion,St||xt++}if(!St)return[void 0,void 0];let Tt=xt,Pt=!1;for(;Tt<=Ct&&!Pt;){let zt=at.at(Tt);Pt=!(zt instanceof so&&zt.isSuggestion),Pt||Tt++}return[xt-1,Tt-1]}new g3;function A0(at){let lt=ju(at.model).filter(ft=>ft.isSuggestion);if(lt.length!==0){at.model.position=at.model.offsetOf(lt[0].leftSibling);for(let ft of lt)ft.parent.removeChild(ft)}}function qu(at,lt){var ft;let{model:xt}=at;A0(at);for(let Ht of ju(xt))Ht.isError=!1;if(!xt.selectionIsCollapsed||at.options.popoverPolicy==="off"){Ku(at);return}let St=[],Ct=xt.at(xt.position);for(;Ct&&Ct instanceof so&&/^[a-zA-Z\*]$/.test(Ct.value);)Ct=Ct.leftSibling;if(Ct&&Ct instanceof so&&Ct.value==="\\")for(St.push(Ct),Ct=Ct.rightSibling;Ct&&Ct instanceof so&&/^[a-zA-Z\*]$/.test(Ct.value);)St.push(Ct),Ct=Ct.rightSibling;let Tt=St.map(Ht=>Ht.value).join(""),Pt=Kr(at,Tt);if(Pt.length===0){if(/^\\[a-zA-Z\*]+$/.test(Tt))for(let Ht of St)Ht.isError=!0;Ku(at);return}let zt=(ft=lt==null?void 0:lt.atIndex)!=null?ft:0;at.suggestionIndex=zt<0?Pt.length-1:zt%Pt.length;let Kt=Pt[at.suggestionIndex];if(Kt!==Tt){let Ht=St[St.length-1];Ht.parent.addChildrenAfter([...Kt.slice(Tt.length-Kt.length)].map(Jt=>new so(Jt,{isSuggestion:!0})),Ht),Fl(at,{interactive:!0})}x3(at,Pt)}function ux(at){let[lt,ft]=lx(at,{before:at.position});if(lt===void 0||ft===void 0)return!1;let xt=!1;return at.getAtoms([lt,ft]).forEach(St=>{St.isSuggestion&&(St.isSuggestion=!1,xt=!0)}),xt}function Uu(at,lt="accept",ft){var xt,St;Ku(at);let Ct=y3(at.model);if(!Ct)return!1;if(lt==="accept-suggestion"){let zt=ju(at.model).filter(Kt=>Kt.isSuggestion);if(zt.length===0)return!1;for(let Kt of zt)Kt.isSuggestion=!1;return at.model.position=at.model.offsetOf(zt[zt.length-1]),!0}let Tt=ju(at.model).filter(zt=>!zt.isSuggestion).map(zt=>zt.value).join(""),Pt=Ct.leftSibling;return Ct.parent.removeChild(Ct),at.model.position=at.model.offsetOf(Pt),at.model.mode=(xt=ft==null?void 0:ft.mode)!=null?xt:"math",lt==="reject"||(Gn.insert(at.model,Tt,{selectionMode:(St=ft==null?void 0:ft.selectItem)!=null&&St?"item":"placeholder",format:"latex",mode:"math"}),at.snapshot(),at.model.announce("replacement")),!0}function lm(at){var lt;let ft=document.getElementById(at);return ft?ft.dataset.refcount=Number(Number.parseInt((lt=ft.dataset.refcount)!=null?lt:"0")+1).toString():(ft=document.createElement("div"),ft.setAttribute("aria-hidden","true"),ft.dataset.refcount="1",ft.id=at,document.body.append(ft)),ft}function k0(at){var lt;let ft=document.getElementById(at);if(!ft)return;let xt=Number.parseInt((lt=ft.getAttribute("data-refcount"))!=null?lt:"0");xt<=1?ft.remove():ft.dataset.refcount=Number(xt-1).toString()}function b3(at,lt){let ft=new Dn({from:at.context}),xt=new Ir({mode:"math",type:"root",body:_o(lt,{context:ft})}),St=Ip(Ru(new Qr(xt.render(ft),{classes:"ML__base"}),ft));return jp(St,{classes:"ML__mathlive"}).toMarkup()}function x3(at,lt){var ft;if(lt.length===0){Ku(at);return}let xt="";for(let[Ct,Tt]of lt.entries()){let Pt=Tt,zt=b3(at,Tt),Kt=m3(at.keybindings,Pt).join("<br>");xt+=`<li role="button" data-command="${Pt}" ${Ct===at.suggestionIndex?"class=ML__popover__current":""}><span class="ML__popover__latex">${Pt}</span><span class="ML__popover__command">${zt}</span>`,Kt&&(xt+=`<span class="ML__popover__keybinding">${Kt}</span>`),xt+="</li>"}let St=w3(at,`<ul>${xt}</ul>`);N0()&&((ft=St.querySelector(".ML__popover__current"))==null||ft.scrollIntoView({block:"nearest",inline:"nearest"})),setTimeout(()=>{var Ct;St&&!N0()&&(St.classList.add("is-visible"),um(at),(Ct=St.querySelector(".ML__popover__current"))==null||Ct.scrollIntoView({block:"nearest",inline:"nearest"}))},32)}function N0(){let at=document.getElementById("mathlive-suggestion-popover");return at?at.classList.contains("is-visible"):!1}function um(at,lt){var ft;if(!at.element||at.element.mathfield!==at||!N0())return;if(((ft=at.model.at(at.model.position))==null?void 0:ft.type)!=="latex"){Ku(at);return}if(lt!=null&&lt.deferred){setTimeout(()=>um(at),32);return}let xt=Gp(at.field);if(!xt)return;let St=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,Ct=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,Tt=window.innerWidth-document.documentElement.clientWidth,Pt=window.innerHeight-document.documentElement.clientHeight,zt=window.mathVirtualKeyboard.boundingRect.height,Kt=document.getElementById("mathlive-suggestion-popover");xt.x+Kt.offsetWidth/2>Ct-Tt?Kt.style.left=`${Ct-Kt.offsetWidth-Tt}px`:xt.x-Kt.offsetWidth/2<0?Kt.style.left="0":Kt.style.left=`${xt.x-Kt.offsetWidth/2}px`;let Ht=xt.y-xt.height;St-Pt-zt-xt.y<Ht?(Kt.classList.add("ML__popover--reverse-direction"),Kt.classList.remove("top-tip"),Kt.classList.add("bottom-tip"),Kt.style.top=`${xt.y-xt.height-Kt.offsetHeight-15}px`):(Kt.classList.remove("ML__popover--reverse-direction"),Kt.classList.add("top-tip"),Kt.classList.remove("bottom-tip"),Kt.style.top=`${xt.y+15}px`)}function Ku(at){at.suggestionIndex=0;let lt=document.getElementById("mathlive-suggestion-popover");lt&&(lt.classList.remove("is-visible"),lt.innerHTML="")}function w3(at,lt){let ft=document.getElementById("mathlive-suggestion-popover");return ft||(ft=lm("mathlive-suggestion-popover"),Es("suggestion-popover"),Es("core"),ft.addEventListener("pointerdown",xt=>xt.preventDefault()),ft.addEventListener("click",xt=>{let St=xt.target;for(;St&&!St.dataset.command;)St=St.parentElement;St&&(Uu(at,"reject"),Gn.insert(at.model,St.dataset.command,{selectionMode:"placeholder",format:"latex",mode:"math"}),at.dirty=!0,at.focus())})),ft.innerHTML=window.MathfieldElement.createHTML(lt),ft}function S3(){document.getElementById("mathlive-suggestion-popover")&&(k0("mathlive-suggestion-popover"),qs("suggestion-popover"),qs("core"))}function E3(){let at=String(new Error().stack).replace(/^Error.*\n/,"").split(`
`);if(at.length===0)return console.error(`Can't use relative paths to specify assets location because the sourcefile location could not be determined (unexpected stack trace format "${new Error().stack}").`),"";let lt=at[1],ft=lt.match(/http.*\.ts[\?:]/);return ft&&(lt=at[2]),ft=lt.match(/(https?:.*):[0-9]+:[0-9]+/),ft||(ft=lt.match(/at (.*(\.ts))[\?:]/),ft||(ft=lt.match(/at (.*(\.mjs|\.js))[\?:]/))),ft?ft[1]:(console.error(at),console.error(`Can't use relative paths to specify assets location because the source file location could not be determined (unexpected location "${lt}").`),"")}var cm=null,cx,dx,T0=((dx=(cx=globalThis==null?void 0:globalThis.document)==null?void 0:cx.currentScript)==null?void 0:dx.src)||E3();async function fx(at){if(/^(?:[a-z+]+:)?\/\//i.test(at))return new URL(at).href;if(cm===null)try{let lt=await fetch(T0,{method:"HEAD"});lt.status===200&&(cm=lt.url)}catch{console.error(`Invalid URL "${at}" (relative to "${T0}")`)}return new URL(at,cm??T0).href}function D3(at,lt,ft={}){return new FontFace(at,`url(${lt}.woff2) format('woff2')`,ft)}var Io="not-loaded";async function _3(){return Io="not-loaded",dm()}async function dm(){var at;if(Io==="not-loaded"){if(Io="loading",(at=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))!=null?at:!1){Io="ready";return}if(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document){let lt=["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Typewriter","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"],ft=Array.from(document.fonts).map(Ct=>Ct.family);if(lt.every(Ct=>ft.includes(Ct))){Io="ready";return}if(!window.MathfieldElement.fontsDirectory){Io="not-loaded";return}let xt=await fx(window.MathfieldElement.fontsDirectory);if(!xt){document.body.classList.add("ML__fonts-did-not-load"),Io="error";return}let St=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular",{style:"italic"}],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(Ct=>D3(Ct[0].replace(/-[a-zA-Z]+$/,""),`${xt}/${Ct[0]}`,Ct[1]));try{(await Promise.all(St.map(Ct=>{try{return Ct.load()}catch{}}))).forEach(Ct=>document.fonts.add(Ct)),Io="ready";return}catch(Ct){console.error(`MathLive 0.95.1: The math fonts could not be loaded from "${xt}"`,{cause:Ct}),document.body.classList.add("ML__fonts-did-not-load")}Io="error"}}}function C3(at){let lt=0;for(let ft=0;ft<at.length;ft++)lt=lt*31+at.charCodeAt(ft),lt=lt|0;return Math.abs(lt)}function no(at,lt){at.dirty||(at.dirty=!0,requestAnimationFrame(()=>{Al(at)&&at.dirty&&(at.atomBoundsCache=new Map,Fl(at,lt),at.atomBoundsCache=void 0)}))}function M3(at,lt){var ft;lt=lt??{};let xt=new Dn({from:wt(bt({},at.context),{atomIdsSettings:{seed:lt.forHighlighting?C3(Ir.serialize([at.model.root],{expandMacro:!1,defaultMode:at.options.defaultMode})):"random",groupNumbers:(ft=lt.forHighlighting)!=null?ft:!1},letterShapeStyle:at.options.letterShapeStyle}),mathstyle:at.options.defaultMode==="inline-math"?"textstyle":"displaystyle"}),St=at.model.root.render(xt);return jp(Ru(St,xt),{classes:at.hasEditablePrompts?"ML__mathlive ML__prompting":"ML__mathlive",attributes:{translate:"no","aria-hidden":"true"}})}function px(at,lt){let{model:ft}=at;ft.root.caret=void 0,ft.root.isSelected=!1,ft.root.containsCaret=!0;for(let xt of ft.atoms)xt.caret=void 0,xt.isSelected=!1,xt.containsCaret=!1;if(ft.selectionIsCollapsed){if(at.isSelectionEditable&&at.hasFocus()){let xt=ft.at(ft.position);xt.caret=at.model.mode;let St=xt.parent;for(;St;)St.containsCaret=!0,St=St.parent}}else{let xt=ft.getAtoms(ft.selection,{includeChildren:!0});for(let St of xt)St.isSelected=!0}return M3(at,lt).toMarkup()}function Fl(at,lt){var ft;if(!Al(at))return;lt!=null||(lt={});let xt=(ft=at.element)==null?void 0:ft.querySelector("[part=virtual-keyboard-toggle]");xt&&(xt.style.display=at.hasEditableContent?"flex":"none");let St=at.field,Ct=at.isSelectionEditable&&at.hasFocus(),Tt=St.classList.contains("ML__focused");Tt&&!Ct?St.classList.remove("ML__focused"):!Tt&&Ct&&St.classList.add("ML__focused"),St.innerHTML=window.MathfieldElement.createHTML(px(at,lt)),at.fieldContent=St.getElementsByClassName("ML__mathlive")[0],fm(at,lt.interactive),at.dirty=!1}function fm(at,lt){let ft=at.field;if(!ft)return;for(let Tt of ft.querySelectorAll(".ML__selection, .ML__contains-highlight"))Tt.remove();!(lt!=null&&lt)&&Io!=="error"&&Io!=="ready"&&setTimeout(()=>{Io==="ready"?fm(at):setTimeout(()=>fm(at),128)},32);let xt=at.model,St=parseFloat(getComputedStyle(ft).width),Ct=ft.getBoundingClientRect().width/St;if(Ct=isNaN(Ct)?1:Ct,xt.selectionIsCollapsed){um(at,{deferred:!0});let Tt=xt.at(xt.position);for(;Tt&&!(Tt.containsCaret&&Tt.displayContainsHighlight);)Tt=Tt.parent;if(Tt!=null&&Tt.containsCaret&&Tt.displayContainsHighlight){let Pt=Ny(at,Nu(at,Tt),Ct);if(Pt){Pt.left/=Ct,Pt.right/=Ct,Pt.top/=Ct,Pt.bottom/=Ct;let zt=document.createElement("div");zt.classList.add("ML__contains-highlight"),zt.style.position="absolute",zt.style.left=`${Pt.left}px`,zt.style.top=`${Pt.top}px`,zt.style.width=`${Math.ceil(Pt.right-Pt.left)}px`,zt.style.height=`${Math.ceil(Pt.bottom-Pt.top-1)}px`,ft.insertBefore(zt,ft.childNodes[0])}}return}for(let Tt of $3(By(at,{excludeAtomsWithBackground:!0}))){Tt.left/=Ct,Tt.right/=Ct,Tt.top/=Ct,Tt.bottom/=Ct;let Pt=document.createElement("div");Pt.classList.add("ML__selection"),Pt.style.position="absolute",Pt.style.left=`${Tt.left}px`,Pt.style.top=`${Tt.top}px`,Pt.style.width=`${Math.ceil(Tt.right-Tt.left)}px`,Pt.style.height=`${Math.ceil(Tt.bottom-Tt.top-1)}px`,ft.insertBefore(Pt,ft.childNodes[0])}}function $3(at){let lt=[];for(let ft of at){let xt=!1;for(let St of lt)if(ft.left===St.left&&ft.right===St.right&&ft.top===St.top&&ft.bottom===St.bottom){xt=!0;break}xt||lt.push(ft)}at=lt,lt=[];for(let ft of at){let xt=0;for(let St of at)if(ft.left>=St.left&&ft.right<=St.right&&ft.top>=St.top&&ft.bottom<=St.bottom&&(xt+=1,xt>1))break;xt===1&&lt.push(ft)}return lt}var mx=3,fs;function Fo(at,lt){lt=bt({target:"mathfield",canUndo:!1,audioFeedback:void 0,changeContent:!1,changeSelection:!1},lt??{}),fs||(fs={});for(let ft of Object.keys(at))fs[ft],fs[ft]=wt(bt({},lt),{fn:at[ft]})}function hx(at){let lt;return Array.isArray(at)?at[0]==="performWithFeedback"||at[0]==="performVariant"?lt=at[1]:lt=at[0]:lt=at,lt=lt.replace(/-\w/g,ft=>ft[1].toUpperCase()),fs[lt]}function Vu(at){var lt;return(lt=hx(at))==null?void 0:lt.target}function A3(at,lt){var ft;if(!lt)return!1;let xt,St=[],Ct=!1,Tt=!1;kt(lt)?(xt=lt[0],St=lt.slice(1)):xt=lt,xt=xt.replace(/-\w/g,Kt=>Kt[1].toUpperCase());let Pt=fs[xt],zt=Pt==null?void 0:Pt.target;if(zt==="model"){if(!at.isSelectionEditable&&Pt!=null&&Pt.changeContent)return at.model.announce("plonk"),!1;/^(delete|add)/.test(xt)&&(xt!=="deleteBackward"&&at.flushInlineShortcutBuffer(),at.snapshot(xt)),/^complete/.test(xt)||A0(at),fs[xt].fn(at.model,...St),qu(at),Tt=!0,Ct=!0}else if(zt==="virtual-keyboard")Tt=(ft=window.mathVirtualKeyboard.executeCommand(lt))!=null?ft:!1,Ct=!0;else if(fs[xt]){if(!at.isSelectionEditable&&Pt!=null&&Pt.changeContent)return at.model.announce("plonk"),!1;/^(undo|redo)/.test(xt)&&at.flushInlineShortcutBuffer(),Tt=fs[xt].fn(at,...St),Ct=!0}else throw new Error(`Unknown command "${xt}"`);return zt!=="virtual-keyboard"&&(!at.model.selectionIsCollapsed||Pt!=null&&Pt.changeSelection)&&(at.flushInlineShortcutBuffer(),Pt!=null&&Pt.changeContent||at.stopCoalescingUndo(),at.style={}),Tt&&no(at),Ct}function k3(at,lt){var ft;at.focus(),Q0.keypressVibration&&Lt()&&navigator.vibrate(mx);let xt=hx(lt);window.MathfieldElement.playSound((ft=xt==null?void 0:xt.audioFeedback)!=null?ft:"keypress");let St=at.executeCommand(lt);return at.scrollIntoView(),St}Fo({performWithFeedback:(at,lt)=>k3(at,lt)});function N3(at){return qu(at,{atIndex:at.suggestionIndex+1}),!1}function T3(at){return qu(at,{atIndex:at.suggestionIndex-1}),!1}Fo({complete:Uu},{target:"mathfield",audioFeedback:"return",canUndo:!0,changeContent:!0,changeSelection:!0}),Fo({nextSuggestion:N3,previousSuggestion:T3},{target:"mathfield",audioFeedback:"keypress",changeSelection:!0});var pm="mathlive#virtual-keyboard-message";function B0(at){var lt;return at.type!=="message"?!1:((lt=at.data)==null?void 0:lt.type)===pm}var B3=class z2{constructor(){this.targetOrigin=window.origin,this.originValidator="none",this._boundingRect=new DOMRect(0,0,0,0),this._isShifted=!1,window.addEventListener("message",this),this.sendMessage("proxy-created"),this.listeners={}}static get singleton(){return this._singleton||(this._singleton=new z2),this._singleton}set alphabeticLayout(lt){this.sendMessage("update-setting",{alphabeticLayout:lt})}set layouts(lt){this.sendMessage("update-setting",{layouts:lt})}set editToolbar(lt){this.sendMessage("update-setting",{editToolbar:lt})}set actionKeycap(lt){this.sendMessage("update-setting",{actionKeycap:lt})}set shiftKeycap(lt){this.sendMessage("update-setting",{shiftKeycap:lt})}set backspaceKeycap(lt){this.sendMessage("update-setting",{backspaceKeycap:lt})}set tabKeycap(lt){this.sendMessage("update-setting",{tabKeycap:lt})}set container(lt){throw new Error("Container inside an iframe cannot be changed")}show(lt){this.sendMessage("show",lt)}hide(lt){this.sendMessage("hide",lt)}get isShifted(){return this._isShifted}get visible(){return this._boundingRect.height>0}set visible(lt){lt?this.show():this.hide()}get boundingRect(){return this._boundingRect}executeCommand(lt){return this.sendMessage("execute-command",{command:lt}),!0}updateToolbar(lt){this.sendMessage("update-toolbar",lt)}update(lt){this.sendMessage("update-setting",lt)}connect(){this.sendMessage("connect")}disconnect(){this.sendMessage("disconnect")}addEventListener(lt,ft,xt){this.listeners[lt]||(this.listeners[lt]=new Set),this.listeners[lt].has(ft)||this.listeners[lt].add(ft)}dispatchEvent(lt){return!this.listeners[lt.type]||this.listeners[lt.type].size===0?!0:(this.listeners[lt.type].forEach(ft=>{typeof ft=="function"?ft(lt):ft==null||ft.handleEvent(lt)}),!lt.defaultPrevented)}removeEventListener(lt,ft,xt){this.listeners[lt]&&this.listeners[lt].delete(ft)}handleEvent(lt){if(B0(lt)){if(!_0(lt.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${lt.origin}) cannot be handled`,"SecurityError");this.handleMessage(lt.data)}}handleMessage(lt){let{action:ft}=lt;if(ft==="execute-command"){let{command:xt}=lt;Vu(xt)==="virtual-keyboard"&&this.executeCommand(xt);return}if(ft==="synchronize-proxy"){this._boundingRect=lt.boundingRect,this._isShifted=lt.isShifted;return}if(ft==="geometry-changed"){this._boundingRect=lt.boundingRect,this.dispatchEvent(new Event("geometrychange"));return}}sendMessage(lt,ft={}){if(!window.top)throw new DOMException("A frame does not have access to the top window and can‘t communicate with the keyboard. Review virtualKeyboardTargetOrigin and originValidator on mathfields embedded in an iframe","SecurityError");window.top.postMessage(bt({type:pm,action:lt},ft),this.targetOrigin)}},O3={numeric:{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",rows:[[{latex:"x",shift:"y",variants:["y","z","t","r",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"},"x^2","x^n","x_n","x_{n+1}","x_i","x_{i+1}"]},{latex:"n",shift:"a",variants:["i","j","p","k","a","u"]},"[separator-5]","[7]","[8]","[9]","[/]","[separator-5]",{latex:"e",shift:"\\ln",variants:["\\exp","\\times 10^{#?}","\\ln","\\log_{10}","\\log"]},{latex:"\\imaginaryI",variants:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"]},{latex:"\\pi",shift:"\\sin",variants:["\\prod",{latex:"\\theta",aside:"theta"},{latex:"\\rho",aside:"rho"},{latex:"\\tau",aside:"tau"},"\\sin","\\cos","\\tan"]}],[{label:"<",latex:"<",class:"hide-shift",shift:{latex:"\\le",label:"≤"}},{label:">",latex:">",class:"hide-shift",shift:{latex:"\\ge",label:"≥"}},"[separator-5]","[4]","[5]","[6]","[*]","[separator-5]",{class:"hide-shift",latex:"#@^2}",shift:"#@^{\\prime}}"},{latex:"#@^{#0}}",class:"hide-shift",shift:"#@_{#?}"},{class:"hide-shift",latex:"\\sqrt{#0}",shift:{latex:"\\sqrt[#0]{#?}}"}}],["[(]","[)]","[separator-5]","[1]","[2]","[3]","[-]","[separator-5]",{latex:"\\int^{\\infty}_{0}",class:"small hide-shift",shift:"\\int",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},{latex:"\\dfrac{\\rd}{\\rd x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\capitalDifferentialD","\\rd","\\partial"]},{class:"hide-shift",latex:"\\forall",shift:"\\exists"},{label:"[backspace]",width:1}],[{label:"[shift]",width:2},"[separator-5]","[0]","[.]","[=]","[+]","[separator-5]","[left]","[right]",{label:"[action]",width:1}]]},greek:{label:"&alpha;&beta;&gamma;",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.greek",rows:[[{label:"<i>&#x03c6;</i>",class:"MLK__tex hide-shift",insert:"\\varphi",aside:"phi var.",shift:"\\Phi"},{label:"<i>&#x03c2;</i>",class:"MLK__tex hide-shift",insert:"\\varsigma",aside:"sigma var.",shift:"\\Sigma"},{label:"<i>&#x03f5;</i>",class:"MLK__tex hide-shift",insert:"\\epsilon",aside:"espilon",shift:'\\char"0190'},{label:"<i>&rho;</i>",class:"MLK__tex hide-shift",insert:"\\rho",aside:"rho",shift:'\\char"3A1'},{label:"<i>&tau;</i>",class:"MLK__tex hide-shift",insert:"\\tau",aside:"tau",shift:'\\char"3A4'},{label:"<i>&upsilon;</i>",class:"MLK__tex hide-shift",insert:"\\upsilon",aside:"upsilon",shift:"\\Upsilon"},{label:"<i>&theta;</i>",class:"MLK__tex hide-shift",insert:"\\theta",aside:"theta",shift:"\\Theta"},{label:"<i>&iota;</i>",class:"MLK__tex hide-shift",insert:"\\iota",aside:"iota",shift:'\\char"399'},{label:"<i>&omicron;</i>",class:"MLK__tex hide-shift",insert:"\\omicron",aside:"omicron",shift:'\\char"39F'},{label:"<i>&pi;</i>",class:"MLK__tex hide-shift",insert:"\\pi",aside:"pi",shift:"\\Pi"}],["[separator-5]",{label:"<i>&alpha;</i>",class:"MLK__tex hide-shift",insert:"\\alpha",aside:"alpha",shift:'\\char"391'},{label:"<i>&sigma;</i>",class:"MLK__tex hide-shift",insert:"\\sigma",aside:"sigma",shift:"\\Sigma"},{label:"<i>&delta;</i>",class:"MLK__tex hide-shift",insert:"\\delta",aside:"delta",shift:"\\Delta"},{label:"<i>&phi;</i>",class:"MLK__tex hide-shift",insert:"\\phi",aside:"phi",shift:"\\Phi"},{label:"<i>&gamma;</i>",class:"MLK__tex hide-shift",insert:"\\gamma",aside:"gamma",shift:"\\Gamma"},{label:"<i>&eta;</i>",class:"MLK__tex hide-shift",insert:"\\eta",aside:"eta",shift:'\\char"397'},{label:"<i>&xi;</i>",class:"MLK__tex hide-shift",insert:"\\xi",aside:"xi",shift:"\\Xi"},{label:"<i>&kappa;</i>",class:"MLK__tex hide-shift",insert:"\\kappa",aside:"kappa",shift:"\\Kappa"},{label:"<i>&lambda;</i>",class:"MLK__tex hide-shift",insert:"\\lambda",aside:"lambda",shift:"\\Lambda"},"[separator-5]"],["[shift]",{label:"<i>&zeta;</i>",class:"MLK__tex hide-shift",insert:"\\zeta",aside:"zeta",shift:'\\char"396'},{label:"<i>&chi;</i>",class:"MLK__tex hide-shift",insert:"\\chi",aside:"chi",shift:'\\char"3A7'},{label:"<i>&psi;</i>",class:"MLK__tex hide-shift",insert:"\\psi",aside:"zeta",shift:"\\Psi"},{label:"<i>&omega;</i>",class:"MLK__tex hide-shift",insert:"\\omega",aside:"omega",shift:"\\Omega"},{label:"<i>&beta;</i>",class:"MLK__tex hide-shift",insert:"\\beta",aside:"beta",shift:'\\char"392'},{label:"<i>&nu;</i>",class:"MLK__tex hide-shift",insert:"\\nu",aside:"nu",shift:'\\char"39D'},{label:"<i>&mu;</i>",class:"MLK__tex hide-shift",insert:"\\mu",aside:"mu",shift:'\\char"39C'},"[backspace]"],["[separator]",{label:"<i>&#x03b5;</i>",class:"MLK__tex",insert:"\\varepsilon",aside:"espilon var."},{label:"<i>&#x03d1;</i>",class:"MLK__tex",insert:"\\vartheta",aside:"theta var."},{label:"<i>&#x3f0;</i>",class:"MLK__tex",insert:"\\varkappa",aside:"kappa var."},{label:"<i>&#x03d6;</i>",class:"MLK__tex",insert:"\\varpi",aside:"pi var."},{label:"<i>&#x03f1;</i>",class:"MLK__tex",insert:"\\varrho",aside:"rho var."},"[left]","[right]","[action]"]]},symbols:{label:"&infin;≠∈",labelClass:"MLK__tex",tooltip:"keyboard.tooltip.symbols",rows:[[{latex:"\\sin",shift:"\\sin^{-1}",variants:[{class:"small",latex:"\\sinh"},{class:"small",latex:"\\sin^{-1}"},{class:"small",latex:"\\arsinh"}]},"\\ln",{latex:"\\mathrm{abs}",insert:"\\mathrm{abs}\\left(#0\\right)"},{latex:"\\rarr",shift:"\\rArr",variants:[{latex:"\\implies",aside:"implies"},{latex:"\\to",aside:"to"},"\\dashv",{latex:"\\roundimplies",aside:"round implies"}]},{latex:"\\exists",variants:["\\nexists"],shift:"\\nexists"},{latex:"\\in",shift:"\\notin",variants:["\\notin","\\owns"]},"\\cup",{latex:"\\overrightarrow{#@}",shift:"\\overleftarrow{#@}",variants:["\\overleftarrow{#@}","\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"]},"\\lim_{#?}","\\exponentialE"],[{latex:"\\cos",shift:"\\cos^{-1}",variants:[{class:"small",latex:"\\cosh"},{class:"small",latex:"\\cos^{-1}"},{class:"small",latex:"\\arcosh"}]},{latex:"\\log",shift:"\\log_{10}",variants:["\\log_{#0}","\\log_{10}"]},"\\left\\vert#0\\right\\vert",{latex:"\\larr",shift:"\\lArr",variants:[{latex:"\\impliedby",aside:"implied by"},{latex:"\\gets",aside:"gets"},"\\lArr","\\vdash",{latex:"\\models",aside:"models"}]},{latex:"\\forall",shift:"\\lnot",variants:[{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"}]},{latex:"\\ni",shift:"\\not\\owns"},"\\cap",{latex:"\\overline{#@}",shift:"\\underline{#@}",variants:["\\overbrace{#@}","\\overlinesegment{#@}","\\overleftrightarrow{#@}","\\overrightarrow{#@}","\\overleftarrow{#@}","\\overgroup{#@}","\\underbrace{#@}","\\underlinesegment{#@}","\\underleftrightarrow{#@}","\\underrightarrow{#@}","\\underleftarrow{#@}","\\undergroup{#@}"]},{class:"hide-shift",latex:"\\int",shift:"\\iint",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\intop","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"]},{latex:"\\pi",shift:"\\tau",variants:["\\tau"]}],[{latex:"\\tan",shift:"\\tan^{-1}",variants:[{class:"small",latex:"\\tanh"},{class:"small",latex:"\\tan^{-1}"},{class:"small",latex:"\\artanh"},{class:"small",latex:"\\arctan"},{class:"small",latex:"\\arctg"},{class:"small",latex:"\\tg"}]},{latex:"\\exp",insert:"\\exp\\left(#0\\right)",variants:["\\exponentialE^{#0}"]},"\\left\\Vert#0\\right\\Vert",{latex:"\\lrArr",shift:"\\leftrightarrow",variants:[{latex:"\\iff",aside:"if and only if"},"\\leftrightarrow","\\leftrightarrows","\\Leftrightarrow",{latex:"^\\biconditional",aside:"biconditional"}]},{latex:"\\vert",shift:"!"},{latex:"#@^{\\complement}",aside:"complement",variants:[{latex:"\\setminus",aside:"set minus"},{latex:"\\smallsetminus",aside:"small set minus"}]},{latex:"\\subset",shift:"\\subseteq",variants:["\\subset","\\subseteq","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsubseteq","\\supset","\\supseteq","\\supsetneq","\\supsetneqq","\\nsupset","\\nsupseteq"]},{latex:"#@^{\\prime}",shift:"#@^{\\doubleprime}",variants:["#@^{\\doubleprime}","#@\\degree"]},{latex:"\\rd",shift:"\\partial",variants:[{latex:"\\dfrac{\\rd}{\\rd x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\capitalDifferentialD","\\rd","\\partial"]},{latex:"\\infty",variants:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"]}],[{label:"[shift]",width:2},{class:"box",latex:",",shift:";",variants:[";","?"]},{class:"box",latex:"\\colon",shift:"\\Colon",variants:[{latex:"\\Colon",aside:"such that",class:"box"},{latex:":",aside:"ratio",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",aside:"",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\therefore",aside:"therefore",class:"box"},{latex:"\\because",aside:"because",class:"box"}]},{class:"box",latex:"\\cdot",aside:"centered dot",shift:"\\ast",variants:["\\circ","\\bigcirc","\\bullet","\\odot","\\oslash","\\circledcirc","\\ast","\\star","\\times","\\doteq","\\doteqdot"]},"[separator]","[left]","[right]",{label:"[backspace]",width:1,class:"action hide-shift"},{label:"[action]",width:1}]]},compact:{label:"compact",rows:[["[+]","[-]","[*]","[/]","[=]","[.]","[(]","[)]","\\sqrt{#0}","#@^{#?}"],["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[0]"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]},minimalist:{label:"minimalist",layers:[{style:`
          .minimalist-backdrop {
            display: flex;
            justify-content: center;
          }          
          .minimalist-container {
            --keycap-height: 40px;
            --keycap-max-width: 53px;
            --keycap-small-font-size: 12px;
            background: var(--keyboard-background);
            padding: 20px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            border: 1px solid var(--keyboard-border);
            box-shadow: 0 0 32px rgb(0 0 0 / 30%);
          }        
        `,backdrop:"minimalist-backdrop",container:"minimalist-container",rows:[["+","-","\\times",{latex:"\\frac{#@}{#0}",class:"small"},"=","[.]","(",")",{latex:"\\sqrt{#0}",class:"small"},{latex:"#@^{#?}",class:"small"}],["1","2","3","4","5","6","7","8","9","0"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]}]},"numeric-only":{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",id:"numeric-only",rows:[["7","8","9","[separator]",{label:"[backspace]",width:2}],["4","5","6","[separator]","[separator]","[separator]"],["1","2","3","[separator]","[separator]","[separator]"],["0",{label:"[.]",variants:[]},"-","[separator]","[left]","[right]"]]}},Pl=class{constructor(at){var lt,ft;this.preventOverlayClose=(lt=at==null?void 0:at.preventOverlayClose)!=null?lt:!1,this.translucent=(ft=at==null?void 0:at.translucent)!=null?ft:!1,this.state="closed"}get element(){if(this._element)return this._element;let at=document.createElement("div");return at.setAttribute("role","presentation"),at.style.position="fixed",at.style.contain="content",at.style.top="0",at.style.left="0",at.style.right="0",at.style.bottom="0",at.style.zIndex="var(--scrim-zindex, 10099)",at.style.outline="none",this.translucent?(at.style.background="rgba(255, 255, 255, .2)",at.style.backdropFilter="contrast(40%)"):at.style.background="transparent",this._element=at,at}open(at){var lt;if(this.state!=="closed")return;this.state="opening",this.savedActiveElement=vx();let{element:ft}=this;((lt=at==null?void 0:at.root)!=null?lt:document.body).appendChild(ft),ft.addEventListener("click",this),document.addEventListener("touchmove",this,!1),document.addEventListener("scroll",this,!1);let xt=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight,this.savedOverflow=document.body.style.overflow,document.body.style.overflow="hidden";let St=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${St+xt}px`,at!=null&&at.child&&ft.append(at.child),this.state="open"}close(){var at,lt,ft,xt;if(this.state!=="open")return;this.state="closing",typeof this.onClose=="function"&&this.onClose();let{element:St}=this;St.removeEventListener("click",this),document.removeEventListener("touchmove",this,!1),document.removeEventListener("scroll",this,!1),St.remove(),document.body.style.overflow=(at=this.savedOverflow)!=null?at:"",document.body.style.marginRight=(lt=this.savedMarginRight)!=null?lt:"",vx()!==this.savedActiveElement&&((xt=(ft=this.savedActiveElement)==null?void 0:ft.focus)==null||xt.call(ft)),St.innerHTML="",this.state="closed"}handleEvent(at){this.preventOverlayClose||(at.target===this._element&&at.type==="click"?(this.close(),at.preventDefault(),at.stopPropagation()):at.target===document&&(at.type==="touchmove"||at.type==="scroll")&&(this.close(),at.preventDefault(),at.stopPropagation()))}};function vx(){var at;let lt=document.activeElement;for(;(at=lt==null?void 0:lt.shadowRoot)!=null&&at.activeElement;)lt=lt.shadowRoot.activeElement;return lt}var mm={0:["\\varnothing","\\infty"],1:["\\frac{1}{#@}","#@^{-1}","\\times 10^{#?}","\\phi","\\imaginaryI"],2:["\\frac{1}{2}","#@^2","\\sqrt2","\\exponentialE"],3:["\\frac{1}{3}","#@^3","\\sqrt3","\\pi"],4:["\\frac{1}{4}","#@^4"],5:["\\frac{1}{5}","#@^5","\\sqrt5"],6:["\\frac{1}{6}","#@^6"],7:["\\frac{1}{7}","#@^7"],8:["\\frac{1}{8}","#@^8"],9:["\\frac{1}{9}","#@^9"],".":[".",",",";","\\colon"],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],b:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"}],d:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"}],g:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"}],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"}],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br>⁻³⧸₁₈ em"},{latex:'\\char"203A\\,\\char"2039',insert:"\\,",aside:"thin space<br>³⧸₁₈ em"},{latex:'\\char"203A\\:\\char"2039',insert:"\\:",aside:"medium space<br>⁴⧸₁₈ em"},{latex:'\\char"203A\\;\\char"2039',insert:"\\;",aside:"thick space<br>⁵⧸₁₈ em"},{latex:'\\char"203A\\ \\char"2039',insert:"\\ ",aside:"⅓ em"},{latex:'\\char"203A\\enspace\\char"2039',insert:"\\enspace",aside:"½ em"},{latex:'\\char"203A\\quad\\char"2039',insert:"\\quad",aside:"1 em"},{latex:'\\char"203A\\qquad\\char"2039',insert:"\\qquad",aside:"2 em"}]},Hu;function gx(at,lt){var ft,xt,St;let Ct=Vs.singleton;if(!Ct)return;let Tt=ou(at),Pt=(xt=(ft=Ct.getKeycap(Tt==null?void 0:Tt.id))==null?void 0:ft.variants)!=null?xt:"";if(typeof Pt=="string"&&!yx(Pt)||Array.isArray(Pt)&&Pt.length===0){lt==null||lt();return}let zt={},Kt="";for(let Rr of P3(Pt)){let Yr=xx(Rr),Pr=Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);zt[Pr]=Yr;let[Ur,un]=hm(Yr);Kt+=`<div id=${Pr} class="item ${un}">${Ur}</div>`}let Ht=document.createElement("div");Ht.setAttribute("aria-hidden","true"),Ht.className="MLK__variant-panel",Ht.style.height="auto";let Jt=Object.keys(zt).length,fr=5;Jt===1?fr=1:Jt===2||Jt===4?fr=2:Jt===3||Jt===5||Jt===6?fr=3:Jt>=7&&Jt<14&&(fr=4),Ht.style.width=`calc(var(--variant-keycap-length) * ${fr} + 12px)`,Ht.innerHTML=Q0.createHTML(Kt),Pl.scrim||(Pl.scrim=new Pl),Pl.scrim.open({root:(St=Ct==null?void 0:Ct.container)==null?void 0:St.querySelector(".ML__keyboard"),child:Ht}),Hu=new AbortController;let{signal:hr}=Hu,mr=at==null?void 0:at.getBoundingClientRect();if(mr){mr.top-Ht.clientHeight<0&&(Ht.style.width="auto",Jt<=6?Ht.style.height="56px":Jt<=12?Ht.style.height="108px":Jt<=18?Ht.style.height="205px":Ht.classList.add("compact"));let Rr=Math.max(0,Math.min(window.innerWidth-Ht.offsetWidth,(mr.left+mr.right-Ht.offsetWidth)/2)),Yr=mr.top-Ht.clientHeight+5;Ht.style.transform=`translate(${Rr}px, ${Yr}px)`,Ht.classList.add("is-visible"),requestAnimationFrame(()=>{Ht.addEventListener("pointerup",Pr=>{let Ur=ou(Pr.target);!(Ur!=null&&Ur.id)||!zt[Ur.id]||(O0(zt[Ur.id]),Wu(),lt==null||lt(),Pr.preventDefault())},{capture:!0,passive:!1,signal:hr}),Ht.addEventListener("pointerenter",Pr=>{let Ur=ou(Pr.target);!(Ur!=null&&Ur.id)||!zt[Ur.id]||Ur.classList.add("is-active")},{capture:!0,signal:hr}),Ht.addEventListener("pointerleave",Pr=>{let Ur=ou(Pr.target);!(Ur!=null&&Ur.id)||!zt[Ur.id]||Ur.classList.remove("is-active")},{capture:!0,signal:hr}),window.addEventListener("pointercancel",()=>{Wu(),lt==null||lt()},{signal:hr}),window.addEventListener("pointerup",()=>{Wu(),lt==null||lt()},{signal:hr})})}}function Wu(){var at;Hu==null||Hu.abort(),Hu=null,(at=Pl.scrim)==null||at.close()}function F3(at){if(at==="foreground-color"){let lt=[];for(let ft of Object.keys(qt))lt.push({class:"swatch-button",label:'<span style="border: 3px solid '+qt[ft]+'"></span>',command:["applyStyle",{color:ft}]});return lt}if(at==="background-color"){let lt=[];for(let ft of Object.keys(jt))lt.push({class:"swatch-button",label:'<span style="background:'+jt[ft]+'"></span>',command:["applyStyle",{backgroundColor:ft}]});return lt}}function yx(at){return mm[at]!==void 0}function P3(at){var lt;return typeof at!="string"?at:(mm[at]||(mm[at]=(lt=F3(at))!=null?lt:[]),mm[at])}function L3(at){return typeof at=="string"?at:Object.entries(at).map(([lt,ft])=>`${lt}:${ft} !important`).join(";")}function R3(at){return Object.keys(at).map(lt=>`${lt} {${L3(at[lt])}}`).join("")}function Gu(at){if(!at)return"";let lt=new Dn,ft=new Ir({mode:"math",type:"root",body:_o(at,{context:lt,args:St=>St==="@"?"{\\class{ML__box-placeholder}{\\blacksquare}}":"\\placeholder{}"})}),xt=Ip(Ru(new Qr(ft.render(lt),{classes:"ML__base"}),lt));return jp(xt,{classes:"ML__mathlive"}).toMarkup()}function Xu(at){if(Array.isArray(at))return at.map(ft=>Xu(ft)).flat();let lt=typeof at=="string"?{markup:at}:at;return"rows"in lt&&Array.isArray(lt.rows)&&(lt.rows=lt.rows.map(ft=>ft.map(xt=>xx(xt)))),lt.id!=null||(lt.id="ML__layer_"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36)),[lt]}function z3(){var at,lt;let ft=window.mathVirtualKeyboard.alphabeticLayout;if(ft==="auto"){let Tt=Iu();Tt&&(ft=Tt.virtualLayout),(!ft||ft==="auto")&&(ft=(at={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[Rt.locale.slice(0,2)])!=null?at:"qwerty")}let xt={qwerty:["qwertyuiop"," asdfghjkl ","^zxcvbnm~"],azerty:["azertyuiop","qsdfghjklm","^ wxcvbn ~"],qwertz:["qwertzuiop"," asdfghjkl ","^yxcvbnm~"],dvorak:["^  pyfgcrl ","aoeuidhtns","qjkxbmwvz~"],colemak:[" qwfpgjluy ","arstdhneio","^zxcvbkm~"]},St=(lt=xt[ft])!=null?lt:xt.qwerty,Ct=[[{label:"1",variants:"1"},{label:"2",variants:"2"},{label:"3",variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{latex:"\\frac{#@}{#?}"},variants:"5"},{label:"6",shift:{latex:"#@^#?"},variants:"6"},{label:"7",variants:"4"},{label:"8",shift:{latex:"\\times"},variants:"8"},{label:"9",shift:{label:"(",latex:"("},variants:"9"},{label:"0",shift:{label:")",latex:")"},variants:"0"}]];for(let Tt of St){let Pt=[];for(let zt of Tt)/[a-z]/.test(zt)?Pt.push({label:zt,class:"hide-shift",shift:{label:zt.toUpperCase()},variants:yx(zt)?zt:void 0}):zt==="~"?ft!=="dvorak"?Pt.push("[backspace]"):Pt.push({label:"[backspace]",width:1}):zt==="^"?Pt.push("[shift]"):zt===" "&&Pt.push("[separator-5]");Ct.push(Pt)}return Ct.push(["[-]","[+]","[=]",{label:" ",width:1.5},",","[.]","[left]","[right]",{label:"[action]",width:1.5}]),{label:"abc",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.alphabetic",layers:Xu({rows:Ct})}}function bx(at){if(at==="alphabetic")return z3();if(typeof at=="string")return bx(O3[at]);let lt;if("rows"in at&&Array.isArray(at.rows)){let St=at,Ct=Mt(St,["rows"]);lt=wt(bt({},Ct),{layers:Xu({rows:at.rows})})}else if("markup"in at&&typeof at.markup=="string"){let St=at,Ct=Mt(St,["markup"]);lt=wt(bt({},Ct),{layers:Xu(at.markup)})}else lt=bt({},at),"layers"in at?lt.layers=Xu(at.layers):console.error('MathLive 0.95.1: provide either a "rows", "markup" or "layers" property');let ft=!1,xt=!1;for(let St of lt.layers)if(St.rows)for(let Ct of St.rows.flat()){su(Ct)&&(ft=!0);let Tt=Ct.command;typeof Tt=="string"&&["undo","redo","cut","copy","paste"].includes(Tt)&&(xt=!0)}return(!("displayShiftedKeycaps"in at)||at.displayShiftedKeycaps===void 0)&&(lt.displayShiftedKeycaps=ft),(!("displayEditToolbar"in at)||at.displayEditToolbar===void 0)&&(lt.displayEditToolbar=!xt),lt}function I3(at,lt){var ft,xt;let St='<div class="left">';if(at.normalizedLayouts.length>1)for(let[Ct,Tt]of at.normalizedLayouts.entries()){let Pt=Tt,zt=[Ct===lt?"selected":"layer-switch"];Pt.tooltip&&zt.push("MLK__tooltip"),Pt.labelClass&&zt.push(...Pt.labelClass.split(" ")),St+=`<div class="${zt.join(" ")}"`,Pt.tooltip&&(St+=" data-tooltip='"+((ft=Vt(Pt.tooltip))!=null?ft:Pt.tooltip)+"' "),Ct!==lt&&(St+=`data-layer="${Pt.layers[0].id}"`),St+=`>${(xt=Pt.label)!=null?xt:"untitled"}</div>`}return St+="</div>",St}function j3(at,lt){let ft="";if(at.editToolbar==="none")return"";let xt=[];lt.selectionIsCollapsed?xt.push("undo","redo","pasteFromClipboard"):xt.push("cutToClipboard","copyToClipboard","pasteFromClipboard");let St={undo:`<div class='action ${lt.canUndo===!1?"disabled":""}'
          data-command='"undo"'
          data-tooltip='${Vt("tooltip.undo")}'>
          <svg><use xlink:href='#svg-undo' /></svg>
      </div>`,redo:`<div class='action ${lt.canRedo===!1?"disabled":""}'
          data-command='"redo"'
          data-tooltip='${Vt("tooltip.redo")}'>
          <svg><use xlink:href='#svg-redo' /></svg>
      </div>`,cutToClipboard:`
        <div class='action'
            data-command='"cutToClipboard"'
            data-tooltip='${Vt("tooltip.cut to clipboard")}'>
            <svg><use xlink:href='#svg-cut' /></svg>
        </div>
    `,copyToClipboard:`
        <div class='action'
            data-command='"copyToClipboard"'
            data-tooltip='${Vt("tooltip.copy to clipboard")}'>
            <svg><use xlink:href='#svg-copy' /></svg>
        </div>
    `,pasteFromClipboard:`
        <div class='action'
            data-command='"pasteFromClipboard"'
            data-tooltip='${Vt("tooltip.paste from clipboard")}'>
            <svg><use xlink:href='#svg-paste' /></svg>
        </div>
    `};return ft+=xt.map(Ct=>St[Ct]).join(""),ft}function q3(at){for(let lt of at)U3(lt)}function U3(at){let lt=Vs.singleton;if(!lt)return;let ft={};if(!at.id){if(at.hasAttribute("data-label")&&(ft.label=at.dataset.label),at.hasAttribute("data-latex")&&(ft.latex=at.dataset.latex),at.hasAttribute("data-key")&&(ft.key=at.dataset.key),at.hasAttribute("data-insert")&&(ft.insert=at.dataset.insert),at.hasAttribute("data-variants")&&(ft.variants=at.dataset.variants),at.hasAttribute("data-aside")&&(ft.aside=at.dataset.aside),at.className&&(ft.class=at.className),!ft.label&&!ft.latex&&!ft.key&&!ft.insert&&(ft.latex=at.innerText,ft.label=at.innerHTML),at.hasAttribute("data-command"))try{ft.command=JSON.parse(at.dataset.command)}catch{}at.id=lt.registerKeycap(ft)}if(!at.innerHTML){let[xt,St]=hm(ft);at.innerHTML=window.MathfieldElement.createHTML(xt)}}function K3(){Es("virtual-keyboard"),Es("core"),dm()}function V3(){qs("core"),qs("virtual-keyboard")}var H3=`<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">

<symbol id="svg-delete-backward" viewBox="0 0 576 512">
  <path d="M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/>
</symbol>

<symbol id="svg-shift" viewBox="0 0 384 512">
  <path d="M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/>
</symbol>

<symbol id="svg-commit" viewBox="0 0 512 512">
  <path d="M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/>
</symbol>

<symbol id="svg-command" viewBox="0 0 640 512">
  <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>
</symbol>

<symbol id="svg-undo" viewBox="0 0 512 512">
  <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>
</symbol>
<symbol id="svg-redo" viewBox="0 0 512 512">
  <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>
</symbol>
<symbol id="svg-arrow-left" viewBox="0 0 320 512">
  <path d="M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/>
</symbol>
<symbol id="svg-arrow-right" viewBox="0 0 320 512">
  <path d="M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/>
</symbol>
<symbol id="svg-tab" viewBox="0 0 448 512">
  <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>
</symbol>
<symbol id="svg-paste" viewBox="0 0 512 512"><path d="M160 32c11.6 0 21.3 8.2 23.5 19.2C185 58.6 191.6 64 199.2 64H208c8.8 0 16 7.2 16 16V96H96V80c0-8.8 7.2-16 16-16h8.8c7.6 0 14.2-5.4 15.7-12.8C138.7 40.2 148.4 32 160 32zM64 64h2.7C65 69 64 74.4 64 80V96c0 17.7 14.3 32 32 32H224c17.7 0 32-14.3 32-32V80c0-5.6-1-11-2.7-16H256c17.7 0 32 14.3 32 32h32c0-35.3-28.7-64-64-64H210.6c-9-18.9-28.3-32-50.6-32s-41.6 13.1-50.6 32H64C28.7 32 0 60.7 0 96V384c0 35.3 28.7 64 64 64H192V416H64c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM288 480c-17.7 0-32-14.3-32-32V192c0-17.7 14.3-32 32-32h96v56c0 22.1 17.9 40 40 40h56V448c0 17.7-14.3 32-32 32H288zM416 165.3L474.7 224H424c-4.4 0-8-3.6-8-8V165.3zM448 512c35.3 0 64-28.7 64-64V235.9c0-12.7-5.1-24.9-14.1-33.9l-59.9-59.9c-9-9-21.2-14.1-33.9-14.1H288c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H448z"/></symbol>
<symbol id="svg-cut" viewBox="0 0 512 512"><path d="M485.6 444.2L333.6 314.9C326.9 309.2 326.1 299.1 331.8 292.4C337.5 285.6 347.6 284.8 354.4 290.5L506.4 419.8C513.1 425.5 513.9 435.6 508.2 442.4C502.5 449.1 492.4 449.9 485.6 444.2zM485.7 67.76C492.5 62.07 502.5 62.94 508.2 69.69C513.9 76.45 513.1 86.55 506.3 92.24L208.5 343.1C218.3 359.7 224 379.2 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 288 112 288C141.5 288 168.4 299.4 188.4 318.1L262.2 256L188.4 193.9C168.4 212.6 141.5 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 132.8 218.3 152.3 208.5 168.9L287 235.1L485.7 67.76zM32 112C32 156.2 67.82 192 112 192C156.2 192 192 156.2 192 112C192 67.82 156.2 32 112 32C67.82 32 32 67.82 32 112zM112 480C156.2 480 192 444.2 192 400C192 355.8 156.2 320 112 320C67.82 320 32 355.8 32 400C32 444.2 67.82 480 112 480z"/></symbol>
<symbol id="svg-copy" viewBox="0 0 512 512"><path d="M272 416C263.2 416 256 423.2 256 432V448c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V192c0-17.67 14.33-32 32-32h112C184.8 160 192 152.8 192 144C192 135.2 184.8 128 176 128H63.99c-35.35 0-64 28.65-64 64l.0098 256C0 483.3 28.65 512 64 512h160c35.35 0 64-28.65 64-64v-16C288 423.2 280.8 416 272 416zM502.6 86.63l-77.25-77.25C419.4 3.371 411.2 0 402.7 0H288C252.7 0 224 28.65 224 64v256c0 35.35 28.65 64 64 64h160c35.35 0 64-28.65 64-64V109.3C512 100.8 508.6 92.63 502.6 86.63zM416 45.25L466.7 96H416V45.25zM480 320c0 17.67-14.33 32-32 32h-160c-17.67 0-32-14.33-32-32V64c0-17.67 14.33-32 32-32h96l.0026 64c0 17.67 14.33 32 32 32H480V320z"/>
</symbol>
<symbol id="svg-angle-double-right" viewBox="0 0 512 512"><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/>
</symbol>
<symbol id="svg-angle-double-left" viewBox="0 0 512 512"><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/>
</symbol>
<symbol id="svg-trash" viewBox="0 0 448 512">
  <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>
</symbol>
<symbol id="svg-keyboard-down" viewBox="0 0 576 512"><path d="M64 48c-8.8 0-16 7.2-16 16V240c0 8.8 7.2 16 16 16H512c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64zM0 64C0 28.7 28.7 0 64 0H512c35.3 0 64 28.7 64 64V240c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM159 359c9.4-9.4 24.6-9.4 33.9 0l95 95 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L305 505c-4.5 4.5-10.6 7-17 7s-12.5-2.5-17-7L159 393c-9.4-9.4-9.4-24.6 0-33.9zm1-167c0-8.8 7.2-16 16-16H400c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V192zM120 88h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H120c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H200c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H280c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H360c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H440c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16z"/></symbol>
</svg>`;function W3(at){at.resetKeycapRegistry(),K3();let lt=document.createElement("div");lt.className="ML__keyboard";let ft=document.createElement("div");ft.className="MLK__plate",ft.innerHTML=window.MathfieldElement.createHTML(H3+at.normalizedLayouts.map((Tt,Pt)=>G3(at,Tt,Pt)).join(""));let xt=document.createElement("div");xt.className="MLK__backdrop",xt.appendChild(ft),lt.appendChild(xt),lt.addEventListener("pointerdown",Z3,{passive:!1});let St=lt.querySelectorAll(".ML__edit-toolbar");if(St)for(let Tt of St)Tt.addEventListener("click",Pt=>{var zt,Kt;let Ht=Pt.target,Jt="";for(;Ht&&!Jt;)Jt=(zt=Ht==null?void 0:Ht.getAttribute("data-command"))!=null?zt:"",Ht=(Kt=Ht==null?void 0:Ht.parentElement)!=null?Kt:null;Jt&&at.executeCommand(JSON.parse(Jt))});q3(lt.querySelectorAll(".MLK__keycap, .action, .fnbutton, .bigfnbutton"));let Ct=lt.querySelectorAll(".MLK__layer");Ct.length>0;for(let Tt of Ct)Tt.addEventListener("pointerdown",Pt=>Pt.preventDefault());return at.currentLayer=at.latentLayer,lt}function G3(at,lt,ft){let xt=[];if(!("layers"in lt))return"";for(let St of lt.layers)xt.push(`<div tabindex="-1" class="MLK__layer" id="${St.id}">`),(at.normalizedLayouts.length>1||lt.displayEditToolbar)&&(xt.push("<div class='MLK__toolbar' role='toolbar'>"),xt.push(I3(at,ft)),lt.displayEditToolbar&&xt.push('<div class="ML__edit-toolbar right"></div>'),xt.push("</div>")),xt.push(X3(at,St)),xt.push("</div>");return xt.join("")}function X3(at,lt){if(typeof lt=="string")return lt;let ft="";if(typeof lt.style=="string"?ft+=`<style>${lt.style}</style>`:typeof lt.style=="object"&&(ft+=`<style>${R3(lt.style)}</style>`),lt.backdrop&&(ft+=`<div class='${lt.backdrop}'>`),lt.container&&(ft+=`<div class='${lt.container}'>`),lt.rows){ft+="<div class='MLK__rows'>";for(let xt of lt.rows){ft+="<div dir='ltr' class=row>";for(let St of xt)if(St){let Ct=at.registerKeycap(St),[Tt,Pt]=hm(St);/(^|\s)separator/.test(Pt)?ft+=`<div class="${Pt}"`:ft+=`<div tabindex="-1" id="${Ct}" class="${Pt}"`,St.tooltip&&(ft+=` data-tooltip="${St.tooltip}"`),ft+=`>${Tt}</div>`}ft+="</div>"}ft+="</div>"}else lt.markup&&(ft+=lt.markup);return lt.container&&(ft+="</div>"),lt.backdrop&&(ft+="</div>"),ft}function hm(at,lt={shifted:!1}){var ft,xt,St,Ct,Tt,Pt,zt;let Kt="",Ht=(ft=at.class)!=null?ft:"";if(lt.shifted&&su(at)&&(Ht+=" is-active"),lt.shifted&&"shift"in at)typeof at.shift=="string"?Kt=Gu(at.shift):typeof at.shift=="object"&&(Kt=at.shift.label?at.shift.label:(xt=Gu(at.shift.latex||at.shift.insert||"")||at.shift.key)!=null?xt:""),typeof at.shift=="object"&&(Ht=(Ct=(St=at.shift.class)!=null?St:at.class)!=null?Ct:"");else{if(Kt=at.label?at.label:(Tt=Gu(at.latex||at.insert||"")||at.key)!=null?Tt:"",at.shift){let Jt;typeof at.shift=="string"?Jt=Gu(at.shift):at.shift.label?Jt=at.shift.label:Jt=(Pt=Gu(at.shift.latex||at.shift.insert||"")||at.shift.key)!=null?Pt:"",Kt+=`<span class="MLK__shift">${Jt}</span>`}at.aside&&(Kt+=`<aside>${at.aside}</aside>`)}return at.layer&&!/layer-switch/.test(Ht)&&(Ht+=" layer-switch"),/(^|\s)(separator|action|shift|fnbutton|bigfnbutton)($|\s)/.test(Ht)||(Ht+=" MLK__keycap"),!/\bw[0-9]+\b/.test(Ht)&&at.width&&(Ht+=(zt={0:" w0",.5:" w5",1.5:" w15",2:" w20",5:" w50"}[at.width])!=null?zt:""),[Kt,Ht||"MLK__keycap"]}var Ll={"[left]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-left /></svg>",command:["performWithFeedback","moveToPreviousChar"],shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-left /></svg>",command:["performWithFeedback","extendSelectionBackward"]}},"[right]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-right /></svg>",command:["performWithFeedback","moveToNextChar"],shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-right /></svg>",command:["performWithFeedback","extendSelectionForward"]}},"[return]":{class:"action",command:["performWithFeedback","commit"],width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[action]":{class:"action",command:["performWithFeedback","commit"],width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[hr]":{class:"separator horizontal-rule"},"[hide-keyboard]":{class:"action",command:["performWithFeedback","hideVirtualKeyboard"],width:1.5,label:"<svg class=svg-glyph-lg><use xlink:href=#svg-keyboard-down /></svg>"},"[.]":{variants:".",command:"insertDecimalSeparator",shift:",",class:"big-op hide-shift"},"[+]":{variants:[{latex:"\\sum_{#0}^{#0}",class:"small"},"\\oplus"],latex:"+",label:"+",class:"big-op hide-shift",shift:{latex:"\\sum",insert:"\\sum_{#?}^{#?}",class:"small"}},"[-]":{variants:["\\pm","\\ominus"],latex:"-",label:"&#x2212;",shift:"\\pm",class:"big-op hide-shift"},"[/]":{class:"big-op hide-shift",shift:{class:"",latex:"\\frac{1}{#@}"},variants:["/","\\div","\\%","\\oslash"],latex:"\\frac{#@}{#?}",label:"&divide;"},"[*]":{variants:[{latex:"\\prod_{#0}^{#0}",class:"small"},"\\otimes"],latex:"\\times",label:"&times;",shift:{latex:"\\prod",insert:"\\prod_{#?}^{#?}",class:"small"},class:"big-op hide-shift"},"[=]":{variants:["\\neq","\\equiv","\\varpropto","\\thickapprox","\\lt","\\gt","\\le","\\ge"],latex:"=",label:"=",shift:{label:"≠",latex:"\\ne"},class:"big-op hide-shift"},"[backspace]":{class:"action bottom right hide-shift",width:1.5,command:["performWithFeedback","deleteBackward"],label:"<svg class=svg-glyph><use xlink:href=#svg-delete-backward /></svg>",shift:{class:"action warning",label:"<svg class=svg-glyph><use xlink:href=#svg-trash /></svg>",command:"deleteAll"}},"[undo]":{class:"ghost if-can-undo",command:"undo",label:"<svg class=svg-glyph><use xlink:href=#svg-undo /></svg>",tooltip:Vt("tooltip.undo")},"[redo]":{class:"ghost  if-can-redo",command:"redo",label:"<svg class=svg-glyph><use xlink:href=#svg-redo /></svg>",tooltip:Vt("tooltip.redo")},"[(]":{variants:[{latex:"\\lbrack",key:"["},"\\langle","\\lfloor","\\lceil",{latex:"\\lbrace",key:"{"}],key:"(",label:"(",shift:{label:"[",key:"["},class:"hide-shift"},"[)]":{variants:[{latex:"\\rbrack",key:"]"},"\\rangle","\\rfloor","\\rceil",{latex:"\\rbrace",key:"]"}],key:")",label:")",shift:{label:"]",latex:"\\rbrack"},class:"hide-shift"},"[0]":{variants:"0",latex:"0",label:"0",shift:"\\infty",class:"hide-shift"},"[1]":{variants:"1",latex:"1",label:"1",shift:"#@^{-1}",class:"hide-shift"},"[2]":{variants:"2",latex:"2",label:"2",shift:"#@^2",class:"hide-shift"},"[3]":{variants:"3",latex:"3",label:"3",shift:"#@^3",class:"hide-shift"},"[4]":{variants:"4",latex:"4",label:"4",shift:"#@^4",class:"hide-shift"},"[5]":{variants:"5",latex:"5",label:"5",shift:"#@^5",class:"hide-shift"},"[6]":{variants:"6",latex:"6",label:"6",shift:"#@^6",class:"hide-shift"},"[7]":{variants:"7",latex:"7",label:"7",shift:"#@^7",class:"hide-shift"},"[8]":{variants:"8",latex:"8",label:"8",shift:"#@^8",class:"hide-shift"},"[9]":{variants:"9",latex:"9",label:"9",shift:"#@^9",class:"hide-shift"},"[separator-5]":{class:"separator",width:.5},"[separator]":{class:"separator"},"[separator-10]":{class:"separator"},"[separator-15]":{class:"separator",width:1.5},"[separator-20]":{class:"separator",width:2},"[separator-50]":{class:"separator",width:5},"[shift]":{class:"shift bottom left",width:1.5,label:"<span class=caps-lock-indicator></span><svg class=svg-glyph><use xlink:href=#svg-shift /></svg>"},"[foreground-color]":{variants:"foreground-color",command:["applyStyle",{color:"red"}],label:"<span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'>"},"[background-color]":{variants:"background-color",command:["applyStyle",{backgroundColor:"yellow"}],label:"<span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span>"}};function xx(at){var lt;if(typeof at=="string"){if(!Ll[at])return{latex:at};at={label:at}}let ft;return"label"in at&&at.label&&Ll[at.label]&&(ft=wt(bt(bt({},Ll[at.label]),at),{label:Ll[at.label].label})),"key"in at&&at.key&&Ll[at.key]&&(ft=wt(bt(bt({},Ll[at.key]),at),{key:Ll[at.key].key})),ft?(ft.command==="insertDecimalSeparator"&&(ft.label=(lt=window.MathfieldElement.decimalSeparator)!=null?lt:"."),at.label==="[action]"&&(ft=bt(bt({},ft),window.mathVirtualKeyboard.actionKeycap)),at.label==="[shift]"&&(ft=bt(bt({},ft),window.mathVirtualKeyboard.shiftKeycap)),at.label==="[backspace]"&&(ft=bt(bt({},ft),window.mathVirtualKeyboard.backspaceKeycap)),at.label==="[tab]"&&(ft=bt(bt({},ft),window.mathVirtualKeyboard.tabKeycap)),ft):at}var Zu;function Z3(at){var lt;if(at.button!==0)return;let ft=Vs.singleton;if(!ft)return;let xt=at.target;for(;xt&&!xt.getAttribute("data-layer");)xt=xt.parentElement;if(xt){ft.currentLayer=(lt=xt.getAttribute("data-layer"))!=null?lt:"",at.preventDefault();return}let St=ou(at.target);if(!(St!=null&&St.id))return;let Ct=ft.getKeycap(St.id);if(!Ct)return;at.type;let Tt=new AbortController;St.classList.add("is-pressed"),St.addEventListener("pointerenter",vm(Tt),{capture:!0,signal:Tt.signal}),St.addEventListener("pointerleave",vm(Tt),{capture:!0,signal:Tt.signal}),St.addEventListener("pointercancel",vm(Tt),{signal:Tt.signal}),St.addEventListener("pointerup",vm(Tt),{signal:Tt.signal}),su(Ct)&&(St.classList.add("is-active"),ft.shiftPressCount++),Ct.variants&&(Zu&&clearTimeout(Zu),Zu=setTimeout(()=>{St.classList.contains("is-pressed")&&(St.classList.remove("is-pressed"),St.classList.add("is-active"),at.target&&"releasePointerCapture"in at.target&&at.target.releasePointerCapture(at.pointerId),gx(St,()=>{Tt.abort(),St==null||St.classList.remove("is-active")}))},300)),at.preventDefault()}function vm(at){return lt=>{let ft=ou(lt.target);if(!(ft!=null&&ft.id))return;let xt=Vs.singleton;if(!xt)return;let St=xt.getKeycap(ft.id);if(St){if(lt.type==="pointerenter"&&lt.target===ft&&lt.isPrimary&&ft.classList.add("is-pressed"),lt.type==="pointercancel"){ft.classList.remove("is-pressed"),su(St)&&(xt.shiftPressCount--,ft.classList.toggle("is-active",xt.isShifted)),at.abort();return}if(lt.type==="pointerleave"&&lt.target===ft){ft.classList.remove("is-pressed"),su(St)&&(xt.shiftPressCount--,ft.classList.toggle("is-active",xt.isShifted));return}if(lt.type==="pointerup"){Zu&&clearTimeout(Zu),su(St)?ft.classList.toggle("is-active",xt.isShifted):ft.classList.contains("is-pressed")&&(ft.classList.remove("is-pressed"),xt.isShifted&&St.shift?typeof St.shift=="string"?xt.executeCommand(["insert",St.shift,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]):O0(St.shift):O0(St),xt.shiftPressCount===1&&!lt.shiftKey&&(xt.shiftPressCount=0)),at.abort(),lt.preventDefault();return}}}}function O0(at){var lt;let ft=at.command;!ft&&at.insert&&(ft=["insert",at.insert,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]),!ft&&at.key&&(ft=["typedText",at.key,{focus:!0,feedback:!0,simulateKeystroke:!0}]),!ft&&at.latex&&(ft=["insert",at.latex,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]),ft||(ft=["typedText",at.label,{focus:!0,feedback:!0,simulateKeystroke:!0}]),(lt=Vs.singleton)==null||lt.executeCommand(ft)}function Y3(at){if(at.nodeType!==1)return!1;let lt=at.classList;return lt.contains("MLK__keycap")||lt.contains("shift")||lt.contains("action")||lt.contains("fnbutton")||lt.contains("bigfnbutton")}function ou(at){if(!at)return;let lt=at;for(;lt&&!Y3(lt);)lt=lt.parentElement;return lt??void 0}function su(at){return!!at.class&&/(^|\s)shift($|\s)/.test(at.class)}var Vs=class I2{constructor(){this.originalContainerBottomPadding=null,this.keycapRegistry={},this._shiftPressCount=0;var lt,ft,xt;this.targetOrigin=window.origin,this.originValidator="none",this._alphabeticLayout="auto",this._layouts=Object.freeze(["default"]),this._editToolbar="default",this._container=(ft=(lt=window.document)==null?void 0:lt.body)!=null?ft:null,this._visible=!1,this._rebuilding=!1,this.observer=new ResizeObserver(St=>{this.adjustBoundingRect(),this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect})}),this.listeners={};try{(xt=window.top)==null||xt.addEventListener("message",this)}catch{window.addEventListener("message",this)}document.body.addEventListener("focusin",St=>{var Ct;let Tt=St.target;if(Tt!=null&&Tt.isConnected&&((Ct=Tt.tagName)==null?void 0:Ct.toLowerCase())==="math-field"&&Ft()){let Pt=Tt;Pt.mathVirtualKeyboardPolicy==="auto"&&!Pt.readOnly&&this.show({animate:!0})}}),document.addEventListener("focusout",St=>{St.target.mathVirtualKeyboardPolicy!=="manual"&&setTimeout(()=>{var Ct,Tt,Pt;let zt=document.activeElement,Kt=!1;for(;zt;){if(((Ct=zt.tagName)==null?void 0:Ct.toLowerCase())==="math-field"){Kt=!0;break}zt=(Pt=(Tt=zt.shadowRoot)==null?void 0:Tt.activeElement)!=null?Pt:null}Kt||this.hide()},300)})}get currentLayer(){var lt,ft,xt;return(xt=(ft=(lt=this._element)==null?void 0:lt.querySelector(".MLK__layer.is-visible"))==null?void 0:ft.id)!=null?xt:""}set currentLayer(lt){var ft;if(!this._element){this.latentLayer=lt;return}let xt=lt?this._element.querySelector(`#${lt}.MLK__layer`):null;xt||(xt=this._element.querySelector(".MLK__layer")),xt&&((ft=this._element.querySelector(".MLK__layer.is-visible"))==null||ft.classList.remove("is-visible"),xt.classList.add("is-visible")),this.render()}get shiftPressCount(){return this._shiftPressCount}set shiftPressCount(lt){var ft;this._shiftPressCount=lt>2||lt<0?0:lt,(ft=this._element)==null||ft.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.render()}get isShifted(){return this._shiftPressCount>0}resetKeycapRegistry(){this.keycapRegistry={}}registerKeycap(lt){let ft="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);return this.keycapRegistry[ft]=lt,ft}getKeycap(lt){return lt?this.keycapRegistry[lt]:void 0}getLayer(lt){let ft=this.normalizedLayouts;for(let xt of ft)for(let St of xt.layers)if(St.id===lt)return St}get alphabeticLayout(){return this._alphabeticLayout}set alphabeticLayout(lt){this._alphabeticLayout=lt,this.rebuild()}get actionKeycap(){return this._actionKeycap}set actionKeycap(lt){this._actionKeycap=typeof lt=="string"?{label:lt}:lt}get shiftKeycap(){return this._shiftKeycap}set shiftKeycap(lt){this._shiftKeycap=typeof lt=="string"?{label:lt}:lt}get backspaceKeycap(){return this._backspaceKeycap}set backspaceKeycap(lt){this._backspaceKeycap=typeof lt=="string"?{label:lt}:lt}get tabKeycap(){return this._tabKeycap}set tabKeycap(lt){this._tabKeycap=typeof lt=="string"?{label:lt}:lt}get layouts(){return this._layouts}set layouts(lt){this.updateNormalizedLayouts(lt),this.rebuild()}updateNormalizedLayouts(lt){let ft=Array.isArray(lt)?[...lt]:[lt],xt=ft.findIndex(St=>St==="default");xt>=0&&ft.splice(xt,1,"numeric","symbols","alphabetic","greek"),this._layouts=Object.freeze(ft),this._normalizedLayouts=ft.map(St=>bx(St))}get normalizedLayouts(){return this._normalizedLayouts||this.updateNormalizedLayouts(this._layouts),this._normalizedLayouts}get editToolbar(){return this._editToolbar}set editToolbar(lt){this._editToolbar=lt,this.rebuild()}get container(){return this._container}set container(lt){this._container=lt,this.rebuild()}static get singleton(){if(this._singleton===void 0)try{this._singleton=new I2}catch{this._singleton=null}return this._singleton}get style(){return this._style}addEventListener(lt,ft,xt){this.listeners[lt]||(this.listeners[lt]=new Set),this.listeners[lt].has(ft)||this.listeners[lt].add(ft)}dispatchEvent(lt){return!this.listeners[lt.type]||this.listeners[lt.type].size===0?!0:(this.listeners[lt.type].forEach(ft=>{typeof ft=="function"?ft(lt):ft==null||ft.handleEvent(lt)}),!lt.defaultPrevented)}removeEventListener(lt,ft,xt){this.listeners[lt]&&this.listeners[lt].delete(ft)}get element(){return this._element}set element(lt){var ft;this._element!==lt&&((ft=this._element)==null||ft.remove(),this._element=lt)}get visible(){return this._visible}set visible(lt){lt?this.show():this.hide()}get boundingRect(){var lt;if(!this._visible)return new DOMRect;let ft=(lt=this._element)==null?void 0:lt.getElementsByClassName("MLK__plate")[0];return ft?ft.getBoundingClientRect():new DOMRect}adjustBoundingRect(){var lt,ft;let xt=this.boundingRect.height;if(this.container===document.body){(lt=this._element)==null||lt.style.setProperty("--_keyboard-height",`calc(${xt}px + env(safe-area-inset-bottom, 0))`);let St=xt-1;this.container.style.paddingBottom=this.originalContainerBottomPadding?`calc(${this.originalContainerBottomPadding} + ${St}px)`:`${St}px`}else(ft=this._element)==null||ft.style.setProperty("--_keyboard-height",`${xt}px`)}rebuild(){if(this._rebuilding||!this._element)return;this._rebuilding=!0;let lt=this.currentLayer;requestAnimationFrame(()=>{this._rebuilding=!1,this._element&&(this._element.remove(),this._element=void 0),this.visible&&(this.buildAndAttachElement(),this.currentLayer=lt,this.render(),this.adjustBoundingRect(),this._element.classList.add("is-visible"))})}render(){if(!this._element)return;let lt=this.getLayer(this.currentLayer);this._element.classList.toggle("backdrop-is-transparent",!!(lt&&(lt.backdrop||lt.container)));let ft=this._element.querySelectorAll(".MLK__layer.is-visible .MLK__keycap, .MLK__layer.is-visible .action, .fnbutton, .MLK__layer.is-visible .bigfnbutton, .MLK__layer.is-visible .shift");if(ft)for(let xt of ft){let St=this.getKeycap(xt.id);if(St){let[Ct,Tt]=hm(St,{shifted:this.isShifted});xt.innerHTML=window.MathfieldElement.createHTML(Ct),xt.className=Tt}}}show(lt){var ft;if(this._visible)return;let xt=this.container;if(xt&&window.mathVirtualKeyboard&&this.stateWillChange(!0)){if(this._element||(this.buildAndAttachElement(),this.adjustBoundingRect()),!this._visible){let St=this._element.getElementsByClassName("MLK__plate")[0];if(St&&this.observer.observe(St),xt===window.document.body){let Ct=xt.style.paddingBottom;this.originalContainerBottomPadding=Ct;let Tt=St.offsetHeight-1;xt.style.paddingBottom=Ct?`calc(${Ct} + ${Tt}px)`:`${Tt}px`}window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("keydown",this,{capture:!0}),window.addEventListener("keyup",this,{capture:!0}),(ft=this._element)==null||ft.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.currentLayer=this.latentLayer}this._visible=!0,lt!=null&&lt.animate?requestAnimationFrame(()=>{this._element&&(this._element.classList.add("animate"),this._element.addEventListener("transitionend",()=>{var St;return(St=this._element)==null?void 0:St.classList.remove("animate")},{once:!0}),this._element.classList.add("is-visible"),this.stateChanged())}):(this._element.classList.add("is-visible"),this.stateChanged())}}hide(lt){var ft;let xt=this.container;if(xt&&this._visible&&this.stateWillChange(!1)){if(this._visible=!1,this._element){this.latentLayer=this.currentLayer;let St=this._element.getElementsByClassName("MLK__plate")[0];St&&this.observer.unobserve(St),window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("keydown",this,{capture:!0}),window.removeEventListener("keyup",this,{capture:!0}),window.removeEventListener("contextmenu",this,{capture:!0}),Wu(),V3(),(ft=this._element)==null||ft.remove(),this._element=void 0,this.originalContainerBottomPadding!==null&&(xt.style.paddingBottom=this.originalContainerBottomPadding)}this.stateChanged()}}get height(){var lt,ft;return(ft=(lt=this.element)==null?void 0:lt.offsetHeight)!=null?ft:0}buildAndAttachElement(){var lt;this.element,this.element=W3(this),window.addEventListener("contextmenu",this,{capture:!0}),this.element.addEventListener("contextmenu",ft=>{ft.shiftKey||((ft.ctrlKey||ft.button===2)&&gx(ft.target),ft.preventDefault(),ft.stopPropagation())},{capture:!0}),(lt=this.container)==null||lt.appendChild(this.element)}handleEvent(lt){if(B0(lt)){if(!_0(lt.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${lt.origin}) cannot be handled`,"SecurityError");lt.data.action==="disconnect"?this.connectedMathfieldWindow=void 0:lt.data.action!=="update-setting"&&lt.data.action!=="proxy-created"&&lt.data.action!=="execute-command"&&(lt.source,this.connectedMathfieldWindow=lt.source),this.handleMessage(lt.data,lt.source)}if(this._element)switch(lt.type){case"mouseup":case"blur":document.body.style.userSelect="",this.shiftPressCount=0;break;case"contextmenu":lt.button!==2&&lt.preventDefault();break;case"keydown":{lt.key==="Shift"&&!lt.repeat&&(this.shiftPressCount=1);break}case"keyup":{(lt.key==="Shift"||!lt.getModifierState("Shift")&&this.shiftPressCount!==2)&&(this.shiftPressCount=0);break}}}handleMessage(lt,ft){let{action:xt}=lt;if(xt==="execute-command"){let{command:St}=lt;if(Vu(St)!=="virtual-keyboard"&&window===window.parent)return;this.executeCommand(St);return}if(xt==="connect"&&this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},ft),xt!=="disconnect"&&window===window.top){if(xt==="show"){typeof lt.animate<"u"?this.show({animate:lt.animate}):this.show();return}if(xt==="hide"){typeof lt.animate<"u"?this.hide({animate:lt.animate}):this.hide();return}if(xt==="update-setting"){lt.alphabeticLayout&&(this.alphabeticLayout=lt.alphabeticLayout),lt.layouts&&(this.layouts=lt.layouts),lt.editToolbar&&(this.editToolbar=lt.editToolbar);return}if(xt==="proxy-created"){this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},ft);return}}}sendMessage(lt,ft,xt){if(xt||(xt=this.connectedMathfieldWindow),this.targetOrigin===null||this.targetOrigin==="null"||xt===window){window.dispatchEvent(new MessageEvent("message",{source:window,data:bt({type:pm,action:lt},ft)}));return}if(xt)xt.postMessage(bt({type:pm,action:lt},ft),{targetOrigin:this.targetOrigin});else if(lt==="execute-command"&&Array.isArray(ft.command)&&ft.command[0]==="insert"){let St=ft.command[1].split("");for(let Ct of St)this.dispatchEvent(new KeyboardEvent("keydown",{key:Ct,bubbles:!0})),this.dispatchEvent(new KeyboardEvent("keyup",{key:Ct,bubbles:!0}))}}stateWillChange(lt){return this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:lt},bubbles:!0,cancelable:!0,composed:!0}))}stateChanged(){this.dispatchEvent(new Event("virtual-keyboard-toggle")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect})}focus(){this.sendMessage("focus",{})}blur(){this.sendMessage("blur",{})}updateToolbar(lt){let ft=this._element;if(!ft)return;ft.classList.toggle("can-undo",lt.canUndo),ft.classList.toggle("can-redo",lt.canRedo),ft.classList.toggle("can-copy",!lt.selectionIsCollapsed),ft.classList.toggle("can-copy",!lt.selectionIsCollapsed),ft.classList.toggle("can-paste",!0);let xt=ft.querySelectorAll(".ML__edit-toolbar");if(xt)for(let St of xt)St.innerHTML=j3(this,lt)}update(lt){this._style=lt.style,this.updateToolbar(lt)}connect(){this.connectedMathfieldWindow=window}disconnect(){this.connectedMathfieldWindow=void 0}executeCommand(lt){let ft,xt=[];return kt(lt)?(ft=lt[0],xt=lt.slice(1)):ft=lt,ft=ft.replace(/-\w/g,St=>St[1].toUpperCase()),Vu(lt)==="virtual-keyboard"?fs[ft].fn(...xt):(this.sendMessage("execute-command",{command:lt}),!1)}dispose(){window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("message",this)}};if(Bt()&&!("mathVirtualKeyboard"in window))if(window===window.top){let at=Vs.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>at})}else Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>B3.singleton,configurable:!0});function gm(at){let lt={};for(let ft of Object.keys(at))switch(ft){case"scriptDepth":if(kt(at.scriptDepth))lt.scriptDepth=[at.scriptDepth[0],at.scriptDepth[1]];else if(typeof at.scriptDepth=="number")lt.scriptDepth=[at.scriptDepth,at.scriptDepth];else throw new TypeError("Unexpected value for scriptDepth");break;case"mathVirtualKeyboardPolicy":let xt=at.mathVirtualKeyboardPolicy.toLowerCase();if(xt==="sandboxed"){if(window!==window.top){let St=Vs.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>St})}xt="manual"}lt.mathVirtualKeyboardPolicy=xt;break;case"letterShapeStyle":at.letterShapeStyle==="auto"?Rt.locale.startsWith("fr")?lt.letterShapeStyle="french":lt.letterShapeStyle="tex":lt.letterShapeStyle=at.letterShapeStyle;break;case"defaultMode":["text","math","inline-math"].includes(at.defaultMode)?lt.defaultMode=at.defaultMode:(console.error('MathLive 0.95.1:  valid values for defaultMode are "text", "math" or "inline-math"'),lt.defaultMode="math");break;case"macros":lt.macros=Br(at.macros);break;default:kt(at[ft])?lt[ft]=[...at[ft]]:typeof at[ft]=="object"&&!(at[ft]instanceof Element)&&ft!=="computeEngine"?lt[ft]=bt({},at[ft]):lt[ft]=at[ft]}return lt}function Rl(at,lt){let ft;typeof lt=="string"?ft=[lt]:lt===void 0?ft=Object.keys(at):ft=lt;let xt={};for(let St of ft)at[St]===null?xt[St]=null:kt(at[St])?xt[St]=[...at[St]]:typeof at[St]=="object"&&!(at[St]instanceof Element)&&St!=="computeEngine"?xt[St]=bt({},at[St]):xt[St]=at[St];return typeof lt=="string"?xt[lt]:xt}function ym(){return{readOnly:!1,defaultMode:"math",macros:{},registers:{},colorMap:Yt,backgroundColorMap:lr,letterShapeStyle:Rt.locale.startsWith("fr")?"french":"tex",minFontScale:0,smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,mathModeSpace:"",placeholderSymbol:"▢",popoverPolicy:"auto",environmentPopoverPolicy:"auto",keybindings:h4,inlineShortcuts:My,inlineShortcutTimeout:0,mathVirtualKeyboardPolicy:"auto",virtualKeyboardTargetOrigin:window==null?void 0:window.origin,originValidator:"none",onInlineShortcut:()=>"",onScrollIntoView:null,onExport:m4,value:""}}function wx(at){return at.defaultMode==="inline-math"?"math":at.defaultMode}function Hs(at){return typeof at=="number"&&!Number.isNaN(at)}function bm(at){return Array.isArray(at)&&at.length===2}function xm(at){return at!=null&&typeof at=="object"&&"ranges"in at&&Array.isArray(at.ranges)}var Sx="<mo>&#x2061;</mo>",wm="<mo>&#8290;</mo>";function Sm(at){return at.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qn(at,lt){return!at||!lt.generateID?"":` extid="${at}"`}function Q3(at,lt,ft){var xt,St,Ct,Tt,Pt,zt,Kt,Ht,Jt;let fr=!1;lt=lt??at.atoms.length;let hr="",mr="",Rr=at.atoms[at.index],Yr=(St=(xt=Rr.style)==null?void 0:xt.variant)!=null?St:"",Pr=(Tt=(Ct=Rr.style)==null?void 0:Ct.variantStyle)!=null?Tt:"",Ur="";(Yr||Pr)&&(Ur=(Pt={upnormal:"normal",boldnormal:"bold",italicmain:"italic",bolditalicmain:"bold-italic","double-struck":"double-struck",boldfraktur:"bold-fraktur",calligraphic:"script",upcalligraphic:"script",script:"script",boldscript:"bold-script",boldcalligraphic:"bold-script",fraktur:"fraktur","upsans-serif":"sans-serif","boldsans-serif":"bold-sans-serif","italicsans-serif":"sans-serif-italic","bolditalicsans-serif":"sans-serif-bold-italic",monospace:"monospace"}[Pr+Yr])!=null?Pt:"",Ur=`mathvariant="${Ur}"`);let un={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"ℏ","\\cdotp":"⋅","\\ldots":"…","\\cdots":"⋯","\\ddots":"⋱","\\vdots":"⋮","\\ldotp":"."};if(un[Rr.command]){at.index+=1;let Zr=`<mi${qn(Rr.id,ft)}${Ur}>${un[Rr.command]}</mi>`;return(at.lastType==="mi"||at.lastType==="mn"||at.lastType==="mtext"||at.lastType==="fence")&&(Zr=wm+Zr),zl(Zr,at,ft)||(at.mathML+=Zr,at.lastType="mi"),!0}if(Rr.command==="\\operatorname")mr=lu(Rr.body),at.index+=1;else if(Yr||Pr)for(;at.index<lt&&(Rr.type==="mord"||Rr.type==="macro")&&!Rr.isDigit()&&Yr===((Kt=(zt=Rr.style)==null?void 0:zt.variant)!=null?Kt:"")&&Pr===((Jt=(Ht=Rr.style)==null?void 0:Ht.variantStyle)!=null?Jt:"");)mr+=lu([Rr]),at.index+=1,Rr=at.atoms[at.index];else(Rr.type==="mord"||Rr.type==="macro")&&!Rr.isDigit()&&(mr+=lu([Rr]),at.index+=1);if(mr.length>0){fr=!0,hr=`<mi${Ur}>${mr}</mi>`;let Zr=at.lastType;hr.endsWith(">f</mi>")||hr.endsWith(">g</mi>")?(hr+=Sx,at.lastType="applyfunction"):at.lastType=/^<mo>(.*)<\/mo>$/.test(hr)?"mo":"mi",zl(hr,at,ft)||((Zr==="mi"||Zr==="mn"||Zr==="mtext"||Zr==="fence")&&(hr=wm+hr),at.mathML+=hr)}return fr}function J3(at){return at.index<at.atoms.length&&at.atoms[at.index].superscript&&at.atoms[at.index].type==="subsup"}function ew(at){let lt=-1,ft=at.index,xt=!1,St=!1;for(;ft<at.atoms.length&&!xt&&!St;){let Ct=at.atoms[ft];xt=!Ct.isDigit(),St=!xt&&Ct.superscript!==void 0,ft++}return St&&(lt=ft-1),lt}function zl(at,lt,ft){var xt;let St=lt.atoms[lt.index-1];if(!St)return!1;if(!St.superscript&&!St.subscript)if(((xt=lt.atoms[lt.index])==null?void 0:xt.type)==="subsup")St=lt.atoms[lt.index],lt.index+=1;else return!1;let Ct=lt.lastType;lt.lastType="";let Tt=kn(St.superscript,ft);lt.lastType="";let Pt=kn(St.subscript,ft);if(lt.lastType=Ct,!Tt&&!Pt)return!1;let zt="";return Tt&&Pt?zt=`<msubsup>${at}${Pt}${Tt}</msubsup>`:Tt?zt=`<msup>${at}${Tt}</msup>`:Pt&&(zt=`<msub>${at}${Pt}</msub>`),lt.mathML+=zt,lt.lastType="",!0}function tw(at,lt,ft){lt=lt??at.atoms.length;let xt=at.index,St="";for(;at.index<lt&&at.atoms[at.index].mode==="text";)St+=at.atoms[at.index].value?at.atoms[at.index].value:" ",at.index+=1;return St.length>0?(at.mathML+=`<mtext ${qn(at.atoms[xt].id,ft)}>${St}</mtext>`,at.lastType="mtext",!0):!1}function rw(at,lt,ft){lt=lt??at.atoms.length;let xt=at.index,St="",Ct=ew(at);for(Ct>=0&&Ct<lt&&(lt=Ct);at.index<lt&&at.atoms[at.index].isDigit();)St+=at.atoms[at.index].asDigit(),at.index+=1;return St.length<=0?!1:(St="<mn"+qn(at.atoms[xt].id,ft)+">"+St+"</mn>",Ct<0&&J3(at)&&(Ct=at.index,at.index+=1),zl(St,at,ft)||(at.mathML+=St,at.lastType="mn"),!0)}function nw(at,lt,ft){let xt=!1;lt=lt??at.atoms.length;let St="",Ct="";if(at.index<lt&&at.atoms[at.index].type==="mopen"){let Tt=!1,Pt=0,zt=at.index,Kt=-1,Ht=zt+1;for(;Ht<lt&&!Tt;)at.atoms[Ht].type==="mopen"?Pt+=1:at.atoms[Ht].type==="mclose"&&(Pt-=1),Pt===-1&&(Tt=!0,Kt=Ht),Ht+=1;Tt&&(St="<mrow>",St+=Il(at.atoms[zt],ft),St+=kn(at.atoms,ft,zt+1,Kt),St+=Il(at.atoms[Kt],ft),St+="</mrow>",at.index=Kt+1,(at.lastType==="mi"||at.lastType==="mn"||at.lastType==="mfrac"||at.lastType==="fence")&&(at.mathML+=wm),zl(St,at,ft)&&(xt=!0,at.lastType="",St=""),Ct="fence")}return St.length>0&&(xt=!0,at.mathML+=St,at.lastType=Ct),xt}function aw(at,lt,ft){let xt=!1;lt=lt??at.atoms.length;let St="",Ct="",Tt=at.atoms[at.index];if(!Tt)return!1;let Pt={"\\ne":"&ne;","\\neq":"&neq;","\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"∥","\\mid":"∣","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉"};if(Pt[Tt.command]){at.index+=1;let zt=`<mo${qn(Tt.id,ft)}>${Pt[Tt.command]}</mo>`;return zl(zt,at,ft)||(at.mathML+=zt,at.lastType="mo"),!0}if(at.index<lt&&(Tt.type==="mbin"||Tt.type==="mrel"))St+=F0(at.atoms[at.index],ft),at.index+=1,Ct="mo";else if(at.index<lt&&Tt.type==="mop"){if(Tt.subsupPlacement==="over-under"&&(Tt.superscript||Tt.subscript)){let zt=Il(Tt,ft);Tt.superscript&&Tt.subscript?(St+="<munderover>"+zt,St+=kn(Tt.subscript,ft),St+=kn(Tt.superscript,ft),St+="</munderover>"):Tt.superscript?(St+="<mover>"+zt,St+=kn(Tt.superscript,ft),St+="</mover>"):Tt.subscript&&(St+="<munder>"+zt,St+=kn(Tt.subscript,ft),St+="</munder>"),Ct="mo"}else{let zt=at.atoms[at.index],Kt=zt.value==="\\operatorname",Ht=Kt?'<mi class="MathML-Unit"'+qn(zt.id,ft)+">"+lu(zt.value)+"</mi>":Il(zt,ft);St+=Ht,!Kt&&!/^<mo>(.*)<\/mo>$/.test(Ht)?(St+=Sx,Ct="applyfunction"):Ct=Kt?"mi":"mo"}(at.lastType==="mi"||at.lastType==="mn")&&!/^<mo>(.*)<\/mo>$/.test(St)&&(St=wm+St),at.index+=1}return St.length>0&&(xt=!0,zl(St,at,ft)||(at.mathML+=St,at.lastType=Ct)),xt}function kn(at,lt,ft,xt){lt!=null||(lt={});let St={atoms:[],index:ft??0,mathML:"",lastType:""};if(typeof at=="number"||typeof at=="boolean")St.mathML=at.toString();else if(typeof at=="string")St.mathML=at;else if(at instanceof Ir)St.mathML=F0(at,lt);else if(Array.isArray(at)){St.atoms=at;let Ct=0;for(xt=xt||(at?at.length:0);St.index<xt;)if(tw(St,xt,lt)||rw(St,xt,lt)||Q3(St,xt,lt)||aw(St,xt,lt)||nw(St,xt,lt))Ct+=1;else if(St.index<xt){let Tt=F0(St.atoms[St.index],lt);St.lastType==="mn"&&Tt.length>0&&St.atoms[St.index].type==="genfrac"&&(Tt="<mo>&#x2064;</mo>"+Tt),St.atoms[St.index].type==="genfrac"?St.lastType="mfrac":St.lastType="",St.index+=1,zl(Tt,St,lt)?Ct+=1:Tt.length>0&&(St.mathML+=Tt,Ct+=1)}Ct>1&&(St.mathML="<mrow>"+St.mathML+"</mrow>")}return St.mathML}function Il(at,lt){let ft="",xt=lu(at.value);return xt&&(ft="<mo"+qn(at.id,lt)+">"+xt+"</mo>"),ft}function lu(at){if(!at)return"";if(typeof at=="string")return Sm(at);if(!Array.isArray(at)&&typeof at.body=="string")return Sm(at.body);let lt="";for(let ft of at)typeof ft.value=="string"&&(lt+=ft.value);return Sm(lt)}function F0(at,lt){var ft,xt,St,Ct,Tt,Pt,zt,Kt,Ht,Jt,fr,hr,mr,Rr,Yr,Pr,Ur,un,Zr,dn,an,Mn;if(at.mode==="text")return`<mi${qn(at.id,lt)}>${at.value}</mi>`;let Pn={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",longleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",longrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",longrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xleftrightarrows:"⇄",xRightleftharpoons:"⇌",longRightleftharpoons:"⇌",xLeftrightharpoons:"⇋",longLeftrightharpoons:"⇋"},_a={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5},Jr="",jo="",hs,ba,Xs,qo,Po,Ln,{command:Yn}=at;if(at.command==="\\error")return`<merror${qn(at.id,lt)}>${kn(at.body,lt)}</merror>`;let io={"\\vert":"|","\\Vert":"∥","\\mid":"∣","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉"},vs={"\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};switch(at.type){case"first":break;case"group":case"root":Jr=kn(at.body,lt);break;case"array":if((at.leftDelim&&at.leftDelim!=="."||at.rightDelim&&at.rightDelim!==".")&&(Jr+="<mrow>",at.leftDelim&&at.leftDelim!=="."&&(Jr+="<mo>"+(io[at.leftDelim]||at.leftDelim)+"</mo>")),Jr+="<mtable",at.colFormat){for(Jr+=' columnalign="',Xs=0;Xs<at.colFormat.length;Xs++)at.colFormat[Xs].align&&(Jr+={l:"left",c:"center",r:"right"}[at.colFormat[Xs].align]+" ");Jr+='"'}for(Jr+=">",ba=0;ba<at.array.length;ba++){for(Jr+="<mtr>",hs=0;hs<at.array[ba].length;hs++)Jr+="<mtd>"+kn(at.array[ba][hs],lt)+"</mtd>";Jr+="</mtr>"}Jr+="</mtable>",(at.leftDelim&&at.leftDelim!=="."||at.rightDelim&&at.rightDelim!==".")&&(at.rightDelim&&at.rightDelim!=="."&&(Jr+="<mo>"+(io[at.leftDelim]||at.rightDelim)+"</mo>"),Jr+="</mrow>");break;case"genfrac":(at.leftDelim||at.rightDelim)&&(Jr+="<mrow>"),at.leftDelim&&at.leftDelim!=="."&&(Jr+="<mo"+qn(at.id,lt)+">"+(io[at.leftDelim]||at.leftDelim)+"</mo>"),at.hasBarLine?(Jr+="<mfrac>",Jr+=kn(at.above,lt)||"<mi>&nbsp;</mi>",Jr+=kn(at.below,lt)||"<mi>&nbsp;</mi>",Jr+="</mfrac>"):(Jr+="<mtable"+qn(at.id,lt)+">",Jr+="<mtr>"+kn(at.above,lt)+"</mtr>",Jr+="<mtr>"+kn(at.below,lt)+"</mtr>",Jr+="</mtable>"),at.rightDelim&&at.rightDelim!=="."&&(Jr+="<mo"+qn(at.id,lt)+">"+(io[at.rightDelim]||at.rightDelim)+"</mo>"),(at.leftDelim||at.rightDelim)&&(Jr+="</mrow>");break;case"surd":at.hasEmptyBranch("above")?(Jr+="<msqrt"+qn(at.id,lt)+">",Jr+=kn(at.body,lt),Jr+="</msqrt>"):(Jr+="<mroot"+qn(at.id,lt)+">",Jr+=kn(at.body,lt),Jr+=kn(at.above,lt),Jr+="</mroot>");break;case"leftright":Jr="<mrow>",at.leftDelim&&at.leftDelim!=="."&&(Jr+=`<mo${qn(at.id,lt)}>${(ft=io[at.leftDelim])!=null?ft:at.leftDelim}</mo>`),at.body&&(Jr+=kn(at.body,lt)),at.rightDelim&&at.rightDelim!=="."&&(Jr+=`<mo${qn(at.id,lt)}>${(xt=io[at.rightDelim])!=null?xt:at.rightDelim}</mo>`),Jr+="</mrow>";break;case"sizeddelim":case"delim":Jr+=`<mo${qn(at.id,lt)}>${io[at.delim]||at.delim}</mo>`;break;case"accent":Jr+='<mover accent="true"'+qn(at.id,lt)+">",Jr+=kn(at.body,lt),Jr+="<mo>"+(vs[Yn]||at.accent)+"</mo>",Jr+="</mover>";break;case"line":case"overlap":break;case"overunder":Po=at.above,qo=at.below,(at.svgAbove||Po)&&(at.svgBelow||qo)?Ln=at.body:Po&&Po.length>0?(Ln=at.body,(Ct=(St=at.body)==null?void 0:St[0])!=null&&Ct.below?(qo=at.body[0].below,Ln=at.body[0].body):((Pt=(Tt=at.body)==null?void 0:Tt[0])==null?void 0:Pt.type)==="first"&&(Kt=(zt=at.body)==null?void 0:zt[1])!=null&&Kt.below&&(qo=at.body[1].below,Ln=at.body[1].body)):qo&&qo.length>0&&(Ln=at.body,(Jt=(Ht=at.body)==null?void 0:Ht[0])!=null&&Jt.above?(Po=at.body[0].above,Ln=at.body[0].body):((hr=(fr=at.body)==null?void 0:fr[0])==null?void 0:hr.type)==="first"&&(Rr=(mr=at.body)==null?void 0:mr[1])!=null&&Rr.above&&(Po=at.body[1].overscript,Ln=at.body[1].body)),(at.svgAbove||Po)&&(at.svgBelow||qo)?(Jr+=`<munderover ${qn(at.id,lt)}>`,Jr+=(Yr=Pn[at.svgBody])!=null?Yr:kn(Ln,lt),Jr+=(Pr=Pn[at.svgBelow])!=null?Pr:kn(qo,lt),Jr+=(Ur=Pn[at.svgAbove])!=null?Ur:kn(Po,lt),Jr+="</munderover>"):at.svgAbove||Po?(Jr+=`<mover ${qn(at.id,lt)}>`+((un=Pn[at.svgBody])!=null?un:kn(Ln,lt)),Jr+=(Zr=Pn[at.svgAbove])!=null?Zr:kn(Po,lt),Jr+="</mover>"):(at.svgBelow||qo)&&(Jr+=`<munder ${qn(at.id,lt)}>`+((dn=Pn[at.svgBody])!=null?dn:kn(Ln,lt)),Jr+=(an=Pn[at.svgBelow])!=null?an:kn(qo,lt),Jr+="</munder>");break;case"placeholder":Jr+="?";break;case"mord":{Jr=typeof at.value=="string"?at.value:Yn;let yo=Yn?Yn.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null;yo?Jr="&#x"+yo[1]+";":Jr.length>0&&Jr.startsWith("\\")&&(typeof at.value=="string"&&at.value.charCodeAt(0)>255?Jr="&#x"+("000000"+at.value.charCodeAt(0).toString(16)).slice(-4)+";":typeof at.value=="string"?Jr=at.value.charAt(0):(console.error("Did not expect this"),Jr=""));let Zs=/\d/.test(Jr)?"mn":"mi";Jr=`<${Zs}${qn(at.id,lt)}>${Sm(Jr)}</${Zs}>`;break}case"mbin":case"mrel":case"minner":Jr=Il(at,lt);break;case"mpunct":Jr='<mo separator="true"'+qn(at.id,lt)+">"+Yn+"</mo>";break;case"mop":at.body!=="​"&&(Jr="<mo"+qn(at.id,lt)+">",Jr+=Yn==="\\operatorname"?at.body:Yn||at.body,Jr+="</mo>");break;case"box":Jr='<menclose notation="box"',at.backgroundcolor&&(Jr+=' mathbackground="'+at.backgroundcolor+'"'),Jr+=qn(at.id,lt)+">"+kn(at.body,lt)+"</menclose>";break;case"spacing":Jr+='<mspace width="'+((Mn=_a[Yn])!=null?Mn:0)+'em"/>';break;case"enclose":Jr='<menclose notation="';for(let yo in at.notation)Object.prototype.hasOwnProperty.call(at.notation,yo)&&at.notation[yo]&&(Jr+=jo+yo,jo=" ");Jr+=qn(at.id,lt)+'">'+kn(at.body,lt)+"</menclose>";break;case"prompt":Jr='<menclose notation="roundexbox""">'+kn(at.body,lt)+"</menclose>";break;case"space":Jr+="&nbsp;";break;case"subsup":break;case"phantom":break;case"composition":break;case"rule":break;case"chem":break;case"mopen":Jr+=Il(at,lt);break;case"mclose":Jr+=Il(at,lt);break;case"macro":{let yo=at.command+lu(at.macroArgs);yo&&(Jr+=`<mo ${qn(at.id,lt)}>${yo}</mo>`)}break;case"latexgroup":Jr+=kn(at.body,lt);break;case"latex":Jr+="<mtext"+qn(at.id,lt)+">"+at.value+"</mtext>";break;case"tooltip":Jr+=kn(at.body,lt);break;case"text":Jr+=`<mtext ${qn(at.id,lt)}x>${at.value}</mtext>`;break}return Jr}var Yu={"\\ne":"≠","\\neq":"≠","−":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e","\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" "},P0={"\\pm":"+-","\\times":"xx","\\colon":":","\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};function ga(at){var lt,ft,xt,St,Ct,Tt,Pt,zt,Kt,Ht,Jt,fr,hr;if(!at)return"";if(kt(at)){if(at.length===0||(at[0].type==="first"&&(at=at.slice(1)),at.length===0))return"";let Pr="";if(at[0].mode==="latex")for(let Ur of at)Pr+=ga(Ur);else if(at[0].mode==="text"){let Ur=0;for(Pr='"';((lt=at[Ur])==null?void 0:lt.mode)==="text";)Pr+=at[Ur].body?ga(at[Ur].body):at[Ur].value,Ur++;Pr+='"'+ga(at.slice(Ur))}else if(at[0].mode==="math"){let Ur=0;for(;at[Ur]&&at[Ur].mode==="math";)Pr+=ga(at[Ur]),Ur++;Pr+=ga(at.slice(Ur))}else console.warn("toASCIIMath: Unexpected mode");return Pr.trim()}if(at.mode==="text")return'"'+at.value+'"';let mr="",{command:Rr}=at,Yr;if(Rr==="\\placeholder")return`(${ga(at.body)})`;switch(at.type){case"first":return"";case"group":case"root":mr=(ft=Yu[Rr])!=null?ft:ga(at.body);break;case"genfrac":{let an=at;(an.leftDelim||an.rightDelim)&&(mr+=an.leftDelim==="."||!an.leftDelim?"{:":an.leftDelim),an.hasBarLine?(mr+="(",mr+=ga(an.above),mr+=")/(",mr+=ga(an.below),mr+=")"):(mr+="("+ga(an.above)+"),",mr+="("+ga(an.below)+")"),(an.leftDelim||an.rightDelim)&&(mr+=an.rightDelim==="."||!an.rightDelim?"{:":an.rightDelim)}break;case"surd":mr+=at.hasEmptyBranch("above")?"sqrt("+ga(at.body)+")":"root("+ga(at.above)+")("+ga(at.body)+")";break;case"latex":mr=at.value;break;case"leftright":{let an=at;mr+=an.leftDelim==="."||!an.leftDelim?"{:":an.leftDelim,mr+=ga(an.body),mr+=an.rightDelim==="."||!an.rightDelim?":}":an.rightDelim}break;case"sizeddelim":case"delim":break;case"overlap":break;case"overunder":break;case"mord":mr=(St=(xt=Yu[Rr])!=null?xt:Rr)!=null?St:typeof at.value=="string"?at.value:"",mr.startsWith("\\")&&(mr+=" "),Yr=Rr?Rr.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null,Yr?mr=String.fromCodePoint(Number.parseInt("0x"+Yr[1])):mr.length>0&&mr.startsWith("\\")&&(mr=typeof at.value=="string"?at.value.charAt(0):at.command);break;case"mbin":case"mrel":case"minner":mr=(Tt=(Ct=Yu[Rr])!=null?Ct:P0[Rr])!=null?Tt:at.value;break;case"mopen":case"mclose":mr+=at.value;break;case"mpunct":mr=(Pt=P0[Rr])!=null?Pt:Rr;break;case"mop":at.value!=="​"&&(mr="",mr+=Rr==="\\operatorname"?ga(at.body):(zt=at.value)!=null?zt:Rr,mr+=" ");break;case"array":let Pr=at.array,Ur=at.environmentName,un=(Kt={bmatrix:["[","]"],"bmatrix*":["[","]"]}[Ur])!=null?Kt:["(",")"],Zr=[];for(let an of Pr){let Mn=[];for(let Pn of an)Mn.push(un[0]+ga(Pn)+un[1]);Zr.push(Mn.join(","))}let dn=(Ht={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[Ur])!=null?Ht:["(",")"];mr=dn[0]+Zr.join(",")+dn[1];break;case"box":break;case"spacing":mr=(Jt=Yu[Rr])!=null?Jt:" ";break;case"enclose":mr="("+ga(at.body)+")";break;case"space":mr=" ";break;case"subsup":mr="";break;case"macro":mr=(hr=(fr=Yu[Rr])!=null?fr:P0[Rr])!=null?hr:ga(at.body);break}if(!at.hasEmptyBranch("subscript")){mr+="_";let Pr=ga(at.subscript);mr+=Pr.length>1?"("+Pr+")":Pr}if(!at.hasEmptyBranch("superscript")){mr+="^";let Pr=ga(at.superscript);mr+=Pr.length>1?"("+Pr+")":Pr}return mr}var uu={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"eye ","\\sum":"Summation ","\\prod":"Product ","+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\pm":"plus or minus","\\mp":"minus or plus","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","​":"","−":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'<break time="150ms"/>open paren<break time="150ms"/>',"\\rparen":'<break time="150ms"/>close paren<break time="150ms"/>',"\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"},L0={array:"array",matrix:"matrix",pmatrix:"parenthesis matrix",bmatrix:"square brackets matrix",Bmatrix:"braces matrix",vmatrix:"bars matrix",Vmatrix:"double bars matrix","matrix*":"matrix",smallmatrix:"small matrix"};function iw(at){let lt="";return at.startsWith("\\")&&(lt=" "+at.replace("\\","")+" "),lt}function Qu(at){let lt=0;if(kt(at))for(let ft of at)ft.type!=="first"&&(lt+=1);return lt===1}function ow(at){if(kt(at)){for(let lt of at)if(lt.type!=="first"&&lt.id)return lt.id.toString()}return""}function Ex(at){let lt="";if(kt(at))for(let ft of at)ft.type!=="first"&&typeof ft.value=="string"&&(lt+=ft.value);return lt}function sw(at){return at?at.map(lt=>lt.value).join(""):""}function Sn(at,lt){var ft,xt,St,Ct,Tt;function Pt(Ht){return window.MathfieldElement.textToSpeechMarkup?/[a-z]/.test(Ht)?` <say-as interpret-as="character">${Ht}</say-as>`:/[A-Z]/.test(Ht)?`capital <say-as interpret-as="character">${Ht.toLowerCase()}</say-as>`:Ht:/[a-z]/.test(Ht)?" '"+Ht.toUpperCase()+"'":/[A-Z]/.test(Ht)?" 'capital "+Ht.toUpperCase()+"'":Ht}function zt(Ht){return"<emphasis>"+Ht+"</emphasis>"}if(!lt)return"";let Kt="";if(kt(lt)){let Ht=!1,Jt=!1;for(let fr=0;fr<lt.length;fr++)lt[fr].type!=="first"&&(lt[fr].mode!=="text"&&(Jt=!1),fr<lt.length-2&&lt[fr].type==="mopen"&&lt[fr+2].type==="mclose"&&lt[fr+1].type==="mord"?(Kt+=" of ",Kt+=zt(Sn(at,lt[fr+1])),fr+=2):lt[fr].mode==="text"?Jt?Kt+=(ft=lt[fr].value)!=null?ft:" ":(Jt=!0,Kt+=Sn("text",lt[fr])):lt[fr].isDigit()?Ht?Kt+=lt[fr].asDigit():(Ht=!0,Kt+=Sn(at,lt[fr])):(Ht=!1,Kt+=Sn(at,lt[fr])))}else if(lt.mode==="text")lt.id&&at==="math"&&(Kt+='<mark name="'+lt.id.toString()+'"/>'),Kt+=lt.value;else{lt.id&&at==="math"&&(Kt+='<mark name="'+lt.id.toString()+'"/>');let Ht="",Jt="",fr="",hr=!1,{command:mr}=lt;switch(mr){case"\\vec":return"vector "+Sn(at,lt.body);case"\\acute":return Sn(at,lt.body)+" acute";case"\\grave":return Sn(at,lt.body)+" grave";case"\\dot":return"dot over"+Sn(at,lt.body);case"\\ddot":return"double dot over"+Sn(at,lt.body);case"\\mathring":return"ring over"+Sn(at,lt.body);case"\\tilde":case"\\widetilde":return"tilde over"+Sn(at,lt.body);case"\\bar":return Sn(at,lt.body)+" bar";case"\\breve":return Sn(at,lt.body)+" breve";case"\\check":case"\\widecheck":return"check over "+Sn(at,lt.body);case"\\hat":case"\\widehat":return"hat over"+Sn(at,lt.body);case"\\overarc":case"\\overparen":case"\\wideparen":return"arc over "+Sn(at,lt.body);case"\\underarc":case"\\underparen":return"arc under "+Sn(at,lt.body)}switch(lt.type){case"prompt":let Rr=lt.body.length>1?'start input . <break time="500ms"/> '+Sn(at,lt.body)+'. <break time="500ms"/> end input':"blank";Kt+=' <break time="300ms"/> '+Rr+'. <break time="700ms"/>'+((xt=lt.correctness)!=null?xt:"")+' . <break time="700ms"/> ';break;case"array":let Yr=lt.array,Pr=lt.environmentName;if(Object.keys(L0).includes(Pr)){Kt+=` begin ${L0[Pr]} `;for(let Zr=0;Zr<Yr.length;Zr++){Zr>0&&(Kt+=","),Kt+=` row ${Zr+1} `;for(let dn=0;dn<Yr[Zr].length;dn++)dn>0&&(Kt+=","),Kt+=` column ${dn+1}: `,Kt+=Sn("math",Yr[Zr][dn])}Kt+=` end ${L0[Pr]} `}break;case"group":mr==="\\ne"?Kt+=" not equal ":(mr==="\\not"&&(Kt+=" not "),Kt+=Sn("math",lt.body));break;case"root":Kt+=Sn("math",lt.body);break;case"genfrac":if(Ht=Sn("math",lt.above),Jt=Sn("math",lt.below),Qu(lt.above)&&Qu(lt.below)){let Zr={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[Ex(lt.above)+"/"+Ex(lt.below)];Zr?Kt=Zr:Kt+=Ht+" over "+Jt}else Kt+=' the fraction <break time="150ms"/>'+Ht+' over <break time="150ms"/>'+Jt+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(fr=Sn("math",lt.body),lt.hasEmptyBranch("above"))Kt+=Qu(lt.body)?" the square root of "+fr+" , ":' the square root of <break time="200ms"/>'+fr+'. <break time="200ms"/> End square root';else{let Zr=Sn("math",lt.above);Zr=Zr.trim();let dn=Zr.replace(/<mark([^/]*)\/>/g,"");dn==="3"?Kt+=' the cube root of <break time="200ms"/>'+fr+'. <break time="200ms"/> End cube root':dn==="n"?Kt+=' the nth root of <break time="200ms"/>'+fr+'. <break time="200ms"/> End root':Kt+=' the root with index: <break time="200ms"/>'+Zr+', of <break time="200ms"/>'+fr+'. <break time="200ms"/> End root'}break;case"leftright":{let Zr=lt;Kt+=(St=Zr.leftDelim?uu[Zr.leftDelim]:void 0)!=null?St:Zr.leftDelim,Kt+=Sn("math",lt.body),Kt+=(Ct=Zr.rightDelim?uu[Zr.rightDelim]:void 0)!=null?Ct:Zr.rightDelim}break;case"rule":break;case"overunder":break;case"overlap":break;case"macro":let Ur=mr.replace(/^\\/g,""),un=Gt()[Ur];un&&(un!=null&&un.expand?Kt+=Sn("math",lt.body):Kt+=`${Ur} `);break;case"placeholder":Kt+="placeholder ";break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":{if(mr==="\\mathbin"||mr==="\\mathrel"||mr==="\\mathopen"||mr==="\\mathclose"||mr==="\\mathpunct"||mr==="\\mathord"||mr==="\\mathinner"){Kt=Sn(at,lt.body);break}let Zr=lt.isDigit()?lt.asDigit():lt.value,dn=lt.command;if((lt.type==="delim"||lt.type==="sizeddelim")&&(dn=lt.value,Zr=dn),at==="text")Kt+=Zr;else{if(lt.type==="mbin"&&(Kt+='<break time="150ms"/>'),Zr){let an=uu[Zr]||(dn?uu[dn.trim()]:"");if(an)Kt+=" "+an;else{let Mn=dn?iw(dn.trim()):"";Kt+=Mn||Pt(Zr)}}else Kt+=Sn("math",lt.body);lt.type==="mbin"&&(Kt+='<break time="150ms"/>')}break}case"mop":if(lt.value!=="​"){let Zr=lt.command;if(Zr==="\\sum")if(!lt.hasEmptyBranch("superscript")&&!lt.hasEmptyBranch("subscript")){let dn=Sn("math",lt.superscript);dn=dn.trim();let an=Sn("math",lt.subscript);an=an.trim(),Kt+=' the summation from <break time="200ms"/>'+an+'<break time="200ms"/> to  <break time="200ms"/>'+dn+'<break time="200ms"/> of <break time="150ms"/>',hr=!0}else if(lt.hasEmptyBranch("subscript"))Kt+=" the summation of";else{let dn=Sn("math",lt.subscript);dn=dn.trim(),Kt+=' the summation from <break time="200ms"/>'+dn+'<break time="200ms"/> of <break time="150ms"/>',hr=!0}else if(Zr==="\\prod")if(!lt.hasEmptyBranch("superscript")&&!lt.hasEmptyBranch("subscript")){let dn=Sn("math",lt.superscript);dn=dn.trim();let an=Sn("math",lt.subscript);an=an.trim(),Kt+=' the product from <break time="200ms"/>'+an+'<break time="200ms"/> to <break time="200ms"/>'+dn+'<break time="200ms"/> of <break time="150ms"/>',hr=!0}else if(lt.hasEmptyBranch("subscript"))Kt+=" the product  of ";else{let dn=Sn("math",lt.subscript);dn=dn.trim(),Kt+=' the product from <break time="200ms"/>'+dn+'<break time="200ms"/> of <break time="150ms"/>',hr=!0}else if(Zr==="\\int")if(!lt.hasEmptyBranch("superscript")&&!lt.hasEmptyBranch("subscript")){let dn=Sn("math",lt.superscript);dn=dn.trim();let an=Sn("math",lt.subscript);an=an.trim(),Kt+=' the integral from <break time="200ms"/>'+zt(an)+'<break time="200ms"/> to <break time="200ms"/>'+zt(dn)+' <break time="200ms"/> of ',hr=!0}else Kt+=' the integral of <break time="200ms"/> ';else if(typeof lt.value=="string"){let dn=(Tt=uu[lt.value])!=null?Tt:lt.command?uu[lt.command]:void 0;Kt+=dn||" "+lt.value}else lt.command&&(lt.command==="\\mathop"?Kt+=Sn("math",lt.body):lt.command==="\\operatorname"?Kt+=sw(lt.body):Kt+=lt.command.startsWith("\\")?" "+lt.command.slice(1):" "+lt.command)}break;case"enclose":fr=Sn("math",lt.body),Kt+=" crossed out "+fr+". End crossed out.";break}if(!hr&&!lt.hasEmptyBranch("superscript")){let Rr=Sn(at,lt.superscript);Rr=Rr.trim();let Yr=Rr.replace(/<[^>]*>/g,"");if(Qu(lt.superscript)){if(at==="math"){let Pr=ow(lt.superscript);Pr&&(Kt+='<mark name="'+Pr+'"/>')}Yr==="′"?Kt+=" prime ":Yr==="2"?Kt+=" squared ":Yr==="3"?Kt+=" cubed ":Number.isNaN(Number.parseInt(Yr))?Kt+=" to the "+Rr+"; ":Kt+=' to the <say-as interpret-as="ordinal">'+Yr+"</say-as> power; "}else Number.isNaN(Number.parseInt(Yr))?Kt+=" raised to the "+Rr+"; ":Kt+=' raised to the <say-as interpret-as="ordinal">'+Yr+"</say-as> power; "}if(!hr&&!lt.hasEmptyBranch("subscript")){let Rr=Sn("math",lt.subscript);Rr=Rr.trim(),Kt+=Qu(lt.subscript)?" sub "+Rr:" subscript "+Rr+". End subscript. "}}return Kt}function cu(at){var lt,ft;if(window.MathfieldElement.textToSpeechRules==="sre"&&("sre"in window||"SRE"in window)){let St=kn(at);if(St){window.MathfieldElement.textToSpeechMarkup&&(window.MathfieldElement.textToSpeechRulesOptions=(lt=window.MathfieldElement.textToSpeechRulesOptions)!=null?lt:{},window.MathfieldElement.textToSpeechRulesOptions.markup=window.MathfieldElement.textToSpeechMarkup,window.MathfieldElement.textToSpeechRulesOptions.markup==="ssml"&&(window.MathfieldElement.textToSpeechRulesOptions.markup="ssml_step"),window.MathfieldElement.textToSpeechRulesOptions.rate=window.MathfieldElement.speechEngineRate);let Ct=(ft=window.SRE)!=null?ft:window.sre.System.getInstance();window.MathfieldElement.textToSpeechRulesOptions&&Ct.setupEngine(window.MathfieldElement.textToSpeechRulesOptions);let Tt="";try{Tt=Ct.toSpeech(St)}catch(Pt){console.error("MathLive 0.95.1: `SRE.toSpeech()` runtime error",Pt)}return Tt}return""}let xt=Sn("math",at);if(window.MathfieldElement.textToSpeechMarkup==="ssml"){let St="";window.MathfieldElement.speechEngineRate&&(St='<prosody rate="'+window.MathfieldElement.speechEngineRate+'">'),xt='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+St+"<p><s>"+xt+"</s></p>"+(St?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else window.MathfieldElement.textToSpeechMarkup==="mac"&&Ot()==="macos"?xt=xt.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):xt=xt.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return xt}function du(at,lt){return at+cu(lt)}Fo({speak:(at,lt,ft)=>lw(at,lt,ft)},{target:"mathfield"});function lw(at,lt,ft){var xt,St;ft=ft??{withHighlighting:!1};let{model:Ct}=at;function Tt(Ht){let Jt=null;switch(Ht){case"all":Jt=Ct.root;break;case"selection":Jt=Ct.getAtoms(Ct.selection);break;case"left":{Jt=Ct.getAtoms(Ct.offsetOf(Ct.at(Ct.position).leftSibling),Ct.position);break}case"right":{Jt=Ct.getAtoms(Ct.position,Ct.offsetOf(Ct.at(Ct.position).rightSibling));break}case"group":Jt=Ct.getAtoms(Ct.getSiblingsRange(Ct.position));break;case"parent":{let{parent:fr}=Ct.at(Ct.position);fr!=null&&fr.parent?Jt=fr:Jt=Ct.root;break}default:Jt=Ct.root}return Jt}function Pt(Ht){let Jt="";switch(Ht){case"all":break;case"selection":Jt="no selection";break;case"left":Jt="at start";break;case"right":Jt="at end";break;case"group":break;case"parent":Jt="no parent";break;default:""+Ht;break}return Jt}let zt=Tt(lt);if(zt===null)return(St=(xt=window.MathfieldElement).speakHook)==null||St.call(xt,Pt(lt)),!1;(ft.withHighlighting||window.MathfieldElement.speechEngine==="amazon")&&(window.MathfieldElement.textToSpeechMarkup=window.sre&&window.MathfieldElement.textToSpeechRules==="sre"?"ssml_step":"ssml");let Kt=cu(zt);return Bt()&&ft.withHighlighting?($s().readAloudMathField=at,Fl(at,{forHighlighting:!0}),window.MathfieldElement.readAloudHook&&window.MathfieldElement.readAloudHook(at.field,Kt)):window.MathfieldElement.speakHook&&window.MathfieldElement.speakHook(Kt),!1}function uw(at){var lt,ft;if(Bt())if(!window.MathfieldElement.speechEngine||window.MathfieldElement.speechEngine==="local"){let xt=new SpeechSynthesisUtterance(at);window.speechSynthesis.speak(xt)}else if(window.MathfieldElement.speechEngine==="amazon")if(!("AWS"in window))console.error("MathLive 0.95.1: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");else{let xt=new window.AWS.Polly({apiVersion:"2016-06-10"}),St={OutputFormat:"mp3",VoiceId:(lt=window.MathfieldElement.speechEngineVoice)!=null?lt:"Joanna",Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes((ft=window.MathfieldElement.speechEngineVoice)!=null?ft:"Joanna")?"neural":"standard",Text:at,TextType:"ssml"};xt.synthesizeSpeech(St,(Ct,Tt)=>{if(Ct)console.trace(`MathLive 0.95.1: \`polly.synthesizeSpeech()\` error: ${Ct}`);else if(Tt!=null&&Tt.AudioStream){let Pt=new Uint8Array(Tt.AudioStream),zt=new Blob([Pt.buffer],{type:"audio/mpeg"}),Kt=URL.createObjectURL(zt);new Audio(Kt).play().catch(Ht=>console.log(Ht))}})}else window.MathfieldElement.speechEngine==="google"&&console.error("MathLive 0.95.1: The Google speech engine is not supported yet. Please come again.")}function Dx(at){var lt;let ft;if(at.parent.type==="prompt")at.parentBranch==="body"&&(ft="prompt");else if(at.parentBranch==="body")ft=at.type&&(lt={enclose:"cross out",leftright:"delimiter",surd:"square root",root:"math field",mop:"operator",first:"first"}[at.type])!=null?lt:"parent";else if(at.parent.type==="genfrac"){if(at.parentBranch==="above")return"numerator";if(at.parentBranch==="below")return"denominator"}else at.parent.type==="surd"?at.parentBranch==="above"&&(ft="index"):at.parentBranch==="superscript"?ft="superscript":at.parentBranch==="subscript"&&(ft="subscript");return ft??"parent"}function cw(at,lt,ft,xt){let St="";if(lt==="plonk")window.MathfieldElement.playSound("plonk"),at.flushInlineShortcutBuffer();else if(lt==="delete")St=du("deleted: ",xt);else if(lt==="focus"||lt.includes("move"))St=dw(at.model,ft)+(at.model.selectionIsCollapsed?"":"selected: ")+fw(at.model);else if(lt==="replacement")St=du("",at.model.at(at.model.position));else if(lt==="line"){let Ct=du("",at.model.root);at.keyboardDelegate.setAriaLabel(Ct)}else St=xt?du(lt+" ",xt):lt;if(St){let Ct=at.ariaLiveText.textContent.includes(" ")?"   ":"   ";at.ariaLiveText.textContent=St+Ct}}function dw(at,lt){if(Number.isNaN(lt))return"";let ft=at.at(lt);if(!ft||ft.treeDepth<=at.at(at.position).treeDepth)return"";let xt="",St=ft.parent,Ct=at.at(at.position).parent;for(;St!==at.root&&St!==Ct;)xt+=`out of ${Dx(St)};`,St=St.parent;return xt}function fw(at){if(!at.selectionIsCollapsed)return du("",at.getAtoms(at.selection));let lt="",ft=at.at(at.position),xt=Dx(ft);return ft.isFirstSibling&&(lt=(xt?"start of "+xt:"unknown")+": "),ft.isLastSibling?ft.isFirstSibling||(lt+=xt?"end of "+xt:"unknown"):lt+=du("",ft),lt}var pw=class{constructor(at,lt,ft,xt){this.mathfield=at,this.mode=lt,this.silenceNotifications=!1,this.listeners=xt,this._selection={ranges:[[0,0]],direction:"none"},this._anchor=0,this._position=0,this.root=ft}dispose(){this.mathfield=void 0,this.listeners.onSelectionDidChange=void 0,this.listeners.onContentWillChange=void 0}getState(){let at={ranges:[...this._selection.ranges]};return this.selection.direction&&this.selection.direction!=="none"&&(at.direction=this.selection.direction),{content:this.root.toJson(),selection:at,mode:this.mode}}setState(at,lt){var ft;let xt=this.silenceNotifications;this.silenceNotifications=(ft=lt==null?void 0:lt.silenceNotifications)!=null?ft:!0;let St={};if((lt==null?void 0:lt.type)==="undo"&&(St={inputType:"historyUndo"}),(lt==null?void 0:lt.type)==="redo"&&(St={inputType:"historyRedo"}),Hn(this,St)){let Ct=this.silenceNotifications;this.silenceNotifications=!0,this.mode=at.mode,this.root=Ks(at.content),this.selection=at.selection,this.silenceNotifications=Ct,An(this,St)}this.silenceNotifications=xt}get atoms(){return this.root.children}get selection(){return this._selection}set selection(at){this.setSelection(at)}setSelection(at,lt){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0},()=>{var ft,xt,St;let Ct=this.normalizeSelection(at,lt);if(Ct===void 0)throw new TypeError("Invalid selection");if(Ct.ranges.length===1&&Ct.ranges[0][0]===Ct.ranges[0][1]){let Ht=Ct.ranges[0][0];return!this.mathfield.dirty&&!((ft=this.at(Ht))!=null&&ft.parentPrompt)&&this.mathfield.hasEditablePrompts?(xt=this.at(Ht-1))!=null&&xt.parentPrompt?(this._anchor=this.normalizeOffset(Ht-1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor),!0):(St=this.at(Ht+1))!=null&&St.parentPrompt?(this._anchor=this.normalizeOffset(Ht+1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor),!0):(this._anchor=0,this._position=0,this._selection={ranges:[[0,0]]},!1):(this._anchor=Ht,this._position=Ht,this._selection=Ct,!1)}let Tt=co(Ct);Ct.direction==="backward"?[this._position,this._anchor]=Tt:[this._anchor,this._position]=Tt;let Pt=this.at(Tt[0]+1),zt=this.at(Tt[1]),Kt=Ir.commonAncestor(Pt,zt);return(Kt==null?void 0:Kt.type)==="array"&&Pt.parent===Kt&&zt.parent===Kt?this._selection={ranges:[Tt],direction:Ct.direction}:this._selection={ranges:[Tt],direction:Ct.direction},this._position>=0&&this._position<=this.lastOffset,!1})}setPositionHandlingPlaceholder(at){var lt;let ft=this.at(at);(ft==null?void 0:ft.type)==="placeholder"?this.setSelection(at-1,at):((lt=ft==null?void 0:ft.rightSibling)==null?void 0:lt.type)==="placeholder"?this.setSelection(at,at+1):this.position=at,ft instanceof so&&ft.isSuggestion&&(ft.isSuggestion=!1),this.mathfield.stopCoalescingUndo()}get position(){return this._position}set position(at){this.setSelection(at,at)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return Math.abs(this._anchor-this._position)===1?this.at(Math.max(this._anchor,this._position)).type==="placeholder":!1}collapseSelection(at="forward"){return this._anchor===this._position?!1:(at==="backward"?this.position=Math.min(this._anchor,this._position):this.position=Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(at){return this.atoms[at]}offsetOf(at){return this.atoms.indexOf(at)}getSiblingsRange(at){let lt=this.at(at),{parent:ft}=lt;if(!ft)return[0,this.lastOffset];let xt=lt.parent.branch(lt.parentBranch);return[this.offsetOf(xt[0]),this.offsetOf(xt[xt.length-1])]}getBranchRange(at,lt){let ft=this.at(at).branch(lt);return[this.offsetOf(ft[0]),this.offsetOf(ft[ft.length-1])]}getAtoms(at,lt,ft){let xt=ft??{};if(xm(at)){if(xt=lt??{},at.ranges.length>1)return at.ranges.reduce((Kt,Ht)=>[...Kt,...this.getAtoms(Ht,xt)],[]);at=at.ranges[0]}let St,Ct;if(Hs(at)){if(St=at,!Hs(lt))return[];Ct=lt}else[St,Ct]=at,xt=lt??{};if(!Number.isFinite(St))return[];xt.includeChildren===void 0&&(xt.includeChildren=!1),St<0&&(St=this.lastOffset-St+1),Ct<0&&(Ct=this.lastOffset-Ct+1);let Tt=Math.min(St,Ct)+1,Pt=Math.max(St,Ct);if(!xt.includeChildren&&Tt===1&&Pt===this.lastOffset)return[this.root];let zt=[];for(let Kt=Tt;Kt<=Pt;Kt++){let Ht=this.atoms[Kt];_x(this,Ht,Tt,Pt)&&zt.push(Ht)}return xt.includeChildren||(zt=zt.filter(Kt=>{let Ht=!1,{parent:Jt}=Kt;for(;Jt&&!Ht;)Ht=_x(this,Jt,Tt,Pt),Jt=Jt.parent;return!Ht})),zt}getAllAtoms(at=0){let lt=[],ft=this.lastOffset;for(let xt=at;xt<=ft;xt++)lt.push(this.atoms[xt]);for(let xt=0;xt<at;xt++)lt.push(this.atoms[xt]);return lt}findAtom(at,lt=0,ft="forward"){let xt,St=this.lastOffset;if(ft==="forward"){for(let Ct=lt;Ct<=St;Ct++)if(xt=this.atoms[Ct],at(xt))return xt;for(let Ct=0;Ct<lt;Ct++)if(xt=this.atoms[Ct],at(xt))return xt;return}for(let Ct=lt;Ct>=0;Ct--)if(xt=this.atoms[Ct],at(xt))return xt;for(let Ct=St;Ct>lt;Ct--)if(xt=this.atoms[Ct],at(xt))return xt}extractAtoms(at){let lt=this.getAtoms(at);if(lt.length===1&&!lt[0].parent)if(lt[0].type==="root")lt=[...lt[0].body],lt.shift();else return lt=this.root.cells.flat(),this.root=new Ir({type:"root",body:[]}),lt;for(let ft of lt)ft.parent.removeChild(ft);return lt}deleteAtoms(at){this.extractAtoms(at),this.position=at[0]}atomToString(at,lt){let ft=lt??"latex";if(ft.startsWith("latex"))return Ir.serialize([at],{expandMacro:ft==="latex-expanded",skipStyles:ft==="latex-unstyled",defaultMode:this.mathfield.options.defaultMode});if(ft==="math-ml")return kn(at);if(ft==="spoken")return cu(at);if(ft==="spoken-text"){let xt=window.MathfieldElement.textToSpeechMarkup;window.MathfieldElement.textToSpeechMarkup="";let St=cu(at);return window.MathfieldElement.textToSpeechMarkup=xt,St}if(ft==="spoken-ssml"||ft==="spoken-ssml-with-highlighting"){let xt=window.MathfieldElement.textToSpeechMarkup;window.MathfieldElement.textToSpeechMarkup="ssml";let St=cu(at);return window.MathfieldElement.textToSpeechMarkup=xt,St}return ft==="ascii-math"?ga(at):(console.error(`MathLive 0.95.1: Unexpected format "${ft}`),"")}getValue(at,lt,ft){if(at===void 0)return this.atomToString(this.root,"latex");if(typeof at=="string"&&at!=="math-json")return this.atomToString(this.root,at);let xt,St;if(Hs(at)&&Hs(lt)?(xt=[this.normalizeRange([at,lt])],St=ft??"latex"):bm(at)?(xt=[this.normalizeRange(at)],St=lt):xm(at)?(xt=at.ranges,St=lt):(xt=[this.normalizeRange([0,-1])],St=at??"latex"),St==="math-json"){if(!window.MathfieldElement.computeEngine)return window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`The CortexJS Compute Engine library is not available.
Load the library, for example with:
import "https://unpkg.com/@cortex-js/compute-engine?module"`),'["Error", "compute-engine-not-available"]';let Ct=this.getValue({ranges:xt},"latex-unstyled");try{let Tt=window.MathfieldElement.computeEngine.parse(Ct);return JSON.stringify(Tt.json)}catch(Tt){return JSON.stringify(["Error",`'${Tt.toString()}'`])}}if(St.startsWith("latex")){let Ct={expandMacro:St==="latex-expanded",skipStyles:St==="latex-unstyled",defaultMode:this.mathfield.options.defaultMode};return Cn(xt.map(Tt=>Ir.serialize(this.getAtoms(Tt),Ct)))}return xt.map(Ct=>this.getAtoms(Ct).map(Tt=>this.atomToString(Tt,St)).join("")).join("")}extendSelectionTo(at,lt){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0},()=>{let ft=this.normalizeRange([at,lt]),[xt,St]=ft,{parent:Ct}=this.at(St);if(Ct&&(Ct.type==="genfrac"||Ct.type==="subsup"))for(;Ct!==this.root&&R0(this,Ct,[xt,St]);)St=this.offsetOf(Ct),Ct=Ct.parent;for(Ct=this.at(xt).parent;Ct!==this.root&&R0(this,Ct,[xt,St]);)xt=this.offsetOf(Ct.leftSibling),Ct=Ct.parent;if(Ct=this.at(St).parent,(Ct==null?void 0:Ct.type)==="genfrac")for(;Ct!==this.root&&R0(this,Ct,[xt,St]);)St=this.offsetOf(Ct),Ct=Ct.parent;this._position=this.normalizeOffset(lt),this._selection={ranges:[[xt,St]],direction:"none"}})}announce(at,lt,ft=[]){var xt,St;((St=(xt=this.mathfield.host)==null?void 0:xt.dispatchEvent(new CustomEvent("announce",{detail:{command:at,previousPosition:lt,atoms:ft},cancelable:!0,bubbles:!0,composed:!0})))==null||St)&&cw(this.mathfield,at,lt,ft)}deferNotifications(at,lt){let ft=this._selection,xt=this._anchor,St=this._position,Ct=this.silenceNotifications;this.silenceNotifications=!0;let Tt=this.root.changeCounter;lt();let Pt=this.root.changeCounter!==Tt,zt=xt!==this._anchor||St!==this._position||l4(this._selection,ft)==="different";return this.silenceNotifications=Ct,at.content&&Pt&&An(this,{inputType:at.type}),at.selection&&zt&&sx(this),Pt||zt}normalizeOffset(at){return at>0?at=Math.min(at,this.lastOffset):at<0&&(at=this.lastOffset+at+1),at}normalizeRange(at){let[lt,ft]=at;return lt=this.normalizeOffset(lt),ft=this.normalizeOffset(ft),lt<ft?[lt,ft]:[ft,lt]}normalizeSelection(at,lt){var ft;let xt;if(Hs(at)){let St=this.normalizeOffset(at);if(Hs(lt)){let Ct=this.normalizeOffset(lt);xt=St<=Ct?{ranges:[[St,Ct]],direction:"none"}:{ranges:[[Ct,St]],direction:"backward"}}else xt={ranges:[[St,St]],direction:"none"}}else if(bm(at)){let St=this.normalizeOffset(at[0]),Ct=this.normalizeOffset(at[1]);xt=St<=Ct?{ranges:[[St,Ct]],direction:"none"}:{ranges:[[Ct,St]],direction:"backward"}}else xm(at)&&(xt={ranges:at.ranges.map(St=>this.normalizeRange(St)),direction:(ft=at.direction)!=null?ft:"none"});return xt}get parentEnvironment(){let at=this.at(this.position).parent;if(at){for(;at.parent&&at.type!=="array";)at=at.parent;if(at.type==="array")return at}}};function _x(at,lt,ft,xt){let St=at.offsetOf(lt);if(St<ft||St>xt)return!1;if(!lt.hasChildren)return!0;let Ct=at.offsetOf(lt.firstChild);if(Ct>=ft&&Ct<=xt){let Tt=at.offsetOf(lt.lastChild);if(Tt>=ft&&Tt<=xt)return!0}return!1}function R0(at,lt,ft){if(!(lt!=null&&lt.hasChildren))return!1;let[xt,St]=ft,Ct=at.offsetOf(lt.firstChild),Tt=at.offsetOf(lt.lastChild);return Ct>=xt&&Ct<=St&&Tt>=Ct&&Tt<=St}xn(["math","displaymath"],Yo),xn("center",Yo),hn("array","{columns:colspec}",(at,lt,ft,xt)=>new Tn(at,z0(lt),ft,{columns:xt[0],mathstyleName:"textstyle"})),hn(["equation","equation*","subequations"],"",(at,lt,ft)=>new Tn(at,z0(lt),ft,{columns:[{align:"c"}]})),hn(["multline","multline*"],"",Yo),hn(["align","align*","aligned","eqnarray"],"",Yo),hn("split","",Yo),hn(["gather","gathered"],"",Yo),hn(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",Yo),hn(["smallmatrix","smallmatrix*"],"[columns:colspec]",Yo),hn(["cases","dcases","rcases"],"",Yo);function mw(at){for(let lt of at)for(let ft of lt)if(ft.length>0)return!1;return!0}function z0(at,lt=1){return mw(at)?Array(lt).fill([[new Ir({type:"first"}),new Ds]]):at.map(ft=>ft.length===0?[[new Ir({type:"first"})]]:ft.map(xt=>xt.length===0?[new Ir({type:"first"})]:(xt[0].type!=="first"&&xt.unshift(new Ir({type:"first"})),xt)))}function Yo(at,lt=[[[]]],ft=[],xt=[]){switch(lt=z0(lt,["split","align","align*","aligned","eqnarray"].includes(at)?2:1),at){case"math":return new Tn(at,lt,ft,{mathstyleName:"textstyle"});case"displaymath":return new Tn(at,lt,ft,{mathstyleName:"textstyle"});case"center":return new Tn(at,lt,ft,{columns:[{align:"c"}]});case"multline":case"multline*":return new Tn(at,lt,ft,{columns:[{align:"m"}],leftDelim:".",rightDelim:"."});case"split":return new Tn(at,lt,ft,{columns:[{align:"r"},{align:"l"}],minColumns:2});case"gather":case"gathered":return new Tn(at,lt,ft,{columns:[{gap:.25},{align:"c"},{gap:0}]});case"pmatrix":case"pmatrix*":return new Tn(at,lt,ft,{mathstyleName:"textstyle",leftDelim:"(",rightDelim:")",columns:Ul(xt[0])});case"bmatrix":case"bmatrix*":return new Tn(at,lt,ft,{mathstyleName:"textstyle",leftDelim:"[",rightDelim:"]",columns:Ul(xt[0])});case"Bmatrix":case"Bmatrix*":return new Tn(at,lt,ft,{mathstyleName:"textstyle",leftDelim:"\\lbrace",rightDelim:"\\rbrace",columns:Ul(xt[0])});case"vmatrix":case"vmatrix*":return new Tn(at,lt,ft,{mathstyleName:"textstyle",leftDelim:"\\vert",rightDelim:"\\vert",columns:Ul(xt[0])});case"Vmatrix":case"Vmatrix*":return new Tn(at,lt,ft,{mathstyleName:"textstyle",leftDelim:"\\Vert",rightDelim:"\\Vert",columns:Ul(xt[0])});case"matrix":case"matrix*":return new Tn(at,lt,ft,{mathstyleName:"textstyle",leftDelim:".",rightDelim:".",columns:Ul(xt==null?void 0:xt[0])});case"smallmatrix":case"smallmatrix*":return new Tn(at,lt,ft,{mathstyleName:"scriptstyle",columns:Ul(xt==null?void 0:xt[0]),colSeparationType:"small",arraystretch:.5});case"cases":case"dcases":return new Tn(at,lt,ft,{mathstyleName:at==="dcases"?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]});case"rcases":return new Tn(at,lt,ft,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]});case"lines":return new Tn(at,lt,ft,{leftDelim:".",rightDelim:".",columns:[{align:"l"}]});case"align":case"align*":case"aligned":case"eqnarray":{let St=0;for(let Pt of lt)St=Math.max(St,Pt.length);let Ct=[{gap:0},{align:"r"},{gap:.25},{align:"l"}],Tt=2;for(;Tt<St;)Ct.push({gap:1},{align:"r"},{gap:.25},{align:"l"}),Tt+=2;return Ct.push({gap:0}),new Tn(at,lt,ft,{arraycolsep:0,columns:Ct,minColumns:2})}}return new Tn(at,lt,ft,{mathstyleName:"textstyle"})}function Ul(at){return at??[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}]}function hw(at,lt){let ft=at.at(at.position);for(;ft&&!(ft.parent instanceof Tn);)ft=ft.parent;if(ft&&ft.type==="array"&&ft.environmentName,!ft||!(ft.parent instanceof Tn)){let xt=at.at(at.position);if(ft=xt,!ft.parent.parent){let St=at.extractAtoms([at.position,at.lastOffset]),Ct=at.extractAtoms([0,at.position]);Ct.length===0&&(Ct=_m()),St.length===0&&(St=_m());let Tt;return lt.endsWith("column")?(Tt=Yo("split",[[Ct,St]]),at.root=Tt,Kl(Tt,0,0)?Vl(at,Tt,0,0):Kl(Tt,0,1)?Vl(at,Tt,0,1):at.position=at.offsetOf(xt)):(Tt=Yo("lines",[[Ct],[St]]),at.root=Tt,Kl(Tt,0,0)?Vl(at,Tt,0,0):Kl(Tt,1,0)?Vl(at,Tt,1,0):at.position=at.offsetOf(xt)),[void 0,[0,0]]}if(ft.parent instanceof Xn){let St=ft.parent,Ct=at.extractAtoms([at.position,at.offsetOf(St.lastChild)]),Tt=at.extractAtoms([at.offsetOf(St.firstChild),at.position]);Tt.length===0&&(Tt=_m()),Ct.length===0&&(Ct=_m());let Pt="pmatrix",zt=St.leftDelim,Kt=St.rightDelim;zt==="("&&(Kt===")"||Kt==="?")?Pt="pmatrix":(zt==="["||zt==="\\lbrack")&&(Kt==="]"||Kt==="\\rbrack"||Kt==="?")?Pt="bmatrix":zt==="\\vert"&&Kt==="\\vert"?Pt="vmatrix":zt==="\\Vert"&&Kt==="\\Vert"?Pt="Vmatrix":(zt==="{"||zt==="\\lbrace")&&(Kt==="."||Kt==="?")&&(Pt="cases");let Ht=Yo(Pt,lt.endsWith("column")?[[Tt,Ct]]:[[Tt],[Ct]]);return St.parent.addChildBefore(Ht,St),St.parent.removeChild(St),Kl(Ht,0,0)?Vl(at,Ht,0,0):lt.endsWith("column")?Kl(Ht,0,1)?Vl(at,Ht,0,1):at.position=at.offsetOf(ft):Kl(Ht,1,0)?Vl(at,Ht,1,0):at.position=at.offsetOf(ft),[void 0,[0,0]]}}return ft&&ft.parent instanceof Tn?[ft.parent,ft.parentBranch]:[void 0,[0,0]]}function Kl(at,lt,ft){let xt=at.getCell(lt,ft);return!xt||xt.length!==2?!1:xt[1].type==="placeholder"}function vw(at,lt,ft,xt){let St=lt.getCell(ft,xt);return St?[at.offsetOf(St[0]),at.offsetOf(St[St.length-1])]:-1}function Vl(at,lt,ft,xt){let St=vw(at,lt,ft,xt);typeof St!="number"&&at.setSelection(St)}function Em(at,lt,ft,xt,St){let Ct=lt.getCell(ft,xt);Ct&&at.setPositionHandlingPlaceholder(at.offsetOf(Ct[St==="start"?0:Ct.length-1]))}function Dm(at,lt){let[ft,[xt,St]]=hw(at,lt);if(ft)switch(lt){case"after row":ft.addRowAfter(xt),Em(at,ft,xt+1,0,"end");break;case"after column":if(ft.maxColumns<=ft.colCount){at.announce("plonk");return}ft.addColumnAfter(St),Em(at,ft,xt,St+1,"end");break;case"before row":ft.addRowBefore(xt),Em(at,ft,xt,0,"start");break;case"before column":if(ft.maxColumns<=ft.colCount){at.announce("plonk");return}ft.addColumnBefore(St),Em(at,ft,xt,St,"start");break}}function Cx(at){return Hn(at,{inputType:"insertText"})?(Dm(at,"after row"),An(at,{inputType:"insertText"}),!0):!1}function gw(at){return Hn(at,{inputType:"insertText"})?(Dm(at,"before row"),An(at,{inputType:"insertText"}),!0):!1}function Mx(at){return Hn(at,{inputType:"insertText"})?(Dm(at,"after column"),An(at,{inputType:"insertText"}),!0):!1}function yw(at){return Hn(at,{inputType:"insertText"})?(Dm(at,"before column"),An(at,{inputType:"insertText"}),!0):!1}function bw(at,lt){if(!Hn(at,{}))return!1;at.mathfield.snapshot();let ft=".",xt=".";switch(lt){case"pmatrix":case"pmatrix*":ft="(",xt=")";break;case"bmatrix":case"bmatrix*":ft="[",xt="]";break;case"Bmatrix":case"Bmatrix*":ft="\\lbrace",xt="\\rbrace";break;case"vmatrix":case"vmatrix*":ft="\\vert",xt="\\vert";break;case"Vmatrix":case"Vmatrix*":ft="\\Vert",xt="\\Vert";break;case"matrix":case"matrix*":ft=".",xt=".";break;case"cases":case"dcases":ft="\\lbrace";break;case"rcases":xt="\\rbrace";break}let St=at.parentEnvironment;return St.environmentName=lt,St.leftDelim=ft,St.rightDelim=xt,An(at,{}),!0}function $x(at,lt){let ft=at.at(at.position);for(;ft&&!(Array.isArray(ft.parentBranch)&&ft.parent instanceof Tn);)ft=ft.parent;if(Array.isArray(ft==null?void 0:ft.parentBranch)&&(ft==null?void 0:ft.parent)instanceof Tn){let xt=ft.parent,St=ft.parentBranch,Ct;switch(lt){case"row":if(xt.rowCount>1){xt.removeRow(St[0]);let Tt=xt.getCell(Math.max(0,St[0]-1),St[1]);Ct=at.offsetOf(Tt[Tt.length-1])}break;case"column":if(xt.colCount>xt.minColumns){xt.removeColumn(St[1]);let Tt=xt.getCell(St[0],Math.max(0,St[1]-1));Ct=at.offsetOf(Tt[Tt.length-1])}break}Ct&&at.setPositionHandlingPlaceholder(Ct)}}function xw(at){return Hn(at,{inputType:"deleteContent"})?($x(at,"row"),An(at,{inputType:"deleteContent"}),!0):!1}function ww(at){return Hn(at,{inputType:"deleteContent"})?($x(at,"column"),An(at,{inputType:"deleteContent"}),!0):!1}Fo({addRowAfter:Cx,addColumnAfter:Mx,addRowBefore:gw,addColumnBefore:yw,removeRow:xw,removeColumn:ww,setEnvironment:bw},{target:"model",canUndo:!0,changeContent:!0,changeSelection:!0});function _m(){return[new Ds]}function Ju(at,lt,ft,xt){var St,Ct,Tt,Pt,zt,Kt;let Ht=ft.parent;if(Ht&&ft instanceof Xn){let Jt=!xt&&lt==="forward"||xt==="body"&&lt==="backward",fr=Jt?at.offsetOf(ft.firstChild):at.offsetOf(ft.lastChild);return Jt?ft.rightDelim!=="?"&&ft.rightDelim!=="."?(ft.leftDelim=".",ft.isDirty=!0):(Ht.addChildrenAfter(ft.removeBranch("body"),ft),Ht.removeChild(ft),fr--):ft.leftDelim!=="?"&&ft.leftDelim!=="."?(ft.rightDelim=".",ft.isDirty=!0):(Ht.addChildrenAfter(ft.removeBranch("body"),ft),Ht.removeChild(ft),fr--),at.position=fr,!0}if(Ht&&ft.type==="surd"){if(lt==="forward"&&!xt||lt==="backward"&&xt==="body"){let Jt=ft.leftSibling;ft.hasChildren&&Ht.addChildrenAfter(ft.removeBranch("body"),ft),Ht.removeChild(ft),at.position=at.offsetOf(Jt)}else lt==="forward"&&xt==="body"?at.position=at.offsetOf(ft):!xt&&lt==="backward"?ft.hasChildren?at.position=at.offsetOf(ft.lastChild):(at.position=Math.max(0,at.offsetOf(ft)-1),Ht.removeChild(ft)):xt==="above"&&(ft.hasEmptyBranch("above")&&ft.removeBranch("above"),lt==="backward"?at.position=at.offsetOf(ft.leftSibling):at.position=at.offsetOf(ft.body[0]));return!0}if(Ht&&(ft.type==="box"||ft.type==="enclose")){let Jt=xt&&lt==="backward"||!xt&&lt==="forward"?ft.leftSibling:ft.lastChild;return Ht.addChildrenAfter(ft.removeBranch("body"),ft),Ht.removeChild(ft),at.position=at.offsetOf(Jt),!0}if(ft.type==="genfrac"||ft.type==="overunder"){if(!xt)return ft.type==="overunder"&&ft.hasEmptyBranch("body")||ft.type==="genfrac"&&ft.hasEmptyBranch("below")&&ft.hasEmptyBranch("above")?!1:(at.position=at.offsetOf(lt==="forward"?ft.firstChild:ft.lastChild),!0);let Jt=Q0.fractionNavigationOrder==="numerator-denominator"?"above":"below",fr=Jt==="above"?"below":"above";if(Ht&&(lt==="forward"&&xt===Jt||lt==="backward"&&xt===fr)){let hr=ft.removeBranch(Jt),mr=ft.removeBranch(fr);return Ht.addChildrenAfter([...hr,...mr],ft),Ht.removeChild(ft),at.position=at.offsetOf(hr.length>0?hr[hr.length-1]:mr[0]),!0}return lt==="backward"?at.position=at.offsetOf(ft.leftSibling):at.position=at.offsetOf(ft),!0}if(ft.isExtensibleSymbol||ft.type==="subsup"){if(!xt&&lt==="forward")return!1;if(!xt){if(ft.subscript||ft.superscript){let Jt=lt==="forward"?(Tt=(St=ft.superscript)==null?void 0:St[0])!=null?Tt:(Ct=ft.subscript)==null?void 0:Ct[0]:(Kt=(Pt=ft.subscript)==null?void 0:Pt[0].lastSibling)!=null?Kt:(zt=ft.superscript)==null?void 0:zt[0].lastSibling;return Jt&&(at.position=at.offsetOf(Jt)),!0}return!1}if(xt&&ft.hasEmptyBranch(xt)&&ft.removeBranch(xt),!ft.hasChildren){let Jt=lt==="forward"?at.offsetOf(ft):Math.max(0,at.offsetOf(ft)-1);return ft.parent.removeChild(ft),at.position=Jt,!0}if(xt==="superscript")if(lt==="backward"){let Jt=at.offsetOf(ft.firstChild)-1;at.position=Jt}else ft.subscript?at.position=at.offsetOf(ft.subscript[0]):at.position=at.offsetOf(ft);else xt==="subscript"&&(lt==="backward"&&ft.superscript?at.position=at.offsetOf(ft.superscript[0].lastSibling):lt==="backward"?at.position=at.offsetOf(ft.firstChild)-1:at.position=at.offsetOf(ft));return!0}if((Ht==null?void 0:Ht.type)==="genfrac"&&!xt&&ft.type!=="first"){let Jt=at.offsetOf(ft.leftSibling);return Ht.removeChild(ft),Ht.hasEmptyBranch("above")&&Ht.hasEmptyBranch("below")?(Jt=at.offsetOf(Ht.leftSibling),Ht.parent.removeChild(Ht),at.announce("delete",void 0,[Ht]),at.position=Jt,!0):(at.announce("delete",void 0,[ft]),at.position=Jt,!0)}return!1}function Sw(at){return!at.mathfield.isSelectionEditable||!Hn(at,{inputType:"deleteContentBackward"})?!1:at.selectionIsCollapsed?at.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let lt=at.at(at.position);if(!(lt&&Ju(at,"backward",lt))){if(lt!=null&&lt.isFirstSibling){if(Ju(at,"backward",lt.parent,lt.parentBranch))return;lt=null}if(!lt){at.announce("plonk");return}at.position=at.offsetOf(lt.leftSibling),lt.parent.removeChild(lt),at.announce("delete",void 0,[lt])}}):ps(at,co(at.selection),"deleteContentBackward")}function Ew(at){return!at.mathfield.isSelectionEditable||!Hn(at,{inputType:"deleteContentForward"})?!1:at.selectionIsCollapsed?at.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var lt,ft;let xt=at.at(at.position).rightSibling;if(xt&&Ju(at,"forward",xt))return;if(xt){if(at.at(at.position).isLastSibling&&Ju(at,"forward",xt.parent,xt.parentBranch))return}else{if(xt=at.at(at.position),xt.isLastSibling&&Ju(at,"forward",xt.parent,xt.parentBranch))return;xt=void 0}if(at.position===at.lastOffset||!xt){at.announce("plonk");return}xt.parent.removeChild(xt);let St=(lt=at.at(at.position))==null?void 0:lt.rightSibling;for(;(St==null?void 0:St.type)==="subsup";)St.parent.removeChild(St),St=(ft=at.at(at.position))==null?void 0:ft.rightSibling;at.announce("delete",void 0,[xt])}):ps(at,co(at.selection),"deleteContentForward")}function ps(at,lt,ft){let xt=at.getAtoms(lt);if(xt.length>0&&xt[0].parent){let St=xt[0].parent.firstChild;St.type==="first"&&(St=St.rightSibling);let Ct=xt[xt.length-1].parent.lastChild,Tt=xt[0];Tt.type==="first"&&(Tt=Tt.rightSibling);let Pt=xt[xt.length-1];if(Tt===St&&Pt===Ct){let zt=xt[0].parent;zt.parent&&zt.type!=="prompt"&&(lt=[at.offsetOf(zt.leftSibling),at.offsetOf(zt)])}if(xt.length===1&&xt[0].type==="placeholder"&&xt[0].parent.type==="genfrac"){let zt=xt[0].parent,Kt=xt[0].parentBranch==="below"?"above":"below",Ht=at.offsetOf(zt.leftSibling);return at.deferNotifications({content:!0,selection:!0,type:ft},()=>{var Jt,fr;let hr=zt.removeBranch(Kt);if(hr.length===1&&hr[0].type==="placeholder")(fr=zt.parent)==null||fr.removeChild(zt),at.position=Math.max(0,Ht);else{let mr=zt.parent.addChildrenAfter(hr,zt);(Jt=zt.parent)==null||Jt.removeChild(zt),at.position=at.offsetOf(mr)}})}}return at.deferNotifications({content:!0,selection:!0,type:ft},()=>at.deleteAtoms(lt))}function Dw(at,lt){let ft=at.at(at.position);if(ft.type==="composition")ft.value=lt;else{let{caret:xt}=ft;ft.caret=void 0;let St=new Uy(lt,{mode:ft.mode});St.caret=xt,ft.parent.addChildAfter(St,ft),at.position+=1}}function _w(at){let lt=at.at(at.position);lt.type==="composition"&&(lt.parent.removeChild(lt),at.position-=1)}function Ax(at,lt){let ft=at.at(lt),xt;if(ft){xt=ft.mode;let St=ft.parent;for(;!xt&&St;)St&&(xt=St.mode),St=St.parent}return xt}function Ws(at,lt){!at||!lt||(kt(at)?at.forEach(ft=>Ws(ft,lt)):typeof at=="object"&&!at.style.color&&!at.style.backgroundColor&&!at.style.fontFamily&&!at.style.fontShape&&!at.style.fontSeries&&!at.style.fontSize&&!at.style.variant&&!at.style.variantStyle&&(at.applyStyle(lt),Ws(at.body,lt),Ws(at.above,lt),Ws(at.below,lt),Ws(at.subscript,lt),Ws(at.superscript,lt)))}function I0(at,lt,ft,xt){function St(Tt,Pt){for(let zt of Ct)if(zt.style[Tt]!==Pt)return!1;return!0}if(lt=at.normalizeRange(lt),lt[0]===lt[1])return!1;let Ct=at.getAtoms(lt,{includeChildren:!0});xt.operation==="toggle"&&(ft.color&&St("color",ft.color)&&(ft.color="none",delete ft.verbatimColor),ft.backgroundColor&&St("backgroundColor",ft.backgroundColor)&&(ft.backgroundColor="none",delete ft.verbatimBackgroundColor),ft.fontFamily&&St("fontFamily",ft.fontFamily)&&(ft.fontFamily="none"),ft.fontSeries&&St("fontSeries",ft.fontSeries)&&(ft.fontSeries="auto"),ft.fontShape&&St("fontShape",ft.fontShape)&&(ft.fontShape="auto"),ft.fontSize&&St("fontSize",ft.fontSize)&&(ft.fontSize=m0));for(let Tt of Ct)Tt.applyStyle(ft);return!0}var Cw=new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"]);function j0(at){return at.ctrlKey||at.metaKey||["Dead","Process"].includes(at.key)?!1:at.code===""?!0:Cw.has(at.code)}function kx(at){at=c3(at);let lt=[];return at.ctrlKey&&lt.push("ctrl"),at.metaKey&&lt.push("meta"),at.altKey&&lt.push("alt"),at.shiftKey&&lt.push("shift"),lt.length===0?`[${at.code}]`:(lt.push(`[${at.code}]`),lt.join("+"))}function Mw(at,lt,ft){let xt=null,St=null,Ct=!1,Tt=!1,Pt=!1,zt=new AbortController,Kt=zt.signal;return at.addEventListener("keydown",Ht=>{if(Ct||Ht.key==="Process"||Ht.code==="CapsLock"||/(Control|Meta|Alt|Shift)(Left|Right)/.test(Ht.code)){xt=null;return}xt=Ht,St=null,ft.onKeystroke(kx(Ht),Ht)?at.textContent="":xt=null},{capture:!0,signal:Kt}),at.addEventListener("keypress",Ht=>{Ct||(xt&&St&&ft.onKeystroke(kx(xt),xt),St=Ht)},{capture:!0,signal:Kt}),at.addEventListener("compositionstart",Ht=>{at.textContent="",Ct=!0,ft.onCompositionStart(Ht.data)},{capture:!0,signal:Kt}),at.addEventListener("compositionupdate",Ht=>{Ct&&ft.onCompositionUpdate(Ht.data)},{capture:!0,signal:Kt}),at.addEventListener("compositionend",Ht=>{at.textContent="",Ct&&(Ct=!1,ft.onCompositionEnd(Ht.data))},{capture:!0,signal:Kt}),at.addEventListener("beforeinput",Ht=>Ht.stopImmediatePropagation(),{signal:Kt}),at.addEventListener("input",Ht=>{var Jt;if(!Ct&&(at.textContent="",Ht.inputType!=="insertCompositionText")){if(Ht.inputType==="insertFromPaste"){Ht.preventDefault(),Ht.stopPropagation();return}ft.onInput((Jt=Ht.data)!=null?Jt:""),Ht.preventDefault(),Ht.stopPropagation()}},{signal:Kt}),at.addEventListener("paste",Ht=>{at.focus({preventScroll:!0}),at.textContent="",ft.onPaste(Ht)||Ht.preventDefault(),Ht.stopImmediatePropagation()},{signal:Kt}),at.addEventListener("cut",Ht=>ft.onCut(Ht),{capture:!0,signal:Kt}),at.addEventListener("copy",Ht=>ft.onCopy(Ht),{capture:!0,signal:Kt}),at.addEventListener("blur",Ht=>{var Jt,fr,hr;if(((fr=(Jt=Ht.relatedTarget)==null?void 0:Jt._mathfield)==null?void 0:fr.element)===lt){at.focus({preventScroll:!0}),Ht.preventDefault(),Ht.stopPropagation();return}let mr=(hr=Pl.scrim)==null?void 0:hr.state;if(mr==="open"||mr==="opening"){Ht.preventDefault(),Ht.stopPropagation();return}if(Ht.relatedTarget===Ht.target.getRootNode().host){Ht.preventDefault(),Ht.stopPropagation();return}Pt||Tt||(Pt=!0,xt=null,St=null,ft.onBlur(),Pt=!1)},{capture:!0,signal:Kt}),at.addEventListener("focus",Ht=>{Pt||Tt||(Tt=!0,ft.onFocus(),Tt=!1)},{capture:!0,signal:Kt}),{dispose:()=>zt.abort(),cancelComposition:()=>{Ct&&(at.blur(),requestAnimationFrame(()=>at.focus({preventScroll:!0})))},blur:()=>{typeof at.blur=="function"&&at.blur()},focus:()=>{!Tt&&typeof at.focus=="function"&&at.focus({preventScroll:!0})},hasFocus:()=>$w()===at,setAriaLabel:Ht=>at.setAttribute("aria-label",Ht),setValue:Ht=>{var Jt;at.textContent=Ht,at.style.left="-1000px",(Jt=window.getSelection())==null||Jt.selectAllChildren(at)},moveTo:(Ht,Jt)=>{at.style.top=`${Jt}px`,at.style.left=`${Ht}px`}}}function $w(){var at;let lt=document.activeElement;for(;(at=lt==null?void 0:lt.shadowRoot)!=null&&at.activeElement;)lt=lt.shadowRoot.activeElement;return lt}function fu(at){var lt;if(!at||!j0(at))return"";let ft;return at.key==="Unidentified"&&at.target&&(ft=at.target.value),ft=(lt=ft??at.key)!=null?lt:at.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(ft)&&(ft=""),ft}var Nx=class j2{constructor(lt){this.recording=!1,this.model=lt,this.reset()}reset(){this.stack=[],this.index=-1,this.lastOp=""}startRecording(){this.recording=!0}stopRecording(){this.recording=!1}canUndo(){return this.index-1>=0}canRedo(){return this.stack.length-1>this.index}stopCoalescing(lt){lt&&this.index>=0&&(this.stack[this.index].selection=lt),this.lastOp=""}undo(){return this.canUndo()?(this.model.setState(this.stack[this.index-1],{silenceNotifications:!1,type:"undo"}),this.index-=1,this.lastOp="",!0):!1}redo(){return this.canRedo()?(this.index+=1,this.model.setState(this.stack[this.index],{silenceNotifications:!1,type:"redo"}),this.lastOp="",!0):!1}pop(){this.canUndo()&&(this.stack.splice(this.index,this.stack.length-this.index),this.index-=1)}snapshot(lt){return this.recording?(lt&&lt===this.lastOp&&this.pop(),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index+=1,this.stack.length>j2.maximumDepth&&(this.stack.shift(),this.index-=1),this.lastOp=lt??"",!0):!1}};Nx.maximumDepth=1e3;var Aw=Nx;function Tx(at){let lt=at.position,ft=at.at(lt).parent;return ft!=null&&ft.parent?(at.position=at.offsetOf(ft),at.mathfield.stopCoalescingUndo(),at.announce("move",lt),!0):(at.announce("plonk"),!1)}function kw(at){let lt=0,ft=at.at(at.position),xt=!1;for(;ft;)(!ft.hasEmptyBranch("superscript")||!ft.hasEmptyBranch("subscript"))&&(lt+=1),ft.hasEmptyBranch("superscript")?ft.hasEmptyBranch("subscript")||(xt=!1):xt=!0,ft=ft.parent;return xt?lt:0}function Nw(at){let lt=0,ft=at.at(at.position),xt=!1;for(;ft;)(!ft.hasEmptyBranch("superscript")||!ft.hasEmptyBranch("subscript"))&&(lt+=1),ft.hasEmptyBranch("superscript")?ft.hasEmptyBranch("subscript")||(xt=!0):xt=!1,ft=ft.parent;return xt?lt:0}function Bx(at){var lt;if(at.collapseSelection(),kw(at)>=at.mathfield.options.scriptDepth[1])return at.announce("plonk"),!1;let ft=at.at(at.position);return ft.subsupPlacement===void 0&&(((lt=ft.rightSibling)==null?void 0:lt.type)!=="subsup"&&ft.parent.addChildAfter(new nm({style:ft.computedStyle}),ft),ft=ft.rightSibling),ft.createBranch("superscript"),at.setSelection(at.getSiblingsRange(at.offsetOf(ft.superscript[0]))),!0}function Ox(at){var lt;if(at.collapseSelection(),Nw(at)>=at.mathfield.options.scriptDepth[0])return at.announce("plonk"),!1;let ft=at.at(at.position);return ft.subsupPlacement===void 0&&(((lt=at.at(at.position+1))==null?void 0:lt.type)!=="subsup"&&ft.parent.addChildAfter(new nm({style:at.at(at.position).computedStyle}),ft),ft=at.at(at.position+1)),ft.createBranch("subscript"),at.setSelection(at.getSiblingsRange(at.offsetOf(ft.subscript[0]))),!0}function Tw(){function at(zt){let Kt=[],Ht=[];return[...zt.querySelectorAll(`input, select, textarea, a[href], button,
        [tabindex], audio[controls], video[controls],
        [contenteditable]:not([contenteditable="false"]), details>summary`)].filter(lt).forEach((Jt,fr)=>{let hr=xt(Jt);hr===0?Kt.push(Jt):Ht.push({documentOrder:fr,tabIndex:hr,node:Jt})}),Ht.sort((Jt,fr)=>Jt.tabIndex===fr.tabIndex?Jt.documentOrder-fr.documentOrder:Jt.tabIndex-fr.tabIndex).map(Jt=>Jt.node).concat(Kt)}function lt(zt){return!(!ft(zt)||St(zt)||xt(zt)<0)}function ft(zt){return!(zt.disabled||zt.type==="hidden"&&zt.tagName.toUpperCase()==="INPUT"||Pt(zt))}function xt(zt){var Kt;let Ht=Number.parseInt((Kt=zt.getAttribute("tabindex"))!=null?Kt:"NaN",10);return Number.isNaN(Ht)?zt.contentEditable==="true"||(zt.nodeName==="AUDIO"||zt.nodeName==="VIDEO")&&zt.getAttribute("tabindex")===null?0:zt.tabIndex:Ht}function St(zt){return zt.tagName.toUpperCase()==="INPUT"&&zt.type==="radio"&&!Tt(zt)}function Ct(zt,Kt){for(let Ht of zt)if(Ht.checked&&Ht.form===Kt)return Ht;return null}function Tt(zt){var Kt;if(!zt.name)return!0;let Ht=((Kt=zt.form)!=null?Kt:zt.ownerDocument).querySelectorAll('input[type="radio"][name="'+zt.name+'"]'),Jt=Ct(Ht,zt.form);return!Jt||Jt===zt}function Pt(zt){if(!Bt()||zt===document.activeElement||zt.contains(document.activeElement))return!1;if(getComputedStyle(zt).visibility==="hidden")return!0;let Kt=zt.getBoundingClientRect();if(Kt.width===0||Kt.height===0)return!0;for(;zt;){if(getComputedStyle(zt).display==="none")return!0;zt=zt.parentElement}return!1}return Bt()?at(document.body):[]}function Co(at,lt,ft="forward"){let xt=at.position;if(Array.isArray(lt)){let St=at.offsetOf(lt[0]),Ct=at.offsetOf(lt[lt.length-1]);return ft==="forward"?at.setSelection(St,Ct):at.setSelection(Ct,St),at.announce("move",xt),at.mathfield.stopCoalescingUndo(),!0}return ft==="forward"?Co(at,[lt.leftSibling,lt]):Co(at,[lt,lt.leftSibling])}function rs(at,lt){let ft=at.position;if(typeof lt=="number"&&(lt=at.at(lt)),lt.type==="prompt")at.setSelection(at.offsetOf(lt.firstChild),at.offsetOf(lt.lastChild));else{let xt=at.offsetOf(lt);lt.type==="placeholder"?at.setSelection(xt-1,xt):at.position=xt}return at.announce("move",ft),at.mathfield.stopCoalescingUndo(),!0}function Cm(at,lt,ft=!0){var xt,St;let Ct=lt==="forward"?1:-1;at.at(at.anchor).type==="placeholder"&&ms(at,lt);let Tt,Pt=at.at(at.anchor).parentPrompt;Pt?lt==="forward"?Tt=at.offsetOf(Pt)+1:Tt=at.offsetOf(Pt.leftSibling):Tt=Math.max(at.position+Ct,0);let zt=q0(at,Tt,lt);if(!zt||lt==="forward"&&at.offsetOf(zt)<Tt||lt==="backward"&&at.offsetOf(zt)>Tt){if(!ft||!((St=(xt=at.mathfield.host)==null?void 0:xt.dispatchEvent(new CustomEvent("move-out",{detail:{direction:lt},cancelable:!0,bubbles:!0,composed:!0})))==null||St))return at.announce("plonk"),!1;let Kt=Tw();if(!document.activeElement||Kt.length<=1)return at.announce("plonk"),!1;let Ht=Kt.indexOf(document.activeElement)+Ct;return Ht<0&&(Ht=Kt.length-1),Ht>=Kt.length&&(Ht=0),Kt[Ht].focus(),at.mathfield.stopCoalescingUndo(),!0}return rs(at,zt),!0}function q0(at,lt=0,ft="forward"){return at.findAtom(xt=>xt.type==="placeholder"||xt.type==="prompt"||!at.mathfield.readOnly&&xt.treeDepth>2&&xt.isFirstSibling&&xt.isLastSibling,lt,ft)}Fo({moveToOpposite:at=>{let lt={superscript:"subscript",subscript:"superscript",above:"below",below:"above"},ft=at.at(at.position),{parent:xt}=ft;if(!xt)return at.announce("plonk"),!1;let St=ft.parentBranch,Ct;if(typeof St=="string"&&(Ct=lt[St]),!Ct){let Pt=ft.subsupPlacement?Ox(at):Bx(at);return at.mathfield.stopCoalescingUndo(),Pt}xt.branch(Ct)||xt.createBranch(Ct);let Tt=at.setSelection(at.getBranchRange(at.offsetOf(xt),Ct));return at.mathfield.stopCoalescingUndo(),Tt},moveBeforeParent:at=>{let{parent:lt}=at.at(at.position);return lt?(at.position=at.offsetOf(lt),at.mathfield.stopCoalescingUndo(),!0):(at.announce("plonk"),!1)},moveAfterParent:at=>Tx(at),moveToNextChar:at=>ms(at,"forward"),moveToPreviousChar:at=>ms(at,"backward"),moveUp:at=>ms(at,"upward"),moveDown:at=>ms(at,"downward"),moveToNextWord:at=>pu(at,"forward"),moveToPreviousWord:at=>pu(at,"backward"),moveToGroupStart:at=>{let lt=at.offsetOf(at.at(at.position).firstSibling);return lt===at.position?(at.announce("plonk"),!1):(at.position=lt,at.mathfield.stopCoalescingUndo(),!0)},moveToGroupEnd:at=>{let lt=at.offsetOf(at.at(at.position).lastSibling);return lt===at.position?(at.announce("plonk"),!1):(at.position=lt,at.mathfield.stopCoalescingUndo(),!0)},moveToNextGroup:at=>{var lt,ft,xt,St;if(at.position===at.lastOffset&&at.anchor===at.lastOffset)return Cm(at,"forward");let Ct=at.at(at.position);if(Ct.mode==="text"){if(at.selectionIsCollapsed){let Kt=Ct;for(;Kt&&Kt.mode==="text";)Kt=Kt.leftSibling;let Ht=Ct;for(;((lt=Ht.rightSibling)==null?void 0:lt.mode)==="text";)Ht=Ht.rightSibling;if(Kt&&Ht)return Co(at,[Kt,Ht])}if(Ct.rightSibling.mode==="text"){let Kt=Ct;for(;Kt&&Kt.mode==="text";)Kt=Kt.rightSibling;return Kt?(rs(at,(ft=Kt.leftSibling)!=null?ft:Kt),at.mathfield.switchMode("math"),!0):rs(at,at.lastOffset)}}let Tt=q0(at,at.position+1,"forward");if(Tt)return rs(at,Tt);let Pt=Fx(at,Ct,Kt=>Kt.type==="leftright"||Kt.type==="text","forward");if(Pt){if(Pt.mode==="text"){let Kt=Pt;for(;Kt&&Kt.mode==="text";)Kt=Kt.rightSibling;return Co(at,[(xt=Pt.leftSibling)!=null?xt:Pt,(St=Kt.leftSibling)!=null?St:Kt])}return Co(at,Pt)}let zt=Ct.parent;if(zt){if(zt.type==="leftright"||zt.type==="surd")return Co(at,zt);if(Ct.parentBranch==="superscript"&&zt.subscript)return Co(at,zt.subscript);if(Ct.parentBranch==="above"&&zt.below)return Co(at,zt.below);if(Ct.parentBranch==="superscript"||Ct.parentBranch==="subscript")return rs(at,zt);if(Ct.parentBranch==="above"||Ct.parentBranch==="below")return Co(at,zt)}return rs(at,at.lastOffset)},moveToPreviousGroup:at=>{var lt;if(at.position===0&&at.anchor===0)return Cm(at,"backward");let ft=at.at(at.position),xt=ft.mode;if(xt==="text"){if(at.selectionIsCollapsed){let Ct=ft;for(;Ct&&Ct.mode==="text";)Ct=Ct.leftSibling;let Tt=ft;for(;((lt=Tt.rightSibling)==null?void 0:lt.mode)==="text";)Tt=Tt.rightSibling;if(Ct&&Tt)return Co(at,[Ct,Tt])}for(;ft&&ft.mode==="text";)ft=ft.leftSibling;return ft?rs(at,ft):rs(at,0)}let St=q0(at,at.position-1,"backward");if(St)return rs(at,St);if(xt==="math"){let Ct=Fx(at,ft,Pt=>Pt.type==="leftright"||Pt.type==="text","backward");if(Ct){if(Ct.mode==="text"){let Pt=Ct;for(;Pt&&Pt.mode==="text";)Pt=Pt.leftSibling;return Co(at,[Ct,Pt])}return Co(at,Ct)}let Tt=ft.parent;if(Tt){if(Tt.type==="leftright"||Tt.type==="surd")return Co(at,Tt);if(ft.parentBranch==="subscript"&&Tt.superscript)return Co(at,Tt.superscript);if(ft.parentBranch==="below"&&Tt.above)return Co(at,Tt.above);if(ft.parentBranch==="superscript"||ft.parentBranch==="subscript")return rs(at,Tt);if(ft.parentBranch==="above"||ft.parentBranch==="below")return Co(at,Tt)}return rs(at,0)}return!1},moveToMathfieldStart:at=>at.position===0?(at.announce("plonk"),!1):(at.position=0,at.mathfield.stopCoalescingUndo(),!0),moveToMathfieldEnd:at=>at.position===at.lastOffset?(at.announce("plonk"),!1):(at.position=at.lastOffset,at.mathfield.stopCoalescingUndo(),!0),moveToSuperscript:at=>Bx(at),moveToSubscript:at=>Ox(at)},{target:"model",changeSelection:!0}),Fo({moveToNextPlaceholder:at=>Cm(at,"forward"),moveToPreviousPlaceholder:at=>Cm(at,"backward")},{target:"model",changeSelection:!0,audioFeedback:"return"});function Fx(at,lt,ft,xt){if(xt==="forward"){let Ct=lt.rightSibling;for(;Ct&&!ft(Ct);)Ct=Ct.rightSibling;return Ct}let St=lt.leftSibling;for(;St&&!ft(St);)St=St.leftSibling;return St}function Mm(at,lt,ft){typeof lt=="function"&&(ft=lt,lt=1/0),lt===void 0&&(lt=1/0);let xt=at.position,St=!1,Ct="";for(;!St;){let Tt=at.at(xt);St=lt===0||Tt===void 0||Tt.type==="first"||Tt.mode!=="math"||!(Tt.type&&/mord|mpunct/.test(Tt.type)||Tt.type==="mop"&&/[a-zA-Z]+/.test(Tt.value))||!Tt.hasEmptyBranch("superscript")||!Tt.hasEmptyBranch("subscript")||typeof ft=="function"&&!ft(Tt),St||(Tt.mode="text",Tt.command=Tt.value,Tt.verbatimLatex=void 0,Ct+=Tt.value),xt-=1,lt-=1}An(at,{data:Ct,inputType:"insertText"})}function _c(at,lt,ft){typeof lt=="function"&&(ft=lt,lt=1/0),lt===void 0&&(lt=1/0);let xt=at.position,St=!1,Ct=[];for(;!St;){let Tt=at.at(xt);St=lt===0||!Tt||Tt.type==="first"||Tt.isFirstSibling||Tt.mode!=="text"||Tt.value===" "||typeof ft=="function"&&!ft(Tt),St||(Ct.push(Ir.serialize([Tt],{defaultMode:"math"})),Tt.mode="math"),xt-=1,lt-=1}U0(at),An(at,{data:Cn(Ct),inputType:"insertText"})}function U0(at){var lt;let ft=at.position-1;for(;ft>=0&&((lt=at.at(ft))==null?void 0:lt.mode)==="math";)ft-=1;if(!(ft<0)&&at.at(ft).mode==="text"&&at.at(ft).value===" "&&at.at(ft-1).mode==="math"){at.at(ft-1).parent.removeChild(at.at(ft-1));let xt=at.silenceNotifications;at.silenceNotifications=!0,at.position-=1,at.silenceNotifications=xt,An(at,{inputType:"deleteContent"})}}function Bw(at){let lt="",ft=at.position,xt=!1;for(;!xt;){let St=at.at(ft);xt=!(St&&(St.mode==="text"||St.mode==="math"&&St.type&&/mord|mpunct/.test(St.type))),xt||(lt=St.value+lt),ft-=1}return lt}function Ow(at,lt,ft){let{model:xt}=at;if(xt.mode==="latex"||!xt.at(xt.position).isLastSibling||!ft||!j0(ft))return!1;let St=fu(ft);if(!xt.selectionIsCollapsed)return!!(at.model.mode==="text"&&/[/_^]/.test(St));let Ct=Bw(xt)+St;if(at.model.mode==="text"){if(lt==="Esc"||/[/\\]/.test(St))return!0;if(/[\^_]/.test(St))return/(^|\s)[a-zA-Z][^_]$/.test(Ct)&&_c(xt,1),!0;let Tt={")":"(","}":"{","]":"["}[St],{parent:Pt}=xt.at(xt.position);if(Tt&&Pt instanceof Xn&&Pt.leftDelim===Tt)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(Ct))return!1;if(/[$€£₤₺¥¤฿¢₡₧₨₹₩₱]/u.test(St))return!0;if(/(^|[^a-zA-Z'’])[a-zA-Z] $/.test(Ct))return _c(xt,1),!1;if(/\D\.[^\d\s]$/.test(Ct)){_c(xt,1);let zt=xt.at(xt.position);return zt.value="⋅",zt.style.variant="normal",zt.command="\\cdot",zt.verbatimLatex=void 0,An(xt,{data:"\\cdot",inputType:"insertText"}),!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(Ct)||/\.\d$/.test(Ct)||/\([\d+\-.]$/.test(Ct))return _c(xt,1),!0;if(/\([a-z][,;]$/.test(Ct))return _c(xt,2),!0;if(/[\d+\-=><*|]$/.test(St))return U0(xt),!0}else{if(lt==="[Space]")return Mm(xt,void 0,Tt=>/[a-z][:,;.]$/.test(Tt.value)),!0;if(/[a-zA-Z]{3,}$/.test(Ct)&&!/(dxd|abc|xyz|uvw)$/.test(Ct))return Mm(xt,void 0,Tt=>/[a-zA-Z]/.test(Tt.value)),!0;if(/(^|\W)(if)$/i.test(Ct))return Mm(xt,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(Ct)&&!/(αβγ)$/.test(Ct))return Mm(xt,void 0,Tt=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(Tt.value)),!0;if(St==="?"||St==="."&&!/[\d-+]\.$/.test(Ct))return!0}return!1}function Fw(at,lt){if(!at.isSelectionEditable||!at.keystrokeCaptionVisible)return;let ft=Px(),xt=at.element.getBoundingClientRect();ft.style.left=`${xt.left}px`,ft.style.top=`${xt.top-64}px`,ft.innerHTML=window.MathfieldElement.createHTML("<span>"+(ox(lt)||lt)+"</span>"+ft.innerHTML),ft.style.visibility="visible",setTimeout(()=>{ft.childNodes.length>0&&ft.childNodes[ft.childNodes.length-1].remove(),ft.childNodes.length===0&&(ft.style.visibility="hidden")},3e3)}function Pw(at){if(at.keystrokeCaptionVisible=!at.keystrokeCaptionVisible,at.keystrokeCaptionVisible){let lt=Px();lt.innerHTML=""}else{let lt=lm("mathlive-keystroke-caption-panel");lt.style.visibility="hidden"}return!1}function Px(){return document.getElementById("mathlive-keystroke-caption-panel")||(Es("keystroke-caption"),Es("core"),lm("mathlive-keystroke-caption-panel"))}function Lw(){document.getElementById("mathlive-keystroke-caption-panel")&&(k0("mathlive-keystroke-caption-panel"),qs("core"),qs("keystroke-caption"))}function Lx(at,lt,ft){var xt,St,Ct,Tt;let{model:Pt}=at;if(ft.isTrusted){d3(ft);let mr=Iu();at.keyboardLayout!==mr.id&&(at.keyboardLayout=mr.id,at._keybindings=void 0)}if(clearTimeout(at.inlineShortcutBufferFlushTimer),at.inlineShortcutBufferFlushTimer=0,Fw(at,lt),ft.isTrusted&&ft.defaultPrevented)return at.flushInlineShortcutBuffer(),!1;if(Pt.mathfield.smartFence){if(V0(Pt,fu(ft),at.style))return at.flushInlineShortcutBuffer(),at.dirty=!0,at.scrollIntoView(),ft.preventDefault&&ft.preventDefault(),!1}else{let{parent:mr}=Pt.at(Pt.position);if(mr instanceof Xn&&mr.rightDelim==="?"&&Pt.at(Pt.position).isLastSibling&&/^[)}\]|]$/.test(lt))return at.snapshot(),mr.isDirty=!0,mr.rightDelim=lt,Pt.position+=1,sx(Pt),An(Pt,{data:fu(ft),inputType:"insertText"}),at.snapshot("insert-fence"),at.dirty=!0,at.scrollIntoView(),ft.preventDefault&&ft.preventDefault(),!1;if(!Pt.selectionIsCollapsed){let Rr=fu(ft);if(Rr==="("||Rr==="{"||Rr==="["){let Yr={"(":"(","{":"\\lbrace","[":"\\lbrack"}[Rr],Pr={"(":")","{":"\\rbrace","[":"\\rbrack"}[Rr],[Ur,un]=co(Pt.selection);return at.snapshot(),Pt.position=un,Gn.insert(Pt,Pr,{format:"latex"}),Pt.position=Ur,Gn.insert(Pt,Yr,{format:"latex"}),Pt.setSelection(Ur+1,un+1),An(Pt,{data:Rr,inputType:"insertText"}),at.snapshot("insert-fence"),at.dirty=!0,at.scrollIntoView(),ft.preventDefault&&ft.preventDefault(),!1}}}let zt,Kt="",Ht,Jt=at.inlineShortcutBuffer;if(at.isSelectionEditable){if(Pt.mode==="math")if(lt==="[Backspace]")Jt.pop(),at.flushInlineShortcutBuffer({defer:!0});else if(!j0(ft))at.flushInlineShortcutBuffer();else{let mr=fu(ft),Rr=[...(St=(xt=Jt[Jt.length-1])==null?void 0:xt.keystrokes)!=null?St:[],mr];Jt.push({state:Pt.getState(),keystrokes:Rr,leftSiblings:Rw(at)});let Yr=0,Pr="";for(;!zt&&Yr<Rr.length;)Ht=Jt.length-(Rr.length-Yr),Pr=Rr.slice(Yr).join(""),zt=E0(Jt[Ht].leftSiblings,Pr,at.options.inlineShortcuts),!zt&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(Pr)&&(zt=at.options.onInlineShortcut(at,Pr)),Yr+=1;at.flushInlineShortcutBuffer({defer:!0})}if(at.options.smartMode){let mr=Pt.mode;zt?Pt.mode="math":Ow(at,lt,ft)&&(Pt.mode={math:"text",text:"math"}[Pt.mode],Kt=""),Pt.mode!==mr&&((Ct=at.host)!=null&&Ct.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))||(Pt.mode=mr))}}if(!zt){if(Kt||(Kt=p3(at.keybindings,Pt.mode,lt)),!Kt&&(lt==="[Enter]"||lt==="[Return]")){let mr=!1;return Hn(Pt,{inputType:"insertLineBreak"})&&(at.host&&(mr=!at.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),mr||ft.preventDefault&&(ft.preventDefault(),ft.stopPropagation()),An(Pt,{inputType:"insertLineBreak"})),mr}if((!Kt||lt==="[Space]")&&Pt.mode==="math"){if(lt==="[Space]"){if(at.adoptStyle="none",at.flushInlineShortcutBuffer(),at.options.mathModeSpace)return Gn.insert(Pt,at.options.mathModeSpace,{format:"latex",mode:"math"}),at.snapshot("insert-space"),Kt="",at.dirty=!0,at.scrollIntoView(),ft.preventDefault&&(ft.preventDefault(),ft.stopPropagation()),!1;let mr=Pt.at(Pt.position+1),Rr=Pt.at(Pt.position-1);if((mr==null?void 0:mr.mode)==="text"||(Rr==null?void 0:Rr.mode)==="text")return Gn.insert(Pt," ",{mode:"text"}),at.snapshot("insert-space"),at.dirty=!0,at.scrollIntoView(),!1}(Tt=Pt.at(Pt.position))!=null&&Tt.isDigit()&&window.MathfieldElement.decimalSeparator===","&&fu(ft)===","&&(Kt="insertDecimalSeparator")}}if(!zt&&!Kt)return!0;let fr=Pt.at(Math.max(Pt.position,Pt.anchor)),{parent:hr}=fr;if(Kt==="moveAfterParent"&&(hr==null?void 0:hr.type)==="leftright"&&fr.isLastSibling&&at.options.smartFence&&V0(Pt,".",at.style)&&(Kt="",no(at)),at.keyboardDelegate.cancelComposition(),Kt)at.executeCommand(Kt);else if(zt){let mr=bt(bt({},Pt.at(Pt.position).computedStyle),at.style);Pt.setState(Jt[Ht].state);let Rr=Jt[Jt.length-1].keystrokes;for(let Yr of Rr)Gn.insert(Pt,Yr,{silenceNotifications:!0,style:mr});at.snapshot("insert-shortcut"),Pt.setState(Jt[Ht].state),Pt.deferNotifications({content:!0,selection:!0,data:zt,type:"insertText"},()=>(Gn.insert(Pt,zt,{format:"latex",style:mr}),U0(at.model),zt.endsWith(" ")&&(Pt.mode="text",Gn.insert(Pt," ",{style:mr,mode:"text"})),at.snapshot(),Pt.selectionIsCollapsed||at.flushInlineShortcutBuffer(),!0)),at.dirty=!0,Pt.announce("replacement")}return at.scrollIntoView(),ft.preventDefault&&ft.preventDefault(),!1}function K0(at,lt,ft){let{model:xt}=at;if(!at.isSelectionEditable){xt.announce("plonk");return}ft!=null||(ft={}),ft.focus&&at.focus(),ft.feedback&&window.MathfieldElement.playSound("keypress"),typeof ft.mode=="string"&&(at.switchMode(ft.mode),at.snapshot());let St=by(lt),Ct=window.mathVirtualKeyboard;if(Ct!=null&&Ct.isShifted&&(St=typeof St=="string"?St.toUpperCase():St.map(zt=>zt.toUpperCase())),ft.simulateKeystroke){let zt=!0;for(let Kt of St)Lx(at,Kt,new KeyboardEvent("keypress",{key:Kt}))&&(zt=!1);if(zt)return}let Tt=xt.at(xt.position),Pt=bt(bt({},Tt.computedStyle),at.style);if(xt.selectionIsCollapsed||(xt.deleteAtoms(co(xt.selection)),at.snapshot("delete")),xt.mode==="latex")xt.deferNotifications({content:!0,selection:!0,data:lt,type:"insertText"},()=>{A0(at);for(let zt of St)Gn.insert(xt,zt);at.snapshot("insert-latex"),qu(at)});else if(xt.mode==="text"){for(let zt of St)Gn.insert(xt,zt,{style:Pt});at.snapshot("insert-text")}else if(xt.mode==="math")for(let zt of St)zw(at,zt,Pt,Tt);at.dirty=!0,at.scrollIntoView()}function Rw(at){let lt=at.model,ft=[],xt=lt.at(Math.min(lt.position,lt.anchor));for(;xt.type!=="first";)ft.push(xt),xt=xt.leftSibling;return ft}function zw(at,lt,ft,xt){var St;let Ct=at.model,Tt={"^":"moveToSuperscript",_:"moveToSubscript"," ":"moveAfterParent"}[lt];if(lt===" "&&at.options.mathModeSpace&&(Tt=["insert",at.options.mathModeSpace]),Tt){at.executeCommand(Tt);return}if(/\d/.test(lt)&&at.options.smartSuperscript&&xt.parentBranch==="superscript"&&((St=xt.parent)==null?void 0:St.type)!=="mop"&&xt.hasNoSiblings){Iw(Ct),Gn.insert(Ct,lt,{style:ft}),at.snapshot(),Tx(Ct),at.snapshot();return}if(at.adoptStyle!=="none"){let Pt=at.adoptStyle==="left"?xt:xt.parent?xt.rightSibling:null;(Pt==null?void 0:Pt.type)==="mord"&&/[a-zA-Z0-9]/.test(Pt.value)&&/[a-zA-Z0-9]/.test(lt)&&(ft=bt({},ft),Pt.style.variant&&(ft.variant=Pt.style.variant),Pt.style.variantStyle&&(ft.variantStyle=Pt.style.variantStyle))}Gn.insert(Ct,lt,{style:ft}),at.snapshot(`insert-${Ct.at(Ct.position).type}`)}function Iw(at){at.selectionIsCollapsed||(at.deleteAtoms(co(at.selection)),at.mathfield.snapshot("delete"))}function V0(at,lt,ft){if(!lt||at.mode!=="math")return!1;let xt=at.at(at.position),{parent:St}=xt,Ct={"(":"(",")":")","{":"\\lbrace","}":"\\rbrace","[":"\\lbrack","]":"\\rbrack","|":"|"}[lt];if(!Ct)return!1;let Tt=Qp[Ct],Pt=Yp[Ct];if(!at.selectionIsCollapsed){at.mathfield.snapshot();let[zt,Kt]=co(at.selection),Ht=at.extractAtoms([zt,Kt]),Jt=St.addChildrenAfter([new Xn("left...right",Ht,{leftDelim:Ct,rightDelim:Pt})],at.at(zt));return at.setSelection(at.offsetOf(Jt.firstChild),at.offsetOf(Jt.lastChild)),at.mathfield.snapshot("insert-fence"),An(at,{data:Ct,inputType:"insertText"}),!0}if(Ct==="|"){let zt=St instanceof Xn?St.leftDelim+St.rightDelim:"";if(zt==="\\lbrace\\rbrace"||zt==="\\{\\}"||zt==="\\lbrace?")return at.mathfield.snapshot(),Gn.insert(at,"\\,\\middle\\vert\\,",{format:"latex",style:ft}),at.mathfield.snapshot("insert-fence"),An(at,{data:Ct,inputType:"insertText"}),!0}if(Pt){if(St instanceof Xn&&St.firstChild===xt&&(St.leftDelim==="?"||St.leftDelim==="."))return St.leftDelim=Ct,St.isDirty=!0,at.mathfield.snapshot(),An(at,{data:Ct,inputType:"insertText"}),at.mathfield.snapshot("insert-fence"),!0;if(!(St instanceof Xn)){let Jt=xt;for(;Jt&&!(Jt.type==="mclose"&&Jt.value===Pt);)Jt=Jt.rightSibling;if(Jt){at.mathfield.snapshot();let fr=at.extractAtoms([at.offsetOf(xt),at.offsetOf(Jt)]);return fr.pop(),St.addChildrenAfter([new Xn("left...right",fr,{leftDelim:Ct,rightDelim:Pt})],xt),at.position=at.offsetOf(St.firstChild)+1,An(at,{data:Ct,inputType:"insertText"}),at.mathfield.snapshot("insert-fence"),!0}}let zt=at.offsetOf(xt.lastSibling),Kt;for(Kt=at.position;Kt<=zt;Kt++){let Jt=at.at(Kt);if(Jt instanceof Xn&&(Jt.leftDelim==="?"||Jt.leftDelim===".")&&Rx(Ct,Jt.rightDelim))break}let Ht=at.at(Kt);if(Kt<=zt&&Ht instanceof Xn){Ht.leftDelim=Ct,at.mathfield.snapshot();let Jt=at.extractAtoms([at.position,Kt-1]);return Jt=Jt.filter(fr=>fr.type!=="first"),Ht.addChildren(Jt,Ht.parentBranch),at.position+=1,An(at,{data:Ct,inputType:"insertText"}),at.mathfield.snapshot("insert-fence"),!0}if(St instanceof Xn&&(St.leftDelim==="?"||St.leftDelim===".")&&Rx(Ct,St.rightDelim)){St.isDirty=!0,St.leftDelim=Ct,at.mathfield.snapshot();let Jt=at.extractAtoms([at.offsetOf(xt.firstSibling),at.position]);for(let fr of Jt)St.parent.addChildBefore(fr,St);return An(at,{data:Ct,inputType:"insertText"}),at.mathfield.snapshot("insert-fence"),!0}if(!(St instanceof Xn&&St.leftDelim==="|")){if(at.mathfield.snapshot(),Gn.insert(at,`\\left${Ct}\\right?`,{format:"latex",style:ft}),xt.lastSibling.type!=="first"){let Jt=at.offsetOf(xt.lastSibling),fr=at.extractAtoms([at.position,Jt]);at.at(at.position).body=fr,at.position-=1}return at.mathfield.snapshot("insert-fence"),!0}}if(Tt){let zt=xt;for(;zt;){if(zt.type==="mopen"&&zt.value===Tt){at.mathfield.snapshot();let hr=zt.leftSibling,mr=at.extractAtoms([at.offsetOf(zt.leftSibling),at.offsetOf(xt)]);mr.shift();let Rr=new Xn("left...right",mr,{leftDelim:Tt,rightDelim:Ct});return St.addChildrenAfter([Rr],hr),at.position=at.offsetOf(Rr),An(at,{data:Ct,inputType:"insertText"}),at.mathfield.snapshot("insert-fence"),!0}zt=zt.leftSibling}if(St instanceof Xn&&xt.isLastSibling&&H0(St.leftDelim,Ct))return at.mathfield.snapshot(),St.isDirty=!0,St.rightDelim=Ct,at.position+=1,An(at,{data:Ct,inputType:"insertText"}),at.mathfield.snapshot("insert-fence"),!0;let Kt=at.offsetOf(xt.firstSibling),Ht;for(Ht=at.position;Ht>=Kt;Ht--){let hr=at.at(Ht);if(hr instanceof Xn&&(hr.rightDelim==="?"||hr.rightDelim===".")&&H0(hr.leftDelim,Ct))break}let Jt=at.at(Ht);if(Ht>=Kt&&Jt instanceof Xn)return at.mathfield.snapshot(),Jt.rightDelim=Ct,Jt.addChildren(at.extractAtoms([Ht,at.position]),Jt.parentBranch),An(at,{data:Ct,inputType:"insertText"}),at.mathfield.snapshot("insert-fence"),!0;if(St instanceof Xn&&(St.rightDelim==="?"||St.rightDelim===".")&&H0(St.leftDelim,Ct))return at.mathfield.snapshot(),St.isDirty=!0,St.rightDelim=Ct,St.parent.addChildren(at.extractAtoms([at.position,at.offsetOf(xt.lastSibling)]),St.parentBranch),at.position=at.offsetOf(St),An(at,{data:Ct,inputType:"insertText"}),at.mathfield.snapshot("insert-fence"),!0;let fr=St.parent;return fr instanceof Xn&&(fr.rightDelim==="?"||fr.rightDelim===".")&&at.at(at.position).isLastSibling?(at.position=at.offsetOf(fr),V0(at,Ct,ft)):!1}return!1}function H0(at,lt){return at?["(","{","[","\\lbrace","\\lparen","\\{","\\lbrack"].includes(at)?[")","}","]","\\rbrace","\\rparen","\\}","\\rbrack"].includes(lt):Yp[at]===lt:!0}function Rx(at,lt){return lt?[")","}","]","\\rbrace","\\rparen","\\}","\\rbrack"].includes(lt)?["(","{","[","\\lbrace","\\lparen","\\{","\\lbrack"].includes(at):Qp[lt]===at:!0}var zx={acute:714,grave:715,dot:729,ddot:168,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};Ar(Object.keys(zx),"{body:auto}",{createAtom:at=>new Zp(wt(bt({},at),{body:yr(at.args[0]),accentChar:zx[at.command.slice(1)]}))}),Ar(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:at=>{let lt=gn(yr(at.args[0]));return new Zp(wt(bt({},at),{body:yr(at.args[0]),svgAccent:at.command.slice(1)+(lt.length>5?"4":["1","1","2","2","3","3"][lt.length])}))}}),Ar(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:at=>new Zp(wt(bt({},at),{body:yr(at.args[0]),svgAccent:"overarc"}))}),Ar(["underarc","underparen"],"{body:auto}",{createAtom:at=>new Zo(wt(bt({},at),{body:yr(at.args[0]),svgBelow:"underarc"}))}),Ar("utilde","{body:auto}",{createAtom:at=>{let lt=yr(at.args[0]),ft=gn(lt),xt="widetilde"+(ft.length>5?"4":["1","1","2","2","3","3"][ft.length]);return new Zo(wt(bt({},at),{body:lt,svgBelow:xt,boxType:Mu(lt)}))}}),Ar("^","{:string}",{createAtom:at=>{var lt;return new Ir(wt(bt({},at),{type:"mord",isFunction:!1,limits:"adjacent",value:at.args[0]&&(lt={a:"â",e:"ê",i:"î",o:"ô",u:"û",A:"Â",E:"Ê",I:"Î",O:"Ô",U:"Û"}[at.args[0]])!=null?lt:"^"}))}}),Ar("`","{:string}",{createAtom:at=>{var lt;return new Ir(wt(bt({},at),{type:"mord",isFunction:!1,limits:"adjacent",value:at.args[0]&&(lt={a:"à",e:"è",i:"ì",o:"ò",u:"ù",A:"À",E:"È",I:"Ì",O:"Ò",U:"Ù"}[at.args[0]])!=null?lt:"`"}))}}),Ar("'","{:string}",{createAtom:at=>{var lt;return new Ir(wt(bt({},at),{type:"mord",isFunction:!1,limits:"adjacent",value:at.args[0]&&(lt={a:"á",e:"é",i:"í",o:"ó",u:"ú",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú"}[at.args[0]])!=null?lt:"^"}))}}),Ar("~","{:string}",{createAtom:at=>{var lt;return new Ir(wt(bt({type:"mord"},at),{isFunction:!1,limits:"adjacent",value:at.args[0]&&(lt={n:"ñ",N:"Ñ",a:"ã",o:"õ",A:"Ã",O:"Õ"}[at.args[0]])!=null?lt:"´"}))}}),Ar("c","{:string}",{createAtom:at=>{var lt;return new Ir(wt(bt({},at),{type:"mord",isFunction:!1,limits:"adjacent",value:at.args[0]&&(lt={c:"ç",C:"Ç"}[at.args[0]])!=null?lt:""}))}}),Ar("enclose","{notation:string}[style:string]{body:auto}",{createAtom:at=>{var lt,ft;let xt=at.args,St={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"auto",svgStrokeStyle:void 0,borderStyle:void 0,style:(lt=at.style)!=null?lt:{}};if(xt[1]){let Tt=xt[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let Pt of Tt){let zt=Pt.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(zt)St.strokeWidth=zt[1],St.strokeStyle=zt[2],St.strokeColor=zt[3];else{let Kt=Pt.match(/\s*([a-z]*)\s*=\s*"(.*)"/);Kt&&(Kt[1]==="mathbackground"?St.backgroundcolor=Kt[2]:Kt[1]==="mathcolor"?St.strokeColor=Kt[2]:Kt[1]==="padding"?St.padding=Kt[2]:Kt[1]==="shadow"&&(St.shadow=Kt[2]))}}St.strokeStyle==="dashed"?St.svgStrokeStyle="5,5":St.strokeStyle==="dotted"&&(St.svgStrokeStyle="1,5")}St.borderStyle=`${St.strokeWidth} ${St.strokeStyle} ${St.strokeColor}`;let Ct={};return((ft=xt[0])!=null?ft:"").split(/[, ]/).filter(Tt=>Tt.length>0).forEach(Tt=>{Ct[Tt.toLowerCase()]=!0}),new Ou(at.command,yr(xt[2]),Ct,St)}}),Ar("cancel","{body:auto}",{createAtom:at=>{var lt;return new Ou(at.command,yr(at.args[0]),{updiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:(lt=at.style)!=null?lt:{}})}}),Ar("bcancel","{body:auto}",{createAtom:at=>{var lt;return new Ou(at.command,yr(at.args[0]),{downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:(lt=at.style)!=null?lt:{}})}}),Ar("xcancel","{body:auto}",{createAtom:at=>{var lt;return new Ou(at.command,yr(at.args[0]),{updiagonalstrike:!0,downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:(lt=at.style)!=null?lt:{}})}}),Ar(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:at=>{var lt;return new Zo(wt(bt({},at),{body:yr((lt=at.args)==null?void 0:lt[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgAbove:at.command.slice(1)}))}}),Ar("overbrace","{:auto}",{createAtom:at=>new Zo(wt(bt({},at),{body:yr(at.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgAbove:at.command.slice(1)}))}),Ar(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:at=>new Zo(wt(bt({},at),{body:yr(at.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgBelow:at.command.slice(1)}))}),Ar(["underbrace"],"{:auto}",{createAtom:at=>new Zo(wt(bt({},at),{body:yr(at.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgBelow:at.command.slice(1)}))}),Ar(["xrightarrow","longrightarrow","xleftarrow","longleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","longleftrightarrow","xLeftrightarrow","xrightleftharpoons","longrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xleftrightarrows","longleftrightarrows","xRightleftharpoons","longRightleftharpoons","xLeftrightharpoons","longLeftrightharpoons"],"[:auto]{:auto}",{createAtom:at=>{var lt,ft,xt,St,Ct;return new Zo(wt(bt({},at),{svgBody:at.command.slice(1),above:((ft=yr((lt=at.args)==null?void 0:lt[1]))==null?void 0:ft.length)===0?void 0:yr((xt=at.args)==null?void 0:xt[1]),below:(Ct=yr((St=at.args)==null?void 0:St[0]))!=null?Ct:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"rel"}))},serialize:(at,lt)=>at.command+(at.hasEmptyBranch("below")?"":`[${at.belowToLatex(lt)}]`)+`{${at.aboveToLatex(lt)}}${at.supsubToLatex(lt)}`}),Ar(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","cotg","coth","ctg","cth","csc","cosec","dim","exp","hom","inf","ker","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th","arcsec","arccsc","arsinh","arcosh","artanh","arcsech","arccsch"],"",{isFunction:!0,ifMode:"math",createAtom:at=>new _s(at.command.slice(1),wt(bt({},at),{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up"}))}),Ar(["liminf","limsup"],"",{ifMode:"math",createAtom:at=>new _s({"\\liminf":"lim inf","\\limsup":"lim sup"}[at.command],wt(bt({},at),{limits:"over-under",variant:"main"}))}),Ar(["lim","mod"],"",{ifMode:"math",createAtom:at=>new _s(at.command.slice(1),wt(bt({},at),{limits:"over-under",variant:"main"}))}),Ar(["det","max","min"],"",{ifMode:"math",isFunction:!0,createAtom:at=>new _s(at.command.slice(1),wt(bt({},at),{limits:"over-under",isFunction:!0,variant:"main"}))}),Ar(["ang"],"{:math}",{ifMode:"math",createAtom:at=>new Ir(wt(bt({},at),{body:yr(at.args[0])})),serialize:(at,lt)=>`\\ang{${at.bodyToLatex(lt)}}`,render:(at,lt)=>{let ft=at.createBox(lt),xt=ft.caret;ft.caret=void 0;let St=new Qr("°",{style:wt(bt({},at.style),{variant:"normal",variantStyle:"up"})});return new Qr([ft,St],{type:"inner",isSelected:at.isSelected,caret:xt})}}),Ar("sqrt","[index:auto]{radicand:expression}",{ifMode:"math",createAtom:at=>new Jy(wt(bt({},at),{body:yr(at.args[1]),index:at.args[0]?yr(at.args[0]):void 0}))}),Ar(["frac","dfrac","tfrac","cfrac","binom","dbinom","tbinom"],"{:expression}{:expression}",{ifMode:"math",createAtom:at=>{let lt=bt({},at),ft=at.command,xt=at.args;switch(ft){case"\\dfrac":case"\\frac":case"\\tfrac":lt.hasBarLine=!0;break;case"\\atopfrac":lt.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":lt.hasBarLine=!1,lt.leftDelim="(",lt.rightDelim=")";break;case"\\cfrac":lt.hasBarLine=!0,lt.continuousFraction=!0;break}switch(ft){case"\\dfrac":case"\\dbinom":lt.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":lt.mathstyleName="textstyle";break}return new iu(xt[0]?yr(xt[0]):[new Ds],xt[1]?yr(xt[1]):[new Ds],lt)},serialize:(at,lt)=>{let ft=at.aboveToLatex(lt),xt=at.belowToLatex(lt);return/^[0-9]$/.test(ft)&&/^[0-9]$/.test(xt)?`${at.command}${ft}${xt}`:jn(at.command,ft,xt)}}),Ar(["brace","brack"],"",{infix:!0,createAtom:at=>new iu(yr(at.args[0]),yr(at.args[1]),wt(bt({},at),{hasBarLine:!1,leftDelim:at.command==="\\brace"?"\\lbrace":"\\lbrack",rightDelim:at.command==="\\brace"?"\\rbrace":"\\rbrack"})),serialize:(at,lt)=>Cn([at.aboveToLatex(lt),at.command,at.belowToLatex(lt)])}),Ar(["over","atop","choose"],"",{infix:!0,createAtom:at=>{let lt,ft,xt=at.args;return at.command==="\\choose"&&(lt="(",ft=")"),new iu(yr(xt[0]),yr(xt[1]),wt(bt({},at),{hasBarLine:at.command==="\\over",leftDelim:lt,rightDelim:ft}))},serialize:(at,lt)=>Cn([at.aboveToLatex(lt),at.command,at.belowToLatex(lt)])}),Ar(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:at=>{var lt,ft;let xt=at.args;return new iu(yr(xt[0]),yr(xt[1]),wt(bt({},at),{leftDelim:(lt=xt[2])!=null?lt:".",rightDelim:(ft=xt[3])!=null?ft:".",hasBarLine:!1}))},serialize:(at,lt)=>`${at.aboveToLatex(lt)} ${at.command}${at.leftDelim}${at.rightDelim}${at.belowToLatex(lt)}`}),Ar("pdiff","{numerator}{denominator}",{ifMode:"math",createAtom:at=>new iu(yr(at.args[0]),yr(at.args[1]),wt(bt({},at),{hasBarLine:!0,numerPrefix:"∂",denomPrefix:"∂"}))}),Ar(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","intop"],"",{ifMode:"math",createAtom:at=>new _s({coprod:"∐",bigvee:"⋁",bigwedge:"⋀",biguplus:"⨄",bigcap:"⋂",bigcup:"⋃",intop:"∫",prod:"∏",sum:"∑",bigotimes:"⨂",bigoplus:"⨁",bigodot:"⨀",bigsqcup:"⨆",smallint:"∫"}[at.command.slice(1)],wt(bt({},at),{isExtensibleSymbol:!0,limits:"auto",variant:"main"}))}),Ar("smallint","",{ifMode:"math",createAtom:at=>new _s("∫",wt(bt({},at),{limits:"adjacent",isExtensibleSymbol:!1,variant:"main"}))});var Ix={int:"∫",iint:"∬",iiint:"∭",oint:"∮",oiint:"∯",oiiint:"∰",intclockwise:"∱",varointclockwise:"∲",ointctrclockwise:"∳",intctrclockwise:"⨑",sqcup:"⊔",sqcap:"⊓",uplus:"⊎",wr:"≀",amalg:"⨿",Cap:"⋒",Cup:"⋓",doublecap:"⋒",doublecup:"⋓"};Ar(Object.keys(Ix),"",{ifMode:"math",createAtom:at=>{let lt=at.command,ft=Ix[lt.slice(1)];return new _s(ft,wt(bt({},at),{limits:"adjacent",isExtensibleSymbol:!0,variant:{"⋒":"ams","⋓":"ams"}[ft]}))}}),Ar(["Re","Im"],"",{ifMode:"math",createAtom:at=>new _s({"\\Re":"ℜ","\\Im":"ℑ"}[at.command],wt(bt({},at),{limits:"adjacent",isFunction:!0,variant:"fraktur"}))}),Ar("middle","{:delim}",{ifMode:"math",createAtom:at=>{var lt;return new Yy(wt(bt({},at),{delim:(lt=at.args[0])!=null?lt:"|",size:1}))}}),Ar("the","{:value}",{createAtom:at=>new Ir(wt(bt({},at),{captureSelection:!0,verbatimLatex:null})),render:(at,lt)=>{var ft;let xt=new Dn({parent:lt},at.style),St="";at.isSelected&&(St+=" ML__selected");let Ct=xt.evaluate(at.args[0]);return new Qr(((ft=uo(Ct))!=null?ft:"").split("").map(Tt=>new Qr(Tt,{type:"ord",classes:St,mode:at.mode,isSelected:at.isSelected,style:bt({variant:"main"},at.style)})),{type:"lift",style:at.style,caret:at.caret,isSelected:at.isSelected,classes:St}).wrap(xt)},serialize:at=>{var lt;return`\\the${(lt=uo(at.args[0]))!=null?lt:"\\relax"}`}}),Ar("mathtip","{:auto}{:math}",{createAtom:at=>new C0(wt(bt({},at),{body:yr(at.args[0]),tooltip:yr(at.args[1]),content:"math"})),serialize:(at,lt)=>lt.skipStyles?at.bodyToLatex(lt):`\\texttip{${at.bodyToLatex(lt)}}{${Ir.serialize([at.tooltip],wt(bt({},lt),{defaultMode:"math"}))}}`}),Ar("texttip","{:auto}{:text}",{createAtom:at=>new C0(wt(bt({},at),{body:yr(at.args[0]),tooltip:yr(at.args[1]),content:"text"})),serialize:(at,lt)=>lt.skipStyles?at.bodyToLatex(lt):`\\texttip{${at.bodyToLatex(lt)}}{${Ir.serialize([at.tooltip],wt(bt({},lt),{defaultMode:"text"}))}}`}),Ar("error","{:math}",{createAtom:at=>new Ir(wt(bt({},at),{body:yr(at.args[0])})),serialize:(at,lt)=>`\\error{${at.bodyToLatex(lt)}}`,render:(at,lt)=>at.createBox(lt,{classes:"ML__error"})}),Ar("ensuremath","{:math}",{createAtom:at=>new Ir(wt(bt({},at),{body:yr(at.args[0])})),serialize:(at,lt)=>`${at.command}{${at.bodyToLatex(wt(bt({},lt),{defaultMode:"math"}))}}`}),Ar("color","{:value}",{applyStyle:(at,lt,ft)=>{var xt,St;return{verbatimColor:(xt=uo(lt[0]))!=null?xt:void 0,color:ft.toColor((St=lt[0])!=null?St:{string:"red"})}}}),Ar("textcolor","{:value}{content:auto*}",{applyStyle:(at,lt,ft)=>{var xt,St;return{verbatimColor:(xt=uo(lt[0]))!=null?xt:void 0,color:ft.toColor((St=lt[0])!=null?St:{string:"red"})}}}),Ar("boxed","{content:math}",{createAtom:at=>new Us(wt(bt({},at),{body:yr(at.args[0]),framecolor:{string:"black"}}))}),Ar("colorbox","{:value}{:text*}",{applyStyle:(at,lt,ft)=>{var xt,St;return{verbatimBackgroundColor:(xt=uo(lt[0]))!=null?xt:void 0,backgroundColor:ft.toBackgroundColor((St=lt[0])!=null?St:{string:"yellow"})}}}),Ar("fcolorbox","{frame-color:value}{background-color:value}{content:text}",{applyMode:"text",createAtom:at=>{var lt,ft;return new Us(wt(bt({},at),{body:yr(at.args[2]),framecolor:(lt=at.args[0])!=null?lt:{string:"blue"},backgroundcolor:(ft=at.args[1])!=null?ft:{string:"yellow"}}))},serialize:(at,lt)=>{var ft,xt;return lt.skipStyles?at.bodyToLatex(wt(bt({},lt),{defaultMode:"text"})):jn(at.command,(ft=uo(at.framecolor))!=null?ft:"",(xt=uo(at.backgroundcolor))!=null?xt:"",at.bodyToLatex(wt(bt({},lt),{defaultMode:"text"})))}}),Ar("bbox","[:bbox]{body:auto}",{createAtom:at=>{var lt;let ft=at.args[0],xt=yr(at.args[1]);return ft?new Us(wt(bt({},at),{body:xt,padding:ft.padding,border:ft.border,backgroundcolor:(lt=ft.backgroundcolor)!=null?lt:void 0})):new Us(wt(bt({},at),{body:xt}))},serialize:(at,lt)=>{var ft,xt;if(lt.skipStyles)return at.bodyToLatex(lt);let St=at.command;if(Number.isFinite(at.padding)||at.border!==void 0||at.backgroundcolor!==void 0){let Ct=[];at.padding&&Ct.push((ft=uo(at.padding))!=null?ft:""),at.border&&Ct.push(`border: ${at.border}`),at.backgroundcolor&&Ct.push((xt=uo(at.backgroundcolor))!=null?xt:""),St+=`[${Ct.join(",")}]`}return jn(St,at.bodyToLatex(lt))}}),Ar(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:at=>new Ir(wt(bt({},at),{body:yr(at.args[0])})),render:(at,lt)=>{let ft=new Dn({parent:lt,mathstyle:at.command.slice(1)},at.style),xt=Ir.createBox(ft,at.body,{type:"lift"});return at.caret&&(xt.caret=at.caret),at.bind(lt,xt)},serialize:(at,lt)=>lt.skipStyles?at.bodyToLatex(lt):`{${Cn([at.command,at.bodyToLatex(lt)])}}`}),Ar(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:at=>({fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[at]})}),Ar("fontseries","{:string}",{ifMode:"text",applyStyle:(at,lt)=>{var ft;return{fontSeries:(ft=lt[0])!=null?ft:"auto"}}}),Ar("fontshape","{:string}",{ifMode:"text",applyStyle:(at,lt)=>{var ft;return{fontShape:(ft=lt[0])!=null?ft:"auto"}}}),Ar("fontfamily","{:string}",{ifMode:"text",applyStyle:(at,lt)=>{var ft;return{fontFamily:(ft=lt[0])!=null?ft:"roman"}}}),Ar("selectfont","",{ifMode:"text",applyStyle:()=>({})}),Ar("bf","{:rest}",{applyStyle:()=>({fontSeries:"b",fontShape:"n",fontFamily:"roman"})}),Ar(["boldsymbol","bm"],"{:math}",{applyMode:"math",createAtom:at=>new Ir(wt(bt({},at),{body:yr(at.args[0])})),serialize:(at,lt)=>`${at.command}{${at.bodyToLatex(lt)}}`,render:(at,lt)=>at.createBox(lt,{classes:"ML__boldsymbol"})}),Ar("bold","{:math*}",{applyMode:"math",applyStyle:()=>({variantStyle:"bold"})}),Ar("bfseries","{:rest}",{applyMode:"text",applyStyle:()=>({fontSeries:"b"})}),Ar("mdseries","{:rest}",{applyMode:"text",applyStyle:()=>({fontSeries:"m"})}),Ar("upshape","{:rest}",{applyMode:"text",applyStyle:()=>({fontShape:"n"})}),Ar("slshape","{:rest}",{applyMode:"text",applyStyle:()=>({fontShape:"sl"})}),Ar("scshape","{:rest}",{applyMode:"text",applyStyle:()=>({fontShape:"sc"})}),Ar("textbf","{:text*}",{applyMode:"text",applyStyle:()=>({fontSeries:"b"})}),Ar("textmd","{:text*}",{applyMode:"text",applyStyle:()=>({fontSeries:"m"})}),Ar("textup","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"n"})}),Ar("textnormal","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"n",fontSeries:"m"})}),Ar("textsl","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"sl"})}),Ar("textit","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"it"})}),Ar("textsc","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"sc"})}),Ar("textrm","{:text*}",{applyMode:"text",applyStyle:()=>({fontFamily:"roman"})}),Ar("textsf","{:text*}",{applyMode:"text",applyStyle:()=>({fontFamily:"sans-serif"})}),Ar("texttt","{:text*}",{applyMode:"text",applyStyle:()=>({fontFamily:"monospace"})}),Ar("mathbf","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"normal",variantStyle:"bold"})}),Ar("mathit","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"main",variantStyle:"italic"})}),Ar("mathnormal","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"normal",variantStyle:"italic"})}),Ar("mathbfit","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"main",variantStyle:"bolditalic"})}),Ar("mathrm","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"normal",variantStyle:"up"})}),Ar("mathsf","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"sans-serif",variantStyle:"up"})}),Ar("mathtt","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"monospace",variantStyle:"up"})}),Ar("it","{:rest}",{applyStyle:()=>({fontSeries:"m",fontShape:"it",fontFamily:"roman",variantStyle:"italic"})}),Ar("rmfamily","",{applyStyle:()=>({fontFamily:"roman"})}),Ar("sffamily","",{applyStyle:()=>({fontFamily:"sans-serif"})}),Ar("ttfamily","",{applyStyle:()=>({fontFamily:"monospace"})}),Ar(["Bbb","mathbb"],"{:math*}",{applyStyle:()=>({variant:"double-struck",variantStyle:"up"})}),Ar(["frak","mathfrak"],"{:math*}",{applyStyle:()=>({variant:"fraktur",variantStyle:"up"})}),Ar("mathcal","{:math*}",{applyStyle:()=>({variant:"calligraphic",variantStyle:"up"})}),Ar("mathscr","{:math*}",{applyStyle:()=>({variant:"script",variantStyle:"up"})}),Ar("mbox","{:text}",{ifMode:"math",createAtom:at=>new Ir(wt(bt({},at),{type:"mord",body:yr(at.args[0]),mode:"math"})),serialize:(at,lt)=>jn("\\mbox",at.bodyToLatex(wt(bt({},lt),{defaultMode:"text"})))}),Ar("text","{:text}",{ifMode:"math",applyMode:"text"}),Ar(["class","htmlClass"],"{name:string}{content:auto}",{createAtom:at=>new Ir(wt(bt({},at),{body:yr(at.args[1])})),serialize:(at,lt)=>!at.args[0]||lt.skipStyles?at.bodyToLatex(lt):`${at.command}{${at.args[0]}}{${at.bodyToLatex(lt)}}`,render:(at,lt)=>{var ft;return at.createBox(lt,{classes:(ft=at.args[0])!=null?ft:""})}}),Ar(["cssId","htmlId"],"{id:string}{content:auto}",{createAtom:at=>new Ir(wt(bt({},at),{body:yr(at.args[1])})),serialize:(at,lt)=>{var ft;return!((ft=at.args)!=null&&ft[0])||lt.skipStyles?at.bodyToLatex(lt):`${at.command}{${at.args[0]}}{${at.bodyToLatex(lt)}}`},render:(at,lt)=>{var ft;let xt=at.createBox(lt);return xt.cssId=(ft=at.args[0])!=null?ft:"",xt}}),Ar("htmlData","{data:string}{content:auto}",{createAtom:at=>new Ir(wt(bt({},at),{body:yr(at.args[1])})),serialize:(at,lt)=>{var ft;return!((ft=at.args)!=null&&ft[0])||lt.skipStyles?at.bodyToLatex(lt):`\\htmlData{${at.args[0]}}{${at.bodyToLatex(lt)}}`},render:(at,lt)=>{var ft;let xt=at.createBox(lt);return xt.htmlData=(ft=at.args[0])!=null?ft:"",xt}}),Ar(["style","htmlStyle"],"{data:string}{content:auto}",{createAtom:at=>new Ir(wt(bt({},at),{body:yr(at.args[1])})),serialize:(at,lt)=>{var ft;return!((ft=at.args)!=null&&ft[0])||lt.skipStyles?at.bodyToLatex(lt):`${at.command}{${at.args[0]}}{${at.bodyToLatex(lt)}}`},render:(at,lt)=>{var ft;let xt=at.createBox(lt);return xt.htmlStyle=(ft=at.args[0])!=null?ft:"",xt}}),Ar("em","{:rest}",{createAtom:at=>new Ir(wt(bt({},at),{body:yr(at.args[0])})),serialize:(at,lt)=>lt.skipStyles?at.bodyToLatex(lt):`{\\em ${at.bodyToLatex(lt)}}`,render:(at,lt)=>at.createBox(lt,{classes:"ML__emph",boxType:"lift"})}),Ar("emph","{:auto}",{createAtom:at=>new Ir(wt(bt({},at),{body:yr(at.args[1])})),serialize:(at,lt)=>lt.skipStyles?at.bodyToLatex(lt):`\\emph{${at.bodyToLatex(lt)}}`,render:(at,lt)=>at.createBox(lt,{classes:"ML__emph",boxType:"lift"})});var jx={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};Ar(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:at=>{var lt;return new Qy(wt(bt({},at),{delim:(lt=at.args[0])!=null?lt:".",size:jx[at.command].size,delimType:jx[at.command].mclass}))}}),Ar(["hspace","hspace*"],"{width:value}",{createAtom:at=>{var lt;return new Lu(wt(bt({},at),{width:(lt=at.args[0])!=null?lt:{dimension:0}}))}}),Ar(["mkern","kern","mskip","hskip","mspace"],"{width:value}",{createAtom:at=>{var lt;return new Lu(wt(bt({},at),{width:(lt=at.args[0])!=null?lt:{dimension:0}}))}}),Ar("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:at=>new Ir(at),render:(at,lt)=>{let ft=0,xt=lt.mathstyle.id;(xt===Kp||xt===_l)&&(ft=1),(xt===ru||xt===zo)&&(ft=2),(xt===Cl||xt===Do)&&(ft=3);let St=yr(at.args[ft]);return Ir.createBox(lt,St)},serialize:(at,lt)=>`\\mathchoice{${Ir.serialize(at.args[0],lt)}}{${Ir.serialize(at.args[1],lt)}}{${Ir.serialize(at.args[2],lt)}}{${Ir.serialize(at.args[3],lt)}}`}),Ar("mathop","{:auto}",{createAtom:at=>new Ir(wt(bt({},at),{type:"mop",body:yr(at.args[0]),limits:"over-under",isFunction:!0,captureSelection:!0})),render:(at,lt)=>{var ft;let xt=Ir.createBox(lt,at.body);if(at.superscript||at.subscript){let St=(ft=at.subsupPlacement)!=null?ft:"auto";xt=St==="over-under"||St==="auto"&&lt.isDisplayStyle?at.attachLimits(lt,{base:xt}):at.attachSupsub(lt,{base:xt})}return new Qr(at.bind(lt,xt),{type:"op",isSelected:at.isSelected,classes:"op-group"})},serialize:(at,lt)=>{let ft=[jn(at.command,at.bodyToLatex(lt))];return at.explicitSubsupPlacement&&(at.subsupPlacement==="over-under"&&ft.push("\\limits"),at.subsupPlacement==="adjacent"&&ft.push("\\nolimits"),at.subsupPlacement==="auto"&&ft.push("\\displaylimits")),ft.push(at.supsubToLatex(lt)),Cn(ft)}}),Ar(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:at=>new Ir(wt(bt({},at),{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[at.command],body:yr(at.args[0]),captureSelection:!0}))}),Ar(["operatorname","operatorname*"],"{operator:math}",{createAtom:at=>{let lt=yr(at.args[0]).map(ft=>{var xt;return ft.type!=="first"&&(ft.type="mord",ft.value=(xt={"∗":"*","−":"-"}[ft.value])!=null?xt:ft.value,ft.isFunction=!1,!ft.style.variant&&!ft.style.variantStyle&&(ft.style.variant="main",ft.style.variantStyle="up")),ft});return new Ir(wt(bt({},at),{type:"mop",body:lt,isFunction:!0,limits:at.command==="\\operatorname"?"adjacent":"over-under"}))},render:(at,lt)=>{var ft;let xt=Ir.createBox(lt,at.body);if(at.superscript||at.subscript){let St=(ft=at.subsupPlacement)!=null?ft:"auto";xt=St==="over-under"||St==="auto"&&lt.isDisplayStyle?at.attachLimits(lt,{base:xt}):at.attachSupsub(lt,{base:xt})}return new Qr(at.bind(lt,xt),{type:"op",isSelected:at.isSelected,classes:"op-group"})},serialize:(at,lt)=>{let ft=[jn(at.command,at.bodyToLatex(lt))];return at.explicitSubsupPlacement&&(at.subsupPlacement==="over-under"&&ft.push("\\limits"),at.subsupPlacement==="adjacent"&&ft.push("\\nolimits"),at.subsupPlacement==="auto"&&ft.push("\\displaylimits")),ft.push(at.supsubToLatex(lt)),Cn(ft)}}),Ar(["char","unicode"],"{charcode:value}",{createAtom:at=>new Ir(wt(bt({},at),{type:at.mode==="text"?"text":"mord"})),serialize:at=>{var lt;return`${at.command}${uo((lt=at.args[0])!=null?lt:{number:10067,base:"hexadecimal"})}`},render:(at,lt)=>{let ft=lt.evaluate(at.args[0]);return(!ft||!("number"in ft))&&(ft={number:10067,base:"hexadecimal"}),at.value=String.fromCodePoint(ft.number),at.createBox(lt)}}),Ar("rule","[raise:value]{width:value}{thickness:value}",{createAtom:at=>new Ir(at),render:(at,lt)=>{var ft,xt,St;let Ct=new Dn({parent:lt,mathstyle:"textstyle"},at.style),Tt=Ct.toEm((ft=at.args[0])!=null?ft:{dimension:0}),Pt=Ct.toEm((xt=at.args[1])!=null?xt:{dimension:10}),zt=Ct.toEm((St=at.args[2])!=null?St:{dimension:10}),Kt=new Qr(null,{classes:"rule",type:"ord",width:Pt,height:zt+Tt,depth:-Tt});return Kt.setStyle("border-right-width",Pt,"em"),Kt.setStyle("border-top-width",zt,"em"),Kt.setStyle("border-color",at.style.color),Kt.setStyle("vertical-align",Tt,"em"),at.isSelected&&Kt.setStyle("opacity","50%"),at.bind(Ct,Kt),at.caret&&(Kt.caret=at.caret),Kt.wrap(lt)},serialize:at=>`\\rule${at.args[0]?`[${uo(at.args[0])}]`:""}{${uo(at.args[1])}}{${uo(at.args[2])}}`}),Ar(["overline","underline"],"{:auto}",{createAtom:at=>new Ir(wt(bt({},at),{body:yr(at.args[0])})),render:(at,lt)=>{let ft=at.command.substring(1),xt=new Dn({parent:lt,mathstyle:"cramp"},at.style),St=Ir.createBox(xt,at.body);if(!St)return null;let Ct=xt.metrics.defaultRuleThickness/xt.scalingFactor,Tt=new Qr(null,{classes:ft+"-line"});Tt.height=Ct,Tt.maxFontSize=Ct*1.125*xt.scalingFactor;let Pt;return ft==="overline"?Pt=new ro({shift:0,children:[{box:St},3*Ct,{box:Tt},Ct]}):Pt=new ro({top:St.height,children:[Ct,{box:Tt},3*Ct,{box:St}]}),at.caret&&(Pt.caret=at.caret),new Qr(Pt,{classes:ft,type:"ignore"})}}),Ar("overset","{:auto}{base:auto}",{createAtom:at=>{let lt=yr(at.args[1]);return new Zo(wt(bt({},at),{above:yr(at.args[0]),body:lt,skipBoundary:!1,boxType:Mu(lt)}))},serialize:(at,lt)=>jn(at.command,at.aboveToLatex(lt),at.bodyToLatex(lt))}),Ar("underset","{:auto}{base:auto}",{createAtom:at=>{let lt=yr(at.args[1]);return new Zo(wt(bt({},at),{below:yr(at.args[0]),body:lt,skipBoundary:!1,boxType:Mu(lt)}))},serialize:(at,lt)=>jn(at.command,at.belowToLatex(lt),at.bodyToLatex(lt))}),Ar("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:at=>{let lt=yr(at.args[2]);return new Zo(wt(bt({},at),{above:yr(at.args[0]),below:yr(at.args[1]),body:lt,skipBoundary:!1,boxType:Mu(lt)}))},serialize:(at,lt)=>jn(at.command,at.belowToLatex(lt),at.bodyToLatex(lt))}),Ar(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:at=>new Zo(wt(bt({},at),{body:yr(at.args[2]),above:yr(at.args[1]),below:yr(at.args[0]),skipBoundary:!1,boxType:at.command==="\\stackrel"?"rel":"bin"})),serialize:(at,lt)=>jn(at.command,at.aboveToLatex(lt),at.bodyToLatex(lt))}),Ar("smash","[:string]{:auto}",{createAtom:at=>{var lt,ft,xt,St;return new Pu(wt(bt({},at),{body:yr(at.args[1]),smashHeight:(ft=(lt=at.args[0])==null?void 0:lt.includes("t"))!=null?ft:!0,smashDepth:(St=(xt=at.args[0])==null?void 0:xt.includes("b"))!=null?St:!0}))}}),Ar(["vphantom"],"{:auto}",{createAtom:at=>new Pu(wt(bt({},at),{body:yr(at.args[0]),isInvisible:!0,smashWidth:!0}))}),Ar(["hphantom"],"{:auto}",{createAtom:at=>new Pu(wt(bt({},at),{body:yr(at.args[0]),isInvisible:!0,smashHeight:!0,smashDepth:!0}))}),Ar(["phantom"],"{:auto}",{createAtom:at=>new Pu(wt(bt({},at),{body:yr(at.args[0]),isInvisible:!0}))}),Ar("not","{:math}",{createAtom:at=>{let lt=yr(at.args[0]);return lt.length===0?new Ir(wt(bt({},at),{type:"mrel",value:""})):new Ir(wt(bt({},at),{body:[new Ol(wt(bt({},at),{body:"",align:"right"})),...lt],captureSelection:!0}))},serialize:(at,lt)=>{let ft=at.args[0],xt=ft&&typeof ft=="object"&&"group"in ft;return at.value!==""?xt?`\\not{${Ir.serialize(ft.group,lt)}}`:`\\not${Ir.serialize(ft,lt)}`:xt?"\\not{}":"\\not"},render:(at,lt)=>{if(at.value)return at.createBox(lt);let ft=at.args[0]&&typeof at.args[0]=="object"&&"group"in at.args[0]?"ord":Mu(yr(at.args[0])),xt=Ir.createBox(lt,at.body,{type:ft});return at.caret&&(xt.caret=at.caret),at.bind(lt,xt)}}),Ar(["ne","neq"],"",{createAtom:at=>new Ir(wt(bt({},at),{type:"mrel",body:[new Ol(wt(bt({},at),{body:"",align:"right",boxType:"rel"})),new Ir(wt(bt({},at),{value:"="}))],captureSelection:!0})),serialize:at=>at.command}),Ar("rlap","{:auto}",{createAtom:at=>new Ol(wt(bt({},at),{body:yr(at.args[0]),align:"right"}))}),Ar("llap","{:auto}",{createAtom:at=>new Ol(wt(bt({},at),{body:yr(at.args[0]),align:"left"}))}),Ar("mathrlap","{:math}",{createAtom:at=>new Ol(wt(bt({},at),{body:yr(at.args[0]),align:"left"}))}),Ar("mathllap","{:math}",{createAtom:at=>new Ol(wt(bt({},at),{body:yr(at.args[0]),align:"left"}))}),Ar("raisebox","{:value}{:text}",{createAtom:at=>{var lt;return new Us(wt(bt({},at),{body:yr(at.args[1]),padding:{dimension:0},offset:(lt=at.args[0])!=null?lt:{dimension:0}}))},serialize:(at,lt)=>{var ft;return jn("\\raisebox",(ft=uo(at.offset))!=null?ft:"0pt",at.bodyToLatex(lt))}}),Ar("raise","{:value}{:auto}",{createAtom:at=>{var lt;return new Us(wt(bt({},at),{body:yr(at.args[1]),padding:{dimension:0},offset:(lt=at.args[0])!=null?lt:{dimension:0}}))},serialize:(at,lt)=>{var ft;return jn("\\raise",(ft=uo(at.offset))!=null?ft:"0pt",at.bodyToLatex(lt))}}),Ar("lower","{:value}{:auto}",{createAtom:at=>{var lt;return new Us(wt(bt({},at),{body:yr(at.args[1]),padding:{dimension:0},offset:(lt=cs(at.args[0],-1))!=null?lt:{dimension:0}}))},serialize:(at,lt)=>{var ft,xt;return jn("\\lower",(xt=uo(cs((ft=at.offset)!=null?ft:{dimension:0},-1)))!=null?xt:"0pt",at.bodyToLatex(lt))}}),Fr("0123456789/@.?!"),Er(65,90),Er(97,122),Fr([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]),Fr([["\\sharp",9839],["\\flat",9837],["\\natural",9838],["\\#",35],["\\&",38],["\\clubsuit",9827],["\\heartsuit",9825],["\\spadesuit",9824],["\\diamondsuit",9826],["\\parallelogram",9649]]),Fr([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\Q",81,"mord","double-struck"],["\\C",67,"mord","double-struck"],["\\P",80,"mord","double-struck"],["\\pounds",163],["\\euro",8364]]),Fr([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel"),Fr([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]),Fr([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\twoheadrightarrowtail",10518],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nleftarrow",8602],["\\nrightarrow",8603],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\nvrightarrow",8696],["\\nvtwoheadrightarrow",10496],["\\nvrightarrowtail",10516],["\\nvtwoheadrightarrowtail",10519],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams"),Fr([["+",43],["-",8722],["−",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin"),Fr([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams"),Fr([["\\surd",8730],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\emptyset",8709]]),Fr([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",8869],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel"),Fr([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams"),Fr([["\\wp",8472],["\\aleph",8501]]),Fr([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams"),Fr([["\\ ",160],["~",160]],"space"),Ar(["!",",",":",";","enskip","enspace","quad","qquad"],"",{createAtom:at=>new Lu(at)}),Ar("space","",{createAtom:at=>new Lu(at)}),Fr([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct"),Fr([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner"),Fr([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]),Fo({undo:at=>(at.undo(),!0),redo:at=>(at.redo(),!0),scrollIntoView:at=>(at.scrollIntoView(),!0),scrollToStart:at=>(at.field.scroll(0,0),!0),scrollToEnd:at=>{let lt=at.field.getBoundingClientRect();return at.field.scroll(lt.left-window.scrollX,0),!0},toggleKeystrokeCaption:Pw,plonk:at=>(at.model.announce("plonk"),!0),switchMode:(at,lt,ft,xt)=>(at.switchMode(lt,ft,xt),!0),insert:(at,lt,ft)=>at.insert(lt,ft),typedText:(at,lt,ft)=>(K0(at,lt,ft),!0),insertDecimalSeparator:at=>{let lt=at.model;return lt.mode==="math"&&window.MathfieldElement.decimalSeparator===","&&lt.at(Math.max(lt.position,lt.anchor)).isDigit()?(at.insert("{,}",{format:"latex"}),at.snapshot("insert-mord"),!0):(at.insert("."),!0)},commit:at=>{var lt;return Hn(at.model,{inputType:"insertLineBreak"})&&((lt=at.host)==null||lt.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),An(at.model,{inputType:"insertLineBreak"})),!0},insertPrompt:(at,lt,ft)=>{let xt=at.getPrompts(),St="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),Ct=0;for(;xt.includes(St)&&Ct<100;){if(Ct===99)return console.error("could not find a unique ID after 100 tries"),!1;St="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),Ct++}return at.insert(`\\placeholder[${lt??St}]{}`,ft),!0}}),Fo({copyToClipboard:at=>(at.focus(),at.model.selectionIsCollapsed&&at.select(),"queryCommandSupported"in document&&document.queryCommandSupported("copy")?document.execCommand("copy"):at.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("copy",{bubbles:!0,composed:!0})),!1)},{target:"mathfield"}),Fo({cutToClipboard:at=>(at.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("cut")?document.execCommand("cut"):at.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("cut",{bubbles:!0,composed:!0})),!0),pasteFromClipboard:at=>(at.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("paste")?(document.execCommand("paste"),!0):(navigator.clipboard.readText().then(lt=>{lt&&Hn(at.model,{inputType:"insertFromPaste",data:lt})?(at.stopCoalescingUndo(),at.stopRecording(),at.insert(lt,{mode:at.model.mode})&&(qu(at),at.startRecording(),at.snapshot("paste"),An(at.model,{inputType:"insertFromPaste"}),no(at))):at.model.announce("plonk"),at.startRecording()}),!0))},{target:"mathfield",canUndo:!0,changeContent:!0,changeSelection:!0});function jw(at,lt){at.flushInlineShortcutBuffer(),at.stopCoalescingUndo();let ft=qx(at,lt),{model:xt}=at;return xt.selectionIsCollapsed?(at.style.fontSeries&&ft.fontSeries===at.style.fontSeries&&(ft.fontSeries="auto"),ft.fontShape&&ft.fontShape===at.style.fontShape&&(ft.fontShape="auto"),ft.color&&ft.color===at.style.color&&(ft.color="none"),ft.backgroundColor&&ft.backgroundColor===at.style.backgroundColor&&(ft.backgroundColor="none"),ft.fontSize&&ft.fontSize===at.style.fontSize&&(ft.fontSize="auto"),at.style=bt(bt({},at.style),ft)):at.model.deferNotifications({content:!0,type:"insertText"},()=>{xt.selection.ranges.forEach(St=>I0(xt,St,ft,{operation:"toggle"})),at.snapshot("style-change")}),!0}Fo({applyStyle:jw},{target:"mathfield",canUndo:!0,changeContent:!0});function qx(at,lt){var ft,xt,St,Ct,Tt,Pt;let zt={};typeof lt.color=="string"&&(zt.verbatimColor=lt.color,zt.color=(ft=at.colorMap(lt.color))!=null?ft:"none"),typeof lt.backgroundColor=="string"&&(zt.verbatimBackgroundColor=lt.backgroundColor,zt.backgroundColor=(xt=at.backgroundColorMap(lt.backgroundColor))!=null?xt:"none"),typeof lt.fontFamily=="string"&&(zt.fontFamily=lt.fontFamily),typeof lt.series=="string"&&(zt.fontSeries=lt.series),typeof lt.fontSeries=="string"&&(zt.fontSeries=lt.fontSeries.toLowerCase()),zt.fontSeries&&(zt.fontSeries=(St={bold:"b",medium:"m",normal:"m"}[zt.fontSeries])!=null?St:zt.fontSeries),typeof lt.shape=="string"&&(zt.fontShape=lt.shape),typeof lt.fontShape=="string"&&(zt.fontShape=lt.fontShape.toLowerCase()),zt.fontShape&&(zt.fontShape=(Ct={italic:"it",up:"n",upright:"n",normal:"n"}[zt.fontShape])!=null?Ct:zt.fontShape);let Kt=(Tt=lt.size)!=null?Tt:lt.fontSize;return typeof Kt=="number"?zt.fontSize=Math.max(1,Math.min(10,Kt)):typeof Kt=="string"&&(zt.fontSize=(Pt={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[Kt.toLowerCase()])!=null?Pt:{tiny:1,scriptsize:2,footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[Kt]),zt}function Ux(at){var lt,ft,xt,St,Ct,Tt;if(Ax(at,at.position)==="text"){let[Pt,zt]=co(at.selection),Kt=!1;for(;!Kt&&Pt>0;){let Ht=at.at(Pt);Ht.mode==="text"&&xr.test(Ht.value)?Pt-=1:Kt=!0}for(Kt=!1;!Kt&&zt<=at.lastOffset;){let Ht=at.at(zt);Ht.mode==="text"&&xr.test(Ht.value)?zt+=1:Kt=!0}if(Kt&&(zt-=1),Pt>=zt)return at.setSelection(zt-1,zt),!0;at.setSelection(Pt,zt)}else{let Pt=at.at(at.position);if(Pt.isDigit()){let[zt,Kt]=co(at.selection);for(;(lt=at.at(zt))!=null&&lt.isDigit();)zt-=1;for(;(ft=at.at(Kt))!=null&&ft.isDigit();)Kt+=1;at.setSelection(zt,Kt-1)}else if(Pt.style.variant||Pt.style.variantStyle){let[zt,Kt]=co(at.selection),Ht=(xt=at.at(zt))==null?void 0:xt.style;for(;Ht&&Ht.variant===Pt.style.variant&&Ht.variantStyle===Pt.style.variantStyle;)zt-=1,Ht=(St=at.at(zt))==null?void 0:St.style;for(Ht=(Ct=at.at(Kt))==null?void 0:Ct.style;Ht&&Ht.variant===Pt.style.variant&&Ht.variantStyle===Pt.style.variantStyle;)Kt+=1,Ht=(Tt=at.at(Kt))==null?void 0:Tt.style;at.setSelection(zt,Kt-1)}else at.setSelection(at.offsetOf(Pt.firstSibling),at.offsetOf(Pt.lastSibling))}return!0}Fo({selectGroup:at=>{let lt=Ux(at);return lt||at.announce("plonk"),lt},selectAll:at=>at.setSelection(0,at.lastOffset),extendSelectionForward:at=>ms(at,"forward",{extend:!0}),extendSelectionBackward:at=>ms(at,"backward",{extend:!0}),extendToNextWord:at=>pu(at,"forward",{extend:!0}),extendToPreviousWord:at=>pu(at,"backward",{extend:!0}),extendSelectionUpward:at=>ms(at,"upward",{extend:!0}),extendSelectionDownward:at=>ms(at,"downward",{extend:!0}),extendToNextBoundary:at=>pu(at,"forward",{extend:!0}),extendToPreviousBoundary:at=>pu(at,"backward",{extend:!0}),extendToGroupStart:at=>{let lt=at.setSelection(at.anchor,at.offsetOf(at.at(at.position).firstSibling));return lt||at.announce("plonk"),lt},extendToGroupEnd:at=>{let lt=at.setSelection(at.anchor,at.offsetOf(at.at(at.position).lastSibling));return lt||at.announce("plonk"),lt},extendToMathFieldStart:at=>{let lt=at.setSelection(at.anchor,0);return lt||at.announce("plonk"),lt},extendToMathFieldEnd:at=>{let lt=at.setSelection(at.anchor,at.lastOffset);return lt||at.announce("plonk"),lt}},{target:"model",changeSelection:!0});var Hl=null,_d=0;function Kx(at){return at instanceof PointerEvent}function Vx(at,lt){var ft;at.atomBoundsCache=new Map;let xt=at,St,Ct=!1,Tt="none";if(lt.buttons>1)return;let Pt=!1,zt=!1,Kt=lt.clientX,Ht=lt.clientY,Jt=Date.now(),fr=xt.field,hr=setInterval(()=>{Pt?fr.scroll({top:0,left:fr.scrollLeft-16}):zt&&fr.scroll({top:0,left:fr.scrollLeft+16})},32);function mr(Pr){"PointerEvent"in window?(Wp(fr,"pointermove",Rr),Wp(fr,"pointerup pointercancel",mr),Pr instanceof PointerEvent&&fr.releasePointerCapture(Pr.pointerId)):(Wp(window,"mousemove",Rr),Wp(window,"mouseup blur",mr)),Ct=!1,clearInterval(hr),at.element.classList.remove("tracking"),Pr&&Pr.preventDefault()}function Rr(Pr){if(!xt.hasFocus()){mr(null);return}let Ur=Pr.clientX,un=Pr.clientY,Zr=Kx(Pr)&&Pr.pointerType==="touch"?20:5;if(Date.now()<Jt+500&&Math.abs(Kt-Ur)<Zr&&Math.abs(Ht-un)<Zr){Pr.preventDefault(),Pr.stopPropagation();return}let dn=fr.getBoundingClientRect();zt=Ur>dn.right,Pt=Ur<dn.left;let an=St;Kx(Pr)&&(Pr.isPrimary||(an=_f(xt,Pr.clientX,Pr.clientY,{bias:0})));let Mn=_f(xt,Ur,un,{bias:Ur<=Kt?Ur===Kt?0:-1:1});an>=0&&Mn>=0&&(xt.model.extendSelectionTo(an,Mn),no(at)),Pr.preventDefault(),Pr.stopPropagation()}Hl&&Math.abs(Hl.x-Kt)<5&&Math.abs(Hl.y-Ht)<5&&Date.now()<Hl.time+500?(_d+=1,Hl.time=Jt):(Hl={x:Kt,y:Ht,time:Jt},_d=1);let Yr=fr.getBoundingClientRect();if(Kt>=Yr.left&&Kt<=Yr.right&&Ht>=Yr.top&&Ht<=Yr.bottom){if(at.hasFocus()||(Tt="none",at.focus({preventScroll:!0})),at.flushInlineShortcutBuffer(),at.adoptStyle="left",St=_f(at,Kt,Ht,{bias:0}),St>=0){if(at.element.classList.add("tracking"),lt.shiftKey){let Pr=at.model.selectionIsCollapsed;at.model.extendSelectionTo(at.model.anchor,St),ux(at.model)||Pr?Tt="all":Tt="selection"}else at.model.at(St).type==="placeholder"?(at.model.setSelection(St-1,St),Tt="selection"):((ft=at.model.at(St).rightSibling)==null?void 0:ft.type)==="placeholder"?(at.model.setSelection(St,St+1),Tt="selection"):(at.model.position=St,ux(at.model)?Tt="all":Tt="selection");at.style={},lt.detail===3||_d>2?(mr(lt),(lt.detail===3||_d===3)&&(at.model.selection={ranges:[[0,at.model.lastOffset]]},Tt="all")):Ct||(Ct=!0,"PointerEvent"in window?(ku(fr,"pointermove",Rr),ku(fr,"pointerup pointercancel",mr),lt instanceof PointerEvent&&fr.setPointerCapture(lt.pointerId)):(ku(window,"blur",mr),ku(window,"mousemove",Rr),ku(window,"mouseup",mr)),(lt.detail===2||_d===2)&&(Ux(at.model),Tt="all"))}}else Hl=null;at.stopCoalescingUndo(),Tt!=="none"&&(at.model.selectionIsCollapsed&&(Tt="all"),no(at)),lt.preventDefault()}function qw(at,lt,ft){if(at>=ft.left&&at<=ft.right&&lt>=ft.top&&lt<=ft.bottom)return 0;let xt=at-(ft.left+ft.right)/2,St=lt-(ft.top+ft.bottom)/2;return xt*xt+St*St}function Hx(at,lt,ft,xt,St){if(!ft.id)return[1/0,null];if(lt.has(ft.id))return lt.get(ft.id);let Ct=Nu(at,ft);if(!Ct)return[1/0,null];let Tt=[1/0,null];if(ft.hasChildren&&!ft.captureSelection&&xt>=Ct.left&&xt<=Ct.right)for(let Pt of ft.children){let zt=Hx(at,lt,Pt,xt,St);zt[0]<=Tt[0]&&(Tt=zt)}return Tt[1]||(Tt=[qw(xt,St,Ct),ft]),lt.set(ft.id,Tt),Tt}function Uw(at,lt,ft){let[,xt]=Hx(at,new Map,at.model.root,lt,ft);return xt}function _f(at,lt,ft,xt){var St,Ct;let Tt=(St=at.fieldContent)==null?void 0:St.getBoundingClientRect();if(!Tt)return 0;if(lt>Tt.right||ft>Tt.bottom+8)return at.model.lastOffset;if(lt<Tt.left||ft<Tt.top-8)return 0;xt=xt??{},xt.bias=(Ct=xt.bias)!=null?Ct:0;let Pt=Uw(at,lt,ft),zt=[],Kt=Pt;for(;Kt;)zt.unshift(Kt),Kt=Kt.parent;for(let Jt of zt)if(Jt.captureSelection){Pt=Jt;break}let Ht=at.model.offsetOf(Pt);if(Ht<0)return-1;if(Pt.leftSibling)if(xt.bias===0&&Pt.type!=="placeholder"){let Jt=Nu(at,Pt);Jt&&lt<(Jt.left+Jt.right)/2&&(Ht=at.model.offsetOf(Pt.leftSibling))}else xt.bias<0&&(Ht=at.model.offsetOf(Pt.leftSibling));return Ht}var Kw=class extends Gn{constructor(){super("math")}onPaste(at,lt){if(!lt||!Hn(at.model,{data:typeof lt=="string"?lt:null,dataTransfer:typeof lt=="string"?null:lt,inputType:"insertFromPaste"}))return!1;let ft="",xt="auto",St=typeof lt!="string"?lt.getData("application/json+mathlive"):"";if(St)try{let Ct=JSON.parse(St);if(Ct&&Array.isArray(Ct)){at.snapshot();let Tt=Ks(Ct),{model:Pt}=at;Pt.selectionIsCollapsed||Pt.deleteAtoms(co(Pt.selection));let zt=Pt.at(Pt.position);if(zt.parent instanceof Tn){zt.parentBranch;let Kt=[],Ht=[];Tt[0].type==="first"&&Tt.shift(),Tt[Tt.length-1].type==="first"&&Tt.pop();for(let mr of Tt)mr.type==="first"&&Ht.length>0?(Kt.push(Ht),Ht=[mr]):Ht.push(mr);Ht.length>0&&Kt.push(Ht);let Jt=Number(zt.parentBranch[0]),fr=Number(zt.parentBranch[1]),hr=zt.parent.maxColumns;for(;zt.parent.colCount-fr<Kt.length&&zt.parent.colCount<hr;)zt.parent.addColumn();zt.parent.addChildrenAfter(Kt[0],zt);for(let mr=1;mr<Kt.length;mr++)fr++,fr>=hr&&(fr=0,zt.parent.addRowAfter(Jt),Jt++),zt.parent.setCell(Jt,fr,Kt[mr])}else zt.parent.addChildrenAfter(Tt.filter(Kt=>Kt.type!=="first"),zt);return Pt.position=Pt.offsetOf(Tt[Tt.length-1]),An(Pt,{inputType:"insertFromPaste"}),no(at),!0}}catch{}if(St=typeof lt!="string"?lt.getData("application/json"):"",St&&window.MathfieldElement.computeEngine)try{let Ct=JSON.parse(St);if(typeof Ct=="object"&&"latex"in Ct&&Ct.latex&&(ft=Ct.latex),!ft){let Tt=window.MathfieldElement.computeEngine.box(Ct);Tt&&!Tt.has("Error")&&(ft=Tt.latex)}ft||(xt="latex")}catch{}if(!ft&&typeof lt!="string"&&(ft=lt.getData("application/x-latex"),ft&&(xt="latex")),ft||(ft=typeof lt=="string"?lt:lt.getData("text/plain")),ft){let Ct;return[Ct,ft]=D0(ft),xt==="auto"&&Ct&&(xt="latex"),at.stopCoalescingUndo(),at.stopRecording(),this.insert(at.model,ft,{format:xt})&&(at.startRecording(),at.snapshot("paste"),no(at)),at.startRecording(),!0}return!1}insert(at,lt,ft){var xt,St;let Ct=typeof lt=="string"?lt:(St=(xt=window.MathfieldElement.computeEngine)==null?void 0:xt.box(lt).latex)!=null?St:"";if(!ft.silenceNotifications&&!Hn(at,{data:Ct,inputType:"insertText"}))return!1;ft.insertionMode||(ft.insertionMode="replaceSelection"),ft.selectionMode||(ft.selectionMode="placeholder"),ft.format||(ft.format="auto");let{silenceNotifications:Tt}=at;ft.silenceNotifications&&(at.silenceNotifications=!0);let Pt=at.silenceNotifications;at.silenceNotifications=!0;let zt={};if(zt[0]=ft.insertionMode==="replaceAll"?"":at.getValue(at.selection,"latex-unstyled"),zt["?"]="\\placeholder{}",zt["@"]=zt["?"],ft.insertionMode==="replaceSelection"&&!at.selectionIsCollapsed?at.deleteAtoms(co(at.selection)):ft.insertionMode==="replaceAll"?(at.root.setChildren([],"body"),at.position=0):ft.insertionMode==="insertBefore"?at.collapseSelection("backward"):ft.insertionMode==="insertAfter"&&at.collapseSelection("forward"),!at.at(at.position).isLastSibling&&at.at(at.position+1).type==="placeholder"?at.deleteAtoms([at.position,at.position+1]):at.at(at.position).type==="placeholder"&&at.deleteAtoms([at.position-1,at.position]),zt[0])zt["@"]=zt[0];else if(typeof lt=="string"&&/(^|[^\\])#@/.test(lt)){let Pr=Ww(at);Pr>=0&&(zt["@"]=at.getValue(Pr,at.position,"latex-unstyled"),at.deleteAtoms([Pr,at.position]))}zt[0]||(zt[0]=zt["?"]);let Kt=!1,Ht=Pr=>(Kt=!0,zt[Pr]),[Jt,fr]=Vw(at,lt,Ht,ft);if(!fr)return!1;let{parent:hr}=at.at(at.position);if(Jt!=="latex"&&at.mathfield.options.removeExtraneousParentheses&&hr instanceof Xn&&hr.leftDelim==="("&&hr.hasEmptyBranch("body")&&fr.length===1&&fr[0].type==="genfrac"){let Pr=hr.parent,Ur=hr.parentBranch;Pr.removeChild(hr),Pr.setChildren(fr,Ur)}let mr=hr.hasEmptyBranch("body"),Rr=at.at(at.position);Rr.parent.addChildrenAfter(fr,Rr),Jt==="latex"&&typeof lt=="string"&&(hr==null?void 0:hr.type)==="root"&&mr&&!Kt&&(hr.verbatimLatex=lt),at.silenceNotifications=Pt;let Yr=fr[fr.length-1];if(ft.selectionMode==="placeholder"){let Pr=fr.flatMap(Ur=>[Ur,...Ur.children]).find(Ur=>Ur.type==="placeholder");if(Pr){let Ur=at.offsetOf(Pr);at.setSelection(Ur-1,Ur),at.announce("move")}else Yr&&(at.position=at.offsetOf(Yr))}else ft.selectionMode==="before"||(ft.selectionMode==="after"?Yr&&(at.position=at.offsetOf(Yr)):ft.selectionMode==="item"&&at.setSelection(at.anchor,at.offsetOf(Yr)));return An(at,{data:Ct,inputType:"insertText"}),at.silenceNotifications=Tt,!0}};function Vw(at,lt,ft,xt){var St;let Ct,Tt=[];if(typeof lt!="string"||xt.format==="math-json"){let Pt=window.MathfieldElement.computeEngine;if(!Pt)return["math-json",[]];[Ct,lt]=["latex",Pt.box(lt).latex],Tt=_o(lt,{context:at.mathfield.context})}else typeof lt=="string"&&xt.format==="ascii-math"?([Ct,lt]=Hp(lt,{format:"ascii-math",inlineShortcuts:at.mathfield.options.inlineShortcuts}),Tt=_o(lt,{context:at.mathfield.context}),Ct!=="latex"&&at.mathfield.options.removeExtraneousParentheses&&$m(Tt)):(xt.format==="auto"||(St=xt.format)!=null&&St.startsWith("latex"))&&(xt.format==="auto"&&([Ct,lt]=Hp(lt,{format:"auto",inlineShortcuts:at.mathfield.options.inlineShortcuts})),xt.format==="latex"&&([,lt]=D0(lt)),Tt=_o(lt,{context:at.mathfield.context,args:ft}),xt.format!=="latex"&&at.mathfield.options.removeExtraneousParentheses&&$m(Tt));return Ws(Tt,xt.style),[Ct??"latex",Tt]}function Hw(at){if(!at||(at[0].type,at.length>1))return null;let lt=at[0];return lt instanceof Xn&&lt.leftDelim==="("&&lt.rightDelim===")"?lt.removeBranch("body"):null}function $m(at){if(at){for(let lt=0;at[lt];lt++){let ft=at[lt];if(ft instanceof Xn&&ft.leftDelim==="("){let xt=0,St=0,Ct=0;for(let Tt=0;ft.body[Tt];Tt++)ft.body[Tt].type==="genfrac"&&(xt++,St=Tt),Ct++;Ct===0&&xt===1&&(at[lt]=ft.body[St])}}for(let lt of at){for(let ft of lt.branches)if(!lt.hasEmptyBranch(ft)){$m(lt.branch(ft));let xt=Hw(lt.branch(ft));xt&&lt.setChildren(xt,ft)}if(lt instanceof Tn)for(let ft of lt.cells)$m(ft)}}}function Ww(at){let lt=at.at(at.position);if(lt.mode==="text"){for(;!lt.isFirstSibling&&lt.mode==="text";)lt=lt.leftSibling;return at.offsetOf(lt)}let ft=lt,xt=!1;if(lt.type==="mclose"){let St=Qp[lt.value];for(;!lt.isFirstSibling&&!(lt.type==="mopen"&&lt.value===St);)lt=lt.leftSibling;lt.isFirstSibling||(lt=lt.leftSibling),xt=!0}else lt.type==="leftright"&&(lt=lt.leftSibling,xt=!0);if(xt)for(;!lt.isFirstSibling&&(lt.isFunction||Wx(lt));)lt=lt.leftSibling;else{let St=[];for(;!lt.isFirstSibling&&(Wx(lt)||St.length>0);)lt.type==="mclose"&&St.unshift(lt.value),lt.type==="mopen"&&St.length>0&&lt.value===Qp[St[0]]&&St.shift(),lt=lt.leftSibling}return ft===lt?-1:at.offsetOf(lt)}function Wx(at){return at.isDigit()?!0:at.type&&/^(mord|surd|msubsup|leftright|mop|mclose)$/.test(at.type)?!(at.isExtensibleSymbol||at.isFunction):!1}new Kw;var Gw=class extends Gn{constructor(){super("text")}onPaste(at,lt){if(!lt)return!1;let ft=typeof lt=="string"?lt:lt.getData("text/plain");return ft&&Hn(at.model,{inputType:"insertFromPaste",data:ft})?(at.stopCoalescingUndo(),at.stopRecording(),this.insert(at.model,ft)&&(An(at.model,{inputType:"insertFromPaste"}),at.startRecording(),at.snapshot("paste"),no(at)),at.startRecording(),!0):!1}insert(at,lt,ft={}){if(!Hn(at,{data:lt,inputType:"insertText"}))return!1;ft.insertionMode||(ft.insertionMode="replaceSelection"),ft.selectionMode||(ft.selectionMode="placeholder"),ft.format||(ft.format="auto");let{silenceNotifications:xt}=at;ft.silenceNotifications&&(at.silenceNotifications=!0);let St=at.silenceNotifications;at.silenceNotifications=!0,ft.insertionMode==="replaceSelection"&&!at.selectionIsCollapsed?at.deleteAtoms(co(at.selection)):ft.insertionMode==="replaceAll"?(at.root.setChildren([],"body"),at.position=0):ft.insertionMode==="insertBefore"?at.collapseSelection("backward"):ft.insertionMode==="insertAfter"&&at.collapseSelection("forward");let Ct=Xw(lt,at.mathfield.context);if(Ws(Ct,ft.style),!Ct)return!1;let Tt=at.at(at.position),Pt=Tt.parent.addChildrenAfter(Ct,Tt);return at.silenceNotifications=St,ft.selectionMode==="before"||(ft.selectionMode==="item"?at.setSelection(at.anchor,at.offsetOf(Pt)):Pt&&(at.position=at.offsetOf(Pt))),An(at,{data:lt,inputType:"insertText"}),at.silenceNotifications=xt,!0}};function Xw(at,lt){return at=at.replace(/\\/g,"\\textbackslash "),at=at.replace(/#/g,"\\#"),at=at.replace(/\$/g,"\\$"),at=at.replace(/%/g,"\\%"),at=at.replace(/&/g,"\\&"),at=at.replace(/_/g,"\\_"),at=at.replace(/{/g,"\\textbraceleft "),at=at.replace(/}/g,"\\textbraceright "),at=at.replace(/\^/g,"\\textasciicircum "),at=at.replace(/~/g,"\\textasciitilde "),at=at.replace(/£/g,"\\textsterling "),_o(at,{context:lt,parseMode:"text"})}new Gw;var zn=4,To=20,xa=2*(To+zn),Am=(at,lt)=>`
  <line x1="${at+To}" y1="${lt+To}" 
    x2="${at>lt?at+To:7*To+10*zn}" 
    y2="${at<lt?lt+To:7*To+10*zn}"/>
  <svg id="plus" viewBox="0 0 40 40" x="${at}" y="${lt}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.34-3.33,3.34h-6.67v6.66c0,1.84-1.49,3.34-3.33,3.34s-3.34-1.5-3.34-3.34v-6.66h-6.66c-1.84,0-3.34-1.5-3.34-3.34s1.5-3.33,3.34-3.33h6.66v-6.67c0-1.84,1.5-3.33,3.34-3.33s3.33,1.49,3.33,3.33v6.67h6.67c1.84,0,3.33,1.49,3.33,3.33Z"/>
  </svg>`,Gx=(at,lt)=>`
  <line x1="${at+To}" y1="${lt+To}" 
    x2="${at>lt?at+To:7*To+10*zn}" 
    y2="${at<lt?lt+To:7*To+10*zn}"/>
  <svg id="minus" viewBox="0 0 40 40" x="${at}" y="${lt}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.33-3.33,3.33H10c-1.84,0-3.34-1.49-3.34-3.33s1.5-3.34,3.34-3.34h20c1.84,0,3.33,1.5,3.33,3.34Z"/>
  </svg>`,km=(at,lt,ft)=>`
  <svg id="arrow" viewBox="0 0 40 40" x="${at}" y="${lt}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <g transform="rotate(${ft})" transform-origin="20 20">
      <path class="font" d="m17.7,7.23h4.6c.52,0,.94.42.94.94v13.82c0,.52.42.94.94.94h3.39c.83,0,1.25,1.01.66,1.6l-7.56,7.56c-.37.37-.96.37-1.32,0l-7.56-7.56c-.59-.59-.17-1.6.66-1.6h3.39c.52,0,.94-.42.94-.94v-13.82c0-.52.42-.94.94-.94Z"/>
    </g>  
  </svg>`,Zw=`
<svg class="MLEP__array-buttons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
viewBox=
"-2 -2 ${8*To+10*zn+5} ${8*To+10*zn+5}">
  <rect 
      class="MLEP__array-insert-background rows"
      x="0" 
      y="${xa+zn}" 
      height="${3*xa}" 
      width="${xa}" 
      rx="${xa/2}"/>
      <rect 
      class="MLEP__array-insert-background columns"
      x="${xa+zn}" 
      y="0" 
      height="${xa}" 
      width="${3*xa}" 
      rx="${xa/2}"/>
  <g data-command='"moveDown"'>
  ${km(2*(zn+xa),2*zn+3*xa,0)}
  </g>
  <g data-command='"moveUp"'>
  ${km(2*(zn+xa),2*zn+xa,180)}
  </g>
  <g data-command='"moveToNextWord"'>
  ${km(2*zn+3*xa,2*(zn+xa),-90)}
  </g>
  <g data-command='"moveToPreviousWord"'>
  ${km(2*zn+xa,2*(zn+xa),90)}
  </g>
  <g>

  <g data-command='"addColumnBefore"'>
  ${Am(2*zn+xa,zn)}
  </g>
  <g data-command='"removeColumn"'>
  ${Gx(2*zn+2*xa,zn)}
  </g>
  <g data-command='"addColumnAfter"'>
  ${Am(2*zn+3*xa,zn)}
  </g>
  <g data-command='"addRowBefore"'>
  ${Am(zn,2*zn+xa)}
  </g>
  <g data-command='"removeRow"'>
  ${Gx(zn,2*zn+2*xa)}
  </g>
  <g data-command='"addRowAfter"'>
    ${Am(zn,2*zn+3*xa)}
  </g>
</svg>`,Yw=at=>`
<svg id="matrix" class="${at}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","matrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,Qw=at=>`
<svg id="pmatrix" class="${at}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
data-command='["setEnvironment","pmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-3.96,4.6-3.96,11.4,0,16"/>
  <path class="cls-2" d="m22,4c3.96,4.6,3.96,11.4,0,16"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,Xx=at=>`
<svg id="Bmatrix" class="${at}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","Bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <path class="cls-2" d="m22,4c1.1,0,2,.9,2,2v3c0,1.66.9,3,2,3-1.1,0-2,1.34-2,3v3c0,1.1-.9,2-2,2"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,Jw=at=>`
<svg id="bmatrix" class="${at}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4h-3v16h3"/>
  <path class="cls-2" d="m22,4h3v16h-3"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,eS=at=>`
<svg id="vmatrix" class="${at}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="4" y1="4" x2="4" y2="20"/>
  <line class="cls-2" x1="24" y1="4" x2="24" y2="20"/>
</svg>`,tS=at=>`
<svg id="Vmatrix" class="${at}" xmlns="http://www.w3.org/2000/svg" viewBox="-3.5 -3 35 30" 
  data-command='["setEnvironment","Vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="6" y1="4" x2="6" y2="20"/>
  <line class="cls-2" x1="22" y1="4" x2="22" y2="20"/>
  <line class="cls-2" x1="2" y1="4" x2="2" y2="20"/>
  <line class="cls-2" x1="26" y1="4" x2="26" y2="20"/>
</svg>`,rS=at=>`
<svg id="cases" class="${at}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","cases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m10,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <circle cx="13" cy="8" r="1"/>
  <circle cx="13" cy="16" r="1"/>
  <circle cx="21" cy="8" r="1"/>
  <circle cx="21" cy="16" r="1"/>
</svg>`,nS=at=>`
<svg id="rcases" class="${at}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","rcases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m18,20c1.1,0,2-.9,2-2v-3c0-1.66.9-3,2-3-1.1,0-2-1.34-2-3v-3c0-1.1-.9-2-2-2"/>
  <circle cx="15" cy="8" r="1"/>
  <circle cx="15" cy="16" r="1"/>
  <circle cx="7" cy="8" r="1"/>
  <circle cx="7" cy="16" r="1"/>
</svg>`,W0={matrix:Yw,pmatrix:Qw,bmatrix:Jw,Bmatrix:Xx,vmatrix:eS,Vmatrix:tS},G0={cases:rS,rcases:nS,Bmatrix:Xx};function aS(at){var lt,ft;let xt=(lt=at.model.parentEnvironment)==null?void 0:lt.array;if(!xt)return;let St=0;xt.forEach(hr=>{(!St||hr.length>St)&&(St=hr.length)});let Ct=document.getElementById("mathlive-environment-popover");Ct||(Ct=lm("mathlive-environment-popover"),Es("environment-popover"),Es("core"),Ct.setAttribute("aria-hidden","true"));let Tt,Pt=Ct.querySelector(".MLEP__environment-controls");Pt?Tt=Pt:(Tt=document.createElement("div"),Ct.innerHTML="",Ct.appendChild(Tt)),Tt.className="MLEP__environment-controls",Tt.style.display="flex",Tt.style.width="100%",Tt.style.height="100%",Tt.style.boxSizing="border-box",Tt.innerHTML=Zw;let zt=[],Kt="",Ht=at.model.parentEnvironment.environmentName;if(qy(Ht)){let hr=oS(Ht);Kt=W0[hr]("active");let mr=W0,Rr=Mt(mr,[Et(hr)]);zt=Object.values(Rr).map(Yr=>Yr("inactive"))}else if(L4(Ht)){let hr=sS(Ht);Kt=G0[hr]("active");let mr=G0,Rr=Mt(mr,[Et(hr)]);zt=Object.values(Rr).map(Yr=>Yr("inactive"))}else R4(Ht)&&(Kt=W0.matrix("active"),zt=Object.values(G0).map(hr=>hr("inactive")));let Jt=document.createElement("div");Jt.className="MLEP__environment-delimiter-controls",Jt.style.display="flex",Jt.style.flexDirection="column",Jt.innerHTML=`
  <div class='MLEP__array-delimiter-options'>
  ${Kt}
  ${zt.join("")}
  </div>`,Kt&&Tt.appendChild(Jt),Tt.querySelectorAll("[data-command]").forEach(hr=>{let mr=hr.dataset.command,Rr=mr;try{Rr=JSON.parse(mr)}catch{}hr.addEventListener("mousedown",Yr=>Yr.preventDefault()),Rr&&hr.addEventListener("click",()=>at.executeCommand(Rr))});let fr=(ft=at.field)==null?void 0:ft.getBoundingClientRect();fr&&(Ct.style.top=`${window.scrollY+(fr.top-Ct.clientHeight-15)}px`,Ct.style.left=`${fr.left+20}px`,Ct.classList.add("is-visible"))}function X0(){let at=document.getElementById("mathlive-environment-popover");at==null||at.classList.remove("is-visible")}function iS(){document.getElementById("mathlive-environment-popover")&&(k0("mathlive-environment-popover"),qs("environment-popover"),qs("core"))}function Nm(at){if(!at.hasFocus())return;let lt=!1;if(at.model.mode==="math"){let ft=at.model.parentEnvironment;if(ft!=null&&ft.array&&P4(ft.environmentName)){let xt=at.options.environmentPopoverPolicy;lt=xt==="auto"&&window.mathVirtualKeyboard.visible||xt==="on"}}lt?aS(at):X0()}function oS(at){return at.replace("*","")}function sS(at){return at==="dcases"?"cases":at}var lS='<svg style="width: 21px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg>',uS=class{constructor(at,lt){this.focusBlurInProgress=!1;var ft,xt,St;this.options=bt(wt(bt({},ym()),{macros:Gt(),registers:Cy()}),gm(lt)),this.eventController=new AbortController,lt.eventSink&&(this.host=lt.eventSink),this.element=at,at.mathfield=this,this.blurred=!0,this.keystrokeCaptionVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.style={},this.adoptStyle="left",this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline"),this.dirty=!1;let Ct=(xt=(ft=lt.value)!=null?ft:this.element.textContent)!=null?xt:"";Ct=Ct.trim();let Tt=wx(this.options),Pt=new Ir({type:"root",mode:Tt,body:_o(Ct,{context:this.context})});this.model=new pw(this,Tt,Pt,{onSelectionDidChange:()=>this.onSelectionDidChange(),onContentWillChange:Kt=>this.onContentWillChange(Kt)}),this.undoManager=new Aw(this.model);let zt=[];if(zt.push("<span contenteditable=true aria-multiline=false part=keyboard-sink class=ML__keyboard-sink autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none tabindex=0></span>"),zt.push('<span part=container class=ML__container aria-hidden=true  style="visibility:hidden">'),zt.push("<span part=content class=ML__content>"),zt.push(px(this)),zt.push("</span>"),window.mathVirtualKeyboard&&(zt.push(`<div part=virtual-keyboard-toggle class=ML__virtual-keyboard-toggle role=button ${this.hasEditableContent?"":'style="display:none;"'}data-ML__tooltip="${Vt("tooltip.toggle virtual keyboard")}">`),zt.push(lS),zt.push("</div>")),zt.push("</span>"),zt.push("<span class=ML__sr-only>"),zt.push("<span role=status aria-live=assertive aria-atomic=true></span>"),zt.push("</span>"),this.element.innerHTML=window.MathfieldElement.createHTML(zt.join("")),!this.element.children){console.error("%cMathLive 0.95.1: Something went wrong and the mathfield could not be created.%c\nIf you are using Vue, this may be because you are using the runtime-only build of Vue. Make sure to include `runtimeCompiler: true` in your Vue configuration. There may a warning from Vue in the log above.","color:red;font-family:system-ui;font-size:1.2rem;font-weight:bold","color:inherit;font-family:system-ui;font-size:inherit;font-weight:inherit");return}this.field=this.element.querySelector("[part=content]"),this.field.addEventListener("click",Kt=>Kt.stopImmediatePropagation(),{capture:!1,signal:this.eventController.signal}),this.field.addEventListener("wheel",this,{passive:!1,signal:this.eventController.signal}),"PointerEvent"in window?this.field.addEventListener("pointerdown",this,{signal:this.eventController.signal}):this.field.addEventListener("mousedown",this,{signal:this.eventController.signal}),(St=this.element.querySelector("[part=virtual-keyboard-toggle]"))==null||St.addEventListener("click",()=>{window.mathVirtualKeyboard.visible?window.mathVirtualKeyboard.hide():(window.mathVirtualKeyboard.show({animate:!0}),window.mathVirtualKeyboard.update(Cs(this)))},{signal:this.eventController.signal}),this.ariaLiveText=this.element.querySelector("[role=status]"),this.keyboardDelegate=Mw(this.element.querySelector(".ML__keyboard-sink"),this.element,this),window.addEventListener("resize",this,{signal:this.eventController.signal}),document.addEventListener("scroll",this,{signal:this.eventController.signal}),window.mathVirtualKeyboard.addEventListener("virtual-keyboard-toggle",this),Io!=="ready"&&document.fonts.ready.then(()=>fm(this)),at.querySelector(".ML__container").style.removeProperty("visibility"),this.undoManager.startRecording(),this.undoManager.snapshot("set-value")}connectToVirtualKeyboard(){this.connectedToVirtualKeyboard||(this.connectedToVirtualKeyboard=!0,window.addEventListener("message",this,{signal:this.eventController.signal}),window.mathVirtualKeyboard.connect(),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Cs(this)),Nm(this))}disconnectFromVirtualKeyboard(){this.connectedToVirtualKeyboard&&(window.removeEventListener("message",this),window.mathVirtualKeyboard.disconnect(),this.connectedToVirtualKeyboard=!1,X0())}get colorMap(){return at=>{var lt,ft,xt;return(xt=(ft=(lt=this.options).colorMap)==null?void 0:ft.call(lt,at))!=null?xt:Yt(at)}}get backgroundColorMap(){return at=>{var lt,ft,xt,St,Ct,Tt;return(Tt=(Ct=(ft=(lt=this.options).backgroundColorMap)==null?void 0:ft.call(lt,at))!=null?Ct:(St=(xt=this.options).colorMap)==null?void 0:St.call(xt,at))!=null?Tt:lr(at)}}get smartFence(){var at;return(at=this.options.smartFence)!=null?at:!1}get readOnly(){var at;return(at=this.options.readOnly)!=null?at:!1}get disabled(){var at,lt;return(lt=(at=this.host)==null?void 0:at.disabled)!=null?lt:!1}get contentEditable(){var at;return((at=this.host)==null?void 0:at.getAttribute("contenteditable"))!=="false"}get userSelect(){if(!this.host)return"";let at=getComputedStyle(this.host);return at.getPropertyValue("user-select")||at.getPropertyValue("-webkit-user-select")}get hasEditableContent(){return this.disabled||!this.contentEditable?!1:!this.readOnly||this.hasEditablePrompts}get hasEditablePrompts(){return this.readOnly&&!this.disabled&&this.contentEditable&&this.model.findAtom(at=>at.type==="prompt"&&!at.locked)!==void 0}get isSelectionEditable(){if(this.disabled||!this.contentEditable)return!1;if(!this.readOnly)return!0;let at=this.model.at(this.model.anchor),lt=this.model.at(this.model.position),ft=Ir.commonAncestor(at,lt);return!!((ft==null?void 0:ft.type)==="prompt"||ft!=null&&ft.parentPrompt)}get letterShapeStyle(){var at;return(at=this.options.letterShapeStyle)!=null?at:"tex"}get minFontScale(){return this.options.minFontScale}get selectionStyle(){if(this.model.selectionIsCollapsed){let ft=this.model.at(this.model.selection.ranges[0][0]),xt=this.adoptStyle==="right"?ft.rightSibling:ft;if(!xt)return{};if(xt.type==="group"){let St=xt.branch("body");return!St||St.length<2?{}:this.adoptStyle==="right"?St[1].style:St[St.length-1].style}return xt.style}let at=this.model.getAtoms(this.model.selection);if(at.length===0)return{};let lt=bt({},at[0].style);return at.forEach(ft=>{for(let[xt,St]of Object.entries(ft.style))(!lt[xt]||lt[xt]!==St)&&(lt[xt]=void 0)}),lt}get keybindings(){var at,lt;if(this._keybindings)return this._keybindings;let[ft,xt]=v3(this.options.keybindings,(at=Iu())!=null?at:ax);return((lt=Iu())==null?void 0:lt.score)>0&&(this._keybindings=ft,xt.length>0&&console.error("MathLive 0.95.1: Invalid keybindings for current keyboard layout",xt)),ft}setOptions(at){var lt;this.options=bt(bt({},this.options),gm(at)),this._keybindings=void 0,this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline");let ft=this.options.defaultMode;ft==="inline-math"&&(ft="math"),((lt=this.model.root.firstChild)==null?void 0:lt.mode)!==ft&&(this.model.root.firstChild.mode=ft),this.options.readOnly&&this.hasFocus()&&window.mathVirtualKeyboard.visible&&this.executeCommand("hideVirtualKeyboard");let xt=Ir.serialize([this.model.root],{expandMacro:!1,defaultMode:this.options.defaultMode});("macros"in at||this.model.getValue()!==xt)&&Gn.insert(this.model,xt,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",silenceNotifications:!0,mode:"math"}),("value"in at||"macros"in at||"registers"in at||"colorMap"in at||"backgroundColorMap"in at||"letterShapeStyle"in at||"minFontScale"in at||"readOnly"in at||"placeholderSymbol"in at)&&no(this)}getOptions(at){return Rl(this.options,at)}getOption(at){return Rl(this.options,at)}handleEvent(at){var lt;if(Al(this)){if(B0(at)){if(!_0(at.origin,(lt=this.options.originValidator)!=null?lt:"none"))throw new DOMException(`Message from unknown origin (${at.origin}) cannot be handled`,"SecurityError");let{action:ft}=at.data;if(ft==="execute-command"){let xt=at.data.command;if(Vu(xt)==="virtual-keyboard")return;this.executeCommand(xt)}else ft==="update-state"||(ft==="focus"?this.focus({preventScroll:!0}):ft==="blur"&&this.blur());return}switch(at.type){case"focus":this.onFocus();break;case"blur":this.onBlur();break;case"mousedown":Vx(this,at);break;case"pointerdown":Vx(this,at);break;case"virtual-keyboard-toggle":this.hasFocus()&&Nm(this);break;case"resize":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>Al(this)&&this.onGeometryChange());break;case"scroll":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>Al(this)&&this.onGeometryChange());break;case"wheel":this.onWheel(at);break;default:console.warn("Unexpected event type",at.type)}}}dispose(){if(!Al(this))return;this.keyboardDelegate.dispose(),this.keyboardDelegate=void 0,this.eventController.abort(),window.mathVirtualKeyboard.removeEventListener("virtual-keyboard-toggle",this),this.disconnectFromVirtualKeyboard(),this.model.dispose();let at=this.element;delete at.mathfield,this.element=void 0,this.host=void 0,this.field=void 0,this.fieldContent=void 0,this.ariaLiveText=void 0,Lw(),S3(),iS()}flushInlineShortcutBuffer(at){if(at!=null||(at={defer:!1}),!at.defer){this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=0;return}this.options.inlineShortcutTimeout>0&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(at){return Vu(at)==="virtual-keyboard"?(this.focus({preventScroll:!0}),window.mathVirtualKeyboard.executeCommand(at),requestAnimationFrame(()=>window.mathVirtualKeyboard.update(Cs(this))),!1):A3(this,at)}get errors(){return Xy(this.model.getValue(),{context:this.context})}getValue(at,lt,ft){return this.model.getValue(at,lt,ft)}setValue(at,lt){var ft;lt=lt??{mode:"math"},lt.insertionMode===void 0&&(lt.insertionMode="replaceAll"),(lt.format===void 0||lt.format==="auto")&&(lt.format="latex"),(lt.mode===void 0||lt.mode==="auto")&&(lt.mode=(ft=Ax(this.model,this.model.position))!=null?ft:"math"),Gn.insert(this.model,at,lt)&&(no(this),this.undoManager.snapshot("set-value"))}get expression(){let at=window.MathfieldElement.computeEngine;return at?at.box(at.parse(this.model.getValue("latex-unstyled"))):(console.error("MathLive 0.95.1:  no compute engine available. Make sure the Compute Engine library is loaded."),null)}scrollIntoView(){var at;if(!this.element)return;if(this.host){if(this.options.onScrollIntoView)this.options.onScrollIntoView(this);else if(this.host.scrollIntoView({block:"nearest",inline:"nearest"}),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.container===window.document.body){let xt=window.mathVirtualKeyboard.boundingRect,St=this.host.getBoundingClientRect();St.bottom>xt.top&&((at=window.document.scrollingElement)==null||at.scrollBy(0,St.bottom-xt.top+8))}}this.dirty&&Fl(this,{interactive:!0});let lt=this.field.getBoundingClientRect(),ft=null;if(this.model.selectionIsCollapsed)ft=Gp(this.field);else{let xt=By(this);if(xt.length>0){let St=-1/0,Ct=-1/0;for(let Tt of xt)Tt.right>St&&(St=Tt.right),Tt.top<Ct&&(Ct=Tt.top);ft={x:St+lt.left-this.field.scrollLeft,y:Ct+lt.top-this.field.scrollTop,height:0}}}if(this.host&&ft){let xt=this.host.getBoundingClientRect(),St=ft.y,Ct=this.host.scrollTop;St<xt.top?Ct=St-xt.top+this.host.scrollTop:St>xt.bottom&&(Ct=St-xt.bottom+this.host.scrollTop+ft.height),this.host.scroll({top:Ct,left:0})}if(ft){let xt=ft.x-window.scrollX,St=this.field.scrollLeft;xt<lt.left?St=xt-lt.left+this.field.scrollLeft-20:xt>lt.right&&(St=xt-lt.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:St})}}insert(at,lt){if(typeof at!="string"||at.length===0&&((lt==null?void 0:lt.insertionMode)==="insertBefore"||(lt==null?void 0:lt.insertionMode)==="insertAfter")||at.length===0&&this.model.selectionIsCollapsed)return!1;if(this.flushInlineShortcutBuffer(),lt=lt??{mode:"math"},lt.focus&&this.focus(),lt.feedback&&(window.MathfieldElement.keypressVibration&&Lt()&&navigator.vibrate(mx),window.MathfieldElement.playSound("keypress")),at==="\\\\")Cx(this.model);else if(at==="&")Mx(this.model);else{let ft=this.style;this.model.selectionIsCollapsed?Gn.insert(this.model,at,bt({style:this.model.at(this.model.position).computedStyle},lt)):Gn.insert(this.model,at,lt),lt.resetStyle&&(this.style=ft)}return this.snapshot(`insert-${this.model.at(this.model.position).type}`),no(this),lt.scrollIntoView&&this.scrollIntoView(),!0}switchMode(at,lt="",ft=""){var xt;if(this.model.mode===at||!this.hasEditableContent||!this.contentEditable||this.disabled||!((xt=this.host)!=null&&xt.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))))return;let St=this.model.mode,{model:Ct}=this;Ct.deferNotifications({content:!!ft||!!lt,selection:!0,type:"insertText"},()=>{let Tt=!1;if(this.flushInlineShortcutBuffer(),this.stopCoalescingUndo(),lt&&at!=="latex"){let Pt=_o(lt,{context:this.context,parseMode:at});Ct.collapseSelection("forward");let zt=Ct.at(Ct.position);Ct.position=Ct.offsetOf(zt.parent.addChildrenAfter(Pt,zt)),Tt=!0}if(this.model.mode=at,at==="latex"){let Pt=Ct.selectionIsCollapsed;Uu(this,"accept");let zt,Kt=Ct.at(Ct.position);if(Pt)zt="\\";else{let Jt=co(Ct.selection);zt=this.model.getValue(Jt,"latex");let fr=this.model.extractAtoms(Jt);fr.length===1&&fr[0].type==="placeholder"&&(zt=lt,Pt=!0),Kt=Ct.at(Jt[0])}let Ht=new Fu(zt);Kt.parent.addChildAfter(Ht,Kt),Pt?Ct.position=Ct.offsetOf(Ht.lastChild):Ct.setSelection(Ct.offsetOf(Ht.firstChild),Ct.offsetOf(Ht.lastChild))}else ju(Ct).forEach(Pt=>{Pt.isError=!1});if(ft){let Pt=_o(ft,{context:this.context,parseMode:St});Ct.collapseSelection("forward");let zt=Ct.at(Ct.position);Ct.position=Ct.offsetOf(zt.parent.addChildrenAfter(Pt,zt)),Tt=!0}return no(this),this.undoManager.snapshot(at==="latex"?"insert-latex":"insert"),Tt}),this.model.mode=at}hasFocus(){return!this.blurred}focus(at){this.hasFocus()||(this.keyboardDelegate.focus(),this.connectToVirtualKeyboard(),this.model.announce("line")),at!=null&&at.preventScroll||this.scrollIntoView()}blur(){this.disconnectFromVirtualKeyboard(),this.hasFocus()&&this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]}}applyStyle(at,lt={}){var ft,xt;let St={operation:"set",silenceNotifications:!1};bm(lt)?St.range=lt:(St.range=lt.range,St.silenceNotifications=(ft=lt.silenceNotifications)!=null?ft:!1);let Ct=qx(this,at),Tt=(xt=St.operation)!=null?xt:"set";this.model.deferNotifications({content:!St.silenceNotifications,type:"insertText"},()=>{if(St.range===void 0)for(let Pt of this.model.selection.ranges)I0(this.model,Pt,Ct,{operation:Tt});else I0(this.model,St.range,Ct,{operation:Tt})}),no(this)}getCaretPoint(){let at=Gp(this.field);return at?{x:at.x,y:at.y}:null}setCaretPoint(at,lt){let ft=_f(this,at,lt,{bias:0});if(ft<0)return!1;let xt=this.model.position;return this.model.position=ft,this.model.announce("move",xt),no(this),!0}getPrompt(at){return this.model.findAtom(ft=>ft.type==="prompt"&&ft.placeholderId===at)}getPromptValue(at,lt){let ft=this.getPrompt(at);if(!ft)return console.error(`MathLive 0.95.1: unknown prompt ${at}`),"";let xt=this.model.offsetOf(ft.firstChild),St=this.model.offsetOf(ft.lastChild);return this.model.getValue(xt,St,lt)}getPrompts(at){return this.model.getAllAtoms().filter(lt=>lt.type!=="prompt"?!1:at?!(at.id&&lt.placeholderId!==at.id||at.locked&&lt.locked!==at.locked||at.correctness==="undefined"&&lt.correctness||at.correctness&&lt.correctness!==at.correctness):!0).map(lt=>lt.placeholderId)}setPromptValue(at,lt,ft){if(lt!==void 0){let xt=this.getPrompt(at);if(!xt){console.error(`MathLive 0.95.1: unknown prompt ${at}`);return}let St=this.model.getBranchRange(this.model.offsetOf(xt),"body");this.model.setSelection(St),this.insert(lt,wt(bt({},ft),{insertionMode:"replaceSelection"}))}ft!=null&&ft.silenceNotifications&&(this.valueOnFocus=this.getValue()),no(this)}setPromptState(at,lt,ft){let xt=this.getPrompt(at);if(!xt){console.error(`MathLive 0.95.1: unknown prompt ${at}`);return}lt==="undefined"?xt.correctness=void 0:typeof lt=="string"&&(xt.correctness=lt),typeof ft=="boolean"&&(xt.locked=ft,xt.captureSelection=ft),no(this)}stripPromptContent(at){let lt=this.model.getAllAtoms().filter(xt=>xt.type!=="prompt"?!1:at?!(at.id&&xt.placeholderId!==at.id||at.locked&&xt.locked!==at.locked||at.correctness==="undefined"&&xt.correctness||at.correctness&&xt.correctness!==at.correctness):!0),ft={};return lt.forEach(xt=>{let St=xt.placeholderId;ft[St]=this.getPromptValue(St),this.setPromptValue(St,"")}),ft}getPromptState(at){let lt=this.getPrompt(at);return lt?[lt.correctness,lt.locked]:(console.error(`MathLive 0.95.1: unknown prompt ${at}`),[void 0,!0])}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(at){var lt;this.undoManager.snapshot(at)&&(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Cs(this)),(lt=this.host)==null||lt.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}stopCoalescingUndo(){this.undoManager.stopCoalescing(this.model.selection)}stopRecording(){this.undoManager.stopRecording()}startRecording(){this.undoManager.startRecording()}undo(){var at;this.undoManager.undo()&&(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Cs(this)),(at=this.host)==null||at.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var at;this.undoManager.redo()&&(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Cs(this)),(at=this.host)==null||at.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}resetUndo(){var at;(at=this.undoManager)==null||at.reset()}onSelectionDidChange(){var at,lt;let ft=this.model;this.keyboardDelegate.setValue(ft.getValue(this.model.selection,"latex-expanded"));{let xt=ft.at(ft.position),St=(at=xt.mode)!=null?at:wx(this.options);this.model.mode!==St&&(this.model.mode==="latex"?(Uu(this,"accept",{mode:St}),ft.position=ft.offsetOf(xt)):this.switchMode(St))}(lt=this.host)==null||lt.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0})),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Cs(this)),Nm(this)}onContentWillChange(at){var lt,ft,xt;return(xt=(ft=this.host)==null?void 0:ft.dispatchEvent(new InputEvent("beforeinput",wt(bt({},at),{data:at.data?at.data:(lt=at.inputType)!=null?lt:"",cancelable:!0,bubbles:!0,composed:!0}))))!=null?xt:!0}onFocus(){this.focusBlurInProgress||!this.blurred||(this.focusBlurInProgress=!0,this.blurred=!1,this.keyboardDelegate.focus(),this.stopCoalescingUndo(),Fl(this,{interactive:!0}),this.valueOnFocus=this.model.getValue(),this.hasEditablePrompts&&!this.model.at(this.model.anchor).parentPrompt&&this.executeCommand("moveToNextPlaceholder"),this.focusBlurInProgress=!1)}onBlur(){var at,lt,ft;if(this.focusBlurInProgress||this.blurred)return;this.focusBlurInProgress=!0,this.stopCoalescingUndo(),this.blurred=!0,this.ariaLiveText.textContent="",Uu(this,"accept"),this.model.getValue()!==this.valueOnFocus&&((at=this.host)==null||at.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),this.disconnectFromVirtualKeyboard(),(lt=this.host)==null||lt.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),(ft=this.host)==null||ft.dispatchEvent(new UIEvent("focusout",{bubbles:!0,composed:!0})),no(this),this.focusBlurInProgress=!1,X0();let xt=new AbortController,St=xt.signal;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&document.addEventListener("visibilitychange",()=>{Al(this)&&document.visibilityState==="visible"&&this.focus({preventScroll:!0})},{once:!0})},{once:!0,signal:St}),setTimeout(()=>xt.abort(),100)}onInput(at){K0(this,at)}onKeystroke(at,lt){return Lx(this,at,lt)}onCompositionStart(at){this.model.deleteAtoms(co(this.model.selection));let lt=Gp(this.field);lt&&requestAnimationFrame(()=>{Fl(this),this.keyboardDelegate.moveTo(lt.x,lt.y-lt.height)})}onCompositionUpdate(at){Dw(this.model,at),no(this)}onCompositionEnd(at){_w(this.model),K0(this,at,{simulateKeystroke:!0})}onCut(at){if(!this.isSelectionEditable){this.model.announce("plonk");return}Hn(this.model,{inputType:"deleteByCut"})&&(this.stopCoalescingUndo(),Gn.onCopy(this,at),ps(this.model,co(this.model.selection),"deleteByCut"),this.snapshot("cut"),no(this))}onCopy(at){Gn.onCopy(this,at)}onPaste(at){let lt=this.isSelectionEditable;return lt&&(lt=Gn.onPaste(this.model.at(this.model.position).mode,this,at.clipboardData)),lt||this.model.announce("plonk"),at.preventDefault(),at.stopPropagation(),lt}onGeometryChange(){um(this),Nm(this)}onWheel(at){let lt=5*at.deltaX;if(!Number.isFinite(lt)||lt===0)return;let ft=this.field;lt<0&&ft.scrollLeft===0||lt>0&&ft.offsetWidth+ft.scrollLeft>=ft.scrollWidth||(ft.scrollBy({top:0,left:lt}),at.preventDefault(),at.stopPropagation())}getHTMLElement(at){let lt=at;for(;!lt.id&&lt.hasChildren;)lt=at.children[0];return this.fieldContent.querySelector(`[data-atom-id="${lt.id}"]`)}get context(){var at,lt;return{registers:(at=this.options.registers)!=null?at:{},smartFence:this.smartFence,letterShapeStyle:this.letterShapeStyle,minFontScale:this.minFontScale,placeholderSymbol:(lt=this.options.placeholderSymbol)!=null?lt:"▢",colorMap:ft=>this.colorMap(ft),backgroundColorMap:ft=>this.backgroundColorMap(ft),getMacro:ft=>vn(ft,this.options.macros),atomIdsSettings:{seed:"random",groupNumbers:!1}}}};function Z0(at,lt,ft){if(at.at(lt).mode!=="text")return lt;let xt=ft==="backward"?-1:1,St;if(xr.test(at.at(lt).value)){let Ct=lt,Tt;do Tt=at.at(Ct).mode==="text"&&xr.test(at.at(Ct).value),Ct+=xt;while(at.at(Ct)&&Tt);St=at.at(Ct)?Ct-2*xt:Ct-xt}else if(/\s/.test(at.at(lt).value)){let Ct=lt;for(;at.at(Ct)&&at.at(Ct).mode==="text"&&/\s/.test(at.at(Ct).value);)Ct+=xt;if(!at.at(Ct))St=Ct-xt;else{let Tt=!0;do Tt=at.at(Ct).mode==="text"&&!/\s/.test(at.at(Ct).value),Ct+=xt;while(at.at(Ct)&&Tt);St=at.at(Ct)?Ct-2*xt:Ct-xt}}else{let Ct=lt;for(;at.at(Ct)&&at.at(Ct).mode==="text"&&!/\s/.test(at.at(Ct).value);)Ct+=xt;St=at.at(Ct)?Ct:Ct-xt;let Tt=!0;for(;at.at(Ct)&&Tt;)Tt=at.at(Ct).mode==="text"&&/\s/.test(at.at(Ct).value),Tt&&(St=Ct),Ct+=xt;St=at.at(Ct)?Ct-2*xt:Ct-xt}return St-(xt>0?0:1)}function pu(at,lt,ft){var xt,St,Ct,Tt,Pt,zt,Kt;let Ht=at.position;(xt=ft==null?void 0:ft.extend)!=null&&xt||at.collapseSelection(lt);let Jt=at.at(at.position);if(lt==="forward"&&(Jt.type==="subsup"?(Jt=Jt.rightSibling,Jt||(Jt=at.at(at.position+1))):Jt=at.at(at.position+1)),!Jt)return at.announce("plonk"),!1;let fr=at.offsetOf(Jt);if(Jt instanceof Au)fr=Z0(at,fr,lt);else if(Jt instanceof so)if(Jt.isSuggestion)for(;Jt&&Jt instanceof so;)Jt.isSuggestion=!1,fr=at.offsetOf(Jt),Jt=Jt.rightSibling;else if(lt==="forward"){if(Jt=Jt.rightSibling,!Jt||!(Jt instanceof so))return at.announce("plonk"),!1;for(;Jt&&Jt instanceof so&&/[a-zA-Z\*]/.test(Jt.value);)fr=at.offsetOf(Jt),Jt=Jt.rightSibling}else{if(Jt=Jt.leftSibling,!Jt||!(Jt instanceof so))return at.announce("plonk"),!1;for(;Jt&&Jt instanceof so&&/[a-zA-Z\*]/.test(Jt.value);)fr=at.offsetOf(Jt),Jt=Jt.leftSibling}else if(lt==="forward"&&Jt.type==="mopen"){let hr=0;do Jt.type==="mopen"?hr+=1:Jt.type==="mclose"&&(hr-=1),Jt=Jt.rightSibling;while(!Jt.isLastSibling&&hr!==0);fr=at.offsetOf(Jt.leftSibling)}else if(lt==="backward"&&Jt.type==="mclose"){let hr=0;do Jt.type==="mopen"?hr+=1:Jt.type==="mclose"&&(hr-=1),Jt=Jt.leftSibling;while(!Jt.isFirstSibling&&hr!==0);fr=at.offsetOf(Jt)}else if(lt==="backward")if(Jt.type==="first")for(;fr>0&&Jt.type==="first";)fr-=1,Jt=at.at(fr);else{let hr=Jt.type;Jt.type==="subsup"&&(fr=at.offsetOf(at.at(fr).leftSibling)),fr-=1;let mr=(St=at.at(fr))==null?void 0:St.type;for(;fr>=0&&mr===hr;)((Ct=at.at(fr))==null?void 0:Ct.type)==="subsup"?fr=at.offsetOf(at.at(fr).leftSibling):fr-=1,mr=at.at(fr).type}else{let{type:hr}=Jt,mr=(Tt=at.at(fr))==null?void 0:Tt.type,{lastOffset:Rr}=at;for(;fr<=Rr&&(mr===hr||mr==="subsup");){for(;((Pt=at.at(fr).rightSibling)==null?void 0:Pt.type)==="subsup";)fr=at.offsetOf(at.at(fr).rightSibling);fr+=1,mr=(zt=at.at(fr))==null?void 0:zt.type}fr-=1}if((Kt=ft==null?void 0:ft.extend)!=null&&Kt){if(!at.setSelection(at.anchor,fr))return at.announce("plonk"),!1}else{if(fr===at.position)return at.announce("plonk"),!1;at.position=fr}return at.announce("move",Ht),at.mathfield.stopCoalescingUndo(),!0}function ms(at,lt,ft){var xt,St;if(ft=ft??{extend:!1},at.mathfield.adoptStyle=lt==="backward"?"right":"left",lt!=="forward"){let[Pt,zt]=lx(at);Pt!==void 0&&zt!==void 0&&at.deleteAtoms([Pt,zt])}if(lt==="upward")return dS(at,ft);if(lt==="downward")return fS(at,ft);if(ft.extend){let Pt=Tm(at,at.position,lt);Pt<0&&(Pt=0),Pt>at.lastOffset&&(Pt=at.lastOffset);let zt=at.setSelection(at.anchor,Pt);return at.mathfield.stopCoalescingUndo(),zt}if(at.selectionIsPlaceholder){at.collapseSelection(lt);let Pt=ms(at,lt);return at.mathfield.stopCoalescingUndo(),Pt}let Ct=at.position,Tt=Ct;if(at.collapseSelection(lt)?(Ct=at.position,Zx(at,Ct)||(Ct=Tm(at,Ct,lt))):Ct=Tm(at,Ct,lt),Ct<0||Ct>at.lastOffset){let Pt=!0;return at.silenceNotifications||(Pt=(St=(xt=at.mathfield.host)==null?void 0:xt.dispatchEvent(new CustomEvent("move-out",{detail:{direction:lt},cancelable:!0,bubbles:!0,composed:!0})))!=null?St:!0),Pt&&at.announce("plonk"),Pt}return at.setPositionHandlingPlaceholder(Ct),at.mathfield.stopCoalescingUndo(),at.announce("move",Tt),!0}function Tm(at,lt,ft){return lt=lt+(ft==="forward"?1:-1),lt<0||lt>at.lastOffset||Zx(at,lt)?lt:Tm(at,lt,ft)}function Zx(at,lt){var ft;let xt=at.at(lt),St=xt.parent;for(;St&&!St.inCaptureSelection;)St=St.parent;return!(St!=null&&St.inCaptureSelection||(ft=xt.parent)!=null&&ft.skipBoundary&&(!xt.isFirstSibling&&xt.isLastSibling||xt.type==="first")||at.mathfield.hasEditablePrompts&&!xt.parentPrompt)}function cS(at,lt,ft){let xt=1/0,St=0;for(;St<lt.length;St++){let Ct=Oy(at.getHTMLElement(lt[St])).right,Tt=Math.abs(ft-Ct);if(Tt<=xt)xt=Tt;else break}return lt[St-1]}function Bm(at,lt,ft,xt,St){let Ct=at.mathfield.hasEditablePrompts,Tt=Ct?ft.filter(Kt=>Kt.type==="prompt"&&!Kt.captureSelection):ft,Pt=Oy(at.mathfield.getHTMLElement(lt)).right,zt=at.offsetOf(cS(at.mathfield,Tt,Pt))-(Ct?1:0);if(xt){let[Kt,Ht]=at.selection.ranges[0],Jt;zt<(St==="up"?Kt:Ht)?Jt={ranges:[[zt,Ht]],direction:"backward"}:Jt={ranges:[[Kt,zt]],direction:"forward"},at.setSelection(Jt)}else at.setPositionHandlingPlaceholder(zt);at.announce(`move ${St}`)}function dS(at,lt){var ft,xt;let St=(ft=lt==null?void 0:lt.extend)!=null?ft:!1;St||at.collapseSelection("backward");let Ct=()=>{var zt,Kt;let Ht=!0;return at.silenceNotifications||(Ht=(Kt=(zt=at.mathfield.host)==null?void 0:zt.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?Kt:!0),at.announce(Ht?"plonk":"line"),Ht},Tt=at.at(at.position),Pt=Tt;for(;Pt&&Pt.parentBranch!=="below"&&!(Array.isArray(Pt.parentBranch)&&Pt.parent instanceof Tn);)Pt=Pt.parent;if(Array.isArray(Pt==null?void 0:Pt.parentBranch)&&Pt.parent instanceof Tn){let zt=Pt.parent;if(Pt.parentBranch[0]<1)return Ct();let Kt=Pt.parentBranch[0]-1,Ht=zt.array[Kt][Pt.parentBranch[1]];if(!Ht.some(Jt=>Jt.type==="prompt"&&!Jt.captureSelection)&&at.mathfield.hasEditablePrompts)return Ct();Bm(at,Tt,Ht,St,"up")}else if(Pt){let zt=(xt=Pt.parent.branch("above"))!=null?xt:Pt.parent.createBranch("above");if(!zt.some(Kt=>Kt.type==="prompt"&&Kt.placeholderId)&&at.mathfield.hasEditablePrompts)return Ct();Bm(at,Tt,zt,St,"up")}else return Ct();return at.mathfield.stopCoalescingUndo(),!0}function fS(at,lt){var ft,xt;let St=(ft=lt==null?void 0:lt.extend)!=null?ft:!1;St||at.collapseSelection("forward");let Ct=()=>{var zt,Kt;let Ht=!0;return at.silenceNotifications||(Ht=(Kt=(zt=at.mathfield.host)==null?void 0:zt.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?Kt:!0),at.announce(Ht?"plonk":"line"),Ht},Tt=at.at(at.position),Pt=Tt;for(;Pt&&Pt.parentBranch!=="above"&&!(Array.isArray(Pt.parentBranch)&&Pt.parent instanceof Tn);)Pt=Pt.parent;if(Array.isArray(Pt==null?void 0:Pt.parentBranch)&&Pt.parent instanceof Tn){let zt=Pt.parent;if(Pt.parentBranch[0]+1>zt.array.length-1)return Ct();let Kt=Pt.parentBranch[0]+1,Ht=zt.array[Kt][Pt.parentBranch[1]];if(!Ht.some(Jt=>Jt.type==="prompt"&&!Jt.captureSelection)&&at.mathfield.hasEditablePrompts)return Ct();Bm(at,Tt,Ht,St,"down")}else if(Pt){let zt=(xt=Pt.parent.branch("below"))!=null?xt:Pt.parent.createBranch("below");if(!zt.some(Kt=>Kt.type==="prompt")&&at.mathfield.hasEditablePrompts)return Ct();Bm(at,Tt,zt,St,"down")}else return Ct();return!0}Fo({deleteAll:at=>Hn(at,{inputType:"deleteContent"})&&ps(at,[0,-1],"deleteContent"),deleteForward:at=>Ew(at),deleteBackward:at=>Sw(at),deleteNextWord:at=>Hn(at,{inputType:"deleteWordForward"})&&ps(at,[at.anchor,Z0(at,at.position,"forward")],"deleteWordForward"),deletePreviousWord:at=>Hn(at,{inputType:"deleteWordBackward"})&&ps(at,[at.anchor,Z0(at,at.position,"backward")],"deleteWordBackward"),deleteToGroupStart:at=>Hn(at,{inputType:"deleteSoftLineBackward"})&&ps(at,[at.anchor,at.offsetOf(at.at(at.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:at=>Hn(at,{inputType:"deleteSoftLineForward"})&&ps(at,[at.anchor,at.offsetOf(at.at(at.position).lastSibling)],"deleteSoftLineForward"),deleteToMathFieldStart:at=>Hn(at,{inputType:"deleteHardLineBackward"})&&ps(at,[at.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:at=>Hn(at,{inputType:"deleteHardLineForward"})&&ps(at,[at.anchor,-1],"deleteHardLineForward")},{target:"model",audioFeedback:"delete",canUndo:!0,changeContent:!0,changeSelection:!0});function Yx(at){if(at&&(at.classList.remove("ML__highlight"),at.children))for(let lt of at.children)Yx(lt)}function Y0(at,lt){var ft;at&&(!lt||((ft=at.dataset)==null?void 0:ft.atomId)===lt?(at.classList.add("ML__highlight"),at.children&&at.children.length>0&&[...at.children].forEach(xt=>{xt instanceof HTMLElement&&Y0(xt)})):(at.classList.remove("ML__highlight"),at.children&&at.children.length>0&&[...at.children].forEach(xt=>{xt instanceof HTMLElement&&Y0(xt,lt)})))}function pS(at,lt){var ft;if(!Bt())return;if(window.MathfieldElement.speechEngine!=="amazon"){console.error("MathLive 0.95.1: Use Amazon TTS Engine for synchronized highlighting"),typeof window.MathfieldElement.speakHook=="function"&&window.MathfieldElement.speakHook(lt);return}if(!window.AWS){console.error("MathLive 0.95.1: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");return}let xt=new window.AWS.Polly({apiVersion:"2016-06-10"}),St={OutputFormat:"json",VoiceId:(ft=window.MathfieldElement.speechEngineVoice)!=null?ft:"Joanna",Engine:"standard",Text:lt,TextType:"ssml",SpeechMarkTypes:["ssml"]};$s().readAloudElement=at,xt.synthesizeSpeech(St,(Ct,Tt)=>{if(Ct){console.trace(`MathLive 0.95.1: \`polly.synthesizeSpeech()\` error: ${Ct}`);return}if(!(Tt!=null&&Tt.AudioStream))return;let Pt=new TextDecoder("utf-8").decode(new Uint8Array(Tt.AudioStream));$s().readAloudMarks=Pt.split(`
`).map(zt=>zt?JSON.parse(zt):{}),$s().readAloudTokens=[];for(let zt of $s().readAloudMarks)zt.value&&$s().readAloudTokens.push(zt.value);$s().readAloudCurrentMark="",St.OutputFormat="mp3",St.SpeechMarkTypes=[],xt.synthesizeSpeech(St,(zt,Kt)=>{if(zt){console.trace(`MathLive 0.95.1: \`polly.synthesizeSpeech("${lt}") error:${zt}`);return}if(!(Kt!=null&&Kt.AudioStream))return;let Ht=new Uint8Array(Kt.AudioStream),Jt=new Blob([Ht.buffer],{type:"audio/mpeg"}),fr=URL.createObjectURL(Jt),hr=$s();hr.readAloudAudio?hr.readAloudAudio.pause():(hr.readAloudAudio=new Audio,hr.readAloudAudio.addEventListener("ended",()=>{let mr=hr.readAloudMathField;hr.readAloudStatus="ended",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),mr?(Fl(mr),hr.readAloudElement=null,hr.readAloudMathField=null,hr.readAloudTokens=[],hr.readAloudMarks=[],hr.readAloudCurrentMark=""):Yx(hr.readAloudElement)}),hr.readAloudAudio.addEventListener("timeupdate",()=>{let mr="",Rr=hr.readAloudAudio.currentTime*1e3+100;for(let Yr of hr.readAloudMarks)Yr.time<Rr&&(mr=Yr.value);hr.readAloudCurrentMark!==mr&&(hr.readAloudCurrentToken=mr,mr&&mr===hr.readAloudFinalToken?hr.readAloudAudio.pause():(hr.readAloudCurrentMark=mr,Y0(hr.readAloudElement,hr.readAloudCurrentMark)))})),hr.readAloudAudio.src=fr,hr.readAloudStatus="playing",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),hr.readAloudAudio.play()})})}Bt()||console.error('MathLive 0.95.1: this version of the MathLive library is for use in the browser. A subset of the API is available on the server side in the "mathlive-ssr" library. If using server side rendering (with React for example) you may want to do a dynamic import of the MathLive library inside a `useEffect()` call.');var $n=new WeakMap,mS=.5,Gs={letterShapeStyle:"mf.letterShapeStyle = ...",horizontalSpacingScale:'Removed. Use `"thinmuskip"`, `"medmuskip"`, and `"thickmuskip"` registers ',macros:"mf.macros = ...",registers:"mf.registers = ...",backgroundColorMap:"mf.backgroundColorMap = ...",colorMap:"mf.colorMap = ...",enablePopover:"mf.popoverPolicy = ...",mathModeSpace:"mf.mathModeSpace = ...",placeholderSymbol:"mf.placeholderSymbol = ...",readOnly:"mf.readOnly = ...",removeExtraneousParentheses:"mf.removeExtraneousParentheses = ...",scriptDepth:"mf.scriptDepth = ...",smartFence:"mf.smartFence = ...",smartMode:"mf.smartMode = ...",smartSuperscript:"mf.smartSuperscript = ...",inlineShortcutTimeout:"mf.inlineShortcutTimeout = ...",inlineShortcuts:"mf.inlineShortcuts = ...",keybindings:"mf.keybindings = ...",virtualKeyboardMode:"mf.mathVirtualKeyboardPolicy = ...",customVirtualKeyboardLayers:"mathVirtualKeyboard.layers = ...",customVirtualKeyboards:"mathVirtualKeyboard.layouts = ...",keypressSound:"mathVirtualKeyboard.keypressSound = ...",keypressVibration:"mathVirtualKeyboard.keypressVibration = ...",plonkSound:"mathVirtualKeyboard.plonkSound = ...",virtualKeyboardContainer:"mathVirtualKeyboard.container = ...",virtualKeyboardLayout:"mathVirtualKeyboard.alphabeticLayout = ...",virtualKeyboardTheme:"No longer supported",virtualKeyboardToggleGlyph:"No longer supported",virtualKeyboardToolbar:"mathVirtualKeyboard.editToolbar = ...",virtualKeyboards:"Use `mathVirtualKeyboard.layouts`",speechEngine:"`MathfieldElement.speechEngine`",speechEngineRate:"`MathfieldElement.speechEngineRate`",speechEngineVoice:"`MathfieldElement.speechEngineVoice`",textToSpeechMarkup:"`MathfieldElement.textToSpeechMarkup`",textToSpeechRules:"`MathfieldElement.textToSpeechRules`",textToSpeechRulesOptions:"`MathfieldElement.textToSpeechRulesOptions`",readAloudHook:"`MathfieldElement.readAloudHook`",speakHook:"`MathfieldElement.speakHook`",computeEngine:"`MathfieldElement.computeEngine`",fontsDirectory:"`MathfieldElement.fontsDirectory`",soundsDirectory:"`MathfieldElement.soundsDirectory`",createHTML:"`MathfieldElement.createHTML`",onExport:"`MathfieldElement.onExport`",onInlineShortcut:"`MathfieldElement.onInlineShortcut`",onScrollIntoView:"`MathfieldElement.onScrollIntoView`",locale:"MathfieldElement.locale = ...",strings:"MathfieldElement.strings = ...",decimalSeparator:"MathfieldElement.decimalSeparator = ...",fractionNavigationOrder:"MathfieldElement.fractionNavigationOrder = ..."},fo=class Wl extends HTMLElement{constructor(lt){if(super(),lt){let ft=[];for(let xt of Object.keys(lt))if(Gs[xt])if(Gs[xt].startsWith("mf."))if(Gs[xt].startsWith(`mf.${xt}`))ft.push(`Option \`${xt}\` cannot be used as a constructor option. Use ${Gs[xt]}`);else{let St=Gs[xt].match(/([a-zA-Z]+) =/);ft.push(`Option \`${xt}\` has been renamed \`${St[1]}\``)}else ft.push(`Option \`${xt}\` cannot be used as a constructor option. Use ${Gs[xt]}`);if(ft.length>0){console.group("%cMathLive 0.95.1: %cInvalid Options","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn("Some of the options passed to `new MathFieldElement(...)` are invalid. \n          See https://cortexjs.io/mathlive/changelog/ for details.");for(let xt of ft)console.warn(xt);console.groupEnd()}}mu()&&(this._internals=this.attachInternals(),this._internals.role="math",this._internals.ariaLabel="math input field",this._internals.ariaMultiLine="false"),this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot&&"adoptedStyleSheets"in this.shadowRoot?(this.shadowRoot.adoptedStyleSheets=[Xp("core"),Xp("mathfield"),Xp("mathfield-element")],this.shadowRoot.innerHTML='<span style="pointer-events:auto"></span><slot style="display:none"></slot>'):this.shadowRoot.innerHTML=`<style>${Tu("core")}${Tu("mathfield")}${Tu("mathfield-element")}</style><span style="pointer-events:auto"></span><slot style="display:none"></slot>`,lt&&this._setOptions(lt)}static get formAssociated(){return mu()}static get optionsAttributes(){return{"default-mode":"string","letter-shape-style":"string","min-font-scale":"number","popover-policy":"string","math-mode-space":"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off","inline-shortcut-timeout":"string","script-depth":"string","virtual-keyboard-target-origin":"string","math-virtual-keyboard-policy":"string"}}static get observedAttributes(){return[...Object.keys(this.optionsAttributes),"contenteditable","disabled","readonly","read-only"]}static get fontsDirectory(){return this._fontsDirectory}static set fontsDirectory(lt){lt!==this._fontsDirectory&&(this._fontsDirectory=lt,_3())}static get soundsDirectory(){return this._soundsDirectory}static set soundsDirectory(lt){this._soundsDirectory=lt,this.audioBuffers={}}static get keypressSound(){return this._keypressSound}static set keypressSound(lt){var ft,xt,St;this.audioBuffers={},lt===null?this._keypressSound={spacebar:null,return:null,delete:null,default:null}:typeof lt=="string"?this._keypressSound={spacebar:lt,return:lt,delete:lt,default:lt}:typeof lt=="object"&&"default"in lt&&(this._keypressSound={spacebar:(ft=lt.spacebar)!=null?ft:lt.default,return:(xt=lt.return)!=null?xt:lt.default,delete:(St=lt.delete)!=null?St:lt.default,default:lt.default})}static get plonkSound(){return this._plonkSound}static set plonkSound(lt){this.audioBuffers={},this._plonkSound=lt}static get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}static get speechEngine(){return this._speechEngine}static set speechEngine(lt){this._speechEngine=lt}static get speechEngineRate(){return this._speechEngineRate}static set speechEngineRate(lt){this._speechEngineRate=lt}static get speechEngineVoice(){return this._speechEngineVoice}static set speechEngineVoice(lt){this._speechEngineVoice=lt}static get textToSpeechMarkup(){return this._textToSpeechMarkup}static set textToSpeechMarkup(lt){this._textToSpeechMarkup=lt}static get textToSpeechRules(){return this._textToSpeechRules}static set textToSpeechRules(lt){this._textToSpeechRules=lt}static get textToSpeechRulesOptions(){return this._textToSpeechRulesOptions}static set textToSpeechRulesOptions(lt){this._textToSpeechRulesOptions=lt}static get locale(){return Rt.locale}static set locale(lt){lt==="auto"&&(lt=navigator.language.slice(0,5)),Rt.locale=lt}static get decimalSeparator(){return this._decimalSeparator}static set decimalSeparator(lt){this._decimalSeparator=lt,this._computeEngine&&(this._computeEngine.latexOptions.decimalMarker=this.decimalSeparator===","?"{,}":".")}static get strings(){return Rt.strings}static set strings(lt){Rt.merge(lt)}static get computeEngine(){var lt,ft;if(this._computeEngine===void 0){let xt=(lt=window[Symbol.for("io.cortexjs.compute-engine")])==null?void 0:lt.ComputeEngine;if(!xt)return null;this._computeEngine=new xt,this._computeEngine&&this.decimalSeparator===","&&(this._computeEngine.latexOptions.decimalMarker="{,}")}return(ft=this._computeEngine)!=null?ft:null}static set computeEngine(lt){this._computeEngine=lt}static async loadSound(lt){delete this.audioBuffers[lt];let ft="";switch(lt){case"keypress":ft=this._keypressSound.default;break;case"return":ft=this._keypressSound.return;break;case"spacebar":ft=this._keypressSound.spacebar;break;case"delete":ft=this._keypressSound.delete;break;case"plonk":ft=this.plonkSound;break}if(typeof ft!="string")return;ft=ft.trim();let xt=this.soundsDirectory;if(!(xt==null||xt==="null"||ft==="none"||ft==="null"))try{let St=await(await fetch(await fx(`${xt}/${ft}`))).arrayBuffer(),Ct=await this.audioContext.decodeAudioData(St);this.audioBuffers[lt]=Ct}catch{}}static async playSound(lt){if((this.audioContext.state==="suspended"||this.audioContext.state==="interrupted")&&await this.audioContext.resume(),this.audioBuffers[lt]||await this.loadSound(lt),!this.audioBuffers[lt])return;let ft=this.audioContext.createBufferSource();ft.buffer=this.audioBuffers[lt];let xt=this.audioContext.createGain();xt.gain.value=mS,ft.connect(xt).connect(this.audioContext.destination),ft.start()}onPointerDown(){window.addEventListener("pointerup",lt=>{var ft;lt.target===this&&!((ft=this._mathfield)!=null&&ft.disabled)&&this.dispatchEvent(new MouseEvent("click",{altKey:lt.altKey,button:lt.button,buttons:lt.buttons,clientX:lt.clientX,clientY:lt.clientY,ctrlKey:lt.ctrlKey,metaKey:lt.metaKey,movementX:lt.movementX,movementY:lt.movementY,relatedTarget:lt.relatedTarget,screenX:lt.screenX,screenY:lt.screenY,shiftKey:lt.shiftKey}))},{once:!0})}getPromptValue(lt,ft){var xt,St;return(St=(xt=this._mathfield)==null?void 0:xt.getPromptValue(lt,ft))!=null?St:""}getPrompts(lt){var ft,xt;return(xt=(ft=this._mathfield)==null?void 0:ft.getPrompts(lt))!=null?xt:[]}get form(){var lt;return(lt=this._internals)==null?void 0:lt.form}get name(){var lt;return(lt=this.getAttribute("name"))!=null?lt:""}get type(){return this.localName}get mode(){var lt,ft;return(ft=(lt=this._mathfield)==null?void 0:lt.model.mode)!=null?ft:this.defaultMode==="text"?"text":"math"}set mode(lt){this._mathfield&&(this._mathfield.model.mode=lt)}get expression(){if(this._mathfield)return window[Symbol.for("io.cortexjs.compute-engine")]?this._mathfield.expression:(console.error(`MathLive 0.95.1: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`),null)}set expression(lt){var ft,xt;if(!this._mathfield)return;let St=(xt=(ft=Wl.computeEngine)==null?void 0:ft.box(lt).latex)!=null?xt:null;St!==null&&this._mathfield.setValue(St),window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`MathLive 0.95.1: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`)}get errors(){var lt,ft;return(ft=(lt=this._mathfield)==null?void 0:lt.errors)!=null?ft:[]}_getOptions(lt){return this._mathfield?Rl(this._mathfield.options,lt):$n.has(this)?bt({},Rl(bt(bt({},ym()),gm($n.get(this).options)),lt)):null}getOptions(lt){return console.warn("%cMathLive 0.95.1: %cDeprecated Usage%c\n      `mf.getOptions()` is deprecated. Read the property directly on the mathfield instead.\n      See https://cortexjs.io/mathlive/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._mathfield?Rl(this._mathfield.options,lt):$n.has(this)?Rl(bt(bt({},ym()),gm($n.get(this).options)),lt):null}reflectAttributes(){let lt=ym(),ft=this._getOptions();Object.keys(Wl.optionsAttributes).forEach(xt=>{let St=Ms(xt);Wl.optionsAttributes[xt]==="on/off"?lt[St]!==ft[St]?this.setAttribute(xt,ft[St]?"on":"off"):this.removeAttribute(xt):lt[St]!==ft[St]&&(Wl.optionsAttributes[xt]==="boolean"?ft[St]?this.setAttribute(xt,""):this.removeAttribute(xt):(typeof ft[St]=="string"||typeof ft[St]=="number")&&this.setAttribute(xt,ft[St].toString()))})}getOption(lt){return console.warn("%cMathLive 0.95.1: %cDeprecated Usage%c\n      `mf.getOption()` is deprecated. Read the property directly on the mathfield instead.\n      See https://cortexjs.io/mathlive/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._getOptions([lt])[lt]}_getOption(lt){return this._getOptions([lt])[lt]}_setOptions(lt){if(this._mathfield)this._mathfield.setOptions(lt);else if($n.has(this)){let ft=bt(bt({},$n.get(this).options),lt);$n.set(this,wt(bt({},$n.get(this)),{selection:{ranges:ft.readOnly?[[0,0]]:[[0,-1]]},options:ft}))}else $n.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:lt});this.reflectAttributes()}setOptions(lt){console.group("%cMathLive 0.95.1: %cDeprecated Usage","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn(" `mf.setOptions()` is deprecated. Set the property directly on the mathfield instead.\n      See https://cortexjs.io/mathlive/changelog/ for details.");for(let ft of Object.keys(lt))Gs[ft]&&console.warn(`\`mf.setOptions({${ft}:...})\` -> ${Gs[ft]}`);console.groupEnd(),this._setOptions(lt)}executeCommand(lt){var ft,xt;return(xt=(ft=this._mathfield)==null?void 0:ft.executeCommand(lt))!=null?xt:!1}getValue(lt,ft,xt){var St,Ct;if(this._mathfield)return this._mathfield.model.getValue(lt,ft,xt);if($n.has(this)){let Tt,Pt,zt;if(xm(lt)?([Tt,Pt]=lt.ranges[0],zt=ft):bm(lt)?([Tt,Pt]=lt,zt=ft):Hs(lt)&&Hs(ft)?(Tt=lt,Pt=ft,zt=xt):(Tt=0,Pt=-1,zt=lt),(zt===void 0||zt==="latex")&&Tt===0&&Pt===-1)return(Ct=(St=$n.get(this).value)!=null?St:this.textContent)!=null?Ct:""}return""}setValue(lt,ft){if(this._mathfield&&lt!==void 0){ft!=null||(ft={silenceNotifications:!0,mode:"math"}),this._mathfield.setValue(lt,ft);return}if($n.has(this)){let St=$n.get(this).options;$n.set(this,{value:lt,selection:{ranges:St.readOnly?[[0,0]]:[[0,-1]],direction:"forward"},options:St});return}let xt=Om(this);$n.set(this,{value:lt,selection:{ranges:xt.readOnly?[[0,0]]:[[0,-1]],direction:"forward"},options:xt})}hasFocus(){var lt,ft;return(ft=(lt=this._mathfield)==null?void 0:lt.hasFocus())!=null?ft:!1}focus(){var lt;(lt=this._mathfield)==null||lt.focus()}blur(){var lt;(lt=this._mathfield)==null||lt.blur()}select(){var lt;(lt=this._mathfield)==null||lt.select()}insert(lt,ft){var xt,St;return(St=(xt=this._mathfield)==null?void 0:xt.insert(lt,ft))!=null?St:!1}applyStyle(lt,ft){var xt;return(xt=this._mathfield)==null?void 0:xt.applyStyle(lt,ft)}get caretPoint(){var lt,ft;return(ft=(lt=this._mathfield)==null?void 0:lt.getCaretPoint())!=null?ft:null}set caretPoint(lt){var ft;lt&&((ft=this._mathfield)==null||ft.setCaretPoint(lt.x,lt.y))}setCaretPoint(lt,ft){var xt,St;return(St=(xt=this._mathfield)==null?void 0:xt.setCaretPoint(lt,ft))!=null?St:!1}offsetFromPoint(lt,ft,xt){return this._mathfield?_f(this._mathfield,lt,ft,xt):-1}hitboxFromOffset(lt){if(!this._mathfield)return null;let ft=this._mathfield.model.at(lt);if(!ft)return null;let xt=Nu(this._mathfield,ft);return xt?new DOMRect(xt.left,xt.top,xt.right-xt.left,xt.bottom-xt.top):null}resetUndo(){var lt;(lt=this._mathfield)==null||lt.resetUndo()}canUndo(){return this._mathfield?this._mathfield.canUndo():!1}canRedo(){return this._mathfield?this._mathfield.canRedo():!1}handleEvent(lt){var ft,xt,St;lt.type==="pointerdown"&&this.onPointerDown(),lt.type==="focus"&&((ft=this._mathfield)==null||ft.focus()),lt.type==="blur"&&((xt=Pl.scrim)==null?void 0:xt.state)==="closed"&&((St=this._mathfield)==null||St.blur())}connectedCallback(){var lt,ft,xt;this.shadowRoot.host.addEventListener("pointerdown",this,!0),this.shadowRoot.host.addEventListener("focus",this,!0),this.shadowRoot.host.addEventListener("blur",this,!0),mu()||(this.hasAttribute("role")||this.setAttribute("role","math"),this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field"),this.setAttribute("aria-multiline","false")),this.hasAttribute("contenteditable")||this.setAttribute("contenteditable","true"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");let St=this.shadowRoot.querySelector("slot:not([name])"),Ct="";if(this.hasAttribute("value")?Ct=(lt=this.getAttribute("value"))!=null?lt:"":Ct=(ft=St==null?void 0:St.assignedNodes().map(Tt=>Tt.nodeType===3?Tt.textContent:"").join("").trim())!=null?ft:"",this._mathfield=new uS(this.shadowRoot.querySelector(":host > span"),wt(bt({},$n.has(this)?$n.get(this).options:Om(this)),{eventSink:this,value:Ct})),!$n.has(this)){this.upgradeProperty("disabled"),this.upgradeProperty("readonly");for(let Tt of Object.keys(Wl.optionsAttributes))this.upgradeProperty(Ms(Tt))}if(!((xt=this._mathfield)!=null&&xt.model)){this._mathfield=null;return}$n.has(this)&&this._mathfield.model.deferNotifications({content:!1,selection:!1},()=>{let Tt=$n.get(this).value;Tt!==void 0&&this._mathfield.setValue(Tt),this._mathfield.model.selection=$n.get(this).selection,$n.delete(this)}),window.queueMicrotask(()=>{this.isConnected&&this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))}),dm()}disconnectedCallback(){if(this.shadowRoot.host.removeEventListener("pointerdown",this,!0),!this._mathfield)return;window.queueMicrotask(()=>this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0,composed:!0})));let lt=Rl(this._mathfield.options,Object.keys(Wl.optionsAttributes).map(ft=>Ms(ft)));$n.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,options:lt}),this._mathfield.dispose(),this._mathfield=null}upgradeProperty(lt){if(this.hasOwnProperty(lt)){let ft=this[lt];delete this[lt],(lt==="readonly"||lt==="read-only")&&(lt="readOnly"),this[lt]=ft}}attributeChangedCallback(lt,ft,xt){if(ft===xt)return;let St=xt!==null;switch(lt){case"contenteditable":this._mathfield&&no(this._mathfield);break;case"disabled":this.disabled=St;break;case"read-only":case"readonly":this.readOnly=St;break}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(lt){let ft=!!lt;ft?(this.setAttribute("readonly",""),mu()?this._internals.ariaReadOnly="true":this.setAttribute("aria-readonly","true"),this.setAttribute("aria-readonly","true")):(mu()?this._internals.ariaReadOnly="false":this.removeAttribute("aria-readonly"),this.removeAttribute("readonly"),this.removeAttribute("read-only")),this._setOptions({readOnly:ft})}get disabled(){return this.hasAttribute("disabled")}set disabled(lt){var ft;let xt=!!lt;xt?this.setAttribute("disabled",""):this.removeAttribute("disabled"),mu()?this._internals.ariaDisabled=xt?"true":"false":this.setAttribute("aria-disabled",xt?"true":"false"),xt&&(ft=this._mathfield)!=null&&ft.hasFocus&&window.mathVirtualKeyboard.visible&&this._mathfield.executeCommand("hideVirtualKeyboard")}get value(){return this.getValue()}set value(lt){this.setValue(lt)}get defaultMode(){return this._getOption("defaultMode")}set defaultMode(lt){this._setOptions({defaultMode:lt})}get macros(){return this._getOption("macros")}set macros(lt){this._setOptions({macros:lt})}get registers(){return this._getOption("registers")}set registers(lt){this._setOptions({registers:lt})}get colorMap(){return this._getOption("colorMap")}set colorMap(lt){this._setOptions({colorMap:lt})}get backgroundColorMap(){return this._getOption("backgroundColorMap")}set backgroundColorMap(lt){this._setOptions({backgroundColorMap:lt})}get letterShapeStyle(){return this._getOption("letterShapeStyle")}set letterShapeStyle(lt){this._setOptions({letterShapeStyle:lt})}get minFontScale(){return this._getOption("minFontScale")}set minFontScale(lt){this._setOptions({minFontScale:lt})}get smartMode(){return this._getOption("smartMode")}set smartMode(lt){this._setOptions({smartMode:lt})}get smartFence(){return this._getOption("smartFence")}set smartFence(lt){this._setOptions({smartFence:lt})}get smartSuperscript(){return this._getOption("smartSuperscript")}set smartSuperscript(lt){this._setOptions({smartSuperscript:lt})}get scriptDepth(){return this._getOption("scriptDepth")}set scriptDepth(lt){this._setOptions({scriptDepth:lt})}get removeExtraneousParentheses(){return this._getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(lt){this._setOptions({removeExtraneousParentheses:lt})}get mathModeSpace(){return this._getOption("mathModeSpace")}set mathModeSpace(lt){this._setOptions({mathModeSpace:lt})}get placeholderSymbol(){return this._getOption("placeholderSymbol")}set placeholderSymbol(lt){this._setOptions({placeholderSymbol:lt})}get popoverPolicy(){return this._getOption("popoverPolicy")}set popoverPolicy(lt){this._setOptions({popoverPolicy:lt})}get environmentPopoverPolicy(){return this._getOption("environmentPopoverPolicy")}set environmentPopoverPolicy(lt){this._setOptions({environmentPopoverPolicy:lt})}get mathVirtualKeyboardPolicy(){return this._getOption("mathVirtualKeyboardPolicy")}set mathVirtualKeyboardPolicy(lt){this._setOptions({mathVirtualKeyboardPolicy:lt})}get inlineShortcuts(){return this._getOption("inlineShortcuts")}set inlineShortcuts(lt){this._setOptions({inlineShortcuts:lt})}get inlineShortcutTimeout(){return this._getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(lt){this._setOptions({inlineShortcutTimeout:lt})}get keybindings(){return this._getOption("keybindings")}set keybindings(lt){this._setOptions({keybindings:lt})}get onInlineShortcut(){return this._getOption("onInlineShortcut")}set onInlineShortcut(lt){this._setOptions({onInlineShortcut:lt})}get onScrollIntoView(){return this._getOption("onScrollIntoView")}set onScrollIntoView(lt){this._setOptions({onScrollIntoView:lt})}get onExport(){return this._getOption("onExport")}set onExport(lt){this._setOptions({onExport:lt})}get readOnly(){return this._getOption("readOnly")}set readOnly(lt){this._setOptions({readOnly:lt})}get isSelectionEditable(){var lt,ft;return(ft=(lt=this._mathfield)==null?void 0:lt.isSelectionEditable)!=null?ft:!1}setPromptState(lt,ft,xt){var St;(St=this._mathfield)==null||St.setPromptState(lt,ft,xt)}getPromptState(lt){var ft,xt;return(xt=(ft=this._mathfield)==null?void 0:ft.getPromptState(lt))!=null?xt:[void 0,!0]}setPromptContent(lt,ft,xt){var St;(St=this._mathfield)==null||St.setPromptValue(lt,ft,xt)}stripPromptContent(lt){var ft,xt;return(xt=(ft=this._mathfield)==null?void 0:ft.stripPromptContent(lt))!=null?xt:{}}get virtualKeyboardTargetOrigin(){return this._getOption("virtualKeyboardTargetOrigin")}set virtualKeyboardTargetOrigin(lt){this._setOptions({virtualKeyboardTargetOrigin:lt})}get selection(){return this._mathfield?this._mathfield.model.selection:$n.has(this)?$n.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(lt){if(typeof lt=="number"&&(lt={ranges:[[lt,lt]]}),this._mathfield){this._mathfield.model.selection=lt;return}if($n.has(this)){$n.set(this,wt(bt({},$n.get(this)),{selection:lt}));return}$n.set(this,{value:void 0,selection:lt,options:Om(this)})}get selectionIsCollapsed(){let lt=this.selection;return lt.ranges.length===1&&lt.ranges[0][0]===lt.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:$n.has(this)?$n.get(this).selection.ranges[0][0]:0}set position(lt){if(this._mathfield&&(this._mathfield.model.position=lt),$n.has(this)){$n.set(this,wt(bt({},$n.get(this)),{selection:{ranges:[[lt,lt]]}}));return}$n.set(this,{value:void 0,selection:{ranges:[[lt,lt]]},options:Om(this)})}getOffsetDepth(lt){var ft;return this._mathfield?((ft=this._mathfield.model.at(lt))==null?void 0:ft.treeDepth)-2:0}get lastOffset(){var lt,ft;return(ft=(lt=this._mathfield)==null?void 0:lt.model.lastOffset)!=null?ft:-1}};fo.version="0.95.1",fo._fontsDirectory="./fonts",fo._soundsDirectory="./sounds",fo.keypressVibration=!0,fo._keypressSound={spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},fo._plonkSound="plonk.wav",fo.audioBuffers={},fo.createHTML=at=>at,fo._speechEngineRate="100%",fo._speechEngineVoice="Joanna",fo._textToSpeechMarkup="",fo._textToSpeechRules="mathlive",fo._textToSpeechRulesOptions={},fo.speakHook=uw,fo.readAloudHook=pS,fo._decimalSeparator=".",fo.fractionNavigationOrder="numerator-denominator";var ep=fo;function Ms(at){return at.replace(/[^a-zA-Z\d]+(.)/g,(lt,ft)=>ft.toUpperCase())}function Om(at){let lt={readOnly:!1},ft=ep.optionsAttributes;return Object.keys(ft).forEach(xt=>{if(at.hasAttribute(xt)){let St=at.getAttribute(xt);ft[xt]==="boolean"?lt[Ms(xt)]=!0:ft[xt]==="on/off"?St==="on"?lt[Ms(xt)]=!0:St==="off"?lt[Ms(xt)]=!1:lt[Ms(xt)]=void 0:ft[xt]==="number"?lt[Ms(xt)]=Number.parseFloat(St??"0"):lt[Ms(xt)]=St}}),lt}function mu(){return!(!("ElementInternals"in window)||!HTMLElement.prototype.attachInternals||!("role"in window.ElementInternals.prototype))}var Q0=ep,Qx,Jx,e2;if(Bt()&&!((Qx=window.customElements)!=null&&Qx.get("math-field"))){window[Jx=Symbol.for("io.cortexjs.mathlive")]!=null||(window[Jx]={});let at=window[Symbol.for("io.cortexjs.mathlive")];at.version="0.95.1",window.MathfieldElement=ep,(e2=window.customElements)==null||e2.define("math-field",ep)}function t2(at,lt){var ft,xt;lt!=null||(lt={}),lt.mathstyle=(ft=lt.mathstyle)!=null?ft:"displaystyle";let St=new Dn({from:wt(bt({},w0()),{renderPlaceholder:()=>new Qr(160,{maxFontSize:1}),letterShapeStyle:(xt=lt==null?void 0:lt.letterShapeStyle)!=null?xt:"tex"}),mathstyle:lt.mathstyle}),Ct=new Ir({mode:"math",type:"root",body:_o(at,{context:St,parseMode:"math",mathstyle:lt.mathstyle})}).render(St);return Ct?(Ip(Ru(Ct,St)),jp(Ct,{classes:"ML__mathlive"}).toMarkup()):""}function hS(at){return Xy(at,{context:w0()})}function r2(at,lt={}){return kn(_o(at,{parseMode:"math",args:()=>"",mathstyle:"displaystyle"}),lt)}function a2(at){let lt=_o(at,{parseMode:"math",mathstyle:"displaystyle"});return cu(lt)}var Fm;function i2(at){var lt,ft;if(!Fm){let xt=(lt=globalThis[Symbol.for("io.cortexjs.compute-engine")])==null?void 0:lt.ComputeEngine;xt?Fm=new xt:console.error(`MathLive 0.95.1: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`)}return(ft=Fm==null?void 0:Fm.box(at).latex)!=null?ft:""}function vS(at,lt="math"){return ga(new Ir({type:"root",body:_o(at,{parseMode:lt})}))}function gS(at){return Hp(at,{format:"ascii-math"})[1]}function yS(at,lt,ft){let xt=ft,St=0,Ct=at.length;for(;xt<lt.length;){let Tt=lt[xt];if(St<=0&&lt.slice(xt,xt+Ct)===at)return xt;Tt==="\\"?xt++:Tt==="{"?St++:Tt==="}"&&St--,xt++}return-1}function Pm(at,lt,ft,xt,St="latex"){let Ct=[];for(let Tt of at)if(Tt.type==="text"){let Pt=Tt.data,zt=!0,Kt=0,Ht;Ht=Pt.indexOf(lt),Ht!==-1&&(Kt=Ht,Kt>0&&Ct.push({type:"text",data:Pt.slice(0,Kt)}),zt=!1);let Jt=!1;for(;!Jt;){if(zt){if(Ht=Pt.indexOf(lt,Kt),Ht===-1){Jt=!0;break}Kt!==Ht&&Ct.push({type:"text",data:Pt.slice(Kt,Ht)}),Kt=Ht}else{if(Ht=yS(ft,Pt,Kt+lt.length),Ht===-1){Jt=!0;break}let fr=Pt.slice(Kt+lt.length,Ht);St==="ascii-math"&&([,fr]=Hp(fr,{format:"ascii-math"})),Ct.push({type:"math",data:fr,rawData:Pt.slice(Kt,Ht+ft.length),mathstyle:xt}),Kt=Ht+ft.length}zt=!zt}Kt<Pt.length&&Ct.push({type:"text",data:Pt.slice(Kt)})}else Ct.push(Tt);return Ct}function o2(at,lt,ft){let xt=[{type:"text",data:at}];return lt!=null&&lt.inline&&lt.inline.forEach(([St,Ct])=>{xt=Pm(xt,St,Ct,"textstyle")}),lt!=null&&lt.display&&lt.display.forEach(([St,Ct])=>{xt=Pm(xt,St,Ct,"displaystyle")}),ft!=null&&ft.inline&&ft.inline.forEach(([St,Ct])=>{xt=Pm(xt,St,Ct,"textstyle","ascii-math")}),ft!=null&&ft.display&&ft.display.forEach(([St,Ct])=>{xt=Pm(xt,St,Ct,"displaystyle","ascii-math")}),xt}function bS(at,lt){let ft=document.createElement("span");try{let xt="<math xmlns='http://www.w3.org/1998/Math/MathML'>"+lt.renderToMathML(at)+"</math>";ft.innerHTML=window.MathfieldElement.createHTML(xt)}catch(xt){console.error(`MathLive 0.95.1:  Could not convert "${at}"' to MathML with ${xt}`),ft.textContent=at}return ft.className="ML__sr-only",ft}function xS(at,lt,ft,xt){try{let St=lt.renderToMarkup(at,{mathstyle:ft,format:"html"}),Ct=document.createElement("span");return Ct.style.display=ft==="displaystyle"?"flex":"inline-flex",Ct.setAttribute("aria-hidden","true"),Ct.innerHTML=window.MathfieldElement.createHTML(St),Ct}catch(St){if(console.error("Could not parse'"+at+"' with ",St),xt)return document.createTextNode(at)}return null}function hu(at,lt,ft,xt){var St;let Ct=xS(at,ft,lt||"textstyle",xt),Tt=(St=ft.renderAccessibleContent)!=null?St:"";if(Ct&&/\b(mathml|speakable-text)\b/i.test(Tt)){let Pt=document.createElement("span");if(/\bmathml\b/i.test(Tt)&&ft.renderToMathML&&Pt.append(bS(at,ft)),/\bspeakable-text\b/i.test(Tt)&&ft.renderToSpeakableText){let zt=document.createElement("span"),Kt=ft.renderToSpeakableText(at);zt.innerHTML=window.MathfieldElement.createHTML(Kt),zt.className="ML__sr-only",Pt.append(zt)}return Pt.append(Ct),Pt}return Ct}function wS(at,lt){var ft,xt,St;let Ct=null;if((ft=lt.TeX)!=null&&ft.processEnvironments&&/^\s*\\begin/.test(at)){Ct=document.createDocumentFragment();let Tt=hu(at,"",lt,!0);Tt&&Ct.appendChild(Tt)}else{if(!at.trim())return null;let Tt=o2(at,(xt=lt.TeX)==null?void 0:xt.delimiters,(St=lt.asciiMath)==null?void 0:St.delimiters);if(Tt.length===1&&Tt[0].type==="text")return null;Ct=document.createDocumentFragment();for(let Pt of Tt)if(Pt.type==="text")Ct.appendChild(document.createTextNode(Pt.data));else{let zt=hu(Pt.data,Pt.mathstyle==="textstyle"?"textstyle":"displaystyle",lt,!0);zt&&Ct.appendChild(zt)}}return Ct}function s2(at,lt){var ft,xt,St,Ct,Tt,Pt,zt,Kt,Ht,Jt,fr,hr,mr,Rr,Yr,Pr;if(at.childNodes.length===1&&at.childNodes[0].nodeType===3){let Ur=(ft=at.childNodes[0].textContent)!=null?ft:"";if((xt=lt.TeX)!=null&&xt.processEnvironments&&/^\s*\\begin/.test(Ur)){at.textContent="";let Zr=hu(Ur,"",lt,!0);Zr&&at.append(Zr);return}let un=o2(Ur,(St=lt.TeX)==null?void 0:St.delimiters,(Ct=lt.asciiMath)==null?void 0:Ct.delimiters);if(un.length===1&&un[0].type==="math"){at.textContent="";let Zr=hu(un[0].data,un[0].mathstyle==="textstyle"?"textstyle":"displaystyle",lt,!0);Zr&&at.append(Zr);return}if(un.length===1&&un[0].type==="text")return}for(let Ur=at.childNodes.length-1;Ur>=0;Ur--){let un=at.childNodes[Ur];if(un.nodeType===3){let Zr=wS((Tt=un.textContent)!=null?Tt:"",lt);Zr&&(Ur+=Zr.childNodes.length-1,un.replaceWith(Zr))}else if(un.nodeType===1){let Zr=un,dn=un.nodeName.toLowerCase();if(dn==="script"){let an=un,Mn;if((Pt=lt.processScriptTypePattern)!=null&&Pt.test(an.type))Mn=(zt=an.textContent)!=null?zt:"";else if((Kt=lt.processMathJSONScriptTypePattern)!=null&&Kt.test(an.type))try{Mn=(Jt=lt.serializeToLatex)==null?void 0:Jt.call(lt,JSON.parse((Ht=an.textContent)!=null?Ht:""))}catch(Pn){console.error(Pn)}if(Mn){let Pn="textstyle";for(let Jr of an.type.split(";")){let[jo,hs]=Jr.toLowerCase().split("=");jo.trim()==="mode"&&(Pn=hs.trim()==="display"?"displaystyle":"textstyle")}let _a=hu(Mn,Pn,lt,!0);_a&&an.parentNode.replaceChild(_a,an)}}else if((hr=(fr=lt.processClassPattern)==null?void 0:fr.test(Zr.className))!=null&&hr||!((Rr=(mr=lt.skipTags)==null?void 0:mr.includes(dn))!=null&&Rr||(Pr=(Yr=lt.ignoreClassPattern)==null?void 0:Yr.test(Zr.className))!=null&&Pr))if(at.childNodes.length===1&&at.childNodes[0].nodeType===3){let an=at.textContent;at.textContent="";let Mn=hu(an??"","displaystyle",lt,!0);Mn&&at.append(Mn)}else s2(Zr,lt)}}}var SS={skipTags:["math-field","noscript","style","textarea","pre","code","annotation","annotation-xml"],processScriptType:"math/tex",processMathJSONScriptType:"math/json",ignoreClass:"tex2jax_ignore",processClass:"tex2jax_process",renderAccessibleContent:"mathml",asciiMath:{delimiters:{inline:[["`","`"]]}},TeX:{processEnvironments:!0,delimiters:{inline:[["\\(","\\)"]],display:[["$$","$$"],["\\[","\\]"]]}}};function l2(at,lt){var ft,xt,St,Ct;try{let Tt=bt(bt({},SS),lt);Tt.ignoreClassPattern=new RegExp((ft=Tt.ignoreClass)!=null?ft:""),Tt.processClassPattern=new RegExp((xt=Tt.processClass)!=null?xt:""),Tt.processScriptTypePattern=new RegExp((St=Tt.processScriptType)!=null?St:""),Tt.processMathJSONScriptTypePattern=new RegExp((Ct=Tt.processMathJSONScriptType)!=null?Ct:""),dm(),Es("core"),s2(at,Tt)}catch(Tt){Tt instanceof Error?console.error("renderMathInElement(): "+Tt.message):console.error("renderMathInElement(): Could not render math for element",at)}}function ES(at){let lt=Vs.singleton;return lt?(lt.show(),Wu(),lt.currentLayer=at,lt.render(),lt.focus(),!0):!1}function DS(){let at=window.mathVirtualKeyboard;return at.visible?at.hide({animate:!0}):at.show({animate:!0}),!1}Fo({switchKeyboardLayer:ES,toggleVirtualKeyboard:DS,hideVirtualKeyboard:()=>(window.mathVirtualKeyboard.hide({animate:!0}),!1),showVirtualKeyboard:()=>(window.mathVirtualKeyboard.show({animate:!0}),!1)},{target:"virtual-keyboard"});function $s(){var at;return globalThis[at=Symbol.for("io.cortexjs.mathlive")]!=null||(globalThis[at]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}function _S(){return console.warn("%cMathLive 0.95.1: %cmakeSharedVirtualKeyboard() is deprecated. \n    Use `window.mathVirtualKeyboard` to access the virtual keyboard instance.\n    See https://cortexjs.io/mathlive/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),window.mathVirtualKeyboard}function CS(at){u2(document.body,at)}function $S(at){if(typeof at=="string"){let lt=document.getElementById(at);if(lt===null)throw new Error(`The element with ID "${at}" could not be found.`);return lt}return typeof at=="string"?null:at}function u2(at,lt){let ft=$S(at);if(!ft)return;let xt=lt??{};xt.renderToMarkup!=null||(xt.renderToMarkup=t2),xt.renderToMathML!=null||(xt.renderToMathML=r2),xt.renderToSpeakableText!=null||(xt.renderToSpeakableText=a2),xt.serializeToLatex!=null||(xt.serializeToLatex=i2),l2(ft,xt)}var AS={mathlive:"0.95.1"};return _t(Nt)})();Object.assign(g,it),Object.defineProperty(g,"__esModule",{value:!0})})})(mathlive_min,mathlive_min.exports);var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(s){return s===null||typeof s!="object"?null:(s=z$2&&s[z$2]||s["@@iterator"],typeof s=="function"?s:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(s,h,g){this.props=s,this.context=h,this.refs=D$2,this.updater=g||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(s,h){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,h,"setState")};E$2.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(s,h,g){this.props=s,this.context=h,this.refs=D$2,this.updater=g||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(s,h,g){var it,ut={},ct=null,dt=null;if(h!=null)for(it in h.ref!==void 0&&(dt=h.ref),h.key!==void 0&&(ct=""+h.key),h)J$1.call(h,it)&&!L$2.hasOwnProperty(it)&&(ut[it]=h[it]);var ht=arguments.length-2;if(ht===1)ut.children=g;else if(1<ht){for(var pt=Array(ht),mt=0;mt<ht;mt++)pt[mt]=arguments[mt+2];ut.children=pt}if(s&&s.defaultProps)for(it in ht=s.defaultProps,ht)ut[it]===void 0&&(ut[it]=ht[it]);return{$$typeof:l$1,type:s,key:ct,ref:dt,props:ut,_owner:K$2.current}}function N$2(s,h){return{$$typeof:l$1,type:s.type,key:h,ref:s.ref,props:s.props,_owner:s._owner}}function O$2(s){return typeof s=="object"&&s!==null&&s.$$typeof===l$1}function escape$1(s){var h={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(g){return h[g]})}var P$4=/\/+/g;function Q$3(s,h){return typeof s=="object"&&s!==null&&s.key!=null?escape$1(""+s.key):h.toString(36)}function R$2(s,h,g,it,ut){var ct=typeof s;(ct==="undefined"||ct==="boolean")&&(s=null);var dt=!1;if(s===null)dt=!0;else switch(ct){case"string":case"number":dt=!0;break;case"object":switch(s.$$typeof){case l$1:case n$2:dt=!0}}if(dt)return dt=s,ut=ut(dt),s=it===""?"."+Q$3(dt,0):it,I$2(ut)?(g="",s!=null&&(g=s.replace(P$4,"$&/")+"/"),R$2(ut,h,g,"",function(mt){return mt})):ut!=null&&(O$2(ut)&&(ut=N$2(ut,g+(!ut.key||dt&&dt.key===ut.key?"":(""+ut.key).replace(P$4,"$&/")+"/")+s)),h.push(ut)),1;if(dt=0,it=it===""?".":it+":",I$2(s))for(var ht=0;ht<s.length;ht++){ct=s[ht];var pt=it+Q$3(ct,ht);dt+=R$2(ct,h,g,pt,ut)}else if(pt=A$2(s),typeof pt=="function")for(s=pt.call(s),ht=0;!(ct=s.next()).done;)ct=ct.value,pt=it+Q$3(ct,ht++),dt+=R$2(ct,h,g,pt,ut);else if(ct==="object")throw h=String(s),Error("Objects are not valid as a React child (found: "+(h==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":h)+"). If you meant to render a collection of children, use an array instead.");return dt}function S$1(s,h,g){if(s==null)return s;var it=[],ut=0;return R$2(s,it,"","",function(ct){return h.call(g,ct,ut++)}),it}function T$2(s){if(s._status===-1){var h=s._result;h=h(),h.then(function(g){(s._status===0||s._status===-1)&&(s._status=1,s._result=g)},function(g){(s._status===0||s._status===-1)&&(s._status=2,s._result=g)}),s._status===-1&&(s._status=0,s._result=h)}if(s._status===1)return s._result.default;throw s._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};react_production_min.Children={map:S$1,forEach:function(s,h,g){S$1(s,function(){h.apply(this,arguments)},g)},count:function(s){var h=0;return S$1(s,function(){h++}),h},toArray:function(s){return S$1(s,function(h){return h})||[]},only:function(s){if(!O$2(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$2;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(s,h,g){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var it=C$2({},s.props),ut=s.key,ct=s.ref,dt=s._owner;if(h!=null){if(h.ref!==void 0&&(ct=h.ref,dt=K$2.current),h.key!==void 0&&(ut=""+h.key),s.type&&s.type.defaultProps)var ht=s.type.defaultProps;for(pt in h)J$1.call(h,pt)&&!L$2.hasOwnProperty(pt)&&(it[pt]=h[pt]===void 0&&ht!==void 0?ht[pt]:h[pt])}var pt=arguments.length-2;if(pt===1)it.children=g;else if(1<pt){ht=Array(pt);for(var mt=0;mt<pt;mt++)ht[mt]=arguments[mt+2];it.children=ht}return{$$typeof:l$1,type:s.type,key:ut,ref:ct,props:it,_owner:dt}};react_production_min.createContext=function(s){return s={$$typeof:u$1,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:t,_context:s},s.Consumer=s};react_production_min.createElement=M$2;react_production_min.createFactory=function(s){var h=M$2.bind(null,s);return h.type=s,h};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(s){return{$$typeof:v$2,render:s}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(s){return{$$typeof:y$2,_payload:{_status:-1,_result:s},_init:T$2}};react_production_min.memo=function(s,h){return{$$typeof:x$2,type:s,compare:h===void 0?null:h}};react_production_min.startTransition=function(s){var h=V$2.transition;V$2.transition={};try{s()}finally{V$2.transition=h}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(s,h){return U$2.current.useCallback(s,h)};react_production_min.useContext=function(s){return U$2.current.useContext(s)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(s){return U$2.current.useDeferredValue(s)};react_production_min.useEffect=function(s,h){return U$2.current.useEffect(s,h)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(s,h,g){return U$2.current.useImperativeHandle(s,h,g)};react_production_min.useInsertionEffect=function(s,h){return U$2.current.useInsertionEffect(s,h)};react_production_min.useLayoutEffect=function(s,h){return U$2.current.useLayoutEffect(s,h)};react_production_min.useMemo=function(s,h){return U$2.current.useMemo(s,h)};react_production_min.useReducer=function(s,h,g){return U$2.current.useReducer(s,h,g)};react_production_min.useRef=function(s){return U$2.current.useRef(s)};react_production_min.useState=function(s){return U$2.current.useState(s)};react_production_min.useSyncExternalStore=function(s,h,g){return U$2.current.useSyncExternalStore(s,h,g)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(s,h,g){var it,ut={},ct=null,dt=null;g!==void 0&&(ct=""+g),h.key!==void 0&&(ct=""+h.key),h.ref!==void 0&&(dt=h.ref);for(it in h)m$1.call(h,it)&&!p$2.hasOwnProperty(it)&&(ut[it]=h[it]);if(s&&s.defaultProps)for(it in h=s.defaultProps,h)ut[it]===void 0&&(ut[it]=h[it]);return{$$typeof:k$1,type:s,key:ct,ref:dt,props:ut,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function h(Zt,Ut){var Yt=Zt.length;Zt.push(Ut);e:for(;0<Yt;){var lr=Yt-1>>>1,rr=Zt[lr];if(0<ut(rr,Ut))Zt[lr]=Ut,Zt[Yt]=rr,Yt=lr;else break e}}function g(Zt){return Zt.length===0?null:Zt[0]}function it(Zt){if(Zt.length===0)return null;var Ut=Zt[0],Yt=Zt.pop();if(Yt!==Ut){Zt[0]=Yt;e:for(var lr=0,rr=Zt.length,Qt=rr>>>1;lr<Qt;){var ur=2*(lr+1)-1,wr=Zt[ur],vr=ur+1,Dr=Zt[vr];if(0>ut(wr,Yt))vr<rr&&0>ut(Dr,wr)?(Zt[lr]=Dr,Zt[vr]=Yt,lr=vr):(Zt[lr]=wr,Zt[ur]=Yt,lr=ur);else if(vr<rr&&0>ut(Dr,Yt))Zt[lr]=Dr,Zt[vr]=Yt,lr=vr;else break e}}return Ut}function ut(Zt,Ut){var Yt=Zt.sortIndex-Ut.sortIndex;return Yt!==0?Yt:Zt.id-Ut.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ct=performance;s.unstable_now=function(){return ct.now()}}else{var dt=Date,ht=dt.now();s.unstable_now=function(){return dt.now()-ht}}var pt=[],mt=[],vt=1,gt=null,yt=3,bt=!1,wt=!1,Et=!1,Mt=typeof setTimeout=="function"?setTimeout:null,Dt=typeof clearTimeout=="function"?clearTimeout:null,$t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _t(Zt){for(var Ut=g(mt);Ut!==null;){if(Ut.callback===null)it(mt);else if(Ut.startTime<=Zt)it(mt),Ut.sortIndex=Ut.expirationTime,h(pt,Ut);else break;Ut=g(mt)}}function Nt(Zt){if(Et=!1,_t(Zt),!wt)if(g(pt)!==null)wt=!0,jt(kt);else{var Ut=g(mt);Ut!==null&&qt(Nt,Ut.startTime-Zt)}}function kt(Zt,Ut){wt=!1,Et&&(Et=!1,Dt(Ft),Ft=-1),bt=!0;var Yt=yt;try{for(_t(Ut),gt=g(pt);gt!==null&&(!(gt.expirationTime>Ut)||Zt&&!It());){var lr=gt.callback;if(typeof lr=="function"){gt.callback=null,yt=gt.priorityLevel;var rr=lr(gt.expirationTime<=Ut);Ut=s.unstable_now(),typeof rr=="function"?gt.callback=rr:gt===g(pt)&&it(pt),_t(Ut)}else it(pt);gt=g(pt)}if(gt!==null)var Qt=!0;else{var ur=g(mt);ur!==null&&qt(Nt,ur.startTime-Ut),Qt=!1}return Qt}finally{gt=null,yt=Yt,bt=!1}}var At=!1,Bt=null,Ft=-1,Lt=5,Ot=-1;function It(){return!(s.unstable_now()-Ot<Lt)}function Rt(){if(Bt!==null){var Zt=s.unstable_now();Ot=Zt;var Ut=!0;try{Ut=Bt(!0,Zt)}finally{Ut?Vt():(At=!1,Bt=null)}}else At=!1}var Vt;if(typeof $t=="function")Vt=function(){$t(Rt)};else if(typeof MessageChannel<"u"){var Xt=new MessageChannel,Wt=Xt.port2;Xt.port1.onmessage=Rt,Vt=function(){Wt.postMessage(null)}}else Vt=function(){Mt(Rt,0)};function jt(Zt){Bt=Zt,At||(At=!0,Vt())}function qt(Zt,Ut){Ft=Mt(function(){Zt(s.unstable_now())},Ut)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Zt){Zt.callback=null},s.unstable_continueExecution=function(){wt||bt||(wt=!0,jt(kt))},s.unstable_forceFrameRate=function(Zt){0>Zt||125<Zt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Lt=0<Zt?Math.floor(1e3/Zt):5},s.unstable_getCurrentPriorityLevel=function(){return yt},s.unstable_getFirstCallbackNode=function(){return g(pt)},s.unstable_next=function(Zt){switch(yt){case 1:case 2:case 3:var Ut=3;break;default:Ut=yt}var Yt=yt;yt=Ut;try{return Zt()}finally{yt=Yt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Zt,Ut){switch(Zt){case 1:case 2:case 3:case 4:case 5:break;default:Zt=3}var Yt=yt;yt=Zt;try{return Ut()}finally{yt=Yt}},s.unstable_scheduleCallback=function(Zt,Ut,Yt){var lr=s.unstable_now();switch(typeof Yt=="object"&&Yt!==null?(Yt=Yt.delay,Yt=typeof Yt=="number"&&0<Yt?lr+Yt:lr):Yt=lr,Zt){case 1:var rr=-1;break;case 2:rr=250;break;case 5:rr=1073741823;break;case 4:rr=1e4;break;default:rr=5e3}return rr=Yt+rr,Zt={id:vt++,callback:Ut,priorityLevel:Zt,startTime:Yt,expirationTime:rr,sortIndex:-1},Yt>lr?(Zt.sortIndex=Yt,h(mt,Zt),g(pt)===null&&Zt===g(mt)&&(Et?(Dt(Ft),Ft=-1):Et=!0,qt(Nt,Yt-lr))):(Zt.sortIndex=rr,h(pt,Zt),wt||bt||(wt=!0,jt(kt))),Zt},s.unstable_shouldYield=It,s.unstable_wrapCallback=function(Zt){var Ut=yt;return function(){var Yt=yt;yt=Ut;try{return Zt.apply(this,arguments)}finally{yt=Yt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(s){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+s,g=1;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+s+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(s,h){ha(s,h),ha(s+"Capture",h)}function ha(s,h){for(ea[s]=h,s=0;s<h.length;s++)da.add(h[s])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(s){return ja.call(ma,s)?!0:ja.call(la,s)?!1:ka.test(s)?ma[s]=!0:(la[s]=!0,!1)}function pa(s,h,g,it){if(g!==null&&g.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return it?!1:g!==null?!g.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function qa(s,h,g,it){if(h===null||typeof h>"u"||pa(s,h,g,it))return!0;if(it)return!1;if(g!==null)switch(g.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function v$1(s,h,g,it,ut,ct,dt){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=it,this.attributeNamespace=ut,this.mustUseProperty=g,this.propertyName=s,this.type=h,this.sanitizeURL=ct,this.removeEmptyString=dt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){z$1[s]=new v$1(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var h=s[0];z$1[h]=new v$1(h,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){z$1[s]=new v$1(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){z$1[s]=new v$1(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){z$1[s]=new v$1(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){z$1[s]=new v$1(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){z$1[s]=new v$1(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){z$1[s]=new v$1(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){z$1[s]=new v$1(s,5,!1,s.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var h=s.replace(ra,sa);z$1[h]=new v$1(h,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var h=s.replace(ra,sa);z$1[h]=new v$1(h,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var h=s.replace(ra,sa);z$1[h]=new v$1(h,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){z$1[s]=new v$1(s,1,!1,s.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){z$1[s]=new v$1(s,1,!1,s.toLowerCase(),null,!0,!0)});function ta(s,h,g,it){var ut=z$1.hasOwnProperty(h)?z$1[h]:null;(ut!==null?ut.type!==0:it||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(qa(h,g,ut,it)&&(g=null),it||ut===null?oa(h)&&(g===null?s.removeAttribute(h):s.setAttribute(h,""+g)):ut.mustUseProperty?s[ut.propertyName]=g===null?ut.type===3?!1:"":g:(h=ut.attributeName,it=ut.attributeNamespace,g===null?s.removeAttribute(h):(ut=ut.type,g=ut===3||ut===4&&g===!0?"":""+g,it?s.setAttributeNS(it,h,g):s.setAttribute(h,g))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(s){return s===null||typeof s!="object"?null:(s=Ja&&s[Ja]||s["@@iterator"],typeof s=="function"?s:null)}var A$1=Object.assign,La;function Ma(s){if(La===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);La=h&&h[1]||""}return`
`+La+s}var Na=!1;function Oa(s,h){if(!s||Na)return"";Na=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(mt){var it=mt}Reflect.construct(s,[],h)}else{try{h.call()}catch(mt){it=mt}s.call(h.prototype)}else{try{throw Error()}catch(mt){it=mt}s()}}catch(mt){if(mt&&it&&typeof mt.stack=="string"){for(var ut=mt.stack.split(`
`),ct=it.stack.split(`
`),dt=ut.length-1,ht=ct.length-1;1<=dt&&0<=ht&&ut[dt]!==ct[ht];)ht--;for(;1<=dt&&0<=ht;dt--,ht--)if(ut[dt]!==ct[ht]){if(dt!==1||ht!==1)do if(dt--,ht--,0>ht||ut[dt]!==ct[ht]){var pt=`
`+ut[dt].replace(" at new "," at ");return s.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",s.displayName)),pt}while(1<=dt&&0<=ht);break}}}finally{Na=!1,Error.prepareStackTrace=g}return(s=s?s.displayName||s.name:"")?Ma(s):""}function Pa(s){switch(s.tag){case 5:return Ma(s.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return s=Oa(s.type,!1),s;case 11:return s=Oa(s.type.render,!1),s;case 1:return s=Oa(s.type,!0),s;default:return""}}function Qa(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ca:return(s.displayName||"Context")+".Consumer";case Ba:return(s._context.displayName||"Context")+".Provider";case Da:var h=s.render;return s=s.displayName,s||(s=h.displayName||h.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ga:return h=s.displayName||null,h!==null?h:Qa(s.type)||"Memo";case Ha:h=s._payload,s=s._init;try{return Qa(s(h))}catch{}}return null}function Ra(s){var h=s.type;switch(s.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=h.render,s=s.displayName||s.name||"",h.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(h);case 8:return h===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Sa(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ta(s){var h=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Ua(s){var h=Ta(s)?"checked":"value",g=Object.getOwnPropertyDescriptor(s.constructor.prototype,h),it=""+s[h];if(!s.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var ut=g.get,ct=g.set;return Object.defineProperty(s,h,{configurable:!0,get:function(){return ut.call(this)},set:function(dt){it=""+dt,ct.call(this,dt)}}),Object.defineProperty(s,h,{enumerable:g.enumerable}),{getValue:function(){return it},setValue:function(dt){it=""+dt},stopTracking:function(){s._valueTracker=null,delete s[h]}}}}function Va(s){s._valueTracker||(s._valueTracker=Ua(s))}function Wa(s){if(!s)return!1;var h=s._valueTracker;if(!h)return!0;var g=h.getValue(),it="";return s&&(it=Ta(s)?s.checked?"true":"false":s.value),s=it,s!==g?(h.setValue(s),!0):!1}function Xa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ya(s,h){var g=h.checked;return A$1({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??s._wrapperState.initialChecked})}function Za(s,h){var g=h.defaultValue==null?"":h.defaultValue,it=h.checked!=null?h.checked:h.defaultChecked;g=Sa(h.value!=null?h.value:g),s._wrapperState={initialChecked:it,initialValue:g,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function ab(s,h){h=h.checked,h!=null&&ta(s,"checked",h,!1)}function bb(s,h){ab(s,h);var g=Sa(h.value),it=h.type;if(g!=null)it==="number"?(g===0&&s.value===""||s.value!=g)&&(s.value=""+g):s.value!==""+g&&(s.value=""+g);else if(it==="submit"||it==="reset"){s.removeAttribute("value");return}h.hasOwnProperty("value")?cb(s,h.type,g):h.hasOwnProperty("defaultValue")&&cb(s,h.type,Sa(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(s.defaultChecked=!!h.defaultChecked)}function db(s,h,g){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var it=h.type;if(!(it!=="submit"&&it!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+s._wrapperState.initialValue,g||h===s.value||(s.value=h),s.defaultValue=h}g=s.name,g!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,g!==""&&(s.name=g)}function cb(s,h,g){(h!=="number"||Xa(s.ownerDocument)!==s)&&(g==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+g&&(s.defaultValue=""+g))}var eb=Array.isArray;function fb(s,h,g,it){if(s=s.options,h){h={};for(var ut=0;ut<g.length;ut++)h["$"+g[ut]]=!0;for(g=0;g<s.length;g++)ut=h.hasOwnProperty("$"+s[g].value),s[g].selected!==ut&&(s[g].selected=ut),ut&&it&&(s[g].defaultSelected=!0)}else{for(g=""+Sa(g),h=null,ut=0;ut<s.length;ut++){if(s[ut].value===g){s[ut].selected=!0,it&&(s[ut].defaultSelected=!0);return}h!==null||s[ut].disabled||(h=s[ut])}h!==null&&(h.selected=!0)}}function gb(s,h){if(h.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},h,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hb(s,h){var g=h.value;if(g==null){if(g=h.children,h=h.defaultValue,g!=null){if(h!=null)throw Error(p$1(92));if(eb(g)){if(1<g.length)throw Error(p$1(93));g=g[0]}h=g}h==null&&(h=""),g=h}s._wrapperState={initialValue:Sa(g)}}function ib(s,h){var g=Sa(h.value),it=Sa(h.defaultValue);g!=null&&(g=""+g,g!==s.value&&(s.value=g),h.defaultValue==null&&s.defaultValue!==g&&(s.defaultValue=g)),it!=null&&(s.defaultValue=""+it)}function jb(s){var h=s.textContent;h===s._wrapperState.initialValue&&h!==""&&h!==null&&(s.value=h)}function kb(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(s,h){return s==null||s==="http://www.w3.org/1999/xhtml"?kb(h):s==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mb,nb=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,g,it,ut){MSApp.execUnsafeLocalFunction(function(){return s(h,g,it,ut)})}:s}(function(s,h){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=h;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=mb.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;h.firstChild;)s.appendChild(h.firstChild)}});function ob(s,h){if(h){var g=s.firstChild;if(g&&g===s.lastChild&&g.nodeType===3){g.nodeValue=h;return}}s.textContent=h}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(s){qb.forEach(function(h){h=h+s.charAt(0).toUpperCase()+s.substring(1),pb[h]=pb[s]})});function rb(s,h,g){return h==null||typeof h=="boolean"||h===""?"":g||typeof h!="number"||h===0||pb.hasOwnProperty(s)&&pb[s]?(""+h).trim():h+"px"}function sb(s,h){s=s.style;for(var g in h)if(h.hasOwnProperty(g)){var it=g.indexOf("--")===0,ut=rb(g,h[g],it);g==="float"&&(g="cssFloat"),it?s.setProperty(g,ut):s[g]=ut}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(s,h){if(h){if(tb[s]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(p$1(137,s));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(p$1(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(p$1(61))}if(h.style!=null&&typeof h.style!="object")throw Error(p$1(62))}}function vb(s,h){if(s.indexOf("-")===-1)return typeof h.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yb=null,zb=null,Ab=null;function Bb(s){if(s=Cb(s)){if(typeof yb!="function")throw Error(p$1(280));var h=s.stateNode;h&&(h=Db(h),yb(s.stateNode,s.type,h))}}function Eb(s){zb?Ab?Ab.push(s):Ab=[s]:zb=s}function Fb(){if(zb){var s=zb,h=Ab;if(Ab=zb=null,Bb(s),h)for(s=0;s<h.length;s++)Bb(h[s])}}function Gb(s,h){return s(h)}function Hb(){}var Ib=!1;function Jb(s,h,g){if(Ib)return s(h,g);Ib=!0;try{return Gb(s,h,g)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(s,h){var g=s.stateNode;if(g===null)return null;var it=Db(g);if(it===null)return null;g=it[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(it=!it.disabled)||(s=s.type,it=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!it;break e;default:s=!1}if(s)return null;if(g&&typeof g!="function")throw Error(p$1(231,h,typeof g));return g}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(s,h,g,it,ut,ct,dt,ht,pt){var mt=Array.prototype.slice.call(arguments,3);try{h.apply(g,mt)}catch(vt){this.onError(vt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(s){Ob=!0,Pb=s}};function Tb(s,h,g,it,ut,ct,dt,ht,pt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(s,h,g,it,ut,ct,dt,ht,pt){if(Tb.apply(this,arguments),Ob){if(Ob){var mt=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=mt)}}function Vb(s){var h=s,g=s;if(s.alternate)for(;h.return;)h=h.return;else{s=h;do h=s,h.flags&4098&&(g=h.return),s=h.return;while(s)}return h.tag===3?g:null}function Wb(s){if(s.tag===13){var h=s.memoizedState;if(h===null&&(s=s.alternate,s!==null&&(h=s.memoizedState)),h!==null)return h.dehydrated}return null}function Xb(s){if(Vb(s)!==s)throw Error(p$1(188))}function Yb(s){var h=s.alternate;if(!h){if(h=Vb(s),h===null)throw Error(p$1(188));return h!==s?null:s}for(var g=s,it=h;;){var ut=g.return;if(ut===null)break;var ct=ut.alternate;if(ct===null){if(it=ut.return,it!==null){g=it;continue}break}if(ut.child===ct.child){for(ct=ut.child;ct;){if(ct===g)return Xb(ut),s;if(ct===it)return Xb(ut),h;ct=ct.sibling}throw Error(p$1(188))}if(g.return!==it.return)g=ut,it=ct;else{for(var dt=!1,ht=ut.child;ht;){if(ht===g){dt=!0,g=ut,it=ct;break}if(ht===it){dt=!0,it=ut,g=ct;break}ht=ht.sibling}if(!dt){for(ht=ct.child;ht;){if(ht===g){dt=!0,g=ct,it=ut;break}if(ht===it){dt=!0,it=ct,g=ut;break}ht=ht.sibling}if(!dt)throw Error(p$1(189))}}if(g.alternate!==it)throw Error(p$1(190))}if(g.tag!==3)throw Error(p$1(188));return g.stateNode.current===g?s:h}function Zb(s){return s=Yb(s),s!==null?$b(s):null}function $b(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var h=$b(s);if(h!==null)return h;s=s.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(s){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,s,void 0,(s.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(s){return s>>>=0,s===0?32:31-(pc(s)/qc|0)|0}var rc=64,sc=4194304;function tc(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uc(s,h){var g=s.pendingLanes;if(g===0)return 0;var it=0,ut=s.suspendedLanes,ct=s.pingedLanes,dt=g&268435455;if(dt!==0){var ht=dt&~ut;ht!==0?it=tc(ht):(ct&=dt,ct!==0&&(it=tc(ct)))}else dt=g&~ut,dt!==0?it=tc(dt):ct!==0&&(it=tc(ct));if(it===0)return 0;if(h!==0&&h!==it&&!(h&ut)&&(ut=it&-it,ct=h&-h,ut>=ct||ut===16&&(ct&4194240)!==0))return h;if(it&4&&(it|=g&16),h=s.entangledLanes,h!==0)for(s=s.entanglements,h&=it;0<h;)g=31-oc(h),ut=1<<g,it|=s[g],h&=~ut;return it}function vc(s,h){switch(s){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(s,h){for(var g=s.suspendedLanes,it=s.pingedLanes,ut=s.expirationTimes,ct=s.pendingLanes;0<ct;){var dt=31-oc(ct),ht=1<<dt,pt=ut[dt];pt===-1?(!(ht&g)||ht&it)&&(ut[dt]=vc(ht,h)):pt<=h&&(s.expiredLanes|=ht),ct&=~ht}}function xc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yc(){var s=rc;return rc<<=1,!(rc&4194240)&&(rc=64),s}function zc(s){for(var h=[],g=0;31>g;g++)h.push(s);return h}function Ac(s,h,g){s.pendingLanes|=h,h!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,h=31-oc(h),s[h]=g}function Bc(s,h){var g=s.pendingLanes&~h;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=h,s.mutableReadLanes&=h,s.entangledLanes&=h,h=s.entanglements;var it=s.eventTimes;for(s=s.expirationTimes;0<g;){var ut=31-oc(g),ct=1<<ut;h[ut]=0,it[ut]=-1,s[ut]=-1,g&=~ct}}function Cc(s,h){var g=s.entangledLanes|=h;for(s=s.entanglements;g;){var it=31-oc(g),ut=1<<it;ut&h|s[it]&h&&(s[it]|=h),g&=~ut}}var C$1=0;function Dc(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(s,h){switch(s){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(h.pointerId)}}function Tc(s,h,g,it,ut,ct){return s===null||s.nativeEvent!==ct?(s={blockedOn:h,domEventName:g,eventSystemFlags:it,nativeEvent:ct,targetContainers:[ut]},h!==null&&(h=Cb(h),h!==null&&Fc(h)),s):(s.eventSystemFlags|=it,h=s.targetContainers,ut!==null&&h.indexOf(ut)===-1&&h.push(ut),s)}function Uc(s,h,g,it,ut){switch(h){case"focusin":return Lc=Tc(Lc,s,h,g,it,ut),!0;case"dragenter":return Mc=Tc(Mc,s,h,g,it,ut),!0;case"mouseover":return Nc=Tc(Nc,s,h,g,it,ut),!0;case"pointerover":var ct=ut.pointerId;return Oc.set(ct,Tc(Oc.get(ct)||null,s,h,g,it,ut)),!0;case"gotpointercapture":return ct=ut.pointerId,Pc.set(ct,Tc(Pc.get(ct)||null,s,h,g,it,ut)),!0}return!1}function Vc(s){var h=Wc(s.target);if(h!==null){var g=Vb(h);if(g!==null){if(h=g.tag,h===13){if(h=Wb(g),h!==null){s.blockedOn=h,Ic(s.priority,function(){Gc(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){s.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xc(s){if(s.blockedOn!==null)return!1;for(var h=s.targetContainers;0<h.length;){var g=Yc(s.domEventName,s.eventSystemFlags,h[0],s.nativeEvent);if(g===null){g=s.nativeEvent;var it=new g.constructor(g.type,g);wb=it,g.target.dispatchEvent(it),wb=null}else return h=Cb(g),h!==null&&Fc(h),s.blockedOn=g,!1;h.shift()}return!0}function Zc(s,h,g){Xc(s)&&g.delete(h)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(s,h){s.blockedOn===h&&(s.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(s){function h(ut){return ad(ut,s)}if(0<Kc.length){ad(Kc[0],s);for(var g=1;g<Kc.length;g++){var it=Kc[g];it.blockedOn===s&&(it.blockedOn=null)}}for(Lc!==null&&ad(Lc,s),Mc!==null&&ad(Mc,s),Nc!==null&&ad(Nc,s),Oc.forEach(h),Pc.forEach(h),g=0;g<Qc.length;g++)it=Qc[g],it.blockedOn===s&&(it.blockedOn=null);for(;0<Qc.length&&(g=Qc[0],g.blockedOn===null);)Vc(g),g.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(s,h,g,it){var ut=C$1,ct=cd.transition;cd.transition=null;try{C$1=1,fd(s,h,g,it)}finally{C$1=ut,cd.transition=ct}}function gd(s,h,g,it){var ut=C$1,ct=cd.transition;cd.transition=null;try{C$1=4,fd(s,h,g,it)}finally{C$1=ut,cd.transition=ct}}function fd(s,h,g,it){if(dd){var ut=Yc(s,h,g,it);if(ut===null)hd(s,h,it,id,g),Sc(s,it);else if(Uc(ut,s,h,g,it))it.stopPropagation();else if(Sc(s,it),h&4&&-1<Rc.indexOf(s)){for(;ut!==null;){var ct=Cb(ut);if(ct!==null&&Ec(ct),ct=Yc(s,h,g,it),ct===null&&hd(s,h,it,id,g),ct===ut)break;ut=ct}ut!==null&&it.stopPropagation()}else hd(s,h,it,null,g)}}var id=null;function Yc(s,h,g,it){if(id=null,s=xb(it),s=Wc(s),s!==null)if(h=Vb(s),h===null)s=null;else if(g=h.tag,g===13){if(s=Wb(h),s!==null)return s;s=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;s=null}else h!==s&&(s=null);return id=s,null}function jd(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var s,h=ld,g=h.length,it,ut="value"in kd?kd.value:kd.textContent,ct=ut.length;for(s=0;s<g&&h[s]===ut[s];s++);var dt=g-s;for(it=1;it<=dt&&h[g-it]===ut[ct-it];it++);return md=ut.slice(s,1<it?1-it:void 0)}function od(s){var h=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&h===13&&(s=13)):s=h,s===10&&(s=13),32<=s||s===13?s:0}function pd(){return!0}function qd(){return!1}function rd(s){function h(g,it,ut,ct,dt){this._reactName=g,this._targetInst=ut,this.type=it,this.nativeEvent=ct,this.target=dt,this.currentTarget=null;for(var ht in s)s.hasOwnProperty(ht)&&(g=s[ht],this[ht]=g?g(ct):ct[ht]);return this.isDefaultPrevented=(ct.defaultPrevented!=null?ct.defaultPrevented:ct.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),h}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yd&&(yd&&s.type==="mousemove"?(wd=s.screenX-yd.screenX,xd=s.screenY-yd.screenY):xd=wd=0,yd=s),wd)},movementY:function(s){return"movementY"in s?s.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(s){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(s):(s=Od[s])?!!h[s]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(s){if(s.key){var h=Md[s.key]||s.key;if(h!=="Unidentified")return h}return s.type==="keypress"?(s=od(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(s){return s.type==="keypress"?od(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?od(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(s,h){switch(s){case"keyup":return $d.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ie=!1;function je(s,h){switch(s){case"compositionend":return he$1(h);case"keypress":return h.which!==32?null:(fe$1=!0,ee$1);case"textInput":return s=h.data,s===ee$1&&fe$1?null:s;default:return null}}function ke$1(s,h){if(ie)return s==="compositionend"||!ae&&ge$1(s,h)?(s=nd(),md=ld=kd=null,ie=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return de$1&&h.locale!=="ko"?null:h.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(s){var h=s&&s.nodeName&&s.nodeName.toLowerCase();return h==="input"?!!le$1[s.type]:h==="textarea"}function ne$1(s,h,g,it){Eb(it),h=oe$1(h,"onChange"),0<h.length&&(g=new td("onChange","change",null,g,it),s.push({event:g,listeners:h}))}var pe$1=null,qe$1=null;function re$2(s){se$1(s,0)}function te$1(s){var h=ue$1(s);if(Wa(h))return s}function ve$1(s,h){if(s==="change")return h}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(s){if(s.propertyName==="value"&&te$1(qe$1)){var h=[];ne$1(h,qe$1,s,xb(s)),Jb(re$2,h)}}function Ce$1(s,h,g){s==="focusin"?(Ae$1(),pe$1=h,qe$1=g,pe$1.attachEvent("onpropertychange",Be$1)):s==="focusout"&&Ae$1()}function De$1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return te$1(qe$1)}function Ee$1(s,h){if(s==="click")return te$1(h)}function Fe$1(s,h){if(s==="input"||s==="change")return te$1(h)}function Ge$1(s,h){return s===h&&(s!==0||1/s===1/h)||s!==s&&h!==h}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(s,h){if(He$1(s,h))return!0;if(typeof s!="object"||s===null||typeof h!="object"||h===null)return!1;var g=Object.keys(s),it=Object.keys(h);if(g.length!==it.length)return!1;for(it=0;it<g.length;it++){var ut=g[it];if(!ja.call(h,ut)||!He$1(s[ut],h[ut]))return!1}return!0}function Je(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ke$1(s,h){var g=Je(s);s=0;for(var it;g;){if(g.nodeType===3){if(it=s+g.textContent.length,s<=h&&it>=h)return{node:g,offset:h-s};s=it}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Je(g)}}function Le$1(s,h){return s&&h?s===h?!0:s&&s.nodeType===3?!1:h&&h.nodeType===3?Le$1(s,h.parentNode):"contains"in s?s.contains(h):s.compareDocumentPosition?!!(s.compareDocumentPosition(h)&16):!1:!1}function Me$1(){for(var s=window,h=Xa();h instanceof s.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)s=h.contentWindow;else break;h=Xa(s.document)}return h}function Ne$1(s){var h=s&&s.nodeName&&s.nodeName.toLowerCase();return h&&(h==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||h==="textarea"||s.contentEditable==="true")}function Oe$1(s){var h=Me$1(),g=s.focusedElem,it=s.selectionRange;if(h!==g&&g&&g.ownerDocument&&Le$1(g.ownerDocument.documentElement,g)){if(it!==null&&Ne$1(g)){if(h=it.start,s=it.end,s===void 0&&(s=h),"selectionStart"in g)g.selectionStart=h,g.selectionEnd=Math.min(s,g.value.length);else if(s=(h=g.ownerDocument||document)&&h.defaultView||window,s.getSelection){s=s.getSelection();var ut=g.textContent.length,ct=Math.min(it.start,ut);it=it.end===void 0?ct:Math.min(it.end,ut),!s.extend&&ct>it&&(ut=it,it=ct,ct=ut),ut=Ke$1(g,ct);var dt=Ke$1(g,it);ut&&dt&&(s.rangeCount!==1||s.anchorNode!==ut.node||s.anchorOffset!==ut.offset||s.focusNode!==dt.node||s.focusOffset!==dt.offset)&&(h=h.createRange(),h.setStart(ut.node,ut.offset),s.removeAllRanges(),ct>it?(s.addRange(h),s.extend(dt.node,dt.offset)):(h.setEnd(dt.node,dt.offset),s.addRange(h)))}}for(h=[],s=g;s=s.parentNode;)s.nodeType===1&&h.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<h.length;g++)s=h[g],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$1=!1;function Ue(s,h,g){var it=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa(it)||(it=Qe$1,"selectionStart"in it&&Ne$1(it)?it={start:it.selectionStart,end:it.selectionEnd}:(it=(it.ownerDocument&&it.ownerDocument.defaultView||window).getSelection(),it={anchorNode:it.anchorNode,anchorOffset:it.anchorOffset,focusNode:it.focusNode,focusOffset:it.focusOffset}),Se$1&&Ie$1(Se$1,it)||(Se$1=it,it=oe$1(Re$1,"onSelect"),0<it.length&&(h=new td("onSelect","select",null,h,g),s.push({event:h,listeners:it}),h.target=Qe$1)))}function Ve$1(s,h){var g={};return g[s.toLowerCase()]=h.toLowerCase(),g["Webkit"+s]="webkit"+h,g["Moz"+s]="moz"+h,g}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(s){if(Xe[s])return Xe[s];if(!We$1[s])return s;var h=We$1[s],g;for(g in h)if(h.hasOwnProperty(g)&&g in Ye$1)return Xe[s]=h[g];return s}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(s,h){df.set(s,h),fa(h,[s])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(s,h,g){var it=s.type||"unknown-event";s.currentTarget=g,Ub(it,h,void 0,s),s.currentTarget=null}function se$1(s,h){h=(h&4)!==0;for(var g=0;g<s.length;g++){var it=s[g],ut=it.event;it=it.listeners;e:{var ct=void 0;if(h)for(var dt=it.length-1;0<=dt;dt--){var ht=it[dt],pt=ht.instance,mt=ht.currentTarget;if(ht=ht.listener,pt!==ct&&ut.isPropagationStopped())break e;nf(ut,ht,mt),ct=pt}else for(dt=0;dt<it.length;dt++){if(ht=it[dt],pt=ht.instance,mt=ht.currentTarget,ht=ht.listener,pt!==ct&&ut.isPropagationStopped())break e;nf(ut,ht,mt),ct=pt}}}if(Qb)throw s=Rb,Qb=!1,Rb=null,s}function D$1(s,h){var g=h[of];g===void 0&&(g=h[of]=new Set);var it=s+"__bubble";g.has(it)||(pf(h,s,2,!1),g.add(it))}function qf(s,h,g){var it=0;h&&(it|=4),pf(g,s,it,h)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(s){if(!s[rf]){s[rf]=!0,da.forEach(function(g){g!=="selectionchange"&&(mf.has(g)||qf(g,!1,s),qf(g,!0,s))});var h=s.nodeType===9?s:s.ownerDocument;h===null||h[rf]||(h[rf]=!0,qf("selectionchange",!1,h))}}function pf(s,h,g,it){switch(jd(h)){case 1:var ut=ed;break;case 4:ut=gd;break;default:ut=fd}g=ut.bind(null,h,g,s),ut=void 0,!Lb||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(ut=!0),it?ut!==void 0?s.addEventListener(h,g,{capture:!0,passive:ut}):s.addEventListener(h,g,!0):ut!==void 0?s.addEventListener(h,g,{passive:ut}):s.addEventListener(h,g,!1)}function hd(s,h,g,it,ut){var ct=it;if(!(h&1)&&!(h&2)&&it!==null)e:for(;;){if(it===null)return;var dt=it.tag;if(dt===3||dt===4){var ht=it.stateNode.containerInfo;if(ht===ut||ht.nodeType===8&&ht.parentNode===ut)break;if(dt===4)for(dt=it.return;dt!==null;){var pt=dt.tag;if((pt===3||pt===4)&&(pt=dt.stateNode.containerInfo,pt===ut||pt.nodeType===8&&pt.parentNode===ut))return;dt=dt.return}for(;ht!==null;){if(dt=Wc(ht),dt===null)return;if(pt=dt.tag,pt===5||pt===6){it=ct=dt;continue e}ht=ht.parentNode}}it=it.return}Jb(function(){var mt=ct,vt=xb(g),gt=[];e:{var yt=df.get(s);if(yt!==void 0){var bt=td,wt=s;switch(s){case"keypress":if(od(g)===0)break e;case"keydown":case"keyup":bt=Rd;break;case"focusin":wt="focus",bt=Fd;break;case"focusout":wt="blur",bt=Fd;break;case"beforeblur":case"afterblur":bt=Fd;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=Vd;break;case $e$1:case af:case bf:bt=Hd;break;case cf:bt=Xd;break;case"scroll":bt=vd;break;case"wheel":bt=Zd;break;case"copy":case"cut":case"paste":bt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=Td}var Et=(h&4)!==0,Mt=!Et&&s==="scroll",Dt=Et?yt!==null?yt+"Capture":null:yt;Et=[];for(var $t=mt,_t;$t!==null;){_t=$t;var Nt=_t.stateNode;if(_t.tag===5&&Nt!==null&&(_t=Nt,Dt!==null&&(Nt=Kb($t,Dt),Nt!=null&&Et.push(tf($t,Nt,_t)))),Mt)break;$t=$t.return}0<Et.length&&(yt=new bt(yt,wt,null,g,vt),gt.push({event:yt,listeners:Et}))}}if(!(h&7)){e:{if(yt=s==="mouseover"||s==="pointerover",bt=s==="mouseout"||s==="pointerout",yt&&g!==wb&&(wt=g.relatedTarget||g.fromElement)&&(Wc(wt)||wt[uf]))break e;if((bt||yt)&&(yt=vt.window===vt?vt:(yt=vt.ownerDocument)?yt.defaultView||yt.parentWindow:window,bt?(wt=g.relatedTarget||g.toElement,bt=mt,wt=wt?Wc(wt):null,wt!==null&&(Mt=Vb(wt),wt!==Mt||wt.tag!==5&&wt.tag!==6)&&(wt=null)):(bt=null,wt=mt),bt!==wt)){if(Et=Bd,Nt="onMouseLeave",Dt="onMouseEnter",$t="mouse",(s==="pointerout"||s==="pointerover")&&(Et=Td,Nt="onPointerLeave",Dt="onPointerEnter",$t="pointer"),Mt=bt==null?yt:ue$1(bt),_t=wt==null?yt:ue$1(wt),yt=new Et(Nt,$t+"leave",bt,g,vt),yt.target=Mt,yt.relatedTarget=_t,Nt=null,Wc(vt)===mt&&(Et=new Et(Dt,$t+"enter",wt,g,vt),Et.target=_t,Et.relatedTarget=Mt,Nt=Et),Mt=Nt,bt&&wt)t:{for(Et=bt,Dt=wt,$t=0,_t=Et;_t;_t=vf(_t))$t++;for(_t=0,Nt=Dt;Nt;Nt=vf(Nt))_t++;for(;0<$t-_t;)Et=vf(Et),$t--;for(;0<_t-$t;)Dt=vf(Dt),_t--;for(;$t--;){if(Et===Dt||Dt!==null&&Et===Dt.alternate)break t;Et=vf(Et),Dt=vf(Dt)}Et=null}else Et=null;bt!==null&&wf(gt,yt,bt,Et,!1),wt!==null&&Mt!==null&&wf(gt,Mt,wt,Et,!0)}}e:{if(yt=mt?ue$1(mt):window,bt=yt.nodeName&&yt.nodeName.toLowerCase(),bt==="select"||bt==="input"&&yt.type==="file")var kt=ve$1;else if(me$1(yt))if(we$1)kt=Fe$1;else{kt=De$1;var At=Ce$1}else(bt=yt.nodeName)&&bt.toLowerCase()==="input"&&(yt.type==="checkbox"||yt.type==="radio")&&(kt=Ee$1);if(kt&&(kt=kt(s,mt))){ne$1(gt,kt,g,vt);break e}At&&At(s,yt,mt),s==="focusout"&&(At=yt._wrapperState)&&At.controlled&&yt.type==="number"&&cb(yt,"number",yt.value)}switch(At=mt?ue$1(mt):window,s){case"focusin":(me$1(At)||At.contentEditable==="true")&&(Qe$1=At,Re$1=mt,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(gt,g,vt);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue(gt,g,vt)}var Bt;if(ae)e:{switch(s){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else ie?ge$1(s,g)&&(Ft="onCompositionEnd"):s==="keydown"&&g.keyCode===229&&(Ft="onCompositionStart");Ft&&(de$1&&g.locale!=="ko"&&(ie||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&ie&&(Bt=nd()):(kd=vt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),At=oe$1(mt,Ft),0<At.length&&(Ft=new Ld(Ft,s,null,g,vt),gt.push({event:Ft,listeners:At}),Bt?Ft.data=Bt:(Bt=he$1(g),Bt!==null&&(Ft.data=Bt)))),(Bt=ce$1?je(s,g):ke$1(s,g))&&(mt=oe$1(mt,"onBeforeInput"),0<mt.length&&(vt=new Ld("onBeforeInput","beforeinput",null,g,vt),gt.push({event:vt,listeners:mt}),vt.data=Bt))}se$1(gt,h)})}function tf(s,h,g){return{instance:s,listener:h,currentTarget:g}}function oe$1(s,h){for(var g=h+"Capture",it=[];s!==null;){var ut=s,ct=ut.stateNode;ut.tag===5&&ct!==null&&(ut=ct,ct=Kb(s,g),ct!=null&&it.unshift(tf(s,ct,ut)),ct=Kb(s,h),ct!=null&&it.push(tf(s,ct,ut))),s=s.return}return it}function vf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wf(s,h,g,it,ut){for(var ct=h._reactName,dt=[];g!==null&&g!==it;){var ht=g,pt=ht.alternate,mt=ht.stateNode;if(pt!==null&&pt===it)break;ht.tag===5&&mt!==null&&(ht=mt,ut?(pt=Kb(g,ct),pt!=null&&dt.unshift(tf(g,pt,ht))):ut||(pt=Kb(g,ct),pt!=null&&dt.push(tf(g,pt,ht)))),g=g.return}dt.length!==0&&s.push({event:h,listeners:dt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(s){return(typeof s=="string"?s:""+s).replace(xf,`
`).replace(yf,"")}function Af(s,h,g){if(h=zf(h),zf(s)!==h&&g)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(s,h){return s==="textarea"||s==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(s){return Hf.resolve(null).then(s).catch(If)}:Ff;function If(s){setTimeout(function(){throw s})}function Kf(s,h){var g=h,it=0;do{var ut=g.nextSibling;if(s.removeChild(g),ut&&ut.nodeType===8)if(g=ut.data,g==="/$"){if(it===0){s.removeChild(ut),bd(h);return}it--}else g!=="$"&&g!=="$?"&&g!=="$!"||it++;g=ut}while(g);bd(h)}function Lf(s){for(;s!=null;s=s.nextSibling){var h=s.nodeType;if(h===1||h===3)break;if(h===8){if(h=s.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return s}function Mf(s){s=s.previousSibling;for(var h=0;s;){if(s.nodeType===8){var g=s.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return s;h--}else g==="/$"&&h++}s=s.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(s){var h=s[Of];if(h)return h;for(var g=s.parentNode;g;){if(h=g[uf]||g[Of]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(s=Mf(s);s!==null;){if(g=s[Of])return g;s=Mf(s)}return h}s=g,g=s.parentNode}return null}function Cb(s){return s=s[Of]||s[uf],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ue$1(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(p$1(33))}function Db(s){return s[Pf]||null}var Sf=[],Tf=-1;function Uf(s){return{current:s}}function E$1(s){0>Tf||(s.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(s,h){Tf++,Sf[Tf]=s.current,s.current=h}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(s,h){var g=s.type.contextTypes;if(!g)return Vf;var it=s.stateNode;if(it&&it.__reactInternalMemoizedUnmaskedChildContext===h)return it.__reactInternalMemoizedMaskedChildContext;var ut={},ct;for(ct in g)ut[ct]=h[ct];return it&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=h,s.__reactInternalMemoizedMaskedChildContext=ut),ut}function Zf(s){return s=s.childContextTypes,s!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(s,h,g){if(H$1.current!==Vf)throw Error(p$1(168));G$1(H$1,h),G$1(Wf,g)}function bg(s,h,g){var it=s.stateNode;if(h=h.childContextTypes,typeof it.getChildContext!="function")return g;it=it.getChildContext();for(var ut in it)if(!(ut in h))throw Error(p$1(108,Ra(s)||"Unknown",ut));return A$1({},g,it)}function cg(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,s),G$1(Wf,Wf.current),!0}function dg(s,h,g){var it=s.stateNode;if(!it)throw Error(p$1(169));g?(s=bg(s,h,Xf),it.__reactInternalMemoizedMergedChildContext=s,E$1(Wf),E$1(H$1),G$1(H$1,s)):E$1(Wf),G$1(Wf,g)}var eg=null,fg=!1,gg=!1;function hg(s){eg===null?eg=[s]:eg.push(s)}function ig(s){fg=!0,hg(s)}function jg(){if(!gg&&eg!==null){gg=!0;var s=0,h=C$1;try{var g=eg;for(C$1=1;s<g.length;s++){var it=g[s];do it=it(!0);while(it!==null)}eg=null,fg=!1}catch(ut){throw eg!==null&&(eg=eg.slice(s+1)),ac(fc,jg),ut}finally{C$1=h,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(s,h){kg[lg++]=ng,kg[lg++]=mg,mg=s,ng=h}function ug(s,h,g){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=s;var it=rg;s=sg;var ut=32-oc(it)-1;it&=~(1<<ut),g+=1;var ct=32-oc(h)+ut;if(30<ct){var dt=ut-ut%5;ct=(it&(1<<dt)-1).toString(32),it>>=dt,ut-=dt,rg=1<<32-oc(h)+ut|g<<ut|it,sg=ct+s}else rg=1<<ct|g<<ut|it,sg=s}function vg(s){s.return!==null&&(tg(s,1),ug(s,1,0))}function wg(s){for(;s===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;s===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(s,h){var g=Bg(5,null,null,0);g.elementType="DELETED",g.stateNode=h,g.return=s,h=s.deletions,h===null?(s.deletions=[g],s.flags|=16):h.push(g)}function Cg(s,h){switch(s.tag){case 5:var g=s.type;return h=h.nodeType!==1||g.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(s.stateNode=h,xg=s,yg=Lf(h.firstChild),!0):!1;case 6:return h=s.pendingProps===""||h.nodeType!==3?null:h,h!==null?(s.stateNode=h,xg=s,yg=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(g=qg!==null?{id:rg,overflow:sg}:null,s.memoizedState={dehydrated:h,treeContext:g,retryLane:1073741824},g=Bg(18,null,null,0),g.stateNode=h,g.return=s,s.child=g,xg=s,yg=null,!0):!1;default:return!1}}function Dg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Eg(s){if(I$1){var h=yg;if(h){var g=h;if(!Cg(s,h)){if(Dg(s))throw Error(p$1(418));h=Lf(g.nextSibling);var it=xg;h&&Cg(s,h)?Ag(it,g):(s.flags=s.flags&-4097|2,I$1=!1,xg=s)}}else{if(Dg(s))throw Error(p$1(418));s.flags=s.flags&-4097|2,I$1=!1,xg=s}}}function Fg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xg=s}function Gg(s){if(s!==xg)return!1;if(!I$1)return Fg(s),I$1=!0,!1;var h;if((h=s.tag!==3)&&!(h=s.tag!==5)&&(h=s.type,h=h!=="head"&&h!=="body"&&!Ef(s.type,s.memoizedProps)),h&&(h=yg)){if(Dg(s))throw Hg(),Error(p$1(418));for(;h;)Ag(s,h),h=Lf(h.nextSibling)}if(Fg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p$1(317));e:{for(s=s.nextSibling,h=0;s;){if(s.nodeType===8){var g=s.data;if(g==="/$"){if(h===0){yg=Lf(s.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++}s=s.nextSibling}yg=null}}else yg=xg?Lf(s.stateNode.nextSibling):null;return!0}function Hg(){for(var s=yg;s;)s=Lf(s.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(s){zg===null?zg=[s]:zg.push(s)}var Kg=ua.ReactCurrentBatchConfig;function Lg(s,h){if(s&&s.defaultProps){h=A$1({},h),s=s.defaultProps;for(var g in s)h[g]===void 0&&(h[g]=s[g]);return h}return h}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(s){var h=Mg.current;E$1(Mg),s._currentValue=h}function Sg(s,h,g){for(;s!==null;){var it=s.alternate;if((s.childLanes&h)!==h?(s.childLanes|=h,it!==null&&(it.childLanes|=h)):it!==null&&(it.childLanes&h)!==h&&(it.childLanes|=h),s===g)break;s=s.return}}function Tg(s,h){Ng=s,Pg=Og=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&h&&(Ug=!0),s.firstContext=null)}function Vg(s){var h=s._currentValue;if(Pg!==s)if(s={context:s,memoizedValue:h,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=s,Ng.dependencies={lanes:0,firstContext:s}}else Og=Og.next=s;return h}var Wg=null;function Xg(s){Wg===null?Wg=[s]:Wg.push(s)}function Yg(s,h,g,it){var ut=h.interleaved;return ut===null?(g.next=g,Xg(h)):(g.next=ut.next,ut.next=g),h.interleaved=g,Zg(s,it)}function Zg(s,h){s.lanes|=h;var g=s.alternate;for(g!==null&&(g.lanes|=h),g=s,s=s.return;s!==null;)s.childLanes|=h,g=s.alternate,g!==null&&(g.childLanes|=h),g=s,s=s.return;return g.tag===3?g.stateNode:null}var $g=!1;function ah(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(s,h){s=s.updateQueue,h.updateQueue===s&&(h.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ch(s,h){return{eventTime:s,lane:h,tag:0,payload:null,callback:null,next:null}}function dh(s,h,g){var it=s.updateQueue;if(it===null)return null;if(it=it.shared,K$1&2){var ut=it.pending;return ut===null?h.next=h:(h.next=ut.next,ut.next=h),it.pending=h,Zg(s,g)}return ut=it.interleaved,ut===null?(h.next=h,Xg(it)):(h.next=ut.next,ut.next=h),it.interleaved=h,Zg(s,g)}function eh(s,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194240)!==0)){var it=h.lanes;it&=s.pendingLanes,g|=it,h.lanes=g,Cc(s,g)}}function fh(s,h){var g=s.updateQueue,it=s.alternate;if(it!==null&&(it=it.updateQueue,g===it)){var ut=null,ct=null;if(g=g.firstBaseUpdate,g!==null){do{var dt={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};ct===null?ut=ct=dt:ct=ct.next=dt,g=g.next}while(g!==null);ct===null?ut=ct=h:ct=ct.next=h}else ut=ct=h;g={baseState:it.baseState,firstBaseUpdate:ut,lastBaseUpdate:ct,shared:it.shared,effects:it.effects},s.updateQueue=g;return}s=g.lastBaseUpdate,s===null?g.firstBaseUpdate=h:s.next=h,g.lastBaseUpdate=h}function gh(s,h,g,it){var ut=s.updateQueue;$g=!1;var ct=ut.firstBaseUpdate,dt=ut.lastBaseUpdate,ht=ut.shared.pending;if(ht!==null){ut.shared.pending=null;var pt=ht,mt=pt.next;pt.next=null,dt===null?ct=mt:dt.next=mt,dt=pt;var vt=s.alternate;vt!==null&&(vt=vt.updateQueue,ht=vt.lastBaseUpdate,ht!==dt&&(ht===null?vt.firstBaseUpdate=mt:ht.next=mt,vt.lastBaseUpdate=pt))}if(ct!==null){var gt=ut.baseState;dt=0,vt=mt=pt=null,ht=ct;do{var yt=ht.lane,bt=ht.eventTime;if((it&yt)===yt){vt!==null&&(vt=vt.next={eventTime:bt,lane:0,tag:ht.tag,payload:ht.payload,callback:ht.callback,next:null});e:{var wt=s,Et=ht;switch(yt=h,bt=g,Et.tag){case 1:if(wt=Et.payload,typeof wt=="function"){gt=wt.call(bt,gt,yt);break e}gt=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Et.payload,yt=typeof wt=="function"?wt.call(bt,gt,yt):wt,yt==null)break e;gt=A$1({},gt,yt);break e;case 2:$g=!0}}ht.callback!==null&&ht.lane!==0&&(s.flags|=64,yt=ut.effects,yt===null?ut.effects=[ht]:yt.push(ht))}else bt={eventTime:bt,lane:yt,tag:ht.tag,payload:ht.payload,callback:ht.callback,next:null},vt===null?(mt=vt=bt,pt=gt):vt=vt.next=bt,dt|=yt;if(ht=ht.next,ht===null){if(ht=ut.shared.pending,ht===null)break;yt=ht,ht=yt.next,yt.next=null,ut.lastBaseUpdate=yt,ut.shared.pending=null}}while(1);if(vt===null&&(pt=gt),ut.baseState=pt,ut.firstBaseUpdate=mt,ut.lastBaseUpdate=vt,h=ut.shared.interleaved,h!==null){ut=h;do dt|=ut.lane,ut=ut.next;while(ut!==h)}else ct===null&&(ut.shared.lanes=0);hh|=dt,s.lanes=dt,s.memoizedState=gt}}function ih(s,h,g){if(s=h.effects,h.effects=null,s!==null)for(h=0;h<s.length;h++){var it=s[h],ut=it.callback;if(ut!==null){if(it.callback=null,it=g,typeof ut!="function")throw Error(p$1(191,ut));ut.call(it)}}}var jh=new aa.Component().refs;function kh(s,h,g,it){h=s.memoizedState,g=g(it,h),g=g==null?h:A$1({},h,g),s.memoizedState=g,s.lanes===0&&(s.updateQueue.baseState=g)}var nh={isMounted:function(s){return(s=s._reactInternals)?Vb(s)===s:!1},enqueueSetState:function(s,h,g){s=s._reactInternals;var it=L$1(),ut=lh(s),ct=ch(it,ut);ct.payload=h,g!=null&&(ct.callback=g),h=dh(s,ct,ut),h!==null&&(mh(h,s,ut,it),eh(h,s,ut))},enqueueReplaceState:function(s,h,g){s=s._reactInternals;var it=L$1(),ut=lh(s),ct=ch(it,ut);ct.tag=1,ct.payload=h,g!=null&&(ct.callback=g),h=dh(s,ct,ut),h!==null&&(mh(h,s,ut,it),eh(h,s,ut))},enqueueForceUpdate:function(s,h){s=s._reactInternals;var g=L$1(),it=lh(s),ut=ch(g,it);ut.tag=2,h!=null&&(ut.callback=h),h=dh(s,ut,it),h!==null&&(mh(h,s,it,g),eh(h,s,it))}};function oh(s,h,g,it,ut,ct,dt){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(it,ct,dt):h.prototype&&h.prototype.isPureReactComponent?!Ie$1(g,it)||!Ie$1(ut,ct):!0}function ph(s,h,g){var it=!1,ut=Vf,ct=h.contextType;return typeof ct=="object"&&ct!==null?ct=Vg(ct):(ut=Zf(h)?Xf:H$1.current,it=h.contextTypes,ct=(it=it!=null)?Yf(s,ut):Vf),h=new h(g,ct),s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=nh,s.stateNode=h,h._reactInternals=s,it&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=ut,s.__reactInternalMemoizedMaskedChildContext=ct),h}function qh(s,h,g,it){s=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,it),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,it),h.state!==s&&nh.enqueueReplaceState(h,h.state,null)}function rh(s,h,g,it){var ut=s.stateNode;ut.props=g,ut.state=s.memoizedState,ut.refs=jh,ah(s);var ct=h.contextType;typeof ct=="object"&&ct!==null?ut.context=Vg(ct):(ct=Zf(h)?Xf:H$1.current,ut.context=Yf(s,ct)),ut.state=s.memoizedState,ct=h.getDerivedStateFromProps,typeof ct=="function"&&(kh(s,h,ct,g),ut.state=s.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof ut.getSnapshotBeforeUpdate=="function"||typeof ut.UNSAFE_componentWillMount!="function"&&typeof ut.componentWillMount!="function"||(h=ut.state,typeof ut.componentWillMount=="function"&&ut.componentWillMount(),typeof ut.UNSAFE_componentWillMount=="function"&&ut.UNSAFE_componentWillMount(),h!==ut.state&&nh.enqueueReplaceState(ut,ut.state,null),gh(s,g,ut,it),ut.state=s.memoizedState),typeof ut.componentDidMount=="function"&&(s.flags|=4194308)}function sh(s,h,g){if(s=g.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(p$1(309));var it=g.stateNode}if(!it)throw Error(p$1(147,s));var ut=it,ct=""+s;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===ct?h.ref:(h=function(dt){var ht=ut.refs;ht===jh&&(ht=ut.refs={}),dt===null?delete ht[ct]:ht[ct]=dt},h._stringRef=ct,h)}if(typeof s!="string")throw Error(p$1(284));if(!g._owner)throw Error(p$1(290,s))}return s}function th(s,h){throw s=Object.prototype.toString.call(h),Error(p$1(31,s==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":s))}function uh(s){var h=s._init;return h(s._payload)}function vh(s){function h(Dt,$t){if(s){var _t=Dt.deletions;_t===null?(Dt.deletions=[$t],Dt.flags|=16):_t.push($t)}}function g(Dt,$t){if(!s)return null;for(;$t!==null;)h(Dt,$t),$t=$t.sibling;return null}function it(Dt,$t){for(Dt=new Map;$t!==null;)$t.key!==null?Dt.set($t.key,$t):Dt.set($t.index,$t),$t=$t.sibling;return Dt}function ut(Dt,$t){return Dt=wh(Dt,$t),Dt.index=0,Dt.sibling=null,Dt}function ct(Dt,$t,_t){return Dt.index=_t,s?(_t=Dt.alternate,_t!==null?(_t=_t.index,_t<$t?(Dt.flags|=2,$t):_t):(Dt.flags|=2,$t)):(Dt.flags|=1048576,$t)}function dt(Dt){return s&&Dt.alternate===null&&(Dt.flags|=2),Dt}function ht(Dt,$t,_t,Nt){return $t===null||$t.tag!==6?($t=xh(_t,Dt.mode,Nt),$t.return=Dt,$t):($t=ut($t,_t),$t.return=Dt,$t)}function pt(Dt,$t,_t,Nt){var kt=_t.type;return kt===ya?vt(Dt,$t,_t.props.children,Nt,_t.key):$t!==null&&($t.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===Ha&&uh(kt)===$t.type)?(Nt=ut($t,_t.props),Nt.ref=sh(Dt,$t,_t),Nt.return=Dt,Nt):(Nt=yh(_t.type,_t.key,_t.props,null,Dt.mode,Nt),Nt.ref=sh(Dt,$t,_t),Nt.return=Dt,Nt)}function mt(Dt,$t,_t,Nt){return $t===null||$t.tag!==4||$t.stateNode.containerInfo!==_t.containerInfo||$t.stateNode.implementation!==_t.implementation?($t=zh(_t,Dt.mode,Nt),$t.return=Dt,$t):($t=ut($t,_t.children||[]),$t.return=Dt,$t)}function vt(Dt,$t,_t,Nt,kt){return $t===null||$t.tag!==7?($t=Ah(_t,Dt.mode,Nt,kt),$t.return=Dt,$t):($t=ut($t,_t),$t.return=Dt,$t)}function gt(Dt,$t,_t){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return $t=xh(""+$t,Dt.mode,_t),$t.return=Dt,$t;if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:return _t=yh($t.type,$t.key,$t.props,null,Dt.mode,_t),_t.ref=sh(Dt,null,$t),_t.return=Dt,_t;case wa:return $t=zh($t,Dt.mode,_t),$t.return=Dt,$t;case Ha:var Nt=$t._init;return gt(Dt,Nt($t._payload),_t)}if(eb($t)||Ka($t))return $t=Ah($t,Dt.mode,_t,null),$t.return=Dt,$t;th(Dt,$t)}return null}function yt(Dt,$t,_t,Nt){var kt=$t!==null?$t.key:null;if(typeof _t=="string"&&_t!==""||typeof _t=="number")return kt!==null?null:ht(Dt,$t,""+_t,Nt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:return _t.key===kt?pt(Dt,$t,_t,Nt):null;case wa:return _t.key===kt?mt(Dt,$t,_t,Nt):null;case Ha:return kt=_t._init,yt(Dt,$t,kt(_t._payload),Nt)}if(eb(_t)||Ka(_t))return kt!==null?null:vt(Dt,$t,_t,Nt,null);th(Dt,_t)}return null}function bt(Dt,$t,_t,Nt,kt){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number")return Dt=Dt.get(_t)||null,ht($t,Dt,""+Nt,kt);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case va:return Dt=Dt.get(Nt.key===null?_t:Nt.key)||null,pt($t,Dt,Nt,kt);case wa:return Dt=Dt.get(Nt.key===null?_t:Nt.key)||null,mt($t,Dt,Nt,kt);case Ha:var At=Nt._init;return bt(Dt,$t,_t,At(Nt._payload),kt)}if(eb(Nt)||Ka(Nt))return Dt=Dt.get(_t)||null,vt($t,Dt,Nt,kt,null);th($t,Nt)}return null}function wt(Dt,$t,_t,Nt){for(var kt=null,At=null,Bt=$t,Ft=$t=0,Lt=null;Bt!==null&&Ft<_t.length;Ft++){Bt.index>Ft?(Lt=Bt,Bt=null):Lt=Bt.sibling;var Ot=yt(Dt,Bt,_t[Ft],Nt);if(Ot===null){Bt===null&&(Bt=Lt);break}s&&Bt&&Ot.alternate===null&&h(Dt,Bt),$t=ct(Ot,$t,Ft),At===null?kt=Ot:At.sibling=Ot,At=Ot,Bt=Lt}if(Ft===_t.length)return g(Dt,Bt),I$1&&tg(Dt,Ft),kt;if(Bt===null){for(;Ft<_t.length;Ft++)Bt=gt(Dt,_t[Ft],Nt),Bt!==null&&($t=ct(Bt,$t,Ft),At===null?kt=Bt:At.sibling=Bt,At=Bt);return I$1&&tg(Dt,Ft),kt}for(Bt=it(Dt,Bt);Ft<_t.length;Ft++)Lt=bt(Bt,Dt,Ft,_t[Ft],Nt),Lt!==null&&(s&&Lt.alternate!==null&&Bt.delete(Lt.key===null?Ft:Lt.key),$t=ct(Lt,$t,Ft),At===null?kt=Lt:At.sibling=Lt,At=Lt);return s&&Bt.forEach(function(It){return h(Dt,It)}),I$1&&tg(Dt,Ft),kt}function Et(Dt,$t,_t,Nt){var kt=Ka(_t);if(typeof kt!="function")throw Error(p$1(150));if(_t=kt.call(_t),_t==null)throw Error(p$1(151));for(var At=kt=null,Bt=$t,Ft=$t=0,Lt=null,Ot=_t.next();Bt!==null&&!Ot.done;Ft++,Ot=_t.next()){Bt.index>Ft?(Lt=Bt,Bt=null):Lt=Bt.sibling;var It=yt(Dt,Bt,Ot.value,Nt);if(It===null){Bt===null&&(Bt=Lt);break}s&&Bt&&It.alternate===null&&h(Dt,Bt),$t=ct(It,$t,Ft),At===null?kt=It:At.sibling=It,At=It,Bt=Lt}if(Ot.done)return g(Dt,Bt),I$1&&tg(Dt,Ft),kt;if(Bt===null){for(;!Ot.done;Ft++,Ot=_t.next())Ot=gt(Dt,Ot.value,Nt),Ot!==null&&($t=ct(Ot,$t,Ft),At===null?kt=Ot:At.sibling=Ot,At=Ot);return I$1&&tg(Dt,Ft),kt}for(Bt=it(Dt,Bt);!Ot.done;Ft++,Ot=_t.next())Ot=bt(Bt,Dt,Ft,Ot.value,Nt),Ot!==null&&(s&&Ot.alternate!==null&&Bt.delete(Ot.key===null?Ft:Ot.key),$t=ct(Ot,$t,Ft),At===null?kt=Ot:At.sibling=Ot,At=Ot);return s&&Bt.forEach(function(Rt){return h(Dt,Rt)}),I$1&&tg(Dt,Ft),kt}function Mt(Dt,$t,_t,Nt){if(typeof _t=="object"&&_t!==null&&_t.type===ya&&_t.key===null&&(_t=_t.props.children),typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:e:{for(var kt=_t.key,At=$t;At!==null;){if(At.key===kt){if(kt=_t.type,kt===ya){if(At.tag===7){g(Dt,At.sibling),$t=ut(At,_t.props.children),$t.return=Dt,Dt=$t;break e}}else if(At.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===Ha&&uh(kt)===At.type){g(Dt,At.sibling),$t=ut(At,_t.props),$t.ref=sh(Dt,At,_t),$t.return=Dt,Dt=$t;break e}g(Dt,At);break}else h(Dt,At);At=At.sibling}_t.type===ya?($t=Ah(_t.props.children,Dt.mode,Nt,_t.key),$t.return=Dt,Dt=$t):(Nt=yh(_t.type,_t.key,_t.props,null,Dt.mode,Nt),Nt.ref=sh(Dt,$t,_t),Nt.return=Dt,Dt=Nt)}return dt(Dt);case wa:e:{for(At=_t.key;$t!==null;){if($t.key===At)if($t.tag===4&&$t.stateNode.containerInfo===_t.containerInfo&&$t.stateNode.implementation===_t.implementation){g(Dt,$t.sibling),$t=ut($t,_t.children||[]),$t.return=Dt,Dt=$t;break e}else{g(Dt,$t);break}else h(Dt,$t);$t=$t.sibling}$t=zh(_t,Dt.mode,Nt),$t.return=Dt,Dt=$t}return dt(Dt);case Ha:return At=_t._init,Mt(Dt,$t,At(_t._payload),Nt)}if(eb(_t))return wt(Dt,$t,_t,Nt);if(Ka(_t))return Et(Dt,$t,_t,Nt);th(Dt,_t)}return typeof _t=="string"&&_t!==""||typeof _t=="number"?(_t=""+_t,$t!==null&&$t.tag===6?(g(Dt,$t.sibling),$t=ut($t,_t),$t.return=Dt,Dt=$t):(g(Dt,$t),$t=xh(_t,Dt.mode,Nt),$t.return=Dt,Dt=$t),dt(Dt)):g(Dt,$t)}return Mt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(s){if(s===Dh)throw Error(p$1(174));return s}function Ih(s,h){switch(G$1(Gh,h),G$1(Fh,s),G$1(Eh,Dh),s=h.nodeType,s){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:lb(null,"");break;default:s=s===8?h.parentNode:h,h=s.namespaceURI||null,s=s.tagName,h=lb(h,s)}E$1(Eh),G$1(Eh,h)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(s){Hh(Gh.current);var h=Hh(Eh.current),g=lb(h,s.type);h!==g&&(G$1(Fh,s),G$1(Eh,g))}function Lh(s){Fh.current===s&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh(s){for(var h=s;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Nh=[];function Oh(){for(var s=0;s<Nh.length;s++)Nh[s]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O$1=null,P$3=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$2(){throw Error(p$1(321))}function Wh(s,h){if(h===null)return!1;for(var g=0;g<h.length&&g<s.length;g++)if(!He$1(s[g],h[g]))return!1;return!0}function Xh(s,h,g,it,ut,ct){if(Rh=ct,N$1=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Ph.current=s===null||s.memoizedState===null?Yh:Zh,s=g(it,ut),Th){ct=0;do{if(Th=!1,Uh=0,25<=ct)throw Error(p$1(301));ct+=1,P$3=O$1=null,h.updateQueue=null,Ph.current=$h,s=g(it,ut)}while(Th)}if(Ph.current=ai,h=O$1!==null&&O$1.next!==null,Rh=0,P$3=O$1=N$1=null,Sh=!1,h)throw Error(p$1(300));return s}function bi(){var s=Uh!==0;return Uh=0,s}function ci(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$3===null?N$1.memoizedState=P$3=s:P$3=P$3.next=s,P$3}function di(){if(O$1===null){var s=N$1.alternate;s=s!==null?s.memoizedState:null}else s=O$1.next;var h=P$3===null?N$1.memoizedState:P$3.next;if(h!==null)P$3=h,O$1=s;else{if(s===null)throw Error(p$1(310));O$1=s,s={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$3===null?N$1.memoizedState=P$3=s:P$3=P$3.next=s}return P$3}function ei(s,h){return typeof h=="function"?h(s):h}function fi(s){var h=di(),g=h.queue;if(g===null)throw Error(p$1(311));g.lastRenderedReducer=s;var it=O$1,ut=it.baseQueue,ct=g.pending;if(ct!==null){if(ut!==null){var dt=ut.next;ut.next=ct.next,ct.next=dt}it.baseQueue=ut=ct,g.pending=null}if(ut!==null){ct=ut.next,it=it.baseState;var ht=dt=null,pt=null,mt=ct;do{var vt=mt.lane;if((Rh&vt)===vt)pt!==null&&(pt=pt.next={lane:0,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),it=mt.hasEagerState?mt.eagerState:s(it,mt.action);else{var gt={lane:vt,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null};pt===null?(ht=pt=gt,dt=it):pt=pt.next=gt,N$1.lanes|=vt,hh|=vt}mt=mt.next}while(mt!==null&&mt!==ct);pt===null?dt=it:pt.next=ht,He$1(it,h.memoizedState)||(Ug=!0),h.memoizedState=it,h.baseState=dt,h.baseQueue=pt,g.lastRenderedState=it}if(s=g.interleaved,s!==null){ut=s;do ct=ut.lane,N$1.lanes|=ct,hh|=ct,ut=ut.next;while(ut!==s)}else ut===null&&(g.lanes=0);return[h.memoizedState,g.dispatch]}function gi(s){var h=di(),g=h.queue;if(g===null)throw Error(p$1(311));g.lastRenderedReducer=s;var it=g.dispatch,ut=g.pending,ct=h.memoizedState;if(ut!==null){g.pending=null;var dt=ut=ut.next;do ct=s(ct,dt.action),dt=dt.next;while(dt!==ut);He$1(ct,h.memoizedState)||(Ug=!0),h.memoizedState=ct,h.baseQueue===null&&(h.baseState=ct),g.lastRenderedState=ct}return[ct,it]}function hi(){}function ii(s,h){var g=N$1,it=di(),ut=h(),ct=!He$1(it.memoizedState,ut);if(ct&&(it.memoizedState=ut,Ug=!0),it=it.queue,ji(ki.bind(null,g,it,s),[s]),it.getSnapshot!==h||ct||P$3!==null&&P$3.memoizedState.tag&1){if(g.flags|=2048,li(9,mi.bind(null,g,it,ut,h),void 0,null),R$1===null)throw Error(p$1(349));Rh&30||ni(g,h,ut)}return ut}function ni(s,h,g){s.flags|=16384,s={getSnapshot:h,value:g},h=N$1.updateQueue,h===null?(h={lastEffect:null,stores:null},N$1.updateQueue=h,h.stores=[s]):(g=h.stores,g===null?h.stores=[s]:g.push(s))}function mi(s,h,g,it){h.value=g,h.getSnapshot=it,oi(h)&&pi$2(s)}function ki(s,h,g){return g(function(){oi(h)&&pi$2(s)})}function oi(s){var h=s.getSnapshot;s=s.value;try{var g=h();return!He$1(s,g)}catch{return!0}}function pi$2(s){var h=Zg(s,1);h!==null&&mh(h,s,1,-1)}function qi(s){var h=ci();return typeof s=="function"&&(s=s()),h.memoizedState=h.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:s},h.queue=s,s=s.dispatch=ri.bind(null,N$1,s),[h.memoizedState,s]}function li(s,h,g,it){return s={tag:s,create:h,destroy:g,deps:it,next:null},h=N$1.updateQueue,h===null?(h={lastEffect:null,stores:null},N$1.updateQueue=h,h.lastEffect=s.next=s):(g=h.lastEffect,g===null?h.lastEffect=s.next=s:(it=g.next,g.next=s,s.next=it,h.lastEffect=s)),s}function si(){return di().memoizedState}function ti(s,h,g,it){var ut=ci();N$1.flags|=s,ut.memoizedState=li(1|h,g,void 0,it===void 0?null:it)}function ui(s,h,g,it){var ut=di();it=it===void 0?null:it;var ct=void 0;if(O$1!==null){var dt=O$1.memoizedState;if(ct=dt.destroy,it!==null&&Wh(it,dt.deps)){ut.memoizedState=li(h,g,ct,it);return}}N$1.flags|=s,ut.memoizedState=li(1|h,g,ct,it)}function vi(s,h){return ti(8390656,8,s,h)}function ji(s,h){return ui(2048,8,s,h)}function wi(s,h){return ui(4,2,s,h)}function xi(s,h){return ui(4,4,s,h)}function yi(s,h){if(typeof h=="function")return s=s(),h(s),function(){h(null)};if(h!=null)return s=s(),h.current=s,function(){h.current=null}}function zi(s,h,g){return g=g!=null?g.concat([s]):null,ui(4,4,yi.bind(null,h,s),g)}function Ai(){}function Bi(s,h){var g=di();h=h===void 0?null:h;var it=g.memoizedState;return it!==null&&h!==null&&Wh(h,it[1])?it[0]:(g.memoizedState=[s,h],s)}function Ci(s,h){var g=di();h=h===void 0?null:h;var it=g.memoizedState;return it!==null&&h!==null&&Wh(h,it[1])?it[0]:(s=s(),g.memoizedState=[s,h],s)}function Di(s,h,g){return Rh&21?(He$1(g,h)||(g=yc(),N$1.lanes|=g,hh|=g,s.baseState=!0),h):(s.baseState&&(s.baseState=!1,Ug=!0),s.memoizedState=g)}function Ei(s,h){var g=C$1;C$1=g!==0&&4>g?g:4,s(!0);var it=Qh.transition;Qh.transition={};try{s(!1),h()}finally{C$1=g,Qh.transition=it}}function Fi(){return di().memoizedState}function Gi(s,h,g){var it=lh(s);if(g={lane:it,action:g,hasEagerState:!1,eagerState:null,next:null},Hi(s))Ii(h,g);else if(g=Yg(s,h,g,it),g!==null){var ut=L$1();mh(g,s,it,ut),Ji(g,h,it)}}function ri(s,h,g){var it=lh(s),ut={lane:it,action:g,hasEagerState:!1,eagerState:null,next:null};if(Hi(s))Ii(h,ut);else{var ct=s.alternate;if(s.lanes===0&&(ct===null||ct.lanes===0)&&(ct=h.lastRenderedReducer,ct!==null))try{var dt=h.lastRenderedState,ht=ct(dt,g);if(ut.hasEagerState=!0,ut.eagerState=ht,He$1(ht,dt)){var pt=h.interleaved;pt===null?(ut.next=ut,Xg(h)):(ut.next=pt.next,pt.next=ut),h.interleaved=ut;return}}catch{}finally{}g=Yg(s,h,ut,it),g!==null&&(ut=L$1(),mh(g,s,it,ut),Ji(g,h,it))}}function Hi(s){var h=s.alternate;return s===N$1||h!==null&&h===N$1}function Ii(s,h){Th=Sh=!0;var g=s.pending;g===null?h.next=h:(h.next=g.next,g.next=h),s.pending=h}function Ji(s,h,g){if(g&4194240){var it=h.lanes;it&=s.pendingLanes,g|=it,h.lanes=g,Cc(s,g)}}var ai={readContext:Vg,useCallback:Q$2,useContext:Q$2,useEffect:Q$2,useImperativeHandle:Q$2,useInsertionEffect:Q$2,useLayoutEffect:Q$2,useMemo:Q$2,useReducer:Q$2,useRef:Q$2,useState:Q$2,useDebugValue:Q$2,useDeferredValue:Q$2,useTransition:Q$2,useMutableSource:Q$2,useSyncExternalStore:Q$2,useId:Q$2,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(s,h){return ci().memoizedState=[s,h===void 0?null:h],s},useContext:Vg,useEffect:vi,useImperativeHandle:function(s,h,g){return g=g!=null?g.concat([s]):null,ti(4194308,4,yi.bind(null,h,s),g)},useLayoutEffect:function(s,h){return ti(4194308,4,s,h)},useInsertionEffect:function(s,h){return ti(4,2,s,h)},useMemo:function(s,h){var g=ci();return h=h===void 0?null:h,s=s(),g.memoizedState=[s,h],s},useReducer:function(s,h,g){var it=ci();return h=g!==void 0?g(h):h,it.memoizedState=it.baseState=h,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:h},it.queue=s,s=s.dispatch=Gi.bind(null,N$1,s),[it.memoizedState,s]},useRef:function(s){var h=ci();return s={current:s},h.memoizedState=s},useState:qi,useDebugValue:Ai,useDeferredValue:function(s){return ci().memoizedState=s},useTransition:function(){var s=qi(!1),h=s[0];return s=Ei.bind(null,s[1]),ci().memoizedState=s,[h,s]},useMutableSource:function(){},useSyncExternalStore:function(s,h,g){var it=N$1,ut=ci();if(I$1){if(g===void 0)throw Error(p$1(407));g=g()}else{if(g=h(),R$1===null)throw Error(p$1(349));Rh&30||ni(it,h,g)}ut.memoizedState=g;var ct={value:g,getSnapshot:h};return ut.queue=ct,vi(ki.bind(null,it,ct,s),[s]),it.flags|=2048,li(9,mi.bind(null,it,ct,g,h),void 0,null),g},useId:function(){var s=ci(),h=R$1.identifierPrefix;if(I$1){var g=sg,it=rg;g=(it&~(1<<32-oc(it)-1)).toString(32)+g,h=":"+h+"R"+g,g=Uh++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=Vh++,h=":"+h+"r"+g.toString(32)+":";return s.memoizedState=h},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(s){var h=di();return Di(h,O$1.memoizedState,s)},useTransition:function(){var s=fi(ei)[0],h=di().memoizedState;return[s,h]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(s){var h=di();return O$1===null?h.memoizedState=s:Di(h,O$1.memoizedState,s)},useTransition:function(){var s=gi(ei)[0],h=di().memoizedState;return[s,h]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(s,h){try{var g="",it=h;do g+=Pa(it),it=it.return;while(it);var ut=g}catch(ct){ut=`
Error generating stack: `+ct.message+`
`+ct.stack}return{value:s,source:h,stack:ut,digest:null}}function Li(s,h,g){return{value:s,source:null,stack:g??null,digest:h??null}}function Mi(s,h){try{console.error(h.value)}catch(g){setTimeout(function(){throw g})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(s,h,g){g=ch(-1,g),g.tag=3,g.payload={element:null};var it=h.value;return g.callback=function(){Pi||(Pi=!0,Qi=it),Mi(s,h)},g}function Ri(s,h,g){g=ch(-1,g),g.tag=3;var it=s.type.getDerivedStateFromError;if(typeof it=="function"){var ut=h.value;g.payload=function(){return it(ut)},g.callback=function(){Mi(s,h)}}var ct=s.stateNode;return ct!==null&&typeof ct.componentDidCatch=="function"&&(g.callback=function(){Mi(s,h),typeof it!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var dt=h.stack;this.componentDidCatch(h.value,{componentStack:dt!==null?dt:""})}),g}function Ti(s,h,g){var it=s.pingCache;if(it===null){it=s.pingCache=new Ni;var ut=new Set;it.set(h,ut)}else ut=it.get(h),ut===void 0&&(ut=new Set,it.set(h,ut));ut.has(g)||(ut.add(g),s=Ui.bind(null,s,h,g),h.then(s,s))}function Vi(s){do{var h;if((h=s.tag===13)&&(h=s.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return s;s=s.return}while(s!==null);return null}function Wi(s,h,g,it,ut){return s.mode&1?(s.flags|=65536,s.lanes=ut,s):(s===h?s.flags|=65536:(s.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(h=ch(-1,1),h.tag=2,dh(g,h,1))),g.lanes|=1),s)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(s,h,g,it){h.child=s===null?Ch(h,null,g,it):Bh(h,s.child,g,it)}function Zi(s,h,g,it,ut){g=g.render;var ct=h.ref;return Tg(h,ut),it=Xh(s,h,g,it,ct,ut),g=bi(),s!==null&&!Ug?(h.updateQueue=s.updateQueue,h.flags&=-2053,s.lanes&=~ut,$i(s,h,ut)):(I$1&&g&&vg(h),h.flags|=1,Yi(s,h,it,ut),h.child)}function aj(s,h,g,it,ut){if(s===null){var ct=g.type;return typeof ct=="function"&&!bj(ct)&&ct.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(h.tag=15,h.type=ct,cj(s,h,ct,it,ut)):(s=yh(g.type,null,it,h,h.mode,ut),s.ref=h.ref,s.return=h,h.child=s)}if(ct=s.child,!(s.lanes&ut)){var dt=ct.memoizedProps;if(g=g.compare,g=g!==null?g:Ie$1,g(dt,it)&&s.ref===h.ref)return $i(s,h,ut)}return h.flags|=1,s=wh(ct,it),s.ref=h.ref,s.return=h,h.child=s}function cj(s,h,g,it,ut){if(s!==null){var ct=s.memoizedProps;if(Ie$1(ct,it)&&s.ref===h.ref)if(Ug=!1,h.pendingProps=it=ct,(s.lanes&ut)!==0)s.flags&131072&&(Ug=!0);else return h.lanes=s.lanes,$i(s,h,ut)}return dj(s,h,g,it,ut)}function ej(s,h,g){var it=h.pendingProps,ut=it.children,ct=s!==null?s.memoizedState:null;if(it.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=g;else{if(!(g&1073741824))return s=ct!==null?ct.baseLanes|g:g,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:s,cachePool:null,transitions:null},h.updateQueue=null,G$1(fj,gj),gj|=s,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},it=ct!==null?ct.baseLanes:g,G$1(fj,gj),gj|=it}else ct!==null?(it=ct.baseLanes|g,h.memoizedState=null):it=g,G$1(fj,gj),gj|=it;return Yi(s,h,ut,g),h.child}function hj(s,h){var g=h.ref;(s===null&&g!==null||s!==null&&s.ref!==g)&&(h.flags|=512,h.flags|=2097152)}function dj(s,h,g,it,ut){var ct=Zf(g)?Xf:H$1.current;return ct=Yf(h,ct),Tg(h,ut),g=Xh(s,h,g,it,ct,ut),it=bi(),s!==null&&!Ug?(h.updateQueue=s.updateQueue,h.flags&=-2053,s.lanes&=~ut,$i(s,h,ut)):(I$1&&it&&vg(h),h.flags|=1,Yi(s,h,g,ut),h.child)}function ij(s,h,g,it,ut){if(Zf(g)){var ct=!0;cg(h)}else ct=!1;if(Tg(h,ut),h.stateNode===null)jj(s,h),ph(h,g,it),rh(h,g,it,ut),it=!0;else if(s===null){var dt=h.stateNode,ht=h.memoizedProps;dt.props=ht;var pt=dt.context,mt=g.contextType;typeof mt=="object"&&mt!==null?mt=Vg(mt):(mt=Zf(g)?Xf:H$1.current,mt=Yf(h,mt));var vt=g.getDerivedStateFromProps,gt=typeof vt=="function"||typeof dt.getSnapshotBeforeUpdate=="function";gt||typeof dt.UNSAFE_componentWillReceiveProps!="function"&&typeof dt.componentWillReceiveProps!="function"||(ht!==it||pt!==mt)&&qh(h,dt,it,mt),$g=!1;var yt=h.memoizedState;dt.state=yt,gh(h,it,dt,ut),pt=h.memoizedState,ht!==it||yt!==pt||Wf.current||$g?(typeof vt=="function"&&(kh(h,g,vt,it),pt=h.memoizedState),(ht=$g||oh(h,g,ht,it,yt,pt,mt))?(gt||typeof dt.UNSAFE_componentWillMount!="function"&&typeof dt.componentWillMount!="function"||(typeof dt.componentWillMount=="function"&&dt.componentWillMount(),typeof dt.UNSAFE_componentWillMount=="function"&&dt.UNSAFE_componentWillMount()),typeof dt.componentDidMount=="function"&&(h.flags|=4194308)):(typeof dt.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=it,h.memoizedState=pt),dt.props=it,dt.state=pt,dt.context=mt,it=ht):(typeof dt.componentDidMount=="function"&&(h.flags|=4194308),it=!1)}else{dt=h.stateNode,bh(s,h),ht=h.memoizedProps,mt=h.type===h.elementType?ht:Lg(h.type,ht),dt.props=mt,gt=h.pendingProps,yt=dt.context,pt=g.contextType,typeof pt=="object"&&pt!==null?pt=Vg(pt):(pt=Zf(g)?Xf:H$1.current,pt=Yf(h,pt));var bt=g.getDerivedStateFromProps;(vt=typeof bt=="function"||typeof dt.getSnapshotBeforeUpdate=="function")||typeof dt.UNSAFE_componentWillReceiveProps!="function"&&typeof dt.componentWillReceiveProps!="function"||(ht!==gt||yt!==pt)&&qh(h,dt,it,pt),$g=!1,yt=h.memoizedState,dt.state=yt,gh(h,it,dt,ut);var wt=h.memoizedState;ht!==gt||yt!==wt||Wf.current||$g?(typeof bt=="function"&&(kh(h,g,bt,it),wt=h.memoizedState),(mt=$g||oh(h,g,mt,it,yt,wt,pt)||!1)?(vt||typeof dt.UNSAFE_componentWillUpdate!="function"&&typeof dt.componentWillUpdate!="function"||(typeof dt.componentWillUpdate=="function"&&dt.componentWillUpdate(it,wt,pt),typeof dt.UNSAFE_componentWillUpdate=="function"&&dt.UNSAFE_componentWillUpdate(it,wt,pt)),typeof dt.componentDidUpdate=="function"&&(h.flags|=4),typeof dt.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof dt.componentDidUpdate!="function"||ht===s.memoizedProps&&yt===s.memoizedState||(h.flags|=4),typeof dt.getSnapshotBeforeUpdate!="function"||ht===s.memoizedProps&&yt===s.memoizedState||(h.flags|=1024),h.memoizedProps=it,h.memoizedState=wt),dt.props=it,dt.state=wt,dt.context=pt,it=mt):(typeof dt.componentDidUpdate!="function"||ht===s.memoizedProps&&yt===s.memoizedState||(h.flags|=4),typeof dt.getSnapshotBeforeUpdate!="function"||ht===s.memoizedProps&&yt===s.memoizedState||(h.flags|=1024),it=!1)}return kj(s,h,g,it,ct,ut)}function kj(s,h,g,it,ut,ct){hj(s,h);var dt=(h.flags&128)!==0;if(!it&&!dt)return ut&&dg(h,g,!1),$i(s,h,ct);it=h.stateNode,Xi.current=h;var ht=dt&&typeof g.getDerivedStateFromError!="function"?null:it.render();return h.flags|=1,s!==null&&dt?(h.child=Bh(h,s.child,null,ct),h.child=Bh(h,null,ht,ct)):Yi(s,h,ht,ct),h.memoizedState=it.state,ut&&dg(h,g,!0),h.child}function lj(s){var h=s.stateNode;h.pendingContext?ag(s,h.pendingContext,h.pendingContext!==h.context):h.context&&ag(s,h.context,!1),Ih(s,h.containerInfo)}function mj(s,h,g,it,ut){return Ig(),Jg(ut),h.flags|=256,Yi(s,h,g,it),h.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(s){return{baseLanes:s,cachePool:null,transitions:null}}function pj(s,h,g){var it=h.pendingProps,ut=M$1.current,ct=!1,dt=(h.flags&128)!==0,ht;if((ht=dt)||(ht=s!==null&&s.memoizedState===null?!1:(ut&2)!==0),ht?(ct=!0,h.flags&=-129):(s===null||s.memoizedState!==null)&&(ut|=1),G$1(M$1,ut&1),s===null)return Eg(h),s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(h.mode&1?s.data==="$!"?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(dt=it.children,s=it.fallback,ct?(it=h.mode,ct=h.child,dt={mode:"hidden",children:dt},!(it&1)&&ct!==null?(ct.childLanes=0,ct.pendingProps=dt):ct=qj(dt,it,0,null),s=Ah(s,it,g,null),ct.return=h,s.return=h,ct.sibling=s,h.child=ct,h.child.memoizedState=oj(g),h.memoizedState=nj,s):rj(h,dt));if(ut=s.memoizedState,ut!==null&&(ht=ut.dehydrated,ht!==null))return sj(s,h,dt,it,ht,ut,g);if(ct){ct=it.fallback,dt=h.mode,ut=s.child,ht=ut.sibling;var pt={mode:"hidden",children:it.children};return!(dt&1)&&h.child!==ut?(it=h.child,it.childLanes=0,it.pendingProps=pt,h.deletions=null):(it=wh(ut,pt),it.subtreeFlags=ut.subtreeFlags&14680064),ht!==null?ct=wh(ht,ct):(ct=Ah(ct,dt,g,null),ct.flags|=2),ct.return=h,it.return=h,it.sibling=ct,h.child=it,it=ct,ct=h.child,dt=s.child.memoizedState,dt=dt===null?oj(g):{baseLanes:dt.baseLanes|g,cachePool:null,transitions:dt.transitions},ct.memoizedState=dt,ct.childLanes=s.childLanes&~g,h.memoizedState=nj,it}return ct=s.child,s=ct.sibling,it=wh(ct,{mode:"visible",children:it.children}),!(h.mode&1)&&(it.lanes=g),it.return=h,it.sibling=null,s!==null&&(g=h.deletions,g===null?(h.deletions=[s],h.flags|=16):g.push(s)),h.child=it,h.memoizedState=null,it}function rj(s,h){return h=qj({mode:"visible",children:h},s.mode,0,null),h.return=s,s.child=h}function tj(s,h,g,it){return it!==null&&Jg(it),Bh(h,s.child,null,g),s=rj(h,h.pendingProps.children),s.flags|=2,h.memoizedState=null,s}function sj(s,h,g,it,ut,ct,dt){if(g)return h.flags&256?(h.flags&=-257,it=Li(Error(p$1(422))),tj(s,h,dt,it)):h.memoizedState!==null?(h.child=s.child,h.flags|=128,null):(ct=it.fallback,ut=h.mode,it=qj({mode:"visible",children:it.children},ut,0,null),ct=Ah(ct,ut,dt,null),ct.flags|=2,it.return=h,ct.return=h,it.sibling=ct,h.child=it,h.mode&1&&Bh(h,s.child,null,dt),h.child.memoizedState=oj(dt),h.memoizedState=nj,ct);if(!(h.mode&1))return tj(s,h,dt,null);if(ut.data==="$!"){if(it=ut.nextSibling&&ut.nextSibling.dataset,it)var ht=it.dgst;return it=ht,ct=Error(p$1(419)),it=Li(ct,it,void 0),tj(s,h,dt,it)}if(ht=(dt&s.childLanes)!==0,Ug||ht){if(it=R$1,it!==null){switch(dt&-dt){case 4:ut=2;break;case 16:ut=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ut=32;break;case 536870912:ut=268435456;break;default:ut=0}ut=ut&(it.suspendedLanes|dt)?0:ut,ut!==0&&ut!==ct.retryLane&&(ct.retryLane=ut,Zg(s,ut),mh(it,s,ut,-1))}return uj(),it=Li(Error(p$1(421))),tj(s,h,dt,it)}return ut.data==="$?"?(h.flags|=128,h.child=s.child,h=vj.bind(null,s),ut._reactRetry=h,null):(s=ct.treeContext,yg=Lf(ut.nextSibling),xg=h,I$1=!0,zg=null,s!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=s.id,sg=s.overflow,qg=h),h=rj(h,it.children),h.flags|=4096,h)}function wj(s,h,g){s.lanes|=h;var it=s.alternate;it!==null&&(it.lanes|=h),Sg(s.return,h,g)}function xj(s,h,g,it,ut){var ct=s.memoizedState;ct===null?s.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:it,tail:g,tailMode:ut}:(ct.isBackwards=h,ct.rendering=null,ct.renderingStartTime=0,ct.last=it,ct.tail=g,ct.tailMode=ut)}function yj(s,h,g){var it=h.pendingProps,ut=it.revealOrder,ct=it.tail;if(Yi(s,h,it.children,g),it=M$1.current,it&2)it=it&1|2,h.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=h.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wj(s,g,h);else if(s.tag===19)wj(s,g,h);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===h)break e;for(;s.sibling===null;){if(s.return===null||s.return===h)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}it&=1}if(G$1(M$1,it),!(h.mode&1))h.memoizedState=null;else switch(ut){case"forwards":for(g=h.child,ut=null;g!==null;)s=g.alternate,s!==null&&Mh(s)===null&&(ut=g),g=g.sibling;g=ut,g===null?(ut=h.child,h.child=null):(ut=g.sibling,g.sibling=null),xj(h,!1,ut,g,ct);break;case"backwards":for(g=null,ut=h.child,h.child=null;ut!==null;){if(s=ut.alternate,s!==null&&Mh(s)===null){h.child=ut;break}s=ut.sibling,ut.sibling=g,g=ut,ut=s}xj(h,!0,g,null,ct);break;case"together":xj(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function jj(s,h){!(h.mode&1)&&s!==null&&(s.alternate=null,h.alternate=null,h.flags|=2)}function $i(s,h,g){if(s!==null&&(h.dependencies=s.dependencies),hh|=h.lanes,!(g&h.childLanes))return null;if(s!==null&&h.child!==s.child)throw Error(p$1(153));if(h.child!==null){for(s=h.child,g=wh(s,s.pendingProps),h.child=g,g.return=h;s.sibling!==null;)s=s.sibling,g=g.sibling=wh(s,s.pendingProps),g.return=h;g.sibling=null}return h.child}function zj(s,h,g){switch(h.tag){case 3:lj(h),Ig();break;case 5:Kh(h);break;case 1:Zf(h.type)&&cg(h);break;case 4:Ih(h,h.stateNode.containerInfo);break;case 10:var it=h.type._context,ut=h.memoizedProps.value;G$1(Mg,it._currentValue),it._currentValue=ut;break;case 13:if(it=h.memoizedState,it!==null)return it.dehydrated!==null?(G$1(M$1,M$1.current&1),h.flags|=128,null):g&h.child.childLanes?pj(s,h,g):(G$1(M$1,M$1.current&1),s=$i(s,h,g),s!==null?s.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(it=(g&h.childLanes)!==0,s.flags&128){if(it)return yj(s,h,g);h.flags|=128}if(ut=h.memoizedState,ut!==null&&(ut.rendering=null,ut.tail=null,ut.lastEffect=null),G$1(M$1,M$1.current),it)break;return null;case 22:case 23:return h.lanes=0,ej(s,h,g)}return $i(s,h,g)}var Aj,Bj,Cj,Dj;Aj=function(s,h){for(var g=h.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};Bj=function(){};Cj=function(s,h,g,it){var ut=s.memoizedProps;if(ut!==it){s=h.stateNode,Hh(Eh.current);var ct=null;switch(g){case"input":ut=Ya(s,ut),it=Ya(s,it),ct=[];break;case"select":ut=A$1({},ut,{value:void 0}),it=A$1({},it,{value:void 0}),ct=[];break;case"textarea":ut=gb(s,ut),it=gb(s,it),ct=[];break;default:typeof ut.onClick!="function"&&typeof it.onClick=="function"&&(s.onclick=Bf)}ub(g,it);var dt;g=null;for(mt in ut)if(!it.hasOwnProperty(mt)&&ut.hasOwnProperty(mt)&&ut[mt]!=null)if(mt==="style"){var ht=ut[mt];for(dt in ht)ht.hasOwnProperty(dt)&&(g||(g={}),g[dt]="")}else mt!=="dangerouslySetInnerHTML"&&mt!=="children"&&mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&mt!=="autoFocus"&&(ea.hasOwnProperty(mt)?ct||(ct=[]):(ct=ct||[]).push(mt,null));for(mt in it){var pt=it[mt];if(ht=ut!=null?ut[mt]:void 0,it.hasOwnProperty(mt)&&pt!==ht&&(pt!=null||ht!=null))if(mt==="style")if(ht){for(dt in ht)!ht.hasOwnProperty(dt)||pt&&pt.hasOwnProperty(dt)||(g||(g={}),g[dt]="");for(dt in pt)pt.hasOwnProperty(dt)&&ht[dt]!==pt[dt]&&(g||(g={}),g[dt]=pt[dt])}else g||(ct||(ct=[]),ct.push(mt,g)),g=pt;else mt==="dangerouslySetInnerHTML"?(pt=pt?pt.__html:void 0,ht=ht?ht.__html:void 0,pt!=null&&ht!==pt&&(ct=ct||[]).push(mt,pt)):mt==="children"?typeof pt!="string"&&typeof pt!="number"||(ct=ct||[]).push(mt,""+pt):mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(mt)?(pt!=null&&mt==="onScroll"&&D$1("scroll",s),ct||ht===pt||(ct=[])):(ct=ct||[]).push(mt,pt))}g&&(ct=ct||[]).push("style",g);var mt=ct;(h.updateQueue=mt)&&(h.flags|=4)}};Dj=function(s,h,g,it){g!==it&&(h.flags|=4)};function Ej(s,h){if(!I$1)switch(s.tailMode){case"hidden":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?s.tail=null:g.sibling=null;break;case"collapsed":g=s.tail;for(var it=null;g!==null;)g.alternate!==null&&(it=g),g=g.sibling;it===null?h||s.tail===null?s.tail=null:s.tail.sibling=null:it.sibling=null}}function S(s){var h=s.alternate!==null&&s.alternate.child===s.child,g=0,it=0;if(h)for(var ut=s.child;ut!==null;)g|=ut.lanes|ut.childLanes,it|=ut.subtreeFlags&14680064,it|=ut.flags&14680064,ut.return=s,ut=ut.sibling;else for(ut=s.child;ut!==null;)g|=ut.lanes|ut.childLanes,it|=ut.subtreeFlags,it|=ut.flags,ut.return=s,ut=ut.sibling;return s.subtreeFlags|=it,s.childLanes=g,h}function Fj(s,h,g){var it=h.pendingProps;switch(wg(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(h),null;case 1:return Zf(h.type)&&$f(),S(h),null;case 3:return it=h.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),it.pendingContext&&(it.context=it.pendingContext,it.pendingContext=null),(s===null||s.child===null)&&(Gg(h)?h.flags|=4:s===null||s.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(s,h),S(h),null;case 5:Lh(h);var ut=Hh(Gh.current);if(g=h.type,s!==null&&h.stateNode!=null)Cj(s,h,g,it,ut),s.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!it){if(h.stateNode===null)throw Error(p$1(166));return S(h),null}if(s=Hh(Eh.current),Gg(h)){it=h.stateNode,g=h.type;var ct=h.memoizedProps;switch(it[Of]=h,it[Pf]=ct,s=(h.mode&1)!==0,g){case"dialog":D$1("cancel",it),D$1("close",it);break;case"iframe":case"object":case"embed":D$1("load",it);break;case"video":case"audio":for(ut=0;ut<lf.length;ut++)D$1(lf[ut],it);break;case"source":D$1("error",it);break;case"img":case"image":case"link":D$1("error",it),D$1("load",it);break;case"details":D$1("toggle",it);break;case"input":Za(it,ct),D$1("invalid",it);break;case"select":it._wrapperState={wasMultiple:!!ct.multiple},D$1("invalid",it);break;case"textarea":hb(it,ct),D$1("invalid",it)}ub(g,ct),ut=null;for(var dt in ct)if(ct.hasOwnProperty(dt)){var ht=ct[dt];dt==="children"?typeof ht=="string"?it.textContent!==ht&&(ct.suppressHydrationWarning!==!0&&Af(it.textContent,ht,s),ut=["children",ht]):typeof ht=="number"&&it.textContent!==""+ht&&(ct.suppressHydrationWarning!==!0&&Af(it.textContent,ht,s),ut=["children",""+ht]):ea.hasOwnProperty(dt)&&ht!=null&&dt==="onScroll"&&D$1("scroll",it)}switch(g){case"input":Va(it),db(it,ct,!0);break;case"textarea":Va(it),jb(it);break;case"select":case"option":break;default:typeof ct.onClick=="function"&&(it.onclick=Bf)}it=ut,h.updateQueue=it,it!==null&&(h.flags|=4)}else{dt=ut.nodeType===9?ut:ut.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kb(g)),s==="http://www.w3.org/1999/xhtml"?g==="script"?(s=dt.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof it.is=="string"?s=dt.createElement(g,{is:it.is}):(s=dt.createElement(g),g==="select"&&(dt=s,it.multiple?dt.multiple=!0:it.size&&(dt.size=it.size))):s=dt.createElementNS(s,g),s[Of]=h,s[Pf]=it,Aj(s,h,!1,!1),h.stateNode=s;e:{switch(dt=vb(g,it),g){case"dialog":D$1("cancel",s),D$1("close",s),ut=it;break;case"iframe":case"object":case"embed":D$1("load",s),ut=it;break;case"video":case"audio":for(ut=0;ut<lf.length;ut++)D$1(lf[ut],s);ut=it;break;case"source":D$1("error",s),ut=it;break;case"img":case"image":case"link":D$1("error",s),D$1("load",s),ut=it;break;case"details":D$1("toggle",s),ut=it;break;case"input":Za(s,it),ut=Ya(s,it),D$1("invalid",s);break;case"option":ut=it;break;case"select":s._wrapperState={wasMultiple:!!it.multiple},ut=A$1({},it,{value:void 0}),D$1("invalid",s);break;case"textarea":hb(s,it),ut=gb(s,it),D$1("invalid",s);break;default:ut=it}ub(g,ut),ht=ut;for(ct in ht)if(ht.hasOwnProperty(ct)){var pt=ht[ct];ct==="style"?sb(s,pt):ct==="dangerouslySetInnerHTML"?(pt=pt?pt.__html:void 0,pt!=null&&nb(s,pt)):ct==="children"?typeof pt=="string"?(g!=="textarea"||pt!=="")&&ob(s,pt):typeof pt=="number"&&ob(s,""+pt):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?pt!=null&&ct==="onScroll"&&D$1("scroll",s):pt!=null&&ta(s,ct,pt,dt))}switch(g){case"input":Va(s),db(s,it,!1);break;case"textarea":Va(s),jb(s);break;case"option":it.value!=null&&s.setAttribute("value",""+Sa(it.value));break;case"select":s.multiple=!!it.multiple,ct=it.value,ct!=null?fb(s,!!it.multiple,ct,!1):it.defaultValue!=null&&fb(s,!!it.multiple,it.defaultValue,!0);break;default:typeof ut.onClick=="function"&&(s.onclick=Bf)}switch(g){case"button":case"input":case"select":case"textarea":it=!!it.autoFocus;break e;case"img":it=!0;break e;default:it=!1}}it&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return S(h),null;case 6:if(s&&h.stateNode!=null)Dj(s,h,s.memoizedProps,it);else{if(typeof it!="string"&&h.stateNode===null)throw Error(p$1(166));if(g=Hh(Gh.current),Hh(Eh.current),Gg(h)){if(it=h.stateNode,g=h.memoizedProps,it[Of]=h,(ct=it.nodeValue!==g)&&(s=xg,s!==null))switch(s.tag){case 3:Af(it.nodeValue,g,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Af(it.nodeValue,g,(s.mode&1)!==0)}ct&&(h.flags|=4)}else it=(g.nodeType===9?g:g.ownerDocument).createTextNode(it),it[Of]=h,h.stateNode=it}return S(h),null;case 13:if(E$1(M$1),it=h.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&h.mode&1&&!(h.flags&128))Hg(),Ig(),h.flags|=98560,ct=!1;else if(ct=Gg(h),it!==null&&it.dehydrated!==null){if(s===null){if(!ct)throw Error(p$1(318));if(ct=h.memoizedState,ct=ct!==null?ct.dehydrated:null,!ct)throw Error(p$1(317));ct[Of]=h}else Ig(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;S(h),ct=!1}else zg!==null&&(Gj(zg),zg=null),ct=!0;if(!ct)return h.flags&65536?h:null}return h.flags&128?(h.lanes=g,h):(it=it!==null,it!==(s!==null&&s.memoizedState!==null)&&it&&(h.child.flags|=8192,h.mode&1&&(s===null||M$1.current&1?T$1===0&&(T$1=3):uj())),h.updateQueue!==null&&(h.flags|=4),S(h),null);case 4:return Jh(),Bj(s,h),s===null&&sf(h.stateNode.containerInfo),S(h),null;case 10:return Rg(h.type._context),S(h),null;case 17:return Zf(h.type)&&$f(),S(h),null;case 19:if(E$1(M$1),ct=h.memoizedState,ct===null)return S(h),null;if(it=(h.flags&128)!==0,dt=ct.rendering,dt===null)if(it)Ej(ct,!1);else{if(T$1!==0||s!==null&&s.flags&128)for(s=h.child;s!==null;){if(dt=Mh(s),dt!==null){for(h.flags|=128,Ej(ct,!1),it=dt.updateQueue,it!==null&&(h.updateQueue=it,h.flags|=4),h.subtreeFlags=0,it=g,g=h.child;g!==null;)ct=g,s=it,ct.flags&=14680066,dt=ct.alternate,dt===null?(ct.childLanes=0,ct.lanes=s,ct.child=null,ct.subtreeFlags=0,ct.memoizedProps=null,ct.memoizedState=null,ct.updateQueue=null,ct.dependencies=null,ct.stateNode=null):(ct.childLanes=dt.childLanes,ct.lanes=dt.lanes,ct.child=dt.child,ct.subtreeFlags=0,ct.deletions=null,ct.memoizedProps=dt.memoizedProps,ct.memoizedState=dt.memoizedState,ct.updateQueue=dt.updateQueue,ct.type=dt.type,s=dt.dependencies,ct.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),g=g.sibling;return G$1(M$1,M$1.current&1|2),h.child}s=s.sibling}ct.tail!==null&&B$1()>Hj&&(h.flags|=128,it=!0,Ej(ct,!1),h.lanes=4194304)}else{if(!it)if(s=Mh(dt),s!==null){if(h.flags|=128,it=!0,g=s.updateQueue,g!==null&&(h.updateQueue=g,h.flags|=4),Ej(ct,!0),ct.tail===null&&ct.tailMode==="hidden"&&!dt.alternate&&!I$1)return S(h),null}else 2*B$1()-ct.renderingStartTime>Hj&&g!==1073741824&&(h.flags|=128,it=!0,Ej(ct,!1),h.lanes=4194304);ct.isBackwards?(dt.sibling=h.child,h.child=dt):(g=ct.last,g!==null?g.sibling=dt:h.child=dt,ct.last=dt)}return ct.tail!==null?(h=ct.tail,ct.rendering=h,ct.tail=h.sibling,ct.renderingStartTime=B$1(),h.sibling=null,g=M$1.current,G$1(M$1,it?g&1|2:g&1),h):(S(h),null);case 22:case 23:return Ij(),it=h.memoizedState!==null,s!==null&&s.memoizedState!==null!==it&&(h.flags|=8192),it&&h.mode&1?gj&1073741824&&(S(h),h.subtreeFlags&6&&(h.flags|=8192)):S(h),null;case 24:return null;case 25:return null}throw Error(p$1(156,h.tag))}function Jj(s,h){switch(wg(h),h.tag){case 1:return Zf(h.type)&&$f(),s=h.flags,s&65536?(h.flags=s&-65537|128,h):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),s=h.flags,s&65536&&!(s&128)?(h.flags=s&-65537|128,h):null;case 5:return Lh(h),null;case 13:if(E$1(M$1),s=h.memoizedState,s!==null&&s.dehydrated!==null){if(h.alternate===null)throw Error(p$1(340));Ig()}return s=h.flags,s&65536?(h.flags=s&-65537|128,h):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(h.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(s,h){var g=s.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(it){W$1(s,h,it)}else g.current=null}function Nj(s,h,g){try{g()}catch(it){W$1(s,h,it)}}var Oj=!1;function Pj(s,h){if(Cf=dd,s=Me$1(),Ne$1(s)){if("selectionStart"in s)var g={start:s.selectionStart,end:s.selectionEnd};else e:{g=(g=s.ownerDocument)&&g.defaultView||window;var it=g.getSelection&&g.getSelection();if(it&&it.rangeCount!==0){g=it.anchorNode;var ut=it.anchorOffset,ct=it.focusNode;it=it.focusOffset;try{g.nodeType,ct.nodeType}catch{g=null;break e}var dt=0,ht=-1,pt=-1,mt=0,vt=0,gt=s,yt=null;t:for(;;){for(var bt;gt!==g||ut!==0&&gt.nodeType!==3||(ht=dt+ut),gt!==ct||it!==0&&gt.nodeType!==3||(pt=dt+it),gt.nodeType===3&&(dt+=gt.nodeValue.length),(bt=gt.firstChild)!==null;)yt=gt,gt=bt;for(;;){if(gt===s)break t;if(yt===g&&++mt===ut&&(ht=dt),yt===ct&&++vt===it&&(pt=dt),(bt=gt.nextSibling)!==null)break;gt=yt,yt=gt.parentNode}gt=bt}g=ht===-1||pt===-1?null:{start:ht,end:pt}}else g=null}g=g||{start:0,end:0}}else g=null;for(Df={focusedElem:s,selectionRange:g},dd=!1,V$1=h;V$1!==null;)if(h=V$1,s=h.child,(h.subtreeFlags&1028)!==0&&s!==null)s.return=h,V$1=s;else for(;V$1!==null;){h=V$1;try{var wt=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(wt!==null){var Et=wt.memoizedProps,Mt=wt.memoizedState,Dt=h.stateNode,$t=Dt.getSnapshotBeforeUpdate(h.elementType===h.type?Et:Lg(h.type,Et),Mt);Dt.__reactInternalSnapshotBeforeUpdate=$t}break;case 3:var _t=h.stateNode.containerInfo;_t.nodeType===1?_t.textContent="":_t.nodeType===9&&_t.documentElement&&_t.removeChild(_t.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(Nt){W$1(h,h.return,Nt)}if(s=h.sibling,s!==null){s.return=h.return,V$1=s;break}V$1=h.return}return wt=Oj,Oj=!1,wt}function Qj(s,h,g){var it=h.updateQueue;if(it=it!==null?it.lastEffect:null,it!==null){var ut=it=it.next;do{if((ut.tag&s)===s){var ct=ut.destroy;ut.destroy=void 0,ct!==void 0&&Nj(h,g,ct)}ut=ut.next}while(ut!==it)}}function Rj(s,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var it=g.create;g.destroy=it()}g=g.next}while(g!==h)}}function Sj(s){var h=s.ref;if(h!==null){var g=s.stateNode;switch(s.tag){case 5:s=g;break;default:s=g}typeof h=="function"?h(s):h.current=s}}function Tj(s){var h=s.alternate;h!==null&&(s.alternate=null,Tj(h)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(h=s.stateNode,h!==null&&(delete h[Of],delete h[Pf],delete h[of],delete h[Qf],delete h[Rf])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Uj(s){return s.tag===5||s.tag===3||s.tag===4}function Vj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Uj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wj(s,h,g){var it=s.tag;if(it===5||it===6)s=s.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(s,h):g.insertBefore(s,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(s,g)):(h=g,h.appendChild(s)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=Bf));else if(it!==4&&(s=s.child,s!==null))for(Wj(s,h,g),s=s.sibling;s!==null;)Wj(s,h,g),s=s.sibling}function Xj(s,h,g){var it=s.tag;if(it===5||it===6)s=s.stateNode,h?g.insertBefore(s,h):g.appendChild(s);else if(it!==4&&(s=s.child,s!==null))for(Xj(s,h,g),s=s.sibling;s!==null;)Xj(s,h,g),s=s.sibling}var X$1=null,Yj=!1;function Zj(s,h,g){for(g=g.child;g!==null;)ak(s,h,g),g=g.sibling}function ak(s,h,g){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,g)}catch{}switch(g.tag){case 5:U$1||Mj(g,h);case 6:var it=X$1,ut=Yj;X$1=null,Zj(s,h,g),X$1=it,Yj=ut,X$1!==null&&(Yj?(s=X$1,g=g.stateNode,s.nodeType===8?s.parentNode.removeChild(g):s.removeChild(g)):X$1.removeChild(g.stateNode));break;case 18:X$1!==null&&(Yj?(s=X$1,g=g.stateNode,s.nodeType===8?Kf(s.parentNode,g):s.nodeType===1&&Kf(s,g),bd(s)):Kf(X$1,g.stateNode));break;case 4:it=X$1,ut=Yj,X$1=g.stateNode.containerInfo,Yj=!0,Zj(s,h,g),X$1=it,Yj=ut;break;case 0:case 11:case 14:case 15:if(!U$1&&(it=g.updateQueue,it!==null&&(it=it.lastEffect,it!==null))){ut=it=it.next;do{var ct=ut,dt=ct.destroy;ct=ct.tag,dt!==void 0&&(ct&2||ct&4)&&Nj(g,h,dt),ut=ut.next}while(ut!==it)}Zj(s,h,g);break;case 1:if(!U$1&&(Mj(g,h),it=g.stateNode,typeof it.componentWillUnmount=="function"))try{it.props=g.memoizedProps,it.state=g.memoizedState,it.componentWillUnmount()}catch(ht){W$1(g,h,ht)}Zj(s,h,g);break;case 21:Zj(s,h,g);break;case 22:g.mode&1?(U$1=(it=U$1)||g.memoizedState!==null,Zj(s,h,g),U$1=it):Zj(s,h,g);break;default:Zj(s,h,g)}}function bk(s){var h=s.updateQueue;if(h!==null){s.updateQueue=null;var g=s.stateNode;g===null&&(g=s.stateNode=new Lj),h.forEach(function(it){var ut=ck.bind(null,s,it);g.has(it)||(g.add(it),it.then(ut,ut))})}}function dk(s,h){var g=h.deletions;if(g!==null)for(var it=0;it<g.length;it++){var ut=g[it];try{var ct=s,dt=h,ht=dt;e:for(;ht!==null;){switch(ht.tag){case 5:X$1=ht.stateNode,Yj=!1;break e;case 3:X$1=ht.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=ht.stateNode.containerInfo,Yj=!0;break e}ht=ht.return}if(X$1===null)throw Error(p$1(160));ak(ct,dt,ut),X$1=null,Yj=!1;var pt=ut.alternate;pt!==null&&(pt.return=null),ut.return=null}catch(mt){W$1(ut,h,mt)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)ek(h,s),h=h.sibling}function ek(s,h){var g=s.alternate,it=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(dk(h,s),fk(s),it&4){try{Qj(3,s,s.return),Rj(3,s)}catch(Et){W$1(s,s.return,Et)}try{Qj(5,s,s.return)}catch(Et){W$1(s,s.return,Et)}}break;case 1:dk(h,s),fk(s),it&512&&g!==null&&Mj(g,g.return);break;case 5:if(dk(h,s),fk(s),it&512&&g!==null&&Mj(g,g.return),s.flags&32){var ut=s.stateNode;try{ob(ut,"")}catch(Et){W$1(s,s.return,Et)}}if(it&4&&(ut=s.stateNode,ut!=null)){var ct=s.memoizedProps,dt=g!==null?g.memoizedProps:ct,ht=s.type,pt=s.updateQueue;if(s.updateQueue=null,pt!==null)try{ht==="input"&&ct.type==="radio"&&ct.name!=null&&ab(ut,ct),vb(ht,dt);var mt=vb(ht,ct);for(dt=0;dt<pt.length;dt+=2){var vt=pt[dt],gt=pt[dt+1];vt==="style"?sb(ut,gt):vt==="dangerouslySetInnerHTML"?nb(ut,gt):vt==="children"?ob(ut,gt):ta(ut,vt,gt,mt)}switch(ht){case"input":bb(ut,ct);break;case"textarea":ib(ut,ct);break;case"select":var yt=ut._wrapperState.wasMultiple;ut._wrapperState.wasMultiple=!!ct.multiple;var bt=ct.value;bt!=null?fb(ut,!!ct.multiple,bt,!1):yt!==!!ct.multiple&&(ct.defaultValue!=null?fb(ut,!!ct.multiple,ct.defaultValue,!0):fb(ut,!!ct.multiple,ct.multiple?[]:"",!1))}ut[Pf]=ct}catch(Et){W$1(s,s.return,Et)}}break;case 6:if(dk(h,s),fk(s),it&4){if(s.stateNode===null)throw Error(p$1(162));ut=s.stateNode,ct=s.memoizedProps;try{ut.nodeValue=ct}catch(Et){W$1(s,s.return,Et)}}break;case 3:if(dk(h,s),fk(s),it&4&&g!==null&&g.memoizedState.isDehydrated)try{bd(h.containerInfo)}catch(Et){W$1(s,s.return,Et)}break;case 4:dk(h,s),fk(s);break;case 13:dk(h,s),fk(s),ut=s.child,ut.flags&8192&&(ct=ut.memoizedState!==null,ut.stateNode.isHidden=ct,!ct||ut.alternate!==null&&ut.alternate.memoizedState!==null||(gk=B$1())),it&4&&bk(s);break;case 22:if(vt=g!==null&&g.memoizedState!==null,s.mode&1?(U$1=(mt=U$1)||vt,dk(h,s),U$1=mt):dk(h,s),fk(s),it&8192){if(mt=s.memoizedState!==null,(s.stateNode.isHidden=mt)&&!vt&&s.mode&1)for(V$1=s,vt=s.child;vt!==null;){for(gt=V$1=vt;V$1!==null;){switch(yt=V$1,bt=yt.child,yt.tag){case 0:case 11:case 14:case 15:Qj(4,yt,yt.return);break;case 1:Mj(yt,yt.return);var wt=yt.stateNode;if(typeof wt.componentWillUnmount=="function"){it=yt,g=yt.return;try{h=it,wt.props=h.memoizedProps,wt.state=h.memoizedState,wt.componentWillUnmount()}catch(Et){W$1(it,g,Et)}}break;case 5:Mj(yt,yt.return);break;case 22:if(yt.memoizedState!==null){hk(gt);continue}}bt!==null?(bt.return=yt,V$1=bt):hk(gt)}vt=vt.sibling}e:for(vt=null,gt=s;;){if(gt.tag===5){if(vt===null){vt=gt;try{ut=gt.stateNode,mt?(ct=ut.style,typeof ct.setProperty=="function"?ct.setProperty("display","none","important"):ct.display="none"):(ht=gt.stateNode,pt=gt.memoizedProps.style,dt=pt!=null&&pt.hasOwnProperty("display")?pt.display:null,ht.style.display=rb("display",dt))}catch(Et){W$1(s,s.return,Et)}}}else if(gt.tag===6){if(vt===null)try{gt.stateNode.nodeValue=mt?"":gt.memoizedProps}catch(Et){W$1(s,s.return,Et)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===s)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===s)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===s)break e;vt===gt&&(vt=null),gt=gt.return}vt===gt&&(vt=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:dk(h,s),fk(s),it&4&&bk(s);break;case 21:break;default:dk(h,s),fk(s)}}function fk(s){var h=s.flags;if(h&2){try{e:{for(var g=s.return;g!==null;){if(Uj(g)){var it=g;break e}g=g.return}throw Error(p$1(160))}switch(it.tag){case 5:var ut=it.stateNode;it.flags&32&&(ob(ut,""),it.flags&=-33);var ct=Vj(s);Xj(s,ct,ut);break;case 3:case 4:var dt=it.stateNode.containerInfo,ht=Vj(s);Wj(s,ht,dt);break;default:throw Error(p$1(161))}}catch(pt){W$1(s,s.return,pt)}s.flags&=-3}h&4096&&(s.flags&=-4097)}function ik(s,h,g){V$1=s,jk(s)}function jk(s,h,g){for(var it=(s.mode&1)!==0;V$1!==null;){var ut=V$1,ct=ut.child;if(ut.tag===22&&it){var dt=ut.memoizedState!==null||Kj;if(!dt){var ht=ut.alternate,pt=ht!==null&&ht.memoizedState!==null||U$1;ht=Kj;var mt=U$1;if(Kj=dt,(U$1=pt)&&!mt)for(V$1=ut;V$1!==null;)dt=V$1,pt=dt.child,dt.tag===22&&dt.memoizedState!==null?kk(ut):pt!==null?(pt.return=dt,V$1=pt):kk(ut);for(;ct!==null;)V$1=ct,jk(ct),ct=ct.sibling;V$1=ut,Kj=ht,U$1=mt}lk(s)}else ut.subtreeFlags&8772&&ct!==null?(ct.return=ut,V$1=ct):lk(s)}}function lk(s){for(;V$1!==null;){var h=V$1;if(h.flags&8772){var g=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:U$1||Rj(5,h);break;case 1:var it=h.stateNode;if(h.flags&4&&!U$1)if(g===null)it.componentDidMount();else{var ut=h.elementType===h.type?g.memoizedProps:Lg(h.type,g.memoizedProps);it.componentDidUpdate(ut,g.memoizedState,it.__reactInternalSnapshotBeforeUpdate)}var ct=h.updateQueue;ct!==null&&ih(h,ct,it);break;case 3:var dt=h.updateQueue;if(dt!==null){if(g=null,h.child!==null)switch(h.child.tag){case 5:g=h.child.stateNode;break;case 1:g=h.child.stateNode}ih(h,dt,g)}break;case 5:var ht=h.stateNode;if(g===null&&h.flags&4){g=ht;var pt=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":pt.autoFocus&&g.focus();break;case"img":pt.src&&(g.src=pt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var mt=h.alternate;if(mt!==null){var vt=mt.memoizedState;if(vt!==null){var gt=vt.dehydrated;gt!==null&&bd(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U$1||h.flags&512&&Sj(h)}catch(yt){W$1(h,h.return,yt)}}if(h===s){V$1=null;break}if(g=h.sibling,g!==null){g.return=h.return,V$1=g;break}V$1=h.return}}function hk(s){for(;V$1!==null;){var h=V$1;if(h===s){V$1=null;break}var g=h.sibling;if(g!==null){g.return=h.return,V$1=g;break}V$1=h.return}}function kk(s){for(;V$1!==null;){var h=V$1;try{switch(h.tag){case 0:case 11:case 15:var g=h.return;try{Rj(4,h)}catch(pt){W$1(h,g,pt)}break;case 1:var it=h.stateNode;if(typeof it.componentDidMount=="function"){var ut=h.return;try{it.componentDidMount()}catch(pt){W$1(h,ut,pt)}}var ct=h.return;try{Sj(h)}catch(pt){W$1(h,ct,pt)}break;case 5:var dt=h.return;try{Sj(h)}catch(pt){W$1(h,dt,pt)}}}catch(pt){W$1(h,h.return,pt)}if(h===s){V$1=null;break}var ht=h.sibling;if(ht!==null){ht.return=h.return,V$1=ht;break}V$1=h.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok$1=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R$1=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K$1&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(s){return s.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(s=C$1,s!==0||(s=window.event,s=s===void 0?16:jd(s.type)),s):1}function mh(s,h,g,it){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac(s,g,it),(!(K$1&2)||s!==R$1)&&(s===R$1&&(!(K$1&2)&&(rk|=g),T$1===4&&Dk(s,Z$1)),Ek(s,it),g===1&&K$1===0&&!(h.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek(s,h){var g=s.callbackNode;wc(s,h);var it=uc(s,s===R$1?Z$1:0);if(it===0)g!==null&&bc(g),s.callbackNode=null,s.callbackPriority=0;else if(h=it&-it,s.callbackPriority!==h){if(g!=null&&bc(g),h===1)s.tag===0?ig(Fk.bind(null,s)):hg(Fk.bind(null,s)),Jf(function(){!(K$1&6)&&jg()}),g=null;else{switch(Dc(it)){case 1:g=fc;break;case 4:g=gc;break;case 16:g=hc;break;case 536870912:g=jc;break;default:g=hc}g=Gk(g,Hk.bind(null,s))}s.callbackPriority=h,s.callbackNode=g}}function Hk(s,h){if(Bk=-1,Ck=0,K$1&6)throw Error(p$1(327));var g=s.callbackNode;if(Ik()&&s.callbackNode!==g)return null;var it=uc(s,s===R$1?Z$1:0);if(it===0)return null;if(it&30||it&s.expiredLanes||h)h=Jk(s,it);else{h=it;var ut=K$1;K$1|=2;var ct=Kk();(R$1!==s||Z$1!==h)&&(vk=null,Hj=B$1()+500,Lk(s,h));do try{Mk();break}catch(ht){Nk(s,ht)}while(1);Qg(),nk.current=ct,K$1=ut,Y$1!==null?h=0:(R$1=null,Z$1=0,h=T$1)}if(h!==0){if(h===2&&(ut=xc(s),ut!==0&&(it=ut,h=Ok(s,ut))),h===1)throw g=qk,Lk(s,0),Dk(s,it),Ek(s,B$1()),g;if(h===6)Dk(s,it);else{if(ut=s.current.alternate,!(it&30)&&!Pk(ut)&&(h=Jk(s,it),h===2&&(ct=xc(s),ct!==0&&(it=ct,h=Ok(s,ct))),h===1))throw g=qk,Lk(s,0),Dk(s,it),Ek(s,B$1()),g;switch(s.finishedWork=ut,s.finishedLanes=it,h){case 0:case 1:throw Error(p$1(345));case 2:Qk(s,uk,vk);break;case 3:if(Dk(s,it),(it&130023424)===it&&(h=gk+500-B$1(),10<h)){if(uc(s,0)!==0)break;if(ut=s.suspendedLanes,(ut&it)!==it){L$1(),s.pingedLanes|=s.suspendedLanes&ut;break}s.timeoutHandle=Ff(Qk.bind(null,s,uk,vk),h);break}Qk(s,uk,vk);break;case 4:if(Dk(s,it),(it&4194240)===it)break;for(h=s.eventTimes,ut=-1;0<it;){var dt=31-oc(it);ct=1<<dt,dt=h[dt],dt>ut&&(ut=dt),it&=~ct}if(it=ut,it=B$1()-it,it=(120>it?120:480>it?480:1080>it?1080:1920>it?1920:3e3>it?3e3:4320>it?4320:1960*mk(it/1960))-it,10<it){s.timeoutHandle=Ff(Qk.bind(null,s,uk,vk),it);break}Qk(s,uk,vk);break;case 5:Qk(s,uk,vk);break;default:throw Error(p$1(329))}}}return Ek(s,B$1()),s.callbackNode===g?Hk.bind(null,s):null}function Ok(s,h){var g=tk;return s.current.memoizedState.isDehydrated&&(Lk(s,h).flags|=256),s=Jk(s,h),s!==2&&(h=uk,uk=g,h!==null&&Gj(h)),s}function Gj(s){uk===null?uk=s:uk.push.apply(uk,s)}function Pk(s){for(var h=s;;){if(h.flags&16384){var g=h.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var it=0;it<g.length;it++){var ut=g[it],ct=ut.getSnapshot;ut=ut.value;try{if(!He$1(ct(),ut))return!1}catch{return!1}}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Dk(s,h){for(h&=~sk,h&=~rk,s.suspendedLanes|=h,s.pingedLanes&=~h,s=s.expirationTimes;0<h;){var g=31-oc(h),it=1<<g;s[g]=-1,h&=~it}}function Fk(s){if(K$1&6)throw Error(p$1(327));Ik();var h=uc(s,0);if(!(h&1))return Ek(s,B$1()),null;var g=Jk(s,h);if(s.tag!==0&&g===2){var it=xc(s);it!==0&&(h=it,g=Ok(s,it))}if(g===1)throw g=qk,Lk(s,0),Dk(s,h),Ek(s,B$1()),g;if(g===6)throw Error(p$1(345));return s.finishedWork=s.current.alternate,s.finishedLanes=h,Qk(s,uk,vk),Ek(s,B$1()),null}function Rk(s,h){var g=K$1;K$1|=1;try{return s(h)}finally{K$1=g,K$1===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(s){xk!==null&&xk.tag===0&&!(K$1&6)&&Ik();var h=K$1;K$1|=1;var g=pk.transition,it=C$1;try{if(pk.transition=null,C$1=1,s)return s()}finally{C$1=it,pk.transition=g,K$1=h,!(K$1&6)&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(s,h){s.finishedWork=null,s.finishedLanes=0;var g=s.timeoutHandle;if(g!==-1&&(s.timeoutHandle=-1,Gf(g)),Y$1!==null)for(g=Y$1.return;g!==null;){var it=g;switch(wg(it),it.tag){case 1:it=it.type.childContextTypes,it!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(it);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(it.type._context);break;case 22:case 23:Ij()}g=g.return}if(R$1=s,Y$1=s=wh(s.current,null),Z$1=gj=h,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(h=0;h<Wg.length;h++)if(g=Wg[h],it=g.interleaved,it!==null){g.interleaved=null;var ut=it.next,ct=g.pending;if(ct!==null){var dt=ct.next;ct.next=ut,it.next=dt}g.pending=it}Wg=null}return s}function Nk(s,h){do{var g=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var it=N$1.memoizedState;it!==null;){var ut=it.queue;ut!==null&&(ut.pending=null),it=it.next}Sh=!1}if(Rh=0,P$3=O$1=N$1=null,Th=!1,Uh=0,ok$1.current=null,g===null||g.return===null){T$1=1,qk=h,Y$1=null;break}e:{var ct=s,dt=g.return,ht=g,pt=h;if(h=Z$1,ht.flags|=32768,pt!==null&&typeof pt=="object"&&typeof pt.then=="function"){var mt=pt,vt=ht,gt=vt.tag;if(!(vt.mode&1)&&(gt===0||gt===11||gt===15)){var yt=vt.alternate;yt?(vt.updateQueue=yt.updateQueue,vt.memoizedState=yt.memoizedState,vt.lanes=yt.lanes):(vt.updateQueue=null,vt.memoizedState=null)}var bt=Vi(dt);if(bt!==null){bt.flags&=-257,Wi(bt,dt,ht,ct,h),bt.mode&1&&Ti(ct,mt,h),h=bt,pt=mt;var wt=h.updateQueue;if(wt===null){var Et=new Set;Et.add(pt),h.updateQueue=Et}else wt.add(pt);break e}else{if(!(h&1)){Ti(ct,mt,h),uj();break e}pt=Error(p$1(426))}}else if(I$1&&ht.mode&1){var Mt=Vi(dt);if(Mt!==null){!(Mt.flags&65536)&&(Mt.flags|=256),Wi(Mt,dt,ht,ct,h),Jg(Ki(pt,ht));break e}}ct=pt=Ki(pt,ht),T$1!==4&&(T$1=2),tk===null?tk=[ct]:tk.push(ct),ct=dt;do{switch(ct.tag){case 3:ct.flags|=65536,h&=-h,ct.lanes|=h;var Dt=Oi(ct,pt,h);fh(ct,Dt);break e;case 1:ht=pt;var $t=ct.type,_t=ct.stateNode;if(!(ct.flags&128)&&(typeof $t.getDerivedStateFromError=="function"||_t!==null&&typeof _t.componentDidCatch=="function"&&(Si===null||!Si.has(_t)))){ct.flags|=65536,h&=-h,ct.lanes|=h;var Nt=Ri(ct,ht,h);fh(ct,Nt);break e}}ct=ct.return}while(ct!==null)}Tk(g)}catch(kt){h=kt,Y$1===g&&g!==null&&(Y$1=g=g.return);continue}break}while(1)}function Kk(){var s=nk.current;return nk.current=ai,s===null?ai:s}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z$1)}function Jk(s,h){var g=K$1;K$1|=2;var it=Kk();(R$1!==s||Z$1!==h)&&(vk=null,Lk(s,h));do try{Uk();break}catch(ut){Nk(s,ut)}while(1);if(Qg(),K$1=g,nk.current=it,Y$1!==null)throw Error(p$1(261));return R$1=null,Z$1=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(s){var h=Wk(s.alternate,s,gj);s.memoizedProps=s.pendingProps,h===null?Tk(s):Y$1=h,ok$1.current=null}function Tk(s){var h=s;do{var g=h.alternate;if(s=h.return,h.flags&32768){if(g=Jj(g,h),g!==null){g.flags&=32767,Y$1=g;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{T$1=6,Y$1=null;return}}else if(g=Fj(g,h,gj),g!==null){Y$1=g;return}if(h=h.sibling,h!==null){Y$1=h;return}Y$1=h=s}while(h!==null);T$1===0&&(T$1=5)}function Qk(s,h,g){var it=C$1,ut=pk.transition;try{pk.transition=null,C$1=1,Xk(s,h,g,it)}finally{pk.transition=ut,C$1=it}return null}function Xk(s,h,g,it){do Ik();while(xk!==null);if(K$1&6)throw Error(p$1(327));g=s.finishedWork;var ut=s.finishedLanes;if(g===null)return null;if(s.finishedWork=null,s.finishedLanes=0,g===s.current)throw Error(p$1(177));s.callbackNode=null,s.callbackPriority=0;var ct=g.lanes|g.childLanes;if(Bc(s,ct),s===R$1&&(Y$1=R$1=null,Z$1=0),!(g.subtreeFlags&2064)&&!(g.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),ct=(g.flags&15990)!==0,g.subtreeFlags&15990||ct){ct=pk.transition,pk.transition=null;var dt=C$1;C$1=1;var ht=K$1;K$1|=4,ok$1.current=null,Pj(s,g),ek(g,s),Oe$1(Df),dd=!!Cf,Df=Cf=null,s.current=g,ik(g),dc(),K$1=ht,C$1=dt,pk.transition=ct}else s.current=g;if(wk&&(wk=!1,xk=s,yk=ut),ct=s.pendingLanes,ct===0&&(Si=null),mc(g.stateNode),Ek(s,B$1()),h!==null)for(it=s.onRecoverableError,g=0;g<h.length;g++)ut=h[g],it(ut.value,{componentStack:ut.stack,digest:ut.digest});if(Pi)throw Pi=!1,s=Qi,Qi=null,s;return yk&1&&s.tag!==0&&Ik(),ct=s.pendingLanes,ct&1?s===Ak?zk++:(zk=0,Ak=s):zk=0,jg(),null}function Ik(){if(xk!==null){var s=Dc(yk),h=pk.transition,g=C$1;try{if(pk.transition=null,C$1=16>s?16:s,xk===null)var it=!1;else{if(s=xk,xk=null,yk=0,K$1&6)throw Error(p$1(331));var ut=K$1;for(K$1|=4,V$1=s.current;V$1!==null;){var ct=V$1,dt=ct.child;if(V$1.flags&16){var ht=ct.deletions;if(ht!==null){for(var pt=0;pt<ht.length;pt++){var mt=ht[pt];for(V$1=mt;V$1!==null;){var vt=V$1;switch(vt.tag){case 0:case 11:case 15:Qj(8,vt,ct)}var gt=vt.child;if(gt!==null)gt.return=vt,V$1=gt;else for(;V$1!==null;){vt=V$1;var yt=vt.sibling,bt=vt.return;if(Tj(vt),vt===mt){V$1=null;break}if(yt!==null){yt.return=bt,V$1=yt;break}V$1=bt}}}var wt=ct.alternate;if(wt!==null){var Et=wt.child;if(Et!==null){wt.child=null;do{var Mt=Et.sibling;Et.sibling=null,Et=Mt}while(Et!==null)}}V$1=ct}}if(ct.subtreeFlags&2064&&dt!==null)dt.return=ct,V$1=dt;else e:for(;V$1!==null;){if(ct=V$1,ct.flags&2048)switch(ct.tag){case 0:case 11:case 15:Qj(9,ct,ct.return)}var Dt=ct.sibling;if(Dt!==null){Dt.return=ct.return,V$1=Dt;break e}V$1=ct.return}}var $t=s.current;for(V$1=$t;V$1!==null;){dt=V$1;var _t=dt.child;if(dt.subtreeFlags&2064&&_t!==null)_t.return=dt,V$1=_t;else e:for(dt=$t;V$1!==null;){if(ht=V$1,ht.flags&2048)try{switch(ht.tag){case 0:case 11:case 15:Rj(9,ht)}}catch(kt){W$1(ht,ht.return,kt)}if(ht===dt){V$1=null;break e}var Nt=ht.sibling;if(Nt!==null){Nt.return=ht.return,V$1=Nt;break e}V$1=ht.return}}if(K$1=ut,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,s)}catch{}it=!0}return it}finally{C$1=g,pk.transition=h}}return!1}function Yk(s,h,g){h=Ki(g,h),h=Oi(s,h,1),s=dh(s,h,1),h=L$1(),s!==null&&(Ac(s,1,h),Ek(s,h))}function W$1(s,h,g){if(s.tag===3)Yk(s,s,g);else for(;h!==null;){if(h.tag===3){Yk(h,s,g);break}else if(h.tag===1){var it=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof it.componentDidCatch=="function"&&(Si===null||!Si.has(it))){s=Ki(g,s),s=Ri(h,s,1),h=dh(h,s,1),s=L$1(),h!==null&&(Ac(h,1,s),Ek(h,s));break}}h=h.return}}function Ui(s,h,g){var it=s.pingCache;it!==null&&it.delete(h),h=L$1(),s.pingedLanes|=s.suspendedLanes&g,R$1===s&&(Z$1&g)===g&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk(s,0):sk|=g),Ek(s,h)}function Zk(s,h){h===0&&(s.mode&1?(h=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):h=1);var g=L$1();s=Zg(s,h),s!==null&&(Ac(s,h,g),Ek(s,g))}function vj(s){var h=s.memoizedState,g=0;h!==null&&(g=h.retryLane),Zk(s,g)}function ck(s,h){var g=0;switch(s.tag){case 13:var it=s.stateNode,ut=s.memoizedState;ut!==null&&(g=ut.retryLane);break;case 19:it=s.stateNode;break;default:throw Error(p$1(314))}it!==null&&it.delete(h),Zk(s,g)}var Wk;Wk=function(s,h,g){if(s!==null)if(s.memoizedProps!==h.pendingProps||Wf.current)Ug=!0;else{if(!(s.lanes&g)&&!(h.flags&128))return Ug=!1,zj(s,h,g);Ug=!!(s.flags&131072)}else Ug=!1,I$1&&h.flags&1048576&&ug(h,ng,h.index);switch(h.lanes=0,h.tag){case 2:var it=h.type;jj(s,h),s=h.pendingProps;var ut=Yf(h,H$1.current);Tg(h,g),ut=Xh(null,h,it,s,ut,g);var ct=bi();return h.flags|=1,typeof ut=="object"&&ut!==null&&typeof ut.render=="function"&&ut.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Zf(it)?(ct=!0,cg(h)):ct=!1,h.memoizedState=ut.state!==null&&ut.state!==void 0?ut.state:null,ah(h),ut.updater=nh,h.stateNode=ut,ut._reactInternals=h,rh(h,it,s,g),h=kj(null,h,it,!0,ct,g)):(h.tag=0,I$1&&ct&&vg(h),Yi(null,h,ut,g),h=h.child),h;case 16:it=h.elementType;e:{switch(jj(s,h),s=h.pendingProps,ut=it._init,it=ut(it._payload),h.type=it,ut=h.tag=$k(it),s=Lg(it,s),ut){case 0:h=dj(null,h,it,s,g);break e;case 1:h=ij(null,h,it,s,g);break e;case 11:h=Zi(null,h,it,s,g);break e;case 14:h=aj(null,h,it,Lg(it.type,s),g);break e}throw Error(p$1(306,it,""))}return h;case 0:return it=h.type,ut=h.pendingProps,ut=h.elementType===it?ut:Lg(it,ut),dj(s,h,it,ut,g);case 1:return it=h.type,ut=h.pendingProps,ut=h.elementType===it?ut:Lg(it,ut),ij(s,h,it,ut,g);case 3:e:{if(lj(h),s===null)throw Error(p$1(387));it=h.pendingProps,ct=h.memoizedState,ut=ct.element,bh(s,h),gh(h,it,null,g);var dt=h.memoizedState;if(it=dt.element,ct.isDehydrated)if(ct={element:it,isDehydrated:!1,cache:dt.cache,pendingSuspenseBoundaries:dt.pendingSuspenseBoundaries,transitions:dt.transitions},h.updateQueue.baseState=ct,h.memoizedState=ct,h.flags&256){ut=Ki(Error(p$1(423)),h),h=mj(s,h,it,g,ut);break e}else if(it!==ut){ut=Ki(Error(p$1(424)),h),h=mj(s,h,it,g,ut);break e}else for(yg=Lf(h.stateNode.containerInfo.firstChild),xg=h,I$1=!0,zg=null,g=Ch(h,null,it,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Ig(),it===ut){h=$i(s,h,g);break e}Yi(s,h,it,g)}h=h.child}return h;case 5:return Kh(h),s===null&&Eg(h),it=h.type,ut=h.pendingProps,ct=s!==null?s.memoizedProps:null,dt=ut.children,Ef(it,ut)?dt=null:ct!==null&&Ef(it,ct)&&(h.flags|=32),hj(s,h),Yi(s,h,dt,g),h.child;case 6:return s===null&&Eg(h),null;case 13:return pj(s,h,g);case 4:return Ih(h,h.stateNode.containerInfo),it=h.pendingProps,s===null?h.child=Bh(h,null,it,g):Yi(s,h,it,g),h.child;case 11:return it=h.type,ut=h.pendingProps,ut=h.elementType===it?ut:Lg(it,ut),Zi(s,h,it,ut,g);case 7:return Yi(s,h,h.pendingProps,g),h.child;case 8:return Yi(s,h,h.pendingProps.children,g),h.child;case 12:return Yi(s,h,h.pendingProps.children,g),h.child;case 10:e:{if(it=h.type._context,ut=h.pendingProps,ct=h.memoizedProps,dt=ut.value,G$1(Mg,it._currentValue),it._currentValue=dt,ct!==null)if(He$1(ct.value,dt)){if(ct.children===ut.children&&!Wf.current){h=$i(s,h,g);break e}}else for(ct=h.child,ct!==null&&(ct.return=h);ct!==null;){var ht=ct.dependencies;if(ht!==null){dt=ct.child;for(var pt=ht.firstContext;pt!==null;){if(pt.context===it){if(ct.tag===1){pt=ch(-1,g&-g),pt.tag=2;var mt=ct.updateQueue;if(mt!==null){mt=mt.shared;var vt=mt.pending;vt===null?pt.next=pt:(pt.next=vt.next,vt.next=pt),mt.pending=pt}}ct.lanes|=g,pt=ct.alternate,pt!==null&&(pt.lanes|=g),Sg(ct.return,g,h),ht.lanes|=g;break}pt=pt.next}}else if(ct.tag===10)dt=ct.type===h.type?null:ct.child;else if(ct.tag===18){if(dt=ct.return,dt===null)throw Error(p$1(341));dt.lanes|=g,ht=dt.alternate,ht!==null&&(ht.lanes|=g),Sg(dt,g,h),dt=ct.sibling}else dt=ct.child;if(dt!==null)dt.return=ct;else for(dt=ct;dt!==null;){if(dt===h){dt=null;break}if(ct=dt.sibling,ct!==null){ct.return=dt.return,dt=ct;break}dt=dt.return}ct=dt}Yi(s,h,ut.children,g),h=h.child}return h;case 9:return ut=h.type,it=h.pendingProps.children,Tg(h,g),ut=Vg(ut),it=it(ut),h.flags|=1,Yi(s,h,it,g),h.child;case 14:return it=h.type,ut=Lg(it,h.pendingProps),ut=Lg(it.type,ut),aj(s,h,it,ut,g);case 15:return cj(s,h,h.type,h.pendingProps,g);case 17:return it=h.type,ut=h.pendingProps,ut=h.elementType===it?ut:Lg(it,ut),jj(s,h),h.tag=1,Zf(it)?(s=!0,cg(h)):s=!1,Tg(h,g),ph(h,it,ut),rh(h,it,ut,g),kj(null,h,it,!0,s,g);case 19:return yj(s,h,g);case 22:return ej(s,h,g)}throw Error(p$1(156,h.tag))};function Gk(s,h){return ac(s,h)}function al(s,h,g,it){this.tag=s,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=it,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(s,h,g,it){return new al(s,h,g,it)}function bj(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $k(s){if(typeof s=="function")return bj(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Da)return 11;if(s===Ga)return 14}return 2}function wh(s,h){var g=s.alternate;return g===null?(g=Bg(s.tag,h,s.key,s.mode),g.elementType=s.elementType,g.type=s.type,g.stateNode=s.stateNode,g.alternate=s,s.alternate=g):(g.pendingProps=h,g.type=s.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=s.flags&14680064,g.childLanes=s.childLanes,g.lanes=s.lanes,g.child=s.child,g.memoizedProps=s.memoizedProps,g.memoizedState=s.memoizedState,g.updateQueue=s.updateQueue,h=s.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=s.sibling,g.index=s.index,g.ref=s.ref,g}function yh(s,h,g,it,ut,ct){var dt=2;if(it=s,typeof s=="function")bj(s)&&(dt=1);else if(typeof s=="string")dt=5;else e:switch(s){case ya:return Ah(g.children,ut,ct,h);case za:dt=8,ut|=8;break;case Aa:return s=Bg(12,g,h,ut|2),s.elementType=Aa,s.lanes=ct,s;case Ea:return s=Bg(13,g,h,ut),s.elementType=Ea,s.lanes=ct,s;case Fa:return s=Bg(19,g,h,ut),s.elementType=Fa,s.lanes=ct,s;case Ia:return qj(g,ut,ct,h);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ba:dt=10;break e;case Ca:dt=9;break e;case Da:dt=11;break e;case Ga:dt=14;break e;case Ha:dt=16,it=null;break e}throw Error(p$1(130,s==null?s:typeof s,""))}return h=Bg(dt,g,h,ut),h.elementType=s,h.type=it,h.lanes=ct,h}function Ah(s,h,g,it){return s=Bg(7,s,it,h),s.lanes=g,s}function qj(s,h,g,it){return s=Bg(22,s,it,h),s.elementType=Ia,s.lanes=g,s.stateNode={isHidden:!1},s}function xh(s,h,g){return s=Bg(6,s,null,h),s.lanes=g,s}function zh(s,h,g){return h=Bg(4,s.children!==null?s.children:[],s.key,h),h.lanes=g,h.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},h}function bl(s,h,g,it,ut){this.tag=h,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=it,this.onRecoverableError=ut,this.mutableSourceEagerHydrationData=null}function cl(s,h,g,it,ut,ct,dt,ht,pt){return s=new bl(s,h,g,ht,pt),h===1?(h=1,ct===!0&&(h|=8)):h=0,ct=Bg(3,null,null,h),s.current=ct,ct.stateNode=s,ct.memoizedState={element:it,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(ct),s}function dl(s,h,g){var it=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:it==null?null:""+it,children:s,containerInfo:h,implementation:g}}function el(s){if(!s)return Vf;s=s._reactInternals;e:{if(Vb(s)!==s||s.tag!==1)throw Error(p$1(170));var h=s;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Zf(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(p$1(171))}if(s.tag===1){var g=s.type;if(Zf(g))return bg(s,g,h)}return h}function fl(s,h,g,it,ut,ct,dt,ht,pt){return s=cl(g,it,!0,s,ut,ct,dt,ht,pt),s.context=el(null),g=s.current,it=L$1(),ut=lh(g),ct=ch(it,ut),ct.callback=h??null,dh(g,ct,ut),s.current.lanes=ut,Ac(s,ut,it),Ek(s,it),s}function gl(s,h,g,it){var ut=h.current,ct=L$1(),dt=lh(ut);return g=el(g),h.context===null?h.context=g:h.pendingContext=g,h=ch(ct,dt),h.payload={element:s},it=it===void 0?null:it,it!==null&&(h.callback=it),s=dh(ut,h,dt),s!==null&&(mh(s,ut,dt,ct),eh(s,ut,dt)),dt}function hl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function il(s,h){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var g=s.retryLane;s.retryLane=g!==0&&g<h?g:h}}function jl(s,h){il(s,h),(s=s.alternate)&&il(s,h)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(s){console.error(s)};function ml(s){this._internalRoot=s}nl.prototype.render=ml.prototype.render=function(s){var h=this._internalRoot;if(h===null)throw Error(p$1(409));gl(s,h,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var h=s.containerInfo;Sk(function(){gl(null,s,null,null)}),h[uf]=null}};function nl(s){this._internalRoot=s}nl.prototype.unstable_scheduleHydration=function(s){if(s){var h=Hc();s={blockedOn:null,target:s,priority:h};for(var g=0;g<Qc.length&&h!==0&&h<Qc[g].priority;g++);Qc.splice(g,0,s),g===0&&Vc(s)}};function ol(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function pl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(s,h,g,it,ut){if(ut){if(typeof it=="function"){var ct=it;it=function(){var mt=hl(dt);ct.call(mt)}}var dt=fl(h,it,s,0,null,!1,!1,"",ql);return s._reactRootContainer=dt,s[uf]=dt.current,sf(s.nodeType===8?s.parentNode:s),Sk(),dt}for(;ut=s.lastChild;)s.removeChild(ut);if(typeof it=="function"){var ht=it;it=function(){var mt=hl(pt);ht.call(mt)}}var pt=cl(s,0,!1,null,null,!1,!1,"",ql);return s._reactRootContainer=pt,s[uf]=pt.current,sf(s.nodeType===8?s.parentNode:s),Sk(function(){gl(h,pt,g,it)}),pt}function sl(s,h,g,it,ut){var ct=g._reactRootContainer;if(ct){var dt=ct;if(typeof ut=="function"){var ht=ut;ut=function(){var pt=hl(dt);ht.call(pt)}}gl(h,dt,s,ut)}else dt=rl(g,h,s,ut,it);return hl(dt)}Ec=function(s){switch(s.tag){case 3:var h=s.stateNode;if(h.current.memoizedState.isDehydrated){var g=tc(h.pendingLanes);g!==0&&(Cc(h,g|1),Ek(h,B$1()),!(K$1&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var it=Zg(s,1);if(it!==null){var ut=L$1();mh(it,s,1,ut)}}),jl(s,1)}};Fc=function(s){if(s.tag===13){var h=Zg(s,134217728);if(h!==null){var g=L$1();mh(h,s,134217728,g)}jl(s,134217728)}};Gc=function(s){if(s.tag===13){var h=lh(s),g=Zg(s,h);if(g!==null){var it=L$1();mh(g,s,h,it)}jl(s,h)}};Hc=function(){return C$1};Ic=function(s,h){var g=C$1;try{return C$1=s,h()}finally{C$1=g}};yb=function(s,h,g){switch(h){case"input":if(bb(s,g),h=g.name,g.type==="radio"&&h!=null){for(g=s;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<g.length;h++){var it=g[h];if(it!==s&&it.form===s.form){var ut=Db(it);if(!ut)throw Error(p$1(90));Wa(it),bb(it,ut)}}}break;case"textarea":ib(s,g);break;case"select":h=g.value,h!=null&&fb(s,!!g.multiple,h,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Zb(s),s===null?null:s.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(s,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(h))throw Error(p$1(200));return dl(s,h,null,g)};reactDom_production_min.createRoot=function(s,h){if(!ol(s))throw Error(p$1(299));var g=!1,it="",ut=ll;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(it=h.identifierPrefix),h.onRecoverableError!==void 0&&(ut=h.onRecoverableError)),h=cl(s,1,!1,null,null,g,!1,it,ut),s[uf]=h.current,sf(s.nodeType===8?s.parentNode:s),new ml(h)};reactDom_production_min.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var h=s._reactInternals;if(h===void 0)throw typeof s.render=="function"?Error(p$1(188)):(s=Object.keys(s).join(","),Error(p$1(268,s)));return s=Zb(h),s=s===null?null:s.stateNode,s};reactDom_production_min.flushSync=function(s){return Sk(s)};reactDom_production_min.hydrate=function(s,h,g){if(!pl(h))throw Error(p$1(200));return sl(null,s,h,!0,g)};reactDom_production_min.hydrateRoot=function(s,h,g){if(!ol(s))throw Error(p$1(405));var it=g!=null&&g.hydratedSources||null,ut=!1,ct="",dt=ll;if(g!=null&&(g.unstable_strictMode===!0&&(ut=!0),g.identifierPrefix!==void 0&&(ct=g.identifierPrefix),g.onRecoverableError!==void 0&&(dt=g.onRecoverableError)),h=fl(h,null,s,1,g??null,ut,!1,ct,dt),s[uf]=h.current,sf(s),it)for(s=0;s<it.length;s++)g=it[s],ut=g._getVersion,ut=ut(g._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[g,ut]:h.mutableSourceEagerHydrationData.push(g,ut);return new nl(h)};reactDom_production_min.render=function(s,h,g){if(!pl(h))throw Error(p$1(200));return sl(null,s,h,!1,g)};reactDom_production_min.unmountComponentAtNode=function(s){if(!pl(s))throw Error(p$1(40));return s._reactRootContainer?(Sk(function(){sl(null,null,s,!1,function(){s._reactRootContainer=null,s[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(s,h,g,it){if(!pl(g))throw Error(p$1(200));if(s==null||s._reactInternals===void 0)throw Error(p$1(38));return sl(s,h,g,!1,it)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(s){console.error(s)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;const App$1="";var __assign$2=function(){return __assign$2=Object.assign||function(h){for(var g,it=1,ut=arguments.length;it<ut;it++){g=arguments[it];for(var ct in g)Object.prototype.hasOwnProperty.call(g,ct)&&(h[ct]=g[ct])}return h},__assign$2.apply(this,arguments)};function __spreadArray(s,h,g){if(g||arguments.length===2)for(var it=0,ut=h.length,ct;it<ut;it++)(ct||!(it in h))&&(ct||(ct=Array.prototype.slice.call(h,0,it)),ct[it]=h[it]);return s.concat(ct||Array.prototype.slice.call(h))}typeof SuppressedError=="function"&&SuppressedError;function memoize$1(s){var h=Object.create(null);return function(g){return h[g]===void 0&&(h[g]=s(g)),h[g]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(s){return reactPropsRegex.test(s)||s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)<91}),shallowequal=function(h,g,it,ut){var ct=it?it.call(ut,h,g):void 0;if(ct!==void 0)return!!ct;if(h===g)return!0;if(typeof h!="object"||!h||typeof g!="object"||!g)return!1;var dt=Object.keys(h),ht=Object.keys(g);if(dt.length!==ht.length)return!1;for(var pt=Object.prototype.hasOwnProperty.bind(g),mt=0;mt<dt.length;mt++){var vt=dt[mt];if(!pt(vt))return!1;var gt=h[vt],yt=g[vt];if(ct=it?it.call(ut,gt,yt,vt):void 0,ct===!1||ct===void 0&&gt!==yt)return!1}return!0};const p=getDefaultExportFromCjs(shallowequal);var MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs$2=Math.abs,from=String.fromCharCode,assign$1=Object.assign;function hash(s,h){return charat(s,0)^45?(((h<<2^charat(s,0))<<2^charat(s,1))<<2^charat(s,2))<<2^charat(s,3):0}function trim(s){return s.trim()}function match(s,h){return(s=h.exec(s))?s[0]:s}function replace(s,h,g){return s.replace(h,g)}function indexof(s,h){return s.indexOf(h)}function charat(s,h){return s.charCodeAt(h)|0}function substr(s,h,g){return s.slice(h,g)}function strlen(s){return s.length}function sizeof(s){return s.length}function append(s,h){return h.push(s),s}function combine(s,h){return s.map(h).join("")}function filter$2(s,h){return s.filter(function(g){return!match(g,h)})}var line=1,column$1=1,length=0,position=0,character=0,characters="";function node(s,h,g,it,ut,ct,dt,ht){return{value:s,root:h,parent:g,type:it,props:ut,children:ct,line,column:column$1,length:dt,return:"",siblings:ht}}function copy(s,h){return assign$1(node("",null,null,"",null,null,0,s.siblings),s,{length:-s.length},h)}function lift(s){for(;s.root;)s=copy(s.root,{children:[s]});append(s,s.siblings)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column$1--,character===10&&(column$1=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column$1++,character===10&&(column$1=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(s,h){return substr(characters,s,h)}function token(s){switch(s){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(s){return line=column$1=1,length=strlen(characters=s),position=0,[]}function dealloc(s){return characters="",s}function delimit(s){return trim(slice(position-1,delimiter(s===91?s+2:s===40?s+1:s)))}function whitespace(s){for(;(character=peek())&&character<33;)next();return token(s)>2||token(character)>3?"":" "}function escaping(s,h){for(;--h&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(s,caret()+(h<6&&peek()==32&&next()==32))}function delimiter(s){for(;next();)switch(character){case s:return position;case 34:case 39:s!==34&&s!==39&&delimiter(character);break;case 40:s===41&&delimiter(s);break;case 92:next();break}return position}function commenter(s,h){for(;next()&&s+character!==47+10;)if(s+character===42+42&&peek()===47)break;return"/*"+slice(h,position-1)+"*"+from(s===47?s:next())}function identifier(s){for(;!token(peek());)next();return slice(s,position)}function compile$1(s){return dealloc(parse$1("",null,null,null,[""],s=alloc(s),0,[0],s))}function parse$1(s,h,g,it,ut,ct,dt,ht,pt){for(var mt=0,vt=0,gt=dt,yt=0,bt=0,wt=0,Et=1,Mt=1,Dt=1,$t=0,_t="",Nt=ut,kt=ct,At=it,Bt=_t;Mt;)switch(wt=$t,$t=next()){case 40:if(wt!=108&&charat(Bt,gt-1)==58){indexof(Bt+=replace(delimit($t),"&","&\f"),"&\f")!=-1&&(Dt=-1);break}case 34:case 39:case 91:Bt+=delimit($t);break;case 9:case 10:case 13:case 32:Bt+=whitespace(wt);break;case 92:Bt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),h,g,pt),pt);break;default:Bt+="/"}break;case 123*Et:ht[mt++]=strlen(Bt)*Dt;case 125*Et:case 59:case 0:switch($t){case 0:case 125:Mt=0;case 59+vt:Dt==-1&&(Bt=replace(Bt,/\f/g,"")),bt>0&&strlen(Bt)-gt&&append(bt>32?declaration(Bt+";",it,g,gt-1,pt):declaration(replace(Bt," ","")+";",it,g,gt-2,pt),pt);break;case 59:Bt+=";";default:if(append(At=ruleset(Bt,h,g,mt,vt,ut,ht,_t,Nt=[],kt=[],gt,ct),ct),$t===123)if(vt===0)parse$1(Bt,h,At,At,Nt,ct,gt,ht,kt);else switch(yt===99&&charat(Bt,3)===110?100:yt){case 100:case 108:case 109:case 115:parse$1(s,At,At,it&&append(ruleset(s,At,At,0,0,ut,ht,_t,ut,Nt=[],gt,kt),kt),ut,kt,gt,ht,it?Nt:kt);break;default:parse$1(Bt,At,At,At,[""],kt,0,ht,kt)}}mt=vt=bt=0,Et=Dt=1,_t=Bt="",gt=dt;break;case 58:gt=1+strlen(Bt),bt=wt;default:if(Et<1){if($t==123)--Et;else if($t==125&&Et++==0&&prev()==125)continue}switch(Bt+=from($t),$t*Et){case 38:Dt=vt>0?1:(Bt+="\f",-1);break;case 44:ht[mt++]=(strlen(Bt)-1)*Dt,Dt=1;break;case 64:peek()===45&&(Bt+=delimit(next())),yt=peek(),vt=gt=strlen(_t=Bt+=identifier(caret())),$t++;break;case 45:wt===45&&strlen(Bt)==2&&(Et=0)}}return ct}function ruleset(s,h,g,it,ut,ct,dt,ht,pt,mt,vt,gt){for(var yt=ut-1,bt=ut===0?ct:[""],wt=sizeof(bt),Et=0,Mt=0,Dt=0;Et<it;++Et)for(var $t=0,_t=substr(s,yt+1,yt=abs$2(Mt=dt[Et])),Nt=s;$t<wt;++$t)(Nt=trim(Mt>0?bt[$t]+" "+_t:replace(_t,/&\f/g,bt[$t])))&&(pt[Dt++]=Nt);return node(s,h,g,ut===0?RULESET:ht,pt,mt,vt,gt)}function comment(s,h,g,it){return node(s,h,g,COMMENT,from(char()),substr(s,2,-2),0,it)}function declaration(s,h,g,it,ut){return node(s,h,g,DECLARATION,substr(s,0,it),substr(s,it+1,-1),it,ut)}function prefix(s,h,g){switch(hash(s,h)){case 5103:return WEBKIT+"print-"+s+s;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+s+s;case 4789:return MOZ+s+s;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+s+MOZ+s+MS+s+s;case 5936:switch(charat(s,h+11)){case 114:return WEBKIT+s+MS+replace(s,/[svh]\w+-[tblr]{2}/,"tb")+s;case 108:return WEBKIT+s+MS+replace(s,/[svh]\w+-[tblr]{2}/,"tb-rl")+s;case 45:return WEBKIT+s+MS+replace(s,/[svh]\w+-[tblr]{2}/,"lr")+s}case 6828:case 4268:case 2903:return WEBKIT+s+MS+s+s;case 6165:return WEBKIT+s+MS+"flex-"+s+s;case 5187:return WEBKIT+s+replace(s,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+s;case 5443:return WEBKIT+s+MS+"flex-item-"+replace(s,/flex-|-self/g,"")+(match(s,/flex-|baseline/)?"":MS+"grid-row-"+replace(s,/flex-|-self/g,""))+s;case 4675:return WEBKIT+s+MS+"flex-line-pack"+replace(s,/align-content|flex-|-self/g,"")+s;case 5548:return WEBKIT+s+MS+replace(s,"shrink","negative")+s;case 5292:return WEBKIT+s+MS+replace(s,"basis","preferred-size")+s;case 6060:return WEBKIT+"box-"+replace(s,"-grow","")+WEBKIT+s+MS+replace(s,"grow","positive")+s;case 4554:return WEBKIT+replace(s,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+s;case 6187:return replace(replace(replace(s,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),s,"")+s;case 5495:case 3959:return replace(s,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(s,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+s+s;case 4200:if(!match(s,/flex-|baseline/))return MS+"grid-column-align"+substr(s,h)+s;break;case 2592:case 3360:return MS+replace(s,"template-","")+s;case 4384:case 3616:return g&&g.some(function(it,ut){return h=ut,match(it.props,/grid-\w+-end/)})?~indexof(s+(g=g[h].value),"span")?s:MS+replace(s,"-start","")+s+MS+"grid-row-span:"+(~indexof(g,"span")?match(g,/\d+/):+match(g,/\d+/)-+match(s,/\d+/))+";":MS+replace(s,"-start","")+s;case 4896:case 4128:return g&&g.some(function(it){return match(it.props,/grid-\w+-start/)})?s:MS+replace(replace(s,"-end","-span"),"span ","")+s;case 4095:case 3583:case 4068:case 2532:return replace(s,/(.+)-inline(.+)/,WEBKIT+"$1$2")+s;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(s)-1-h>6)switch(charat(s,h+1)){case 109:if(charat(s,h+4)!==45)break;case 102:return replace(s,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(s,h+3)==108?"$3":"$2-$3"))+s;case 115:return~indexof(s,"stretch")?prefix(replace(s,"stretch","fill-available"),h,g)+s:s}break;case 5152:case 5920:return replace(s,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(it,ut,ct,dt,ht,pt,mt){return MS+ut+":"+ct+mt+(dt?MS+ut+"-span:"+(ht?pt:+pt-+ct)+mt:"")+s});case 4949:if(charat(s,h+6)===121)return replace(s,":",":"+WEBKIT)+s;break;case 6444:switch(charat(s,charat(s,14)===45?18:11)){case 120:return replace(s,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+WEBKIT+(charat(s,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+s;case 100:return replace(s,":",":"+MS)+s}break;case 5719:case 2647:case 2135:case 3927:case 2391:return replace(s,"scroll-","scroll-snap-")+s}return s}function serialize(s,h){for(var g="",it=0;it<s.length;it++)g+=h(s[it],it,s,h)||"";return g}function stringify$1(s,h,g,it){switch(s.type){case LAYER:if(s.children.length)break;case IMPORT:case DECLARATION:return s.return=s.return||s.value;case COMMENT:return"";case KEYFRAMES:return s.return=s.value+"{"+serialize(s.children,it)+"}";case RULESET:if(!strlen(s.value=s.props.join(",")))return""}return strlen(g=serialize(s.children,it))?s.return=s.value+"{"+g+"}":""}function middleware(s){var h=sizeof(s);return function(g,it,ut,ct){for(var dt="",ht=0;ht<h;ht++)dt+=s[ht](g,it,ut,ct)||"";return dt}}function rulesheet(s){return function(h){h.root||(h=h.return)&&s(h)}}function prefixer(s,h,g,it){if(s.length>-1&&!s.return)switch(s.type){case DECLARATION:s.return=prefix(s.value,s.length,g);return;case KEYFRAMES:return serialize([copy(s,{value:replace(s.value,"@","@"+WEBKIT)})],it);case RULESET:if(s.length)return combine(g=s.props,function(ut){switch(match(ut,it=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lift(copy(s,{props:[replace(ut,/:(read-\w+)/,":"+MOZ+"$1")]})),lift(copy(s,{props:[ut]})),assign$1(s,{props:filter$2(g,it)});break;case"::placeholder":lift(copy(s,{props:[replace(ut,/:(plac\w+)/,":"+WEBKIT+"input-$1")]})),lift(copy(s,{props:[replace(ut,/:(plac\w+)/,":"+MOZ+"$1")]})),lift(copy(s,{props:[replace(ut,/:(plac\w+)/,MS+"input-$1")]})),lift(copy(s,{props:[ut]})),assign$1(s,{props:filter$2(g,it)});break}return""})}}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},f=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",y$1=typeof window<"u"&&"HTMLElement"in window,v=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),E=Object.freeze([]),N=Object.freeze({});function P$2(s,h,g){return g===void 0&&(g=N),s.theme!==g.theme&&s.theme||h||g.theme}var _=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),C=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,I=/(^-|-$)/g;function A(s){return s.replace(C,"-").replace(I,"")}var O=/(a)(d)/gi,D=function(s){return String.fromCharCode(s+(s>25?39:97))};function R(s){var h,g="";for(h=Math.abs(s);h>52;h=h/52|0)g=D(h%52)+g;return(D(h%52)+g).replace(O,"$1-$2")}var T,k=function(s,h){for(var g=h.length;g;)s=33*s^h.charCodeAt(--g);return s},j=function(s){return k(5381,s)};function x$1(s){return R(j(s)>>>0)}function V(s){return s.displayName||s.name||"Component"}function M(s){return typeof s=="string"&&!0}var F=typeof Symbol=="function"&&Symbol.for,$=F?Symbol.for("react.memo"):60115,z=F?Symbol.for("react.forward_ref"):60112,B={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},L={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},G={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Y=((T={})[z]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},T[$]=G,T);function W(s){return("type"in(h=s)&&h.type.$$typeof)===$?G:"$$typeof"in s?Y[s.$$typeof]:B;var h}var q=Object.defineProperty,H=Object.getOwnPropertyNames,U=Object.getOwnPropertySymbols,J=Object.getOwnPropertyDescriptor,X=Object.getPrototypeOf,Z=Object.prototype;function K(s,h,g){if(typeof h!="string"){if(Z){var it=X(h);it&&it!==Z&&K(s,it,g)}var ut=H(h);U&&(ut=ut.concat(U(h)));for(var ct=W(s),dt=W(h),ht=0;ht<ut.length;++ht){var pt=ut[ht];if(!(pt in L||g&&g[pt]||dt&&pt in dt||ct&&pt in ct)){var mt=J(h,pt);try{q(s,pt,mt)}catch{}}}}return s}function Q$1(s){return typeof s=="function"}function ee(s){return typeof s=="object"&&"styledComponentId"in s}function te(s,h){return s&&h?"".concat(s," ").concat(h):s||h||""}function ne(s,h){if(s.length===0)return"";for(var g=s[0],it=1;it<s.length;it++)g+=h?h+s[it]:s[it];return g}function oe(s){return s!==null&&typeof s=="object"&&s.constructor.name===Object.name&&!("props"in s&&s.$$typeof)}function re$1(s,h,g){if(g===void 0&&(g=!1),!g&&!oe(s)&&!Array.isArray(s))return h;if(Array.isArray(h))for(var it=0;it<h.length;it++)s[it]=re$1(s[it],h[it]);else if(oe(h))for(var it in h)s[it]=re$1(s[it],h[it]);return s}function se(s,h){Object.defineProperty(s,"toString",{value:h})}function ce(s){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(s," for more information.").concat(h.length>0?" Args: ".concat(h.join(", ")):""))}var le=function(){function s(h){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=h}return s.prototype.indexOfGroup=function(h){for(var g=0,it=0;it<h;it++)g+=this.groupSizes[it];return g},s.prototype.insertRules=function(h,g){if(h>=this.groupSizes.length){for(var it=this.groupSizes,ut=it.length,ct=ut;h>=ct;)if((ct<<=1)<0)throw ce(16,"".concat(h));this.groupSizes=new Uint32Array(ct),this.groupSizes.set(it),this.length=ct;for(var dt=ut;dt<ct;dt++)this.groupSizes[dt]=0}for(var ht=this.indexOfGroup(h+1),pt=(dt=0,g.length);dt<pt;dt++)this.tag.insertRule(ht,g[dt])&&(this.groupSizes[h]++,ht++)},s.prototype.clearGroup=function(h){if(h<this.length){var g=this.groupSizes[h],it=this.indexOfGroup(h),ut=it+g;this.groupSizes[h]=0;for(var ct=it;ct<ut;ct++)this.tag.deleteRule(it)}},s.prototype.getGroup=function(h){var g="";if(h>=this.length||this.groupSizes[h]===0)return g;for(var it=this.groupSizes[h],ut=this.indexOfGroup(h),ct=ut+it,dt=ut;dt<ct;dt++)g+="".concat(this.tag.getRule(dt)).concat(`/*!sc*/
`);return g},s}(),ue=new Map,pe=new Map,de=1,he=function(s){if(ue.has(s))return ue.get(s);for(;pe.has(de);)de++;var h=de++;return ue.set(s,h),pe.set(h,s),h},fe=function(s,h){ue.set(s,h),pe.set(h,s)},me="style[".concat(f,"][").concat("data-styled-version",'="').concat("6.0.7",'"]'),ye=new RegExp("^".concat(f,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ve=function(s,h,g){for(var it,ut=g.split(","),ct=0,dt=ut.length;ct<dt;ct++)(it=ut[ct])&&s.registerName(h,it)},ge=function(s,h){for(var g,it=((g=h.textContent)!==null&&g!==void 0?g:"").split(`/*!sc*/
`),ut=[],ct=0,dt=it.length;ct<dt;ct++){var ht=it[ct].trim();if(ht){var pt=ht.match(ye);if(pt){var mt=0|parseInt(pt[1],10),vt=pt[2];mt!==0&&(fe(vt,mt),ve(s,vt,pt[3]),s.getTag().insertRules(mt,ut)),ut.length=0}else ut.push(ht)}}};function Se(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var we=function(s){var h=document.head,g=s||h,it=document.createElement("style"),ut=function(ht){var pt=Array.from(ht.querySelectorAll("style[".concat(f,"]")));return pt[pt.length-1]}(g),ct=ut!==void 0?ut.nextSibling:null;it.setAttribute(f,"active"),it.setAttribute("data-styled-version","6.0.7");var dt=Se();return dt&&it.setAttribute("nonce",dt),g.insertBefore(it,ct),it},be=function(){function s(h){this.element=we(h),this.element.appendChild(document.createTextNode("")),this.sheet=function(g){if(g.sheet)return g.sheet;for(var it=document.styleSheets,ut=0,ct=it.length;ut<ct;ut++){var dt=it[ut];if(dt.ownerNode===g)return dt}throw ce(17)}(this.element),this.length=0}return s.prototype.insertRule=function(h,g){try{return this.sheet.insertRule(g,h),this.length++,!0}catch{return!1}},s.prototype.deleteRule=function(h){this.sheet.deleteRule(h),this.length--},s.prototype.getRule=function(h){var g=this.sheet.cssRules[h];return g&&g.cssText?g.cssText:""},s}(),Ee=function(){function s(h){this.element=we(h),this.nodes=this.element.childNodes,this.length=0}return s.prototype.insertRule=function(h,g){if(h<=this.length&&h>=0){var it=document.createTextNode(g);return this.element.insertBefore(it,this.nodes[h]||null),this.length++,!0}return!1},s.prototype.deleteRule=function(h){this.element.removeChild(this.nodes[h]),this.length--},s.prototype.getRule=function(h){return h<this.length?this.nodes[h].textContent:""},s}(),Ne=function(){function s(h){this.rules=[],this.length=0}return s.prototype.insertRule=function(h,g){return h<=this.length&&(this.rules.splice(h,0,g),this.length++,!0)},s.prototype.deleteRule=function(h){this.rules.splice(h,1),this.length--},s.prototype.getRule=function(h){return h<this.length?this.rules[h]:""},s}(),Pe=y$1,_e={isServer:!y$1,useCSSOMInjection:!v},Ce=function(){function s(h,g,it){h===void 0&&(h=N),g===void 0&&(g={});var ut=this;this.options=__assign$2(__assign$2({},_e),h),this.gs=g,this.names=new Map(it),this.server=!!h.isServer,!this.server&&y$1&&Pe&&(Pe=!1,function(ct){for(var dt=document.querySelectorAll(me),ht=0,pt=dt.length;ht<pt;ht++){var mt=dt[ht];mt&&mt.getAttribute(f)!=="active"&&(ge(ct,mt),mt.parentNode&&mt.parentNode.removeChild(mt))}}(this)),se(this,function(){return function(ct){for(var dt=ct.getTag(),ht=dt.length,pt="",mt=function(gt){var yt=function(Dt){return pe.get(Dt)}(gt);if(yt===void 0)return"continue";var bt=ct.names.get(yt),wt=dt.getGroup(gt);if(bt===void 0||wt.length===0)return"continue";var Et="".concat(f,".g").concat(gt,'[id="').concat(yt,'"]'),Mt="";bt!==void 0&&bt.forEach(function(Dt){Dt.length>0&&(Mt+="".concat(Dt,","))}),pt+="".concat(wt).concat(Et,'{content:"').concat(Mt,'"}').concat(`/*!sc*/
`)},vt=0;vt<ht;vt++)mt(vt);return pt}(ut)})}return s.registerId=function(h){return he(h)},s.prototype.reconstructWithOptions=function(h,g){return g===void 0&&(g=!0),new s(__assign$2(__assign$2({},this.options),h),this.gs,g&&this.names||void 0)},s.prototype.allocateGSInstance=function(h){return this.gs[h]=(this.gs[h]||0)+1},s.prototype.getTag=function(){return this.tag||(this.tag=(h=function(g){var it=g.useCSSOMInjection,ut=g.target;return g.isServer?new Ne(ut):it?new be(ut):new Ee(ut)}(this.options),new le(h)));var h},s.prototype.hasNameForId=function(h,g){return this.names.has(h)&&this.names.get(h).has(g)},s.prototype.registerName=function(h,g){if(he(h),this.names.has(h))this.names.get(h).add(g);else{var it=new Set;it.add(g),this.names.set(h,it)}},s.prototype.insertRules=function(h,g,it){this.registerName(h,g),this.getTag().insertRules(he(h),it)},s.prototype.clearNames=function(h){this.names.has(h)&&this.names.get(h).clear()},s.prototype.clearRules=function(h){this.getTag().clearGroup(he(h)),this.clearNames(h)},s.prototype.clearTag=function(){this.tag=void 0},s}(),Ie=/&/g,Ae=/^\s*\/\/.*$/gm;function Oe(s,h){return s.map(function(g){return g.type==="rule"&&(g.value="".concat(h," ").concat(g.value),g.value=g.value.replaceAll(",",",".concat(h," ")),g.props=g.props.map(function(it){return"".concat(h," ").concat(it)})),Array.isArray(g.children)&&g.type!=="@keyframes"&&(g.children=Oe(g.children,h)),g})}function De(s){var h,g,it,ut=s===void 0?N:s,ct=ut.options,dt=ct===void 0?N:ct,ht=ut.plugins,pt=ht===void 0?E:ht,mt=function(yt,bt,wt){return wt===g||wt.startsWith(g)&&wt.endsWith(g)&&wt.replaceAll(g,"").length>0?".".concat(h):yt},vt=pt.slice();vt.push(function(yt){yt.type===RULESET&&yt.value.includes("&")&&(yt.props[0]=yt.props[0].replace(Ie,g).replace(it,mt))}),dt.prefix&&vt.push(prefixer),vt.push(stringify$1);var gt=function(yt,bt,wt,Et){bt===void 0&&(bt=""),wt===void 0&&(wt=""),Et===void 0&&(Et="&"),h=Et,g=bt,it=new RegExp("\\".concat(g,"\\b"),"g");var Mt=yt.replace(Ae,""),Dt=compile$1(wt||bt?"".concat(wt," ").concat(bt," { ").concat(Mt," }"):Mt);dt.namespace&&(Dt=Oe(Dt,dt.namespace));var $t=[];return serialize(Dt,middleware(vt.concat(rulesheet(function(_t){return $t.push(_t)})))),$t};return gt.hash=pt.length?pt.reduce(function(yt,bt){return bt.name||ce(15),k(yt,bt.name)},5381).toString():"",gt}var Re=new Ce,Te=De(),ke=React.createContext({shouldForwardProp:void 0,styleSheet:Re,stylis:Te});ke.Consumer;var xe=React.createContext(void 0);function Ve(){return reactExports.useContext(ke)}function Me(s){var h=reactExports.useState(s.stylisPlugins),g=h[0],it=h[1],ut=Ve().styleSheet,ct=reactExports.useMemo(function(){var ht=ut;return s.sheet?ht=s.sheet:s.target&&(ht=ht.reconstructWithOptions({target:s.target},!1)),s.disableCSSOMInjection&&(ht=ht.reconstructWithOptions({useCSSOMInjection:!1})),ht},[s.disableCSSOMInjection,s.sheet,s.target,ut]),dt=reactExports.useMemo(function(){return De({options:{namespace:s.namespace,prefix:s.enableVendorPrefixes},plugins:g})},[s.enableVendorPrefixes,s.namespace,g]);return reactExports.useEffect(function(){p(g,s.stylisPlugins)||it(s.stylisPlugins)},[s.stylisPlugins]),React.createElement(ke.Provider,{value:{shouldForwardProp:s.shouldForwardProp,styleSheet:ct,stylis:dt}},React.createElement(xe.Provider,{value:dt},s.children))}var Fe=function(){function s(h,g){var it=this;this.inject=function(ut,ct){ct===void 0&&(ct=Te);var dt=it.name+ct.hash;ut.hasNameForId(it.id,dt)||ut.insertRules(it.id,dt,ct(it.rules,dt,"@keyframes"))},this.name=h,this.id="sc-keyframes-".concat(h),this.rules=g,se(this,function(){throw ce(12,String(it.name))})}return s.prototype.getName=function(h){return h===void 0&&(h=Te),this.name+h.hash},s}(),$e=function(s){return s>="A"&&s<="Z"};function ze(s){for(var h="",g=0;g<s.length;g++){var it=s[g];if(g===1&&it==="-"&&s[0]==="-")return s;$e(it)?h+="-"+it.toLowerCase():h+=it}return h.startsWith("ms-")?"-"+h:h}var Be=function(s){return s==null||s===!1||s===""},Le=function(s){var h,g,it=[];for(var ut in s){var ct=s[ut];s.hasOwnProperty(ut)&&!Be(ct)&&(Array.isArray(ct)&&ct.isCss||Q$1(ct)?it.push("".concat(ze(ut),":"),ct,";"):oe(ct)?it.push.apply(it,__spreadArray(__spreadArray(["".concat(ut," {")],Le(ct),!1),["}"],!1)):it.push("".concat(ze(ut),": ").concat((h=ut,(g=ct)==null||typeof g=="boolean"||g===""?"":typeof g!="number"||g===0||h in unitlessKeys||h.startsWith("--")?String(g).trim():"".concat(g,"px")),";")))}return it};function Ge(s,h,g,it){if(Be(s))return[];if(ee(s))return[".".concat(s.styledComponentId)];if(Q$1(s)){if(!Q$1(ct=s)||ct.prototype&&ct.prototype.isReactComponent||!h)return[s];var ut=s(h);return Ge(ut,h,g,it)}var ct;return s instanceof Fe?g?(s.inject(g,it),[s.getName(it)]):[s]:oe(s)?Le(s):Array.isArray(s)?Array.prototype.concat.apply(E,s.map(function(dt){return Ge(dt,h,g,it)})):[s.toString()]}function Ye(s){for(var h=0;h<s.length;h+=1){var g=s[h];if(Q$1(g)&&!ee(g))return!1}return!0}var We=j("6.0.7"),qe=function(){function s(h,g,it){this.rules=h,this.staticRulesId="",this.isStatic=(it===void 0||it.isStatic)&&Ye(h),this.componentId=g,this.baseHash=k(We,g),this.baseStyle=it,Ce.registerId(g)}return s.prototype.generateAndInjectStyles=function(h,g,it){var ut=this.baseStyle?this.baseStyle.generateAndInjectStyles(h,g,it):"";if(this.isStatic&&!it.hash)if(this.staticRulesId&&g.hasNameForId(this.componentId,this.staticRulesId))ut=te(ut,this.staticRulesId);else{var ct=ne(Ge(this.rules,h,g,it)),dt=R(k(this.baseHash,ct)>>>0);if(!g.hasNameForId(this.componentId,dt)){var ht=it(ct,".".concat(dt),void 0,this.componentId);g.insertRules(this.componentId,dt,ht)}ut=te(ut,dt),this.staticRulesId=dt}else{for(var pt=k(this.baseHash,it.hash),mt="",vt=0;vt<this.rules.length;vt++){var gt=this.rules[vt];if(typeof gt=="string")mt+=gt;else if(gt){var yt=ne(Ge(gt,h,g,it));pt=k(pt,yt),mt+=yt}}if(mt){var bt=R(pt>>>0);g.hasNameForId(this.componentId,bt)||g.insertRules(this.componentId,bt,it(mt,".".concat(bt),void 0,this.componentId)),ut=te(ut,bt)}}return ut},s}(),He=React.createContext(void 0);He.Consumer;var Ze={},Ke=new Set;function Qe(s,h,g){var it=ee(s),ut=s,ct=!M(s),dt=h.attrs,ht=dt===void 0?E:dt,pt=h.componentId,mt=pt===void 0?function(_t,Nt){var kt=typeof _t!="string"?"sc":A(_t);Ze[kt]=(Ze[kt]||0)+1;var At="".concat(kt,"-").concat(x$1("6.0.7"+kt+Ze[kt]));return Nt?"".concat(Nt,"-").concat(At):At}(h.displayName,h.parentComponentId):pt,vt=h.displayName;vt===void 0&&function(_t){return M(_t)?"styled.".concat(_t):"Styled(".concat(V(_t),")")}(s);var gt=h.displayName&&h.componentId?"".concat(A(h.displayName),"-").concat(h.componentId):h.componentId||mt,yt=it&&ut.attrs?ut.attrs.concat(ht).filter(Boolean):ht,bt=h.shouldForwardProp;if(it&&ut.shouldForwardProp){var wt=ut.shouldForwardProp;if(h.shouldForwardProp){var Et=h.shouldForwardProp;bt=function(_t,Nt){return wt(_t,Nt)&&Et(_t,Nt)}}else bt=wt}var Mt=new qe(g,gt,it?ut.componentStyle:void 0);function Dt(_t,Nt){return function(kt,At,Bt){var Ft=kt.attrs,Lt=kt.componentStyle,Ot=kt.defaultProps,It=kt.foldedComponentIds,Rt=kt.styledComponentId,Vt=kt.target,Xt=React.useContext(He),Wt=Ve(),jt=kt.shouldForwardProp||Wt.shouldForwardProp,qt=function(Qt,ur,wr){for(var vr,Dr=__assign$2(__assign$2({},ur),{className:void 0,theme:wr}),Or=0;Or<Qt.length;Or+=1){var Mr=Q$1(vr=Qt[Or])?vr(Dr):vr;for(var dr in Mr)Dr[dr]=dr==="className"?te(Dr[dr],Mr[dr]):dr==="style"?__assign$2(__assign$2({},Dr[dr]),Mr[dr]):Mr[dr]}return ur.className&&(Dr.className=te(Dr.className,ur.className)),Dr}(Ft,At,P$2(At,Xt,Ot)||N),Zt=qt.as||Vt,Ut={};for(var Yt in qt)qt[Yt]===void 0||Yt[0]==="$"||Yt==="as"||Yt==="theme"||(Yt==="forwardedAs"?Ut.as=qt.forwardedAs:jt&&!jt(Yt,Zt)||(Ut[Yt]=qt[Yt]));var lr=function(Qt,ur){var wr=Ve(),vr=Qt.generateAndInjectStyles(ur,wr.styleSheet,wr.stylis);return vr}(Lt,qt),rr=te(It,Rt);return lr&&(rr+=" "+lr),qt.className&&(rr+=" "+qt.className),Ut[M(Zt)&&!_.has(Zt)?"class":"className"]=rr,Ut.ref=Bt,reactExports.createElement(Zt,Ut)}($t,_t,Nt)}var $t=React.forwardRef(Dt);return $t.attrs=yt,$t.componentStyle=Mt,$t.shouldForwardProp=bt,$t.foldedComponentIds=it?te(ut.foldedComponentIds,ut.styledComponentId):"",$t.styledComponentId=gt,$t.target=it?ut.target:s,Object.defineProperty($t,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_t){this._foldedDefaultProps=it?function(Nt){for(var kt=[],At=1;At<arguments.length;At++)kt[At-1]=arguments[At];for(var Bt=0,Ft=kt;Bt<Ft.length;Bt++)re$1(Nt,Ft[Bt],!0);return Nt}({},ut.defaultProps,_t):_t}}),se($t,function(){return".".concat($t.styledComponentId)}),ct&&K($t,s,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),$t}function et(s,h){for(var g=[s[0]],it=0,ut=h.length;it<ut;it+=1)g.push(h[it],s[it+1]);return g}var tt=function(s){return Object.assign(s,{isCss:!0})};function nt(s){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];if(Q$1(s)||oe(s)){var it=s;return tt(Ge(et(E,__spreadArray([it],h,!0))))}var ut=s;return h.length===0&&ut.length===1&&typeof ut[0]=="string"?Ge(ut):tt(Ge(et(ut,h)))}function ot(s,h,g){if(g===void 0&&(g=N),!h)throw ce(1,h);var it=function(ut){for(var ct=[],dt=1;dt<arguments.length;dt++)ct[dt-1]=arguments[dt];return s(h,g,nt.apply(void 0,__spreadArray([ut],ct,!1)))};return it.attrs=function(ut){return ot(s,h,__assign$2(__assign$2({},g),{attrs:Array.prototype.concat(g.attrs,ut).filter(Boolean)}))},it.withConfig=function(ut){return ot(s,h,__assign$2(__assign$2({},g),ut))},it}var rt=function(s){return ot(Qe,s)},st=rt;_.forEach(function(s){st[s]=rt(s)});/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(s){for(var h=1;h<arguments.length;h++){var g=arguments[h];for(var it in g)Object.prototype.hasOwnProperty.call(g,it)&&(s[it]=g[it])}return s},_extends$4.apply(this,arguments)}var Action;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(s){s===void 0&&(s={});function h(it,ut){let{pathname:ct,search:dt,hash:ht}=it.location;return createLocation("",{pathname:ct,search:dt,hash:ht},ut.state&&ut.state.usr||null,ut.state&&ut.state.key||"default")}function g(it,ut){return typeof ut=="string"?ut:createPath(ut)}return getUrlBasedHistory(h,g,null,s)}function invariant(s,h){if(s===!1||s===null||typeof s>"u")throw new Error(h)}function warning$1(s,h){if(!s){typeof console<"u"&&console.warn(h);try{throw new Error(h)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(s,h){return{usr:s.state,key:s.key,idx:h}}function createLocation(s,h,g,it){return g===void 0&&(g=null),_extends$4({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof h=="string"?parsePath(h):h,{state:g,key:h&&h.key||it||createKey()})}function createPath(s){let{pathname:h="/",search:g="",hash:it=""}=s;return g&&g!=="?"&&(h+=g.charAt(0)==="?"?g:"?"+g),it&&it!=="#"&&(h+=it.charAt(0)==="#"?it:"#"+it),h}function parsePath(s){let h={};if(s){let g=s.indexOf("#");g>=0&&(h.hash=s.substr(g),s=s.substr(0,g));let it=s.indexOf("?");it>=0&&(h.search=s.substr(it),s=s.substr(0,it)),s&&(h.pathname=s)}return h}function getUrlBasedHistory(s,h,g,it){it===void 0&&(it={});let{window:ut=document.defaultView,v5Compat:ct=!1}=it,dt=ut.history,ht=Action.Pop,pt=null,mt=vt();mt==null&&(mt=0,dt.replaceState(_extends$4({},dt.state,{idx:mt}),""));function vt(){return(dt.state||{idx:null}).idx}function gt(){ht=Action.Pop;let Mt=vt(),Dt=Mt==null?null:Mt-mt;mt=Mt,pt&&pt({action:ht,location:Et.location,delta:Dt})}function yt(Mt,Dt){ht=Action.Push;let $t=createLocation(Et.location,Mt,Dt);g&&g($t,Mt),mt=vt()+1;let _t=getHistoryState($t,mt),Nt=Et.createHref($t);try{dt.pushState(_t,"",Nt)}catch(kt){if(kt instanceof DOMException&&kt.name==="DataCloneError")throw kt;ut.location.assign(Nt)}ct&&pt&&pt({action:ht,location:Et.location,delta:1})}function bt(Mt,Dt){ht=Action.Replace;let $t=createLocation(Et.location,Mt,Dt);g&&g($t,Mt),mt=vt();let _t=getHistoryState($t,mt),Nt=Et.createHref($t);dt.replaceState(_t,"",Nt),ct&&pt&&pt({action:ht,location:Et.location,delta:0})}function wt(Mt){let Dt=ut.location.origin!=="null"?ut.location.origin:ut.location.href,$t=typeof Mt=="string"?Mt:createPath(Mt);return invariant(Dt,"No window.location.(origin|href) available to create URL for href: "+$t),new URL($t,Dt)}let Et={get action(){return ht},get location(){return s(ut,dt)},listen(Mt){if(pt)throw new Error("A history only accepts one active listener");return ut.addEventListener(PopStateEventType,gt),pt=Mt,()=>{ut.removeEventListener(PopStateEventType,gt),pt=null}},createHref(Mt){return h(ut,Mt)},createURL:wt,encodeLocation(Mt){let Dt=wt(Mt);return{pathname:Dt.pathname,search:Dt.search,hash:Dt.hash}},push:yt,replace:bt,go(Mt){return dt.go(Mt)}};return Et}var ResultType;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(ResultType||(ResultType={}));function matchRoutes(s,h,g){g===void 0&&(g="/");let it=typeof h=="string"?parsePath(h):h,ut=stripBasename(it.pathname||"/",g);if(ut==null)return null;let ct=flattenRoutes(s);rankRouteBranches(ct);let dt=null;for(let ht=0;dt==null&&ht<ct.length;++ht)dt=matchRouteBranch(ct[ht],safelyDecodeURI(ut));return dt}function flattenRoutes(s,h,g,it){h===void 0&&(h=[]),g===void 0&&(g=[]),it===void 0&&(it="");let ut=(ct,dt,ht)=>{let pt={relativePath:ht===void 0?ct.path||"":ht,caseSensitive:ct.caseSensitive===!0,childrenIndex:dt,route:ct};pt.relativePath.startsWith("/")&&(invariant(pt.relativePath.startsWith(it),'Absolute route path "'+pt.relativePath+'" nested under path '+('"'+it+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),pt.relativePath=pt.relativePath.slice(it.length));let mt=joinPaths([it,pt.relativePath]),vt=g.concat(pt);ct.children&&ct.children.length>0&&(invariant(ct.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+mt+'".')),flattenRoutes(ct.children,h,vt,mt)),!(ct.path==null&&!ct.index)&&h.push({path:mt,score:computeScore(mt,ct.index),routesMeta:vt})};return s.forEach((ct,dt)=>{var ht;if(ct.path===""||!((ht=ct.path)!=null&&ht.includes("?")))ut(ct,dt);else for(let pt of explodeOptionalSegments(ct.path))ut(ct,dt,pt)}),h}function explodeOptionalSegments(s){let h=s.split("/");if(h.length===0)return[];let[g,...it]=h,ut=g.endsWith("?"),ct=g.replace(/\?$/,"");if(it.length===0)return ut?[ct,""]:[ct];let dt=explodeOptionalSegments(it.join("/")),ht=[];return ht.push(...dt.map(pt=>pt===""?ct:[ct,pt].join("/"))),ut&&ht.push(...dt),ht.map(pt=>s.startsWith("/")&&pt===""?"/":pt)}function rankRouteBranches(s){s.sort((h,g)=>h.score!==g.score?g.score-h.score:compareIndexes(h.routesMeta.map(it=>it.childrenIndex),g.routesMeta.map(it=>it.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=s=>s==="*";function computeScore(s,h){let g=s.split("/"),it=g.length;return g.some(isSplat)&&(it+=splatPenalty),h&&(it+=indexRouteValue),g.filter(ut=>!isSplat(ut)).reduce((ut,ct)=>ut+(paramRe.test(ct)?dynamicSegmentValue:ct===""?emptySegmentValue:staticSegmentValue),it)}function compareIndexes(s,h){return s.length===h.length&&s.slice(0,-1).every((it,ut)=>it===h[ut])?s[s.length-1]-h[h.length-1]:0}function matchRouteBranch(s,h){let{routesMeta:g}=s,it={},ut="/",ct=[];for(let dt=0;dt<g.length;++dt){let ht=g[dt],pt=dt===g.length-1,mt=ut==="/"?h:h.slice(ut.length)||"/",vt=matchPath({path:ht.relativePath,caseSensitive:ht.caseSensitive,end:pt},mt);if(!vt)return null;Object.assign(it,vt.params);let gt=ht.route;ct.push({params:it,pathname:joinPaths([ut,vt.pathname]),pathnameBase:normalizePathname(joinPaths([ut,vt.pathnameBase])),route:gt}),vt.pathnameBase!=="/"&&(ut=joinPaths([ut,vt.pathnameBase]))}return ct}function matchPath(s,h){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[g,it]=compilePath(s.path,s.caseSensitive,s.end),ut=h.match(g);if(!ut)return null;let ct=ut[0],dt=ct.replace(/(.)\/+$/,"$1"),ht=ut.slice(1);return{params:it.reduce((mt,vt,gt)=>{if(vt==="*"){let yt=ht[gt]||"";dt=ct.slice(0,ct.length-yt.length).replace(/(.)\/+$/,"$1")}return mt[vt]=safelyDecodeURIComponent(ht[gt]||"",vt),mt},{}),pathname:ct,pathnameBase:dt,pattern:s}}function compilePath(s,h,g){h===void 0&&(h=!1),g===void 0&&(g=!0),warning$1(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let it=[],ut="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(dt,ht)=>(it.push(ht),"/([^\\/]+)"));return s.endsWith("*")?(it.push("*"),ut+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):g?ut+="\\/*$":s!==""&&s!=="/"&&(ut+="(?:(?=\\/|$))"),[new RegExp(ut,h?void 0:"i"),it]}function safelyDecodeURI(s){try{return decodeURI(s)}catch(h){return warning$1(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+h+").")),s}}function safelyDecodeURIComponent(s,h){try{return decodeURIComponent(s)}catch(g){return warning$1(!1,'The value for the URL param "'+h+'" will not be decoded because'+(' the string "'+s+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+g+").")),s}}function stripBasename(s,h){if(h==="/")return s;if(!s.toLowerCase().startsWith(h.toLowerCase()))return null;let g=h.endsWith("/")?h.length-1:h.length,it=s.charAt(g);return it&&it!=="/"?null:s.slice(g)||"/"}function resolvePath(s,h){h===void 0&&(h="/");let{pathname:g,search:it="",hash:ut=""}=typeof s=="string"?parsePath(s):s;return{pathname:g?g.startsWith("/")?g:resolvePathname(g,h):h,search:normalizeSearch(it),hash:normalizeHash(ut)}}function resolvePathname(s,h){let g=h.replace(/\/+$/,"").split("/");return s.split("/").forEach(ut=>{ut===".."?g.length>1&&g.pop():ut!=="."&&g.push(ut)}),g.length>1?g.join("/"):"/"}function getInvalidPathError(s,h,g,it){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+h+"` field ["+JSON.stringify(it)+"].  Please separate it out to the ")+("`to."+g+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(s){return s.filter((h,g)=>g===0||h.route.path&&h.route.path.length>0)}function resolveTo(s,h,g,it){it===void 0&&(it=!1);let ut;typeof s=="string"?ut=parsePath(s):(ut=_extends$4({},s),invariant(!ut.pathname||!ut.pathname.includes("?"),getInvalidPathError("?","pathname","search",ut)),invariant(!ut.pathname||!ut.pathname.includes("#"),getInvalidPathError("#","pathname","hash",ut)),invariant(!ut.search||!ut.search.includes("#"),getInvalidPathError("#","search","hash",ut)));let ct=s===""||ut.pathname==="",dt=ct?"/":ut.pathname,ht;if(it||dt==null)ht=g;else{let gt=h.length-1;if(dt.startsWith("..")){let yt=dt.split("/");for(;yt[0]==="..";)yt.shift(),gt-=1;ut.pathname=yt.join("/")}ht=gt>=0?h[gt]:"/"}let pt=resolvePath(ut,ht),mt=dt&&dt!=="/"&&dt.endsWith("/"),vt=(ct||dt===".")&&g.endsWith("/");return!pt.pathname.endsWith("/")&&(mt||vt)&&(pt.pathname+="/"),pt}const joinPaths=s=>s.join("/").replace(/\/\/+/g,"/"),normalizePathname=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,normalizeHash=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function isRouteErrorResponse(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(s){for(var h=1;h<arguments.length;h++){var g=arguments[h];for(var it in g)Object.prototype.hasOwnProperty.call(g,it)&&(s[it]=g[it])}return s},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(s,h){let{relative:g}=h===void 0?{}:h;useInRouterContext()||invariant(!1);let{basename:it,navigator:ut}=reactExports.useContext(NavigationContext),{hash:ct,pathname:dt,search:ht}=useResolvedPath(s,{relative:g}),pt=dt;return it!=="/"&&(pt=dt==="/"?it:joinPaths([it,dt])),ut.createHref({pathname:pt,search:ht,hash:ct})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(s){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(s)}function useNavigate(){let{isDataRoute:s}=reactExports.useContext(RouteContext);return s?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let s=reactExports.useContext(DataRouterContext),{basename:h,navigator:g}=reactExports.useContext(NavigationContext),{matches:it}=reactExports.useContext(RouteContext),{pathname:ut}=useLocation(),ct=JSON.stringify(getPathContributingMatches(it).map(pt=>pt.pathnameBase)),dt=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{dt.current=!0}),reactExports.useCallback(function(pt,mt){if(mt===void 0&&(mt={}),!dt.current)return;if(typeof pt=="number"){g.go(pt);return}let vt=resolveTo(pt,JSON.parse(ct),ut,mt.relative==="path");s==null&&h!=="/"&&(vt.pathname=vt.pathname==="/"?h:joinPaths([h,vt.pathname])),(mt.replace?g.replace:g.push)(vt,mt.state,mt)},[h,g,ct,ut,s])}function useResolvedPath(s,h){let{relative:g}=h===void 0?{}:h,{matches:it}=reactExports.useContext(RouteContext),{pathname:ut}=useLocation(),ct=JSON.stringify(getPathContributingMatches(it).map(dt=>dt.pathnameBase));return reactExports.useMemo(()=>resolveTo(s,JSON.parse(ct),ut,g==="path"),[s,ct,ut,g])}function useRoutes(s,h){return useRoutesImpl(s,h)}function useRoutesImpl(s,h,g){useInRouterContext()||invariant(!1);let{navigator:it}=reactExports.useContext(NavigationContext),{matches:ut}=reactExports.useContext(RouteContext),ct=ut[ut.length-1],dt=ct?ct.params:{};ct&&ct.pathname;let ht=ct?ct.pathnameBase:"/";ct&&ct.route;let pt=useLocation(),mt;if(h){var vt;let Et=typeof h=="string"?parsePath(h):h;ht==="/"||(vt=Et.pathname)!=null&&vt.startsWith(ht)||invariant(!1),mt=Et}else mt=pt;let gt=mt.pathname||"/",yt=ht==="/"?gt:gt.slice(ht.length)||"/",bt=matchRoutes(s,{pathname:yt}),wt=_renderMatches(bt&&bt.map(Et=>Object.assign({},Et,{params:Object.assign({},dt,Et.params),pathname:joinPaths([ht,it.encodeLocation?it.encodeLocation(Et.pathname).pathname:Et.pathname]),pathnameBase:Et.pathnameBase==="/"?ht:joinPaths([ht,it.encodeLocation?it.encodeLocation(Et.pathnameBase).pathname:Et.pathnameBase])})),ut,g);return h&&wt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},mt),navigationType:Action.Pop}},wt):wt}function DefaultErrorComponent(){let s=useRouteError(),h=isRouteErrorResponse(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),g=s instanceof Error?s.stack:null,ut={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},ct=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},h),g?reactExports.createElement("pre",{style:ut},g):null,ct)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(h){super(h),this.state={location:h.location,revalidation:h.revalidation,error:h.error}}static getDerivedStateFromError(h){return{error:h}}static getDerivedStateFromProps(h,g){return g.location!==h.location||g.revalidation!=="idle"&&h.revalidation==="idle"?{error:h.error,location:h.location,revalidation:h.revalidation}:{error:h.error||g.error,location:g.location,revalidation:h.revalidation||g.revalidation}}componentDidCatch(h,g){console.error("React Router caught the following error during render",h,g)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(s){let{routeContext:h,match:g,children:it}=s,ut=reactExports.useContext(DataRouterContext);return ut&&ut.static&&ut.staticContext&&(g.route.errorElement||g.route.ErrorBoundary)&&(ut.staticContext._deepestRenderedBoundaryId=g.route.id),reactExports.createElement(RouteContext.Provider,{value:h},it)}function _renderMatches(s,h,g){var it;if(h===void 0&&(h=[]),g===void 0&&(g=null),s==null){var ut;if((ut=g)!=null&&ut.errors)s=g.matches;else return null}let ct=s,dt=(it=g)==null?void 0:it.errors;if(dt!=null){let ht=ct.findIndex(pt=>pt.route.id&&(dt==null?void 0:dt[pt.route.id]));ht>=0||invariant(!1),ct=ct.slice(0,Math.min(ct.length,ht+1))}return ct.reduceRight((ht,pt,mt)=>{let vt=pt.route.id?dt==null?void 0:dt[pt.route.id]:null,gt=null;g&&(gt=pt.route.errorElement||defaultErrorElement);let yt=h.concat(ct.slice(0,mt+1)),bt=()=>{let wt;return vt?wt=gt:pt.route.Component?wt=reactExports.createElement(pt.route.Component,null):pt.route.element?wt=pt.route.element:wt=ht,reactExports.createElement(RenderedRoute,{match:pt,routeContext:{outlet:ht,matches:yt,isDataRoute:g!=null},children:wt})};return g&&(pt.route.ErrorBoundary||pt.route.errorElement||mt===0)?reactExports.createElement(RenderErrorBoundary,{location:g.location,revalidation:g.revalidation,component:gt,error:vt,children:bt(),routeContext:{outlet:null,matches:yt,isDataRoute:!0}}):bt()},null)}var DataRouterHook$1=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(DataRouterHook$1||{}),DataRouterStateHook$1=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(DataRouterStateHook$1||{});function useDataRouterContext(s){let h=reactExports.useContext(DataRouterContext);return h||invariant(!1),h}function useDataRouterState(s){let h=reactExports.useContext(DataRouterStateContext);return h||invariant(!1),h}function useRouteContext(s){let h=reactExports.useContext(RouteContext);return h||invariant(!1),h}function useCurrentRouteId(s){let h=useRouteContext(),g=h.matches[h.matches.length-1];return g.route.id||invariant(!1),g.route.id}function useRouteError(){var s;let h=reactExports.useContext(RouteErrorContext),g=useDataRouterState(DataRouterStateHook$1.UseRouteError),it=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return h||((s=g.errors)==null?void 0:s[it])}function useNavigateStable(){let{router:s}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),h=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),g=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{g.current=!0}),reactExports.useCallback(function(ut,ct){ct===void 0&&(ct={}),g.current&&(typeof ut=="number"?s.navigate(ut):s.navigate(ut,_extends$3({fromRouteId:h},ct)))},[s,h])}function Route(s){invariant(!1)}function Router(s){let{basename:h="/",children:g=null,location:it,navigationType:ut=Action.Pop,navigator:ct,static:dt=!1}=s;useInRouterContext()&&invariant(!1);let ht=h.replace(/^\/*/,"/"),pt=reactExports.useMemo(()=>({basename:ht,navigator:ct,static:dt}),[ht,ct,dt]);typeof it=="string"&&(it=parsePath(it));let{pathname:mt="/",search:vt="",hash:gt="",state:yt=null,key:bt="default"}=it,wt=reactExports.useMemo(()=>{let Et=stripBasename(mt,ht);return Et==null?null:{location:{pathname:Et,search:vt,hash:gt,state:yt,key:bt},navigationType:ut}},[ht,mt,vt,gt,yt,bt,ut]);return wt==null?null:reactExports.createElement(NavigationContext.Provider,{value:pt},reactExports.createElement(LocationContext.Provider,{children:g,value:wt}))}function Routes(s){let{children:h,location:g}=s;return useRoutes(createRoutesFromChildren(h),g)}new Promise(()=>{});function createRoutesFromChildren(s,h){h===void 0&&(h=[]);let g=[];return reactExports.Children.forEach(s,(it,ut)=>{if(!reactExports.isValidElement(it))return;let ct=[...h,ut];if(it.type===reactExports.Fragment){g.push.apply(g,createRoutesFromChildren(it.props.children,ct));return}it.type!==Route&&invariant(!1),!it.props.index||!it.props.children||invariant(!1);let dt={id:it.props.id||ct.join("-"),caseSensitive:it.props.caseSensitive,element:it.props.element,Component:it.props.Component,index:it.props.index,path:it.props.path,loader:it.props.loader,action:it.props.action,errorElement:it.props.errorElement,ErrorBoundary:it.props.ErrorBoundary,hasErrorBoundary:it.props.ErrorBoundary!=null||it.props.errorElement!=null,shouldRevalidate:it.props.shouldRevalidate,handle:it.props.handle,lazy:it.props.lazy};it.props.children&&(dt.children=createRoutesFromChildren(it.props.children,ct)),g.push(dt)}),g}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(s){for(var h=1;h<arguments.length;h++){var g=arguments[h];for(var it in g)Object.prototype.hasOwnProperty.call(g,it)&&(s[it]=g[it])}return s},_extends$2.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(s,h){if(s==null)return{};var g={},it=Object.keys(s),ut,ct;for(ct=0;ct<it.length;ct++)ut=it[ct],!(h.indexOf(ut)>=0)&&(g[ut]=s[ut]);return g}function isModifiedEvent(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function shouldProcessLinkClick(s,h){return s.button===0&&(!h||h==="_self")&&!isModifiedEvent(s)}const _excluded$2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(s){let{basename:h,children:g,future:it,window:ut}=s,ct=reactExports.useRef();ct.current==null&&(ct.current=createBrowserHistory({window:ut,v5Compat:!0}));let dt=ct.current,[ht,pt]=reactExports.useState({action:dt.action,location:dt.location}),{v7_startTransition:mt}=it||{},vt=reactExports.useCallback(gt=>{mt&&startTransitionImpl?startTransitionImpl(()=>pt(gt)):pt(gt)},[pt,mt]);return reactExports.useLayoutEffect(()=>dt.listen(vt),[dt,vt]),reactExports.createElement(Router,{basename:h,children:g,location:ht.location,navigationType:ht.action,navigator:dt})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(h,g){let{onClick:it,relative:ut,reloadDocument:ct,replace:dt,state:ht,target:pt,to:mt,preventScrollReset:vt}=h,gt=_objectWithoutPropertiesLoose$1(h,_excluded$2),{basename:yt}=reactExports.useContext(NavigationContext),bt,wt=!1;if(typeof mt=="string"&&ABSOLUTE_URL_REGEX.test(mt)&&(bt=mt,isBrowser$1))try{let $t=new URL(window.location.href),_t=mt.startsWith("//")?new URL($t.protocol+mt):new URL(mt),Nt=stripBasename(_t.pathname,yt);_t.origin===$t.origin&&Nt!=null?mt=Nt+_t.search+_t.hash:wt=!0}catch{}let Et=useHref(mt,{relative:ut}),Mt=useLinkClickHandler(mt,{replace:dt,state:ht,target:pt,preventScrollReset:vt,relative:ut});function Dt($t){it&&it($t),$t.defaultPrevented||Mt($t)}return reactExports.createElement("a",_extends$2({},gt,{href:bt||Et,onClick:wt||ct?it:Dt,ref:g,target:pt}))});var DataRouterHook;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(s){s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(s,h){let{target:g,replace:it,state:ut,preventScrollReset:ct,relative:dt}=h===void 0?{}:h,ht=useNavigate(),pt=useLocation(),mt=useResolvedPath(s,{relative:dt});return reactExports.useCallback(vt=>{if(shouldProcessLinkClick(vt,g)){vt.preventDefault();let gt=it!==void 0?it:createPath(pt)===createPath(mt);ht(s,{replace:gt,state:ut,preventScrollReset:ct,relative:dt})}},[pt,ht,mt,it,ut,g,s,ct,dt])}const propExists=s=>s!=null,breakpoints={xs:"320px",sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},device={xs:`(min-width: ${breakpoints.xs})`,sm:`(min-width: ${breakpoints.sm})`,md:`(min-width: ${breakpoints.md})`,lg:`(min-width: ${breakpoints.lg})`,xl:`(min-width: ${breakpoints.xl})`,"2xl":`(min-width: ${breakpoints["2xl"]})`},vertDefaultSize="20px",VerticalSpace$2=st.div` 
    height: ${s=>s.size?`${s.size}`:vertDefaultSize};
    ${s=>propExists(s.query)&&`
        @media ${device.xs} { height: ${h=>h.query==="xs"?h.size?`${h.size}`:vertDefaultSize:null}; }
        @media ${device.sm} { height: ${h=>h.query==="sm"?h.size?`${h.size}`:vertDefaultSize:null}; }
        @media ${device.md} { height: ${h=>h.query==="md"?h.size?`${h.size}`:vertDefaultSize:null}; }
        @media ${device.lg} { height: ${h=>h.query==="lg"?h.size?`${h.size}`:vertDefaultSize:null}; }
        @media ${device.xl} { height: ${h=>h.query==="xl"?h.size?`${h.size}`:vertDefaultSize:null}; }
    `}
`,MainContainer=st.div`
    max-width: ${s=>s.mainWidth?`${s.mainwidth}"px"`:"1000px"} ;
    min-height: 1000px;
    margin: 0 auto;
    border: solid black;
    background: #FFFFFF 
`,WritingContainer=st.div`
    text-align:left;
    margin: 50px;
    font-size: 20px;
`,MoveOnButton=st.button`
    background: rgb(242, 242, 242);
    font-size: 24px;
    font-weight:bold;
    border: solid black 1px;
    border-radius: 0;
    width: 100%;
    padding: 5px;
    color: black
`;st.button`
    border: solid black 1px;
    border-radius: 0;
    background-color: #f2f2f2;
    color: black;
    font-size: 20px
`;const StepHeading=st.h2`
    text-align: center;
    background: rgb(242, 242, 242);
    padding-top: 5px;
    padding-bottom: 5px;
`,HelpContainer=st.div`
    border: solid gray 1px;
    border-top: 0;
    width: 75%;
    font-size: 16px;
    width:90%;
    padding: 20px;
`,OK=st.span`
    marginLeft: 5px;
    color: green 
`,HelpButton=st.span`
    margin-left: 5px;
    border: solid gray 1px;
    padding-left: 5px;
    padding-right: 5px;
    color: gray;
    font-size: 20px
`;function Card({to:s,mainHeader:h,secondaryHeader:g}){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Link,{to:s,style:{textDecoration:"none"},children:jsxRuntimeExports.jsxs(StyledCard,{children:[jsxRuntimeExports.jsx("h1",{children:h}),jsxRuntimeExports.jsx("h2",{children:g})]})})})}const StyledCard=st.div`
    background-color:white;
    color:black;
    padding: 5px;
    border: solid black 2px;
`,MaterialPhoto=st.img`
    border: solid black;
    height: 150px;
    
    @media ${device.lg} {
        height: 200px;
    } 
`,MeasurementBlock=st.div`
    display: flex;
    width: '100%';
    flex-direction: column; 
    justify-content: space-evenly;

    @media ${device.lg} {
        flex-direction: row;
        justify-content: space-evenly;
    }
`,SolvedCloze=st.div`
    border: solid black 1px;
    padding: 20px 20px 20px 20px;
    line-height: 30px;
    word-spacing: 3px;
`;st.button`
    border: solid black 1px;
    border-radius: 0;
    background-color: #f2f2f2;
    color: black;
    padding: 10px;
`;st.div`
    display: flex;
    flex-direction: row;
    justify-content: center;
    width: ${s=>s.width?`${s.width}`:"100%"};
    gap: ${s=>s.gap?`${s.gap}`:"20px"};
`;st.div`
    height: ${s=>s.size?`${s.size}`:"20px"}; 
`;var reactWebcam={exports:{}};(function(s,h){(function(it,ut){s.exports=ut(reactExports)})(commonjsGlobal$1,function(g){return function(it){var ut={};function ct(dt){if(ut[dt])return ut[dt].exports;var ht=ut[dt]={i:dt,l:!1,exports:{}};return it[dt].call(ht.exports,ht,ht.exports,ct),ht.l=!0,ht.exports}return ct.m=it,ct.c=ut,ct.d=function(dt,ht,pt){ct.o(dt,ht)||Object.defineProperty(dt,ht,{enumerable:!0,get:pt})},ct.r=function(dt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(dt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(dt,"__esModule",{value:!0})},ct.t=function(dt,ht){if(ht&1&&(dt=ct(dt)),ht&8||ht&4&&typeof dt=="object"&&dt&&dt.__esModule)return dt;var pt=Object.create(null);if(ct.r(pt),Object.defineProperty(pt,"default",{enumerable:!0,value:dt}),ht&2&&typeof dt!="string")for(var mt in dt)ct.d(pt,mt,(function(vt){return dt[vt]}).bind(null,mt));return pt},ct.n=function(dt){var ht=dt&&dt.__esModule?function(){return dt.default}:function(){return dt};return ct.d(ht,"a",ht),ht},ct.o=function(dt,ht){return Object.prototype.hasOwnProperty.call(dt,ht)},ct.p="",ct(ct.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(it,ut,ct){ct.r(ut);var dt=ct("react"),ht=function(){var yt=function(bt,wt){return yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Et,Mt){Et.__proto__=Mt}||function(Et,Mt){for(var Dt in Mt)Mt.hasOwnProperty(Dt)&&(Et[Dt]=Mt[Dt])},yt(bt,wt)};return function(bt,wt){yt(bt,wt);function Et(){this.constructor=bt}bt.prototype=wt===null?Object.create(wt):(Et.prototype=wt.prototype,new Et)}}(),pt=function(){return pt=Object.assign||function(yt){for(var bt,wt=1,Et=arguments.length;wt<Et;wt++){bt=arguments[wt];for(var Mt in bt)Object.prototype.hasOwnProperty.call(bt,Mt)&&(yt[Mt]=bt[Mt])}return yt},pt.apply(this,arguments)},mt=function(yt,bt){var wt={};for(var Et in yt)Object.prototype.hasOwnProperty.call(yt,Et)&&bt.indexOf(Et)<0&&(wt[Et]=yt[Et]);if(yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Mt=0,Et=Object.getOwnPropertySymbols(yt);Mt<Et.length;Mt++)bt.indexOf(Et[Mt])<0&&Object.prototype.propertyIsEnumerable.call(yt,Et[Mt])&&(wt[Et[Mt]]=yt[Et[Mt]]);return wt};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(bt){var wt=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return wt?new Promise(function(Et,Mt){wt.call(navigator,bt,Et,Mt)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function vt(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var gt=function(yt){ht(bt,yt);function bt(wt){var Et=yt.call(this,wt)||this;return Et.canvas=null,Et.ctx=null,Et.requestUserMediaId=0,Et.unmounted=!1,Et.state={hasUserMedia:!1},Et}return bt.prototype.componentDidMount=function(){var wt=this,Et=wt.state,Mt=wt.props;if(this.unmounted=!1,!vt()){Mt.onUserMediaError("getUserMedia not supported");return}Et.hasUserMedia||this.requestUserMedia(),Mt.children&&typeof Mt.children!="function"&&console.warn("children must be a function")},bt.prototype.componentDidUpdate=function(wt){var Et=this.props;if(!vt()){Et.onUserMediaError("getUserMedia not supported");return}var Mt=JSON.stringify(wt.audioConstraints)!==JSON.stringify(Et.audioConstraints),Dt=JSON.stringify(wt.videoConstraints)!==JSON.stringify(Et.videoConstraints),$t=wt.minScreenshotWidth!==Et.minScreenshotWidth,_t=wt.minScreenshotHeight!==Et.minScreenshotHeight;(Dt||$t||_t)&&(this.canvas=null,this.ctx=null),(Mt||Dt)&&(this.stopAndCleanup(),this.requestUserMedia())},bt.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},bt.stopMediaStream=function(wt){wt&&(wt.getVideoTracks&&wt.getAudioTracks?(wt.getVideoTracks().map(function(Et){wt.removeTrack(Et),Et.stop()}),wt.getAudioTracks().map(function(Et){wt.removeTrack(Et),Et.stop()})):wt.stop())},bt.prototype.stopAndCleanup=function(){var wt=this.state;wt.hasUserMedia&&(bt.stopMediaStream(this.stream),wt.src&&window.URL.revokeObjectURL(wt.src))},bt.prototype.getScreenshot=function(wt){var Et=this,Mt=Et.state,Dt=Et.props;if(!Mt.hasUserMedia)return null;var $t=this.getCanvas(wt);return $t&&$t.toDataURL(Dt.screenshotFormat,Dt.screenshotQuality)},bt.prototype.getCanvas=function(wt){var Et=this,Mt=Et.state,Dt=Et.props;if(!this.video||!Mt.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var $t=this.video.videoWidth,_t=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var Nt=$t/_t;$t=Dt.minScreenshotWidth||this.video.clientWidth,_t=$t/Nt,Dt.minScreenshotHeight&&_t<Dt.minScreenshotHeight&&(_t=Dt.minScreenshotHeight,$t=_t*Nt)}this.canvas=document.createElement("canvas"),this.canvas.width=(wt==null?void 0:wt.width)||$t,this.canvas.height=(wt==null?void 0:wt.height)||_t,this.ctx=this.canvas.getContext("2d")}var kt=this,At=kt.ctx,Bt=kt.canvas;return At&&Bt&&(Bt.width=(wt==null?void 0:wt.width)||Bt.width,Bt.height=(wt==null?void 0:wt.height)||Bt.height,Dt.mirrored&&(At.translate(Bt.width,0),At.scale(-1,1)),At.imageSmoothingEnabled=Dt.imageSmoothing,At.drawImage(this.video,0,0,(wt==null?void 0:wt.width)||Bt.width,(wt==null?void 0:wt.height)||Bt.height),Dt.mirrored&&(At.scale(-1,1),At.translate(-Bt.width,0))),Bt},bt.prototype.requestUserMedia=function(){var wt=this,Et=this.props,Mt=function(_t,Nt){var kt={video:typeof Nt<"u"?Nt:!0};Et.audio&&(kt.audio=typeof _t<"u"?_t:!0),wt.requestUserMediaId++;var At=wt.requestUserMediaId;navigator.mediaDevices.getUserMedia(kt).then(function(Bt){wt.unmounted||At!==wt.requestUserMediaId?bt.stopMediaStream(Bt):wt.handleUserMedia(null,Bt)}).catch(function(Bt){wt.handleUserMedia(Bt)})};if("mediaDevices"in navigator)Mt(Et.audioConstraints,Et.videoConstraints);else{var Dt=function(_t){return{optional:[{sourceId:_t}]}},$t=function(_t){var Nt=_t.deviceId;return typeof Nt=="string"?Nt:Array.isArray(Nt)&&Nt.length>0?Nt[0]:typeof Nt=="object"&&Nt.ideal?Nt.ideal:null};MediaStreamTrack.getSources(function(_t){var Nt=null,kt=null;_t.forEach(function(Ft){Ft.kind==="audio"?Nt=Ft.id:Ft.kind==="video"&&(kt=Ft.id)});var At=$t(Et.audioConstraints);At&&(Nt=At);var Bt=$t(Et.videoConstraints);Bt&&(kt=Bt),Mt(Dt(Nt),Dt(kt))})}},bt.prototype.handleUserMedia=function(wt,Et){var Mt=this.props;if(wt||!Et){this.setState({hasUserMedia:!1}),Mt.onUserMediaError(wt);return}this.stream=Et;try{this.video&&(this.video.srcObject=Et),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(Et)})}Mt.onUserMedia(Et)},bt.prototype.render=function(){var wt=this,Et=this,Mt=Et.state,Dt=Et.props,$t=Dt.audio;Dt.forceScreenshotSourceSize,Dt.onUserMedia,Dt.onUserMediaError,Dt.screenshotFormat,Dt.screenshotQuality,Dt.minScreenshotWidth,Dt.minScreenshotHeight,Dt.audioConstraints,Dt.videoConstraints,Dt.imageSmoothing;var _t=Dt.mirrored,Nt=Dt.style,kt=Nt===void 0?{}:Nt,At=Dt.children,Bt=mt(Dt,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),Ft=_t?pt(pt({},kt),{transform:(kt.transform||"")+" scaleX(-1)"}):kt,Lt={getScreenshot:this.getScreenshot.bind(this)};return dt.createElement(dt.Fragment,null,dt.createElement("video",pt({autoPlay:!0,src:Mt.src,muted:!$t,playsInline:!0,ref:function(Ot){wt.video=Ot},style:Ft},Bt)),At&&At(Lt))},bt.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},bt}(dt.Component);ut.default=gt},react:function(it,ut){it.exports=g}}).default})})(reactWebcam);var reactWebcamExports=reactWebcam.exports;const Webcam=getDefaultExportFromCjs(reactWebcamExports);var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function s(it,ut,ct,dt,ht,pt){if(pt!==ReactPropTypesSecret){var mt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw mt.name="Invariant Violation",mt}}s.isRequired=s;function h(){return s}var g={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:h,element:s,elementType:s,instanceOf:h,node:s,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return g.PropTypes=g,g};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var reactResponsive={exports:{}};(function(s,h){(function(it,ut){s.exports=ut(reactExports)})(commonjsGlobal$1,g=>(()=>{var it={"./node_modules/css-mediaquery/index.js":(ht,pt)=>{pt.match=wt,pt.parse=Et;var mt=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,vt=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,gt=/^(?:(min|max)-)?(.+)/,yt=/(em|rem|px|cm|mm|in|pt|pc)?$/,bt=/(dpi|dpcm|dppx)?$/;function wt(_t,Nt){return Et(_t).some(function(kt){var At=kt.inverse,Bt=kt.type==="all"||Nt.type===kt.type;if(Bt&&At||!(Bt||At))return!1;var Ft=kt.expressions.every(function(Lt){var Ot=Lt.feature,It=Lt.modifier,Rt=Lt.value,Vt=Nt[Ot];if(!Vt)return!1;switch(Ot){case"orientation":case"scan":return Vt.toLowerCase()===Rt.toLowerCase();case"width":case"height":case"device-width":case"device-height":Rt=$t(Rt),Vt=$t(Vt);break;case"resolution":Rt=Dt(Rt),Vt=Dt(Vt);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":Rt=Mt(Rt),Vt=Mt(Vt);break;case"grid":case"color":case"color-index":case"monochrome":Rt=parseInt(Rt,10)||1,Vt=parseInt(Vt,10)||0;break}switch(It){case"min":return Vt>=Rt;case"max":return Vt<=Rt;default:return Vt===Rt}});return Ft&&!At||!Ft&&At})}function Et(_t){return _t.split(",").map(function(Nt){Nt=Nt.trim();var kt=Nt.match(mt),At=kt[1],Bt=kt[2],Ft=kt[3]||"",Lt={};return Lt.inverse=!!At&&At.toLowerCase()==="not",Lt.type=Bt?Bt.toLowerCase():"all",Ft=Ft.match(/\([^\)]+\)/g)||[],Lt.expressions=Ft.map(function(Ot){var It=Ot.match(vt),Rt=It[1].toLowerCase().match(gt);return{modifier:Rt[1],feature:Rt[2],value:It[2]}}),Lt})}function Mt(_t){var Nt=Number(_t),kt;return Nt||(kt=_t.match(/^(\d+)\s*\/\s*(\d+)$/),Nt=kt[1]/kt[2]),Nt}function Dt(_t){var Nt=parseFloat(_t),kt=String(_t).match(bt)[1];switch(kt){case"dpcm":return Nt/2.54;case"dppx":return Nt*96;default:return Nt}}function $t(_t){var Nt=parseFloat(_t),kt=String(_t).match(yt)[1];switch(kt){case"em":return Nt*16;case"rem":return Nt*16;case"cm":return Nt*96/2.54;case"mm":return Nt*96/2.54/10;case"in":return Nt*96;case"pt":return Nt*72;case"pc":return Nt*72/12;default:return Nt}}},"./node_modules/hyphenate-style-name/index.js":(ht,pt,mt)=>{mt.r(pt),mt.d(pt,{default:()=>Et});var vt=/[A-Z]/g,gt=/^ms-/,yt={};function bt(Mt){return"-"+Mt.toLowerCase()}function wt(Mt){if(yt.hasOwnProperty(Mt))return yt[Mt];var Dt=Mt.replace(vt,bt);return yt[Mt]=gt.test(Dt)?"-"+Dt:Dt}const Et=wt},"./node_modules/matchmediaquery/index.js":(ht,pt,mt)=>{var vt=mt("./node_modules/css-mediaquery/index.js").match,gt=typeof window<"u"?window.matchMedia:null;function yt(wt,Et,Mt){var Dt=this;if(gt&&!Mt){var $t=gt.call(window,wt);this.matches=$t.matches,this.media=$t.media,$t.addListener(kt)}else this.matches=vt(wt,Et),this.media=wt;this.addListener=_t,this.removeListener=Nt,this.dispose=At;function _t(Bt){$t&&$t.addListener(Bt)}function Nt(Bt){$t&&$t.removeListener(Bt)}function kt(Bt){Dt.matches=Bt.matches,Dt.media=Bt.media}function At(){$t&&$t.removeListener(kt)}}function bt(wt,Et,Mt){return new yt(wt,Et,Mt)}ht.exports=bt},"./node_modules/object-assign/index.js":ht=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var pt=Object.getOwnPropertySymbols,mt=Object.prototype.hasOwnProperty,vt=Object.prototype.propertyIsEnumerable;function gt(bt){if(bt==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(bt)}function yt(){try{if(!Object.assign)return!1;var bt=new String("abc");if(bt[5]="de",Object.getOwnPropertyNames(bt)[0]==="5")return!1;for(var wt={},Et=0;Et<10;Et++)wt["_"+String.fromCharCode(Et)]=Et;var Mt=Object.getOwnPropertyNames(wt).map(function($t){return wt[$t]});if(Mt.join("")!=="0123456789")return!1;var Dt={};return"abcdefghijklmnopqrst".split("").forEach(function($t){Dt[$t]=$t}),Object.keys(Object.assign({},Dt)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}ht.exports=yt()?Object.assign:function(bt,wt){for(var Et,Mt=gt(bt),Dt,$t=1;$t<arguments.length;$t++){Et=Object(arguments[$t]);for(var _t in Et)mt.call(Et,_t)&&(Mt[_t]=Et[_t]);if(pt){Dt=pt(Et);for(var Nt=0;Nt<Dt.length;Nt++)vt.call(Et,Dt[Nt])&&(Mt[Dt[Nt]]=Et[Dt[Nt]])}}return Mt}},"./node_modules/prop-types/checkPropTypes.js":(ht,pt,mt)=>{var vt=function(){};{var gt=mt("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),yt={},bt=mt("./node_modules/prop-types/lib/has.js");vt=function(Et){var Mt="Warning: "+Et;typeof console<"u"&&console.error(Mt);try{throw new Error(Mt)}catch{}}}function wt(Et,Mt,Dt,$t,_t){for(var Nt in Et)if(bt(Et,Nt)){var kt;try{if(typeof Et[Nt]!="function"){var At=Error(($t||"React class")+": "+Dt+" type `"+Nt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof Et[Nt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw At.name="Invariant Violation",At}kt=Et[Nt](Mt,Nt,$t,Dt,null,gt)}catch(Ft){kt=Ft}if(kt&&!(kt instanceof Error)&&vt(($t||"React class")+": type specification of "+Dt+" `"+Nt+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof kt+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),kt instanceof Error&&!(kt.message in yt)){yt[kt.message]=!0;var Bt=_t?_t():"";vt("Failed "+Dt+" type: "+kt.message+(Bt??""))}}}wt.resetWarningCache=function(){yt={}},ht.exports=wt},"./node_modules/prop-types/factoryWithTypeCheckers.js":(ht,pt,mt)=>{var vt=mt("./node_modules/react-is/index.js"),gt=mt("./node_modules/object-assign/index.js"),yt=mt("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),bt=mt("./node_modules/prop-types/lib/has.js"),wt=mt("./node_modules/prop-types/checkPropTypes.js"),Et=function(){};Et=function(Dt){var $t="Warning: "+Dt;typeof console<"u"&&console.error($t);try{throw new Error($t)}catch{}};function Mt(){return null}ht.exports=function(Dt,$t){var _t=typeof Symbol=="function"&&Symbol.iterator,Nt="@@iterator";function kt(dr){var _r=dr&&(_t&&dr[_t]||dr[Nt]);if(typeof _r=="function")return _r}var At="<<anonymous>>",Bt={array:It("array"),bigint:It("bigint"),bool:It("boolean"),func:It("function"),number:It("number"),object:It("object"),string:It("string"),symbol:It("symbol"),any:Rt(),arrayOf:Vt,element:Xt(),elementType:Wt(),instanceOf:jt,node:Yt(),objectOf:Zt,oneOf:qt,oneOfType:Ut,shape:rr,exact:Qt};function Ft(dr,_r){return dr===_r?dr!==0||1/dr===1/_r:dr!==dr&&_r!==_r}function Lt(dr,_r){this.message=dr,this.data=_r&&typeof _r=="object"?_r:{},this.stack=""}Lt.prototype=Error.prototype;function Ot(dr){var _r={},zr=0;function yr(tr,ir,br,nr,cr,gr,Sr){if(nr=nr||At,gr=gr||br,Sr!==yt){if($t){var kr=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw kr.name="Invariant Violation",kr}else if(typeof console<"u"){var er=nr+":"+br;!_r[er]&&zr<3&&(Et("You are manually calling a React.PropTypes validation function for the `"+gr+"` prop on `"+nr+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),_r[er]=!0,zr++)}}return ir[br]==null?tr?ir[br]===null?new Lt("The "+cr+" `"+gr+"` is marked as required "+("in `"+nr+"`, but its value is `null`.")):new Lt("The "+cr+" `"+gr+"` is marked as required in "+("`"+nr+"`, but its value is `undefined`.")):null:dr(ir,br,nr,cr,gr)}var Lr=yr.bind(null,!1);return Lr.isRequired=yr.bind(null,!0),Lr}function It(dr){function _r(zr,yr,Lr,tr,ir,br){var nr=zr[yr],cr=vr(nr);if(cr!==dr){var gr=Dr(nr);return new Lt("Invalid "+tr+" `"+ir+"` of type "+("`"+gr+"` supplied to `"+Lr+"`, expected ")+("`"+dr+"`."),{expectedType:dr})}return null}return Ot(_r)}function Rt(){return Ot(Mt)}function Vt(dr){function _r(zr,yr,Lr,tr,ir){if(typeof dr!="function")return new Lt("Property `"+ir+"` of component `"+Lr+"` has invalid PropType notation inside arrayOf.");var br=zr[yr];if(!Array.isArray(br)){var nr=vr(br);return new Lt("Invalid "+tr+" `"+ir+"` of type "+("`"+nr+"` supplied to `"+Lr+"`, expected an array."))}for(var cr=0;cr<br.length;cr++){var gr=dr(br,cr,Lr,tr,ir+"["+cr+"]",yt);if(gr instanceof Error)return gr}return null}return Ot(_r)}function Xt(){function dr(_r,zr,yr,Lr,tr){var ir=_r[zr];if(!Dt(ir)){var br=vr(ir);return new Lt("Invalid "+Lr+" `"+tr+"` of type "+("`"+br+"` supplied to `"+yr+"`, expected a single ReactElement."))}return null}return Ot(dr)}function Wt(){function dr(_r,zr,yr,Lr,tr){var ir=_r[zr];if(!vt.isValidElementType(ir)){var br=vr(ir);return new Lt("Invalid "+Lr+" `"+tr+"` of type "+("`"+br+"` supplied to `"+yr+"`, expected a single ReactElement type."))}return null}return Ot(dr)}function jt(dr){function _r(zr,yr,Lr,tr,ir){if(!(zr[yr]instanceof dr)){var br=dr.name||At,nr=Mr(zr[yr]);return new Lt("Invalid "+tr+" `"+ir+"` of type "+("`"+nr+"` supplied to `"+Lr+"`, expected ")+("instance of `"+br+"`."))}return null}return Ot(_r)}function qt(dr){if(!Array.isArray(dr))return arguments.length>1?Et("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):Et("Invalid argument supplied to oneOf, expected an array."),Mt;function _r(zr,yr,Lr,tr,ir){for(var br=zr[yr],nr=0;nr<dr.length;nr++)if(Ft(br,dr[nr]))return null;var cr=JSON.stringify(dr,function(Sr,kr){var er=Dr(kr);return er==="symbol"?String(kr):kr});return new Lt("Invalid "+tr+" `"+ir+"` of value `"+String(br)+"` "+("supplied to `"+Lr+"`, expected one of "+cr+"."))}return Ot(_r)}function Zt(dr){function _r(zr,yr,Lr,tr,ir){if(typeof dr!="function")return new Lt("Property `"+ir+"` of component `"+Lr+"` has invalid PropType notation inside objectOf.");var br=zr[yr],nr=vr(br);if(nr!=="object")return new Lt("Invalid "+tr+" `"+ir+"` of type "+("`"+nr+"` supplied to `"+Lr+"`, expected an object."));for(var cr in br)if(bt(br,cr)){var gr=dr(br,cr,Lr,tr,ir+"."+cr,yt);if(gr instanceof Error)return gr}return null}return Ot(_r)}function Ut(dr){if(!Array.isArray(dr))return Et("Invalid argument supplied to oneOfType, expected an instance of array."),Mt;for(var _r=0;_r<dr.length;_r++){var zr=dr[_r];if(typeof zr!="function")return Et("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Or(zr)+" at index "+_r+"."),Mt}function yr(Lr,tr,ir,br,nr){for(var cr=[],gr=0;gr<dr.length;gr++){var Sr=dr[gr],kr=Sr(Lr,tr,ir,br,nr,yt);if(kr==null)return null;kr.data&&bt(kr.data,"expectedType")&&cr.push(kr.data.expectedType)}var er=cr.length>0?", expected one of type ["+cr.join(", ")+"]":"";return new Lt("Invalid "+br+" `"+nr+"` supplied to "+("`"+ir+"`"+er+"."))}return Ot(yr)}function Yt(){function dr(_r,zr,yr,Lr,tr){return ur(_r[zr])?null:new Lt("Invalid "+Lr+" `"+tr+"` supplied to "+("`"+yr+"`, expected a ReactNode."))}return Ot(dr)}function lr(dr,_r,zr,yr,Lr){return new Lt((dr||"React class")+": "+_r+" type `"+zr+"."+yr+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+Lr+"`.")}function rr(dr){function _r(zr,yr,Lr,tr,ir){var br=zr[yr],nr=vr(br);if(nr!=="object")return new Lt("Invalid "+tr+" `"+ir+"` of type `"+nr+"` "+("supplied to `"+Lr+"`, expected `object`."));for(var cr in dr){var gr=dr[cr];if(typeof gr!="function")return lr(Lr,tr,ir,cr,Dr(gr));var Sr=gr(br,cr,Lr,tr,ir+"."+cr,yt);if(Sr)return Sr}return null}return Ot(_r)}function Qt(dr){function _r(zr,yr,Lr,tr,ir){var br=zr[yr],nr=vr(br);if(nr!=="object")return new Lt("Invalid "+tr+" `"+ir+"` of type `"+nr+"` "+("supplied to `"+Lr+"`, expected `object`."));var cr=gt({},zr[yr],dr);for(var gr in cr){var Sr=dr[gr];if(bt(dr,gr)&&typeof Sr!="function")return lr(Lr,tr,ir,gr,Dr(Sr));if(!Sr)return new Lt("Invalid "+tr+" `"+ir+"` key `"+gr+"` supplied to `"+Lr+"`.\nBad object: "+JSON.stringify(zr[yr],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(dr),null,"  "));var kr=Sr(br,gr,Lr,tr,ir+"."+gr,yt);if(kr)return kr}return null}return Ot(_r)}function ur(dr){switch(typeof dr){case"number":case"string":case"undefined":return!0;case"boolean":return!dr;case"object":if(Array.isArray(dr))return dr.every(ur);if(dr===null||Dt(dr))return!0;var _r=kt(dr);if(_r){var zr=_r.call(dr),yr;if(_r!==dr.entries){for(;!(yr=zr.next()).done;)if(!ur(yr.value))return!1}else for(;!(yr=zr.next()).done;){var Lr=yr.value;if(Lr&&!ur(Lr[1]))return!1}}else return!1;return!0;default:return!1}}function wr(dr,_r){return dr==="symbol"?!0:_r?_r["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&_r instanceof Symbol:!1}function vr(dr){var _r=typeof dr;return Array.isArray(dr)?"array":dr instanceof RegExp?"object":wr(_r,dr)?"symbol":_r}function Dr(dr){if(typeof dr>"u"||dr===null)return""+dr;var _r=vr(dr);if(_r==="object"){if(dr instanceof Date)return"date";if(dr instanceof RegExp)return"regexp"}return _r}function Or(dr){var _r=Dr(dr);switch(_r){case"array":case"object":return"an "+_r;case"boolean":case"date":case"regexp":return"a "+_r;default:return _r}}function Mr(dr){return!dr.constructor||!dr.constructor.name?At:dr.constructor.name}return Bt.checkPropTypes=wt,Bt.resetWarningCache=wt.resetWarningCache,Bt.PropTypes=Bt,Bt}},"./node_modules/prop-types/index.js":(ht,pt,mt)=>{{var vt=mt("./node_modules/react-is/index.js"),gt=!0;ht.exports=mt("./node_modules/prop-types/factoryWithTypeCheckers.js")(vt.isElement,gt)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":ht=>{var pt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";ht.exports=pt},"./node_modules/prop-types/lib/has.js":ht=>{ht.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(ht,pt)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var mt=typeof Symbol=="function"&&Symbol.for,vt=mt?Symbol.for("react.element"):60103,gt=mt?Symbol.for("react.portal"):60106,yt=mt?Symbol.for("react.fragment"):60107,bt=mt?Symbol.for("react.strict_mode"):60108,wt=mt?Symbol.for("react.profiler"):60114,Et=mt?Symbol.for("react.provider"):60109,Mt=mt?Symbol.for("react.context"):60110,Dt=mt?Symbol.for("react.async_mode"):60111,$t=mt?Symbol.for("react.concurrent_mode"):60111,_t=mt?Symbol.for("react.forward_ref"):60112,Nt=mt?Symbol.for("react.suspense"):60113,kt=mt?Symbol.for("react.suspense_list"):60120,At=mt?Symbol.for("react.memo"):60115,Bt=mt?Symbol.for("react.lazy"):60116,Ft=mt?Symbol.for("react.block"):60121,Lt=mt?Symbol.for("react.fundamental"):60117,Ot=mt?Symbol.for("react.responder"):60118,It=mt?Symbol.for("react.scope"):60119;function Rt(Sr){return typeof Sr=="string"||typeof Sr=="function"||Sr===yt||Sr===$t||Sr===wt||Sr===bt||Sr===Nt||Sr===kt||typeof Sr=="object"&&Sr!==null&&(Sr.$$typeof===Bt||Sr.$$typeof===At||Sr.$$typeof===Et||Sr.$$typeof===Mt||Sr.$$typeof===_t||Sr.$$typeof===Lt||Sr.$$typeof===Ot||Sr.$$typeof===It||Sr.$$typeof===Ft)}function Vt(Sr){if(typeof Sr=="object"&&Sr!==null){var kr=Sr.$$typeof;switch(kr){case vt:var er=Sr.type;switch(er){case Dt:case $t:case yt:case wt:case bt:case Nt:return er;default:var ar=er&&er.$$typeof;switch(ar){case Mt:case _t:case Bt:case At:case Et:return ar;default:return kr}}case gt:return kr}}}var Xt=Dt,Wt=$t,jt=Mt,qt=Et,Zt=vt,Ut=_t,Yt=yt,lr=Bt,rr=At,Qt=gt,ur=wt,wr=bt,vr=Nt,Dr=!1;function Or(Sr){return Dr||(Dr=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),Mr(Sr)||Vt(Sr)===Dt}function Mr(Sr){return Vt(Sr)===$t}function dr(Sr){return Vt(Sr)===Mt}function _r(Sr){return Vt(Sr)===Et}function zr(Sr){return typeof Sr=="object"&&Sr!==null&&Sr.$$typeof===vt}function yr(Sr){return Vt(Sr)===_t}function Lr(Sr){return Vt(Sr)===yt}function tr(Sr){return Vt(Sr)===Bt}function ir(Sr){return Vt(Sr)===At}function br(Sr){return Vt(Sr)===gt}function nr(Sr){return Vt(Sr)===wt}function cr(Sr){return Vt(Sr)===bt}function gr(Sr){return Vt(Sr)===Nt}pt.AsyncMode=Xt,pt.ConcurrentMode=Wt,pt.ContextConsumer=jt,pt.ContextProvider=qt,pt.Element=Zt,pt.ForwardRef=Ut,pt.Fragment=Yt,pt.Lazy=lr,pt.Memo=rr,pt.Portal=Qt,pt.Profiler=ur,pt.StrictMode=wr,pt.Suspense=vr,pt.isAsyncMode=Or,pt.isConcurrentMode=Mr,pt.isContextConsumer=dr,pt.isContextProvider=_r,pt.isElement=zr,pt.isForwardRef=yr,pt.isFragment=Lr,pt.isLazy=tr,pt.isMemo=ir,pt.isPortal=br,pt.isProfiler=nr,pt.isStrictMode=cr,pt.isSuspense=gr,pt.isValidElementType=Rt,pt.typeOf=Vt})()},"./node_modules/react-is/index.js":(ht,pt,mt)=>{ht.exports=mt("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(ht,pt,mt)=>{mt.r(pt),mt.d(pt,{shallowEqualArrays:()=>gt,shallowEqualObjects:()=>vt});function vt(yt,bt){if(yt===bt)return!0;if(!yt||!bt)return!1;var wt=Object.keys(yt),Et=Object.keys(bt),Mt=wt.length;if(Et.length!==Mt)return!1;for(var Dt=0;Dt<Mt;Dt++){var $t=wt[Dt];if(yt[$t]!==bt[$t]||!Object.prototype.hasOwnProperty.call(bt,$t))return!1}return!0}function gt(yt,bt){if(yt===bt)return!0;if(!yt||!bt)return!1;var wt=yt.length;if(bt.length!==wt)return!1;for(var Et=0;Et<wt;Et++)if(yt[Et]!==bt[Et])return!1;return!0}},"./src/Component.ts":function(ht,pt,mt){var vt=this&&this.__rest||function(wt,Et){var Mt={};for(var Dt in wt)Object.prototype.hasOwnProperty.call(wt,Dt)&&Et.indexOf(Dt)<0&&(Mt[Dt]=wt[Dt]);if(wt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $t=0,Dt=Object.getOwnPropertySymbols(wt);$t<Dt.length;$t++)Et.indexOf(Dt[$t])<0&&Object.prototype.propertyIsEnumerable.call(wt,Dt[$t])&&(Mt[Dt[$t]]=wt[Dt[$t]]);return Mt},gt=this&&this.__importDefault||function(wt){return wt&&wt.__esModule?wt:{default:wt}};Object.defineProperty(pt,"__esModule",{value:!0});var yt=gt(mt("./src/useMediaQuery.ts")),bt=function(wt){var Et=wt.children,Mt=wt.device,Dt=wt.onChange,$t=vt(wt,["children","device","onChange"]),_t=(0,yt.default)($t,Mt,Dt);return typeof Et=="function"?Et(_t):_t?Et:null};pt.default=bt},"./src/Context.ts":(ht,pt,mt)=>{Object.defineProperty(pt,"__esModule",{value:!0});var vt=mt("react"),gt=(0,vt.createContext)(void 0);pt.default=gt},"./src/index.ts":function(ht,pt,mt){var vt=this&&this.__importDefault||function(Et){return Et&&Et.__esModule?Et:{default:Et}};Object.defineProperty(pt,"__esModule",{value:!0}),pt.Context=pt.toQuery=pt.useMediaQuery=pt.default=void 0;var gt=vt(mt("./src/useMediaQuery.ts"));pt.useMediaQuery=gt.default;var yt=vt(mt("./src/Component.ts"));pt.default=yt.default;var bt=vt(mt("./src/toQuery.ts"));pt.toQuery=bt.default;var wt=vt(mt("./src/Context.ts"));pt.Context=wt.default},"./src/mediaQuery.ts":function(ht,pt,mt){var vt=this&&this.__assign||function(){return vt=Object.assign||function(Nt){for(var kt,At=1,Bt=arguments.length;At<Bt;At++){kt=arguments[At];for(var Ft in kt)Object.prototype.hasOwnProperty.call(kt,Ft)&&(Nt[Ft]=kt[Ft])}return Nt},vt.apply(this,arguments)},gt=this&&this.__rest||function(Nt,kt){var At={};for(var Bt in Nt)Object.prototype.hasOwnProperty.call(Nt,Bt)&&kt.indexOf(Bt)<0&&(At[Bt]=Nt[Bt]);if(Nt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ft=0,Bt=Object.getOwnPropertySymbols(Nt);Ft<Bt.length;Ft++)kt.indexOf(Bt[Ft])<0&&Object.prototype.propertyIsEnumerable.call(Nt,Bt[Ft])&&(At[Bt[Ft]]=Nt[Bt[Ft]]);return At},yt=this&&this.__importDefault||function(Nt){return Nt&&Nt.__esModule?Nt:{default:Nt}};Object.defineProperty(pt,"__esModule",{value:!0});var bt=yt(mt("./node_modules/prop-types/index.js")),wt=bt.default.oneOfType([bt.default.string,bt.default.number]),Et={all:bt.default.bool,grid:bt.default.bool,aural:bt.default.bool,braille:bt.default.bool,handheld:bt.default.bool,print:bt.default.bool,projection:bt.default.bool,screen:bt.default.bool,tty:bt.default.bool,tv:bt.default.bool,embossed:bt.default.bool},Mt={orientation:bt.default.oneOf(["portrait","landscape"]),scan:bt.default.oneOf(["progressive","interlace"]),aspectRatio:bt.default.string,deviceAspectRatio:bt.default.string,height:wt,deviceHeight:wt,width:wt,deviceWidth:wt,color:bt.default.bool,colorIndex:bt.default.bool,monochrome:bt.default.bool,resolution:wt,type:Object.keys(Et)};Mt.type;var Dt=gt(Mt,["type"]),$t=vt({minAspectRatio:bt.default.string,maxAspectRatio:bt.default.string,minDeviceAspectRatio:bt.default.string,maxDeviceAspectRatio:bt.default.string,minHeight:wt,maxHeight:wt,minDeviceHeight:wt,maxDeviceHeight:wt,minWidth:wt,maxWidth:wt,minDeviceWidth:wt,maxDeviceWidth:wt,minColor:bt.default.number,maxColor:bt.default.number,minColorIndex:bt.default.number,maxColorIndex:bt.default.number,minMonochrome:bt.default.number,maxMonochrome:bt.default.number,minResolution:wt,maxResolution:wt},Dt),_t=vt(vt({},Et),$t);pt.default={all:_t,types:Et,matchers:Mt,features:$t}},"./src/toQuery.ts":function(ht,pt,mt){var vt=this&&this.__importDefault||function(Dt){return Dt&&Dt.__esModule?Dt:{default:Dt}};Object.defineProperty(pt,"__esModule",{value:!0});var gt=vt(mt("./node_modules/hyphenate-style-name/index.js")),yt=vt(mt("./src/mediaQuery.ts")),bt=function(Dt){return"not ".concat(Dt)},wt=function(Dt,$t){var _t=(0,gt.default)(Dt);return typeof $t=="number"&&($t="".concat($t,"px")),$t===!0?_t:$t===!1?bt(_t):"(".concat(_t,": ").concat($t,")")},Et=function(Dt){return Dt.join(" and ")},Mt=function(Dt){var $t=[];return Object.keys(yt.default.all).forEach(function(_t){var Nt=Dt[_t];Nt!=null&&$t.push(wt(_t,Nt))}),Et($t)};pt.default=Mt},"./src/useMediaQuery.ts":function(ht,pt,mt){var vt=this&&this.__importDefault||function(Lt){return Lt&&Lt.__esModule?Lt:{default:Lt}};Object.defineProperty(pt,"__esModule",{value:!0});var gt=mt("react"),yt=vt(mt("./node_modules/matchmediaquery/index.js")),bt=vt(mt("./node_modules/hyphenate-style-name/index.js")),wt=mt("./node_modules/shallow-equal/dist/index.esm.js"),Et=vt(mt("./src/toQuery.ts")),Mt=vt(mt("./src/Context.ts")),Dt=function(Lt){return Lt.query||(0,Et.default)(Lt)},$t=function(Lt){if(Lt){var Ot=Object.keys(Lt);return Ot.reduce(function(It,Rt){return It[(0,bt.default)(Rt)]=Lt[Rt],It},{})}},_t=function(){var Lt=(0,gt.useRef)(!1);return(0,gt.useEffect)(function(){Lt.current=!0},[]),Lt.current},Nt=function(Lt){var Ot=(0,gt.useContext)(Mt.default),It=function(){return $t(Lt)||$t(Ot)},Rt=(0,gt.useState)(It),Vt=Rt[0],Xt=Rt[1];return(0,gt.useEffect)(function(){var Wt=It();(0,wt.shallowEqualObjects)(Vt,Wt)||Xt(Wt)},[Lt,Ot]),Vt},kt=function(Lt){var Ot=function(){return Dt(Lt)},It=(0,gt.useState)(Ot),Rt=It[0],Vt=It[1];return(0,gt.useEffect)(function(){var Xt=Ot();Rt!==Xt&&Vt(Xt)},[Lt]),Rt},At=function(Lt,Ot){var It=function(){return(0,yt.default)(Lt,Ot||{},!!Ot)},Rt=(0,gt.useState)(It),Vt=Rt[0],Xt=Rt[1],Wt=_t();return(0,gt.useEffect)(function(){if(Wt){var jt=It();return Xt(jt),function(){jt&&jt.dispose()}}},[Lt,Ot]),Vt},Bt=function(Lt){var Ot=(0,gt.useState)(Lt.matches),It=Ot[0],Rt=Ot[1];return(0,gt.useEffect)(function(){var Vt=function(Xt){Rt(Xt.matches)};return Lt.addListener(Vt),Rt(Lt.matches),function(){Lt.removeListener(Vt)}},[Lt]),It},Ft=function(Lt,Ot,It){var Rt=Nt(Ot),Vt=kt(Lt);if(!Vt)throw new Error("Invalid or missing MediaQuery!");var Xt=At(Vt,Rt),Wt=Bt(Xt),jt=_t();return(0,gt.useEffect)(function(){jt&&It&&It(Wt)},[Wt]),(0,gt.useEffect)(function(){return function(){Xt&&Xt.dispose()}},[]),Wt};pt.default=Ft},react:ht=>{ht.exports=g}},ut={};function ct(ht){var pt=ut[ht];if(pt!==void 0)return pt.exports;var mt=ut[ht]={exports:{}};return it[ht].call(mt.exports,mt,mt.exports,ct),mt.exports}ct.d=(ht,pt)=>{for(var mt in pt)ct.o(pt,mt)&&!ct.o(ht,mt)&&Object.defineProperty(ht,mt,{enumerable:!0,get:pt[mt]})},ct.o=(ht,pt)=>Object.prototype.hasOwnProperty.call(ht,pt),ct.r=ht=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ht,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ht,"__esModule",{value:!0})};var dt=ct("./src/index.ts");return dt})())})(reactResponsive);var reactResponsiveExports=reactResponsive.exports;const EPButton=st.button`
    border: solid black 1px;
    border-radius: 0;
    background-color: #f2f2f2;
    color: black;
    font-size: 20px;
    padding: 5px;
    display: flex;
    justify-content:center
`,ButtonGroup$1=st.div`
    display: flex;
    flex-direction: row;
    justify-content: center;
    width: ${s=>s.width?`${s.width}`:"100%"};
    gap: ${s=>s.gap?`${s.gap}`:"20px"};`,VerticalSpace$1=st.div`
    height: ${s=>s.size?`${s.size}`:"20px"}; 
`;var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),__assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(s){for(var h,g=1,it=arguments.length;g<it;g++){h=arguments[g];for(var ut in h)Object.prototype.hasOwnProperty.call(h,ut)&&(s[ut]=h[ut])}return s},__assign$1.apply(this,arguments)},__rest$3=globalThis&&globalThis.__rest||function(s,h){var g={};for(var it in s)Object.prototype.hasOwnProperty.call(s,it)&&h.indexOf(it)<0&&(g[it]=s[it]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ut=0,it=Object.getOwnPropertySymbols(s);ut<it.length;ut++)h.indexOf(it[ut])<0&&Object.prototype.propertyIsEnumerable.call(s,it[ut])&&(g[it[ut]]=s[it[ut]]);return g};function Tree2Element(s){return s&&s.map(function(h,g){return React.createElement(h.tag,__assign$1({key:g},h.attr),Tree2Element(h.child))})}function GenIcon(s){return function(h){return React.createElement(IconBase,__assign$1({attr:__assign$1({},s.attr)},h),Tree2Element(s.child))}}function IconBase(s){var h=function(g){var it=s.attr,ut=s.size,ct=s.title,dt=__rest$3(s,["attr","size","title"]),ht=ut||g.size||"1em",pt;return g.className&&(pt=g.className),s.className&&(pt=(pt?pt+" ":"")+s.className),React.createElement("svg",__assign$1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},g.attr,it,dt,{className:pt,style:__assign$1(__assign$1({color:s.color||g.color},g.style),s.style),height:ht,width:ht,xmlns:"http://www.w3.org/2000/svg"}),ct&&React.createElement("title",null,ct),s.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,function(g){return h(g)}):h(DefaultContext)}function BiTrash(s){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 20a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8h2V6h-4V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2H3v2h2zM9 4h6v2H9zM8 8h9v12H7V8z"}},{tag:"path",attr:{d:"M9 10h2v8H9zm4 0h2v8h-2z"}}]})(s)}function BiUndo(s){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9 10h6c1.654 0 3 1.346 3 3s-1.346 3-3 3h-3v2h3c2.757 0 5-2.243 5-5s-2.243-5-5-5H9V5L4 9l5 4v-3z"}}]})(s)}function BiSolidSave(s){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 21h14a2 2 0 0 0 2-2V8l-5-5H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2zM7 5h4v2h2V5h2v4H7V5zm0 8h10v6H7v-6z"}}]})(s)}var u=Object.defineProperty,d=(s,h,g)=>h in s?u(s,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):s[h]=g,e$2=(s,h,g)=>(d(s,typeof h!="symbol"?h+"":h,g),g);function n(s){return 1-Math.sqrt(1-Math.pow(s,2))}class a{constructor(h,g){e$2(this,"x"),e$2(this,"y"),this.x=h,this.y=g}update(h){return this.x=h.x,this.y=h.y,this}moveByAngle(h,g,it){const ut=h+Math.PI/2;return it?(this.x=this.x+Math.sin(ut)*g*n(1-it),this.y=this.y-Math.cos(ut)*g*n(1-it)):(this.x=this.x+Math.sin(ut)*g,this.y=this.y-Math.cos(ut)*g),this}equalsTo(h){return this.x===h.x&&this.y===h.y}getDifferenceTo(h){return new a(this.x-h.x,this.y-h.y)}getDistanceTo(h){const g=this.getDifferenceTo(h);return Math.sqrt(Math.pow(g.x,2)+Math.pow(g.y,2))}getAngleTo(h){const g=this.getDifferenceTo(h);return Math.atan2(g.y,g.x)}toObject(){return{x:this.x,y:this.y}}}const o=30;class c{constructor(h={}){e$2(this,"_isEnabled"),e$2(this,"_hasMoved"),e$2(this,"radius"),e$2(this,"pointer"),e$2(this,"brush"),e$2(this,"angle"),e$2(this,"distance");const g=h.initialPoint||{x:0,y:0};this.radius=h.radius||o,this._isEnabled=h.enabled!==!1,this.pointer=new a(g.x,g.y),this.brush=new a(g.x,g.y),this.angle=0,this.distance=0,this._hasMoved=!1}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}isEnabled(){return this._isEnabled}setRadius(h){this.radius=h}getRadius(){return this.radius}getBrushCoordinates(){return this.brush.toObject()}getPointerCoordinates(){return this.pointer.toObject()}getBrush(){return this.brush}getPointer(){return this.pointer}getAngle(){return this.angle}getDistance(){return this.distance}brushHasMoved(){return this._hasMoved}update(h,g={}){if(this._hasMoved=!1,this.pointer.equalsTo(h)&&!g.both&&!g.friction)return!1;if(this.pointer.update(h),g.both)return this._hasMoved=!0,this.brush.update(h),!0;if(this._isEnabled){this.distance=this.pointer.getDistanceTo(this.brush),this.angle=this.pointer.getAngleTo(this.brush);const it=Math.round((this.distance-this.radius)*10)/10>0,ut=g.friction&&g.friction<1&&g.friction>0?g.friction:void 0;it&&(this.brush.moveByAngle(this.angle,this.distance-this.radius,ut),this._hasMoved=!0)}else this.distance=0,this.angle=0,this.brush.update(h),this._hasMoved=!0;return!0}}var lib$2={},Catenary$2={},Point$1={};Object.defineProperty(Point$1,"__esModule",{value:!0});var _createClass$1=function(){function s(h,g){for(var it=0;it<g.length;it++){var ut=g[it];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(h,ut.key,ut)}}return function(h,g,it){return g&&s(h.prototype,g),it&&s(h,it),h}}();function _classCallCheck$1(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}var Point=function(){function s(h,g){_classCallCheck$1(this,s),this.x=h,this.y=g}return _createClass$1(s,[{key:"update",value:function(g){this.x=g.x,this.y=g.y}},{key:"getDifferenceTo",value:function(g){return new s(this.x-g.x,this.y-g.y)}},{key:"getDistanceTo",value:function(g){var it=this.getDifferenceTo(g);return Math.sqrt(Math.pow(it.x,2)+Math.pow(it.y,2))}}]),s}();Point$1.default=Point;Object.defineProperty(Catenary$2,"__esModule",{value:!0});var _createClass=function(){function s(h,g){for(var it=0;it<g.length;it++){var ut=g[it];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(h,ut.key,ut)}}return function(h,g,it){return g&&s(h.prototype,g),it&&s(h,it),h}}(),_Point$1=Point$1,_Point2$1=_interopRequireDefault$1(_Point$1);function _interopRequireDefault$1(s){return s&&s.__esModule?s:{default:s}}function _classCallCheck(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}var EPSILON=1e-6,Catenary$1=function(){function s(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=h.segments,it=g===void 0?50:g,ut=h.iterationLimit,ct=ut===void 0?100:ut;_classCallCheck(this,s),this.p1=new _Point2$1.default,this.p2=new _Point2$1.default,this.segments=it,this.iterationLimit=ct}return _createClass(s,[{key:"drawToCanvas",value:function(g,it,ut,ct){this.p1.update(it),this.p2.update(ut);var dt=this.p1.x>this.p2.x,ht=dt?this.p2:this.p1,pt=dt?this.p1:this.p2,mt=ht.getDistanceTo(pt),vt=[],gt=!0;if(mt<ct){var yt=pt.x-ht.x;if(yt>.01){var bt=pt.x-ht.x,wt=pt.y-ht.y,Et=-this.getCatenaryParameter(bt,wt,ct,this.iterationLimit),Mt=(Et*Math.log((ct+wt)/(ct-wt))-bt)*.5,Dt=Et*Math.cosh(Mt/Et),$t=ht.x-Mt,_t=ht.y-Dt;vt=this.getCurve(Et,ht,pt,$t,_t,this.segments),gt=!1}else{var Nt=(ht.x+pt.x)*.5,kt=(ht.y+pt.y+ct)*.5;vt=[[ht.x,ht.y],[Nt,kt],[pt.x,pt.y]]}}else vt=[[ht.x,ht.y],[pt.x,pt.y]];return gt?this.drawLine(vt,g):this.drawCurve(vt,g),vt}},{key:"getCatenaryParameter",value:function(g,it,ut,ct){for(var dt=Math.sqrt(ut*ut-it*it)/g,ht=Math.acosh(dt)+1,pt=-1,mt=0;Math.abs(ht-pt)>EPSILON&&mt<ct;)pt=ht,ht=ht-(Math.sinh(ht)-dt*ht)/(Math.cosh(ht)-dt),mt++;return g/(2*ht)}},{key:"getCurve",value:function(g,it,ut,ct,dt,ht){for(var pt=[it.x,g*Math.cosh((it.x-ct)/g)+dt],mt=ut.x-it.x,vt=ht-1,gt=0;gt<vt;gt++){var yt=it.x+mt*(gt+.5)/vt,bt=g*Math.cosh((yt-ct)/g)+dt;pt.push(yt,bt)}return pt.push(ut.x,g*Math.cosh((ut.x-ct)/g)+dt),pt}},{key:"drawLine",value:function(g,it){it.moveTo(g[0][0],g[0][1]),it.lineTo(g[1][0],g[1][1])}},{key:"drawCurve",value:function(g,it){var ut=g.length*.5-1,ct=g[2],dt=g[3],ht=[];it.moveTo(g[0],g[1]);for(var pt=2;pt<ut;pt++){var mt=g[pt*2],vt=g[pt*2+1],gt=(mt+ct)*.5,yt=(vt+dt)*.5;ht.push([ct,dt,gt,yt]),it.quadraticCurveTo(ct,dt,gt,yt),ct=mt,dt=vt}return ut=g.length,it.quadraticCurveTo(g[ut-4],g[ut-3],g[ut-2],g[ut-1]),ht}}]),s}();Catenary$2.default=Catenary$1;Object.defineProperty(lib$2,"__esModule",{value:!0});lib$2.Point=Catenary=lib$2.Catenary=void 0;var _Catenary=Catenary$2,_Catenary2=_interopRequireDefault(_Catenary),_Point=Point$1,_Point2=_interopRequireDefault(_Point);function _interopRequireDefault(s){return s&&s.__esModule?s:{default:s}}var Catenary=lib$2.Catenary=_Catenary2.default;lib$2.Point=_Point2.default;var MapShim=function(){if(typeof Map<"u")return Map;function s(h,g){var it=-1;return h.some(function(ut,ct){return ut[0]===g?(it=ct,!0):!1}),it}return function(){function h(){this.__entries__=[]}return Object.defineProperty(h.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),h.prototype.get=function(g){var it=s(this.__entries__,g),ut=this.__entries__[it];return ut&&ut[1]},h.prototype.set=function(g,it){var ut=s(this.__entries__,g);~ut?this.__entries__[ut][1]=it:this.__entries__.push([g,it])},h.prototype.delete=function(g){var it=this.__entries__,ut=s(it,g);~ut&&it.splice(ut,1)},h.prototype.has=function(g){return!!~s(this.__entries__,g)},h.prototype.clear=function(){this.__entries__.splice(0)},h.prototype.forEach=function(g,it){it===void 0&&(it=null);for(var ut=0,ct=this.__entries__;ut<ct.length;ut++){var dt=ct[ut];g.call(it,dt[1],dt[0])}},h}()}(),isBrowser=typeof window<"u"&&typeof document<"u"&&window.document===document,global$1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),requestAnimationFrame$1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(global$1):function(s){return setTimeout(function(){return s(Date.now())},1e3/60)}}(),trailingTimeout=2;function throttle$2(s,h){var g=!1,it=!1,ut=0;function ct(){g&&(g=!1,s()),it&&ht()}function dt(){requestAnimationFrame$1(ct)}function ht(){var pt=Date.now();if(g){if(pt-ut<trailingTimeout)return;it=!0}else g=!0,it=!1,setTimeout(dt,h);ut=pt}return ht}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported=typeof MutationObserver<"u",ResizeObserverController=function(){function s(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle$2(this.refresh.bind(this),REFRESH_DELAY)}return s.prototype.addObserver=function(h){~this.observers_.indexOf(h)||this.observers_.push(h),this.connected_||this.connect_()},s.prototype.removeObserver=function(h){var g=this.observers_,it=g.indexOf(h);~it&&g.splice(it,1),!g.length&&this.connected_&&this.disconnect_()},s.prototype.refresh=function(){var h=this.updateObservers_();h&&this.refresh()},s.prototype.updateObservers_=function(){var h=this.observers_.filter(function(g){return g.gatherActive(),g.hasActive()});return h.forEach(function(g){return g.broadcastActive()}),h.length>0},s.prototype.connect_=function(){!isBrowser||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},s.prototype.disconnect_=function(){!isBrowser||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},s.prototype.onTransitionEnd_=function(h){var g=h.propertyName,it=g===void 0?"":g,ut=transitionKeys.some(function(ct){return!!~it.indexOf(ct)});ut&&this.refresh()},s.getInstance=function(){return this.instance_||(this.instance_=new s),this.instance_},s.instance_=null,s}(),defineConfigurable=function(s,h){for(var g=0,it=Object.keys(h);g<it.length;g++){var ut=it[g];Object.defineProperty(s,ut,{value:h[ut],enumerable:!1,writable:!1,configurable:!0})}return s},getWindowOf=function(s){var h=s&&s.ownerDocument&&s.ownerDocument.defaultView;return h||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(s){return parseFloat(s)||0}function getBordersSize(s){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];return h.reduce(function(it,ut){var ct=s["border-"+ut+"-width"];return it+toFloat(ct)},0)}function getPaddings(s){for(var h=["top","right","bottom","left"],g={},it=0,ut=h;it<ut.length;it++){var ct=ut[it],dt=s["padding-"+ct];g[ct]=toFloat(dt)}return g}function getSVGContentRect(s){var h=s.getBBox();return createRectInit(0,0,h.width,h.height)}function getHTMLElementContentRect(s){var h=s.clientWidth,g=s.clientHeight;if(!h&&!g)return emptyRect;var it=getWindowOf(s).getComputedStyle(s),ut=getPaddings(it),ct=ut.left+ut.right,dt=ut.top+ut.bottom,ht=toFloat(it.width),pt=toFloat(it.height);if(it.boxSizing==="border-box"&&(Math.round(ht+ct)!==h&&(ht-=getBordersSize(it,"left","right")+ct),Math.round(pt+dt)!==g&&(pt-=getBordersSize(it,"top","bottom")+dt)),!isDocumentElement(s)){var mt=Math.round(ht+ct)-h,vt=Math.round(pt+dt)-g;Math.abs(mt)!==1&&(ht-=mt),Math.abs(vt)!==1&&(pt-=vt)}return createRectInit(ut.left,ut.top,ht,pt)}var isSVGGraphicsElement=function(){return typeof SVGGraphicsElement<"u"?function(s){return s instanceof getWindowOf(s).SVGGraphicsElement}:function(s){return s instanceof getWindowOf(s).SVGElement&&typeof s.getBBox=="function"}}();function isDocumentElement(s){return s===getWindowOf(s).document.documentElement}function getContentRect(s){return isBrowser?isSVGGraphicsElement(s)?getSVGContentRect(s):getHTMLElementContentRect(s):emptyRect}function createReadOnlyRect(s){var h=s.x,g=s.y,it=s.width,ut=s.height,ct=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,dt=Object.create(ct.prototype);return defineConfigurable(dt,{x:h,y:g,width:it,height:ut,top:g,right:h+it,bottom:ut+g,left:h}),dt}function createRectInit(s,h,g,it){return{x:s,y:h,width:g,height:it}}var ResizeObservation=function(){function s(h){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=h}return s.prototype.isActive=function(){var h=getContentRect(this.target);return this.contentRect_=h,h.width!==this.broadcastWidth||h.height!==this.broadcastHeight},s.prototype.broadcastRect=function(){var h=this.contentRect_;return this.broadcastWidth=h.width,this.broadcastHeight=h.height,h},s}(),ResizeObserverEntry=function(){function s(h,g){var it=createReadOnlyRect(g);defineConfigurable(this,{target:h,contentRect:it})}return s}(),ResizeObserverSPI=function(){function s(h,g,it){if(this.activeObservations_=[],this.observations_=new MapShim,typeof h!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=h,this.controller_=g,this.callbackCtx_=it}return s.prototype.observe=function(h){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(h instanceof getWindowOf(h).Element))throw new TypeError('parameter 1 is not of type "Element".');var g=this.observations_;g.has(h)||(g.set(h,new ResizeObservation(h)),this.controller_.addObserver(this),this.controller_.refresh())}},s.prototype.unobserve=function(h){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(h instanceof getWindowOf(h).Element))throw new TypeError('parameter 1 is not of type "Element".');var g=this.observations_;g.has(h)&&(g.delete(h),g.size||this.controller_.removeObserver(this))}},s.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},s.prototype.gatherActive=function(){var h=this;this.clearActive(),this.observations_.forEach(function(g){g.isActive()&&h.activeObservations_.push(g)})},s.prototype.broadcastActive=function(){if(this.hasActive()){var h=this.callbackCtx_,g=this.activeObservations_.map(function(it){return new ResizeObserverEntry(it.target,it.broadcastRect())});this.callback_.call(h,g,h),this.clearActive()}},s.prototype.clearActive=function(){this.activeObservations_.splice(0)},s.prototype.hasActive=function(){return this.activeObservations_.length>0},s}(),observers=typeof WeakMap<"u"?new WeakMap:new MapShim,ResizeObserver$1=function(){function s(h){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var g=ResizeObserverController.getInstance(),it=new ResizeObserverSPI(h,g,this);observers.set(this,it)}return s}();["observe","unobserve","disconnect"].forEach(function(s){ResizeObserver$1.prototype[s]=function(){var h;return(h=observers.get(this))[s].apply(h,arguments)}});var index$1=function(){return typeof global$1.ResizeObserver<"u"?global$1.ResizeObserver:ResizeObserver$1}();const NULL_VIEW_POINT=Object.freeze({x:0,y:0,untransformedX:0,untransformedY:0}),NULL_BOUNDS=Object.freeze({canvasWidth:0,canvasHeight:0,left:0,top:0,right:0,bottom:0,viewMin:NULL_VIEW_POINT,viewMax:NULL_VIEW_POINT}),IDENTITY=Object.freeze({a:1,b:0,c:0,d:1,e:0,f:0});class CoordinateSystem{constructor({scaleExtents:h,documentSize:g}){rn(this,"_scaleExtents");rn(this,"_documentSize");rn(this,"_canvas",null);rn(this,"_view",{scale:1,x:0,y:0});rn(this,"_viewChangeListeners",new Set);rn(this,"setScale",h=>{this.setView({scale:h})});rn(this,"clampView",({scale:h,x:g,y:it})=>{const{min:ut,max:ct}=this.scaleExtents,{width:dt,height:ht}=this.documentSize,{left:pt,top:mt,right:vt,bottom:gt}=this.canvasRect||NULL_BOUNDS,yt=vt-pt,bt=gt-mt,wt=yt/2,Et=-(dt*this._view.scale-yt/2),Mt=bt/2,Dt=-(ht*this._view.scale-bt/2);return{scale:Math.min(Math.max(h,ut),ct),x:Math.min(Math.max(g,Et),wt),y:Math.min(Math.max(it,Dt),Mt)}});rn(this,"resetView",()=>{this.setView({scale:1,x:0,y:0})});rn(this,"setView",h=>{const g=this.clampView({...this._view,...h||{}}),{scale:it,x:ut,y:ct}=this._view;return(g.scale!==it||g.x!==ut||g.y!==ct)&&(this._view=g,this._viewChangeListeners.forEach(dt=>dt&&dt(g))),{...this._view}});rn(this,"scaleAtClientPoint",(h,g)=>{const it=this.clientPointToViewPoint(g),ut=this.clampView({...this._view,scale:this._view.scale+h}),ct=this.viewPointToClientPoint(it,ut);return ut.x=this._view.x-(ct.clientX-g.clientX),ut.y=this._view.y-(ct.clientY-g.clientY),this.setView(ut)});rn(this,"clientPointToViewPoint",({clientX:h,clientY:g},it=this._view)=>{const{left:ut,top:ct}=this.canvasRect||NULL_BOUNDS,dt=h-ut,ht=g-ct;return{x:(dt-it.x)/it.scale,y:(ht-it.y)/it.scale,relativeClientX:dt,relativeClientY:ht}});rn(this,"viewPointToClientPoint",({x:h,y:g},it=this._view)=>{const{left:ut,top:ct}=this.canvasRect||NULL_BOUNDS,dt=h*it.scale+it.x,ht=g*it.scale+it.y,pt=dt+ut,mt=ht+ct;return{clientX:pt,clientY:mt,relativeX:dt,relativeY:ht,x:pt,y:mt}});rn(this,"attachViewChangeListener",h=>{this._viewChangeListeners.add(h)});this._scaleExtents=h,this._documentSize=g}get canvas(){return this._canvas}set canvas(h){this._canvas=h,this.setView()}get scale(){return this._view.scale}get x(){return this._view.x}set x(h){this.setView({x:h})}get y(){return this._view.y}set y(h){this.setView({y:h})}get view(){return{...this._view}}get scaleExtents(){return{...this._scaleExtents}}set scaleExtents({min:h,max:g}){this._scaleExtents={min:h,max:g},this.setView()}get documentSize(){return{...this._documentSize}}set documentSize({width:h,height:g}){this._documentSize={width:h,height:g},this.setView()}get transformMatrix(){return{a:this._view.scale,b:0,c:0,d:this._view.scale,e:this._view.x,f:this._view.y}}get canvasBounds(){if(this._canvas){const{left:h,top:g,right:it,bottom:ut}=this._canvas.getBoundingClientRect();return{viewMin:this.clientPointToViewPoint({clientX:h,clientY:g}),viewMax:this.clientPointToViewPoint({clientX:it,clientY:ut}),left:h,top:g,right:it,bottom:ut,canvasWidth:this._canvas.width,canvasHeight:this._canvas.height}}else return}get canvasRect(){if(this.canvas)return this.canvas.getBoundingClientRect()}}function drawImageProp({ctx:s,img:h,x:g,y:it,offsetX:ut,offsetY:ct}={}){typeof g!="number"&&(g=0),typeof it!="number"&&(it=0),typeof ut!="number"&&(ut=.5),typeof ct!="number"&&(ct=.5),ut<0&&(ut=0),ct<0&&(ct=0),ut>1&&(ut=1),ct>1&&(ct=1);var dt=h.width,ht=h.height,pt,mt;pt=(dt-dt)*ut,mt=(ht-ht)*ct;var vt=g+(s.canvas.width-dt)*.5,gt=it+(s.canvas.height-ht)*.5;s.drawImage(h,pt,mt,dt,ht,vt,gt,dt,ht)}const TOUCH_SLOP=10,PINCH_TIMEOUT_MS=250,SUPPRESS_SCROLL=s=>(s.preventDefault(),globalThis);class DefaultState{constructor(){rn(this,"handleMouseWheel",(h,g)=>{const{disabled:it,enablePanAndZoom:ut,mouseZoomFactor:ct}=g.props;return it?new DisabledState:(ut&&h.ctrlKey&&(h.preventDefault(),g.coordSystem.scaleAtClientPoint(ct*h.deltaY,clientPointFromEvent(h))),this)});rn(this,"handleDrawStart",(h,g)=>g.props.disabled?new DisabledState:h.ctrlKey&&g.props.enablePanAndZoom?new PanState().handleDrawStart(h,g):new WaitForPinchState().handleDrawStart(h,g));rn(this,"handleDrawMove",(h,g)=>{if(g.props.disabled)return new DisabledState;{const{x:it,y:ut}=viewPointFromEvent(g.coordSystem,h);return g.lazy.update({x:it,y:ut}),this}});rn(this,"handleDrawEnd",(h,g)=>g.props.disabled?new DisabledState:this)}}class DisabledState{constructor(){rn(this,"handleMouseWheel",(h,g)=>g.props.disabled?this:new DefaultState().handleMouseWheel(h,g));rn(this,"handleDrawStart",(h,g)=>g.props.disabled?this:new DefaultState().handleDrawStart(h,g));rn(this,"handleDrawMove",(h,g)=>g.props.disabled?this:new DefaultState().handleDrawMove(h,g));rn(this,"handleDrawEnd",(h,g)=>g.props.disabled?this:new DefaultState().handleDrawEnd(h,g))}}class PanState{constructor(){rn(this,"handleMouseWheel",SUPPRESS_SCROLL.bind(this));rn(this,"handleDrawStart",(h,g)=>(h.preventDefault(),this.dragStart=clientPointFromEvent(h),this.panStart={x:g.coordSystem.x,y:g.coordSystem.y},this));rn(this,"handleDrawMove",(h,g)=>{h.preventDefault();const{clientX:it,clientY:ut}=clientPointFromEvent(h),ct=it-this.dragStart.clientX,dt=ut-this.dragStart.clientY;return g.coordSystem.setView({x:this.panStart.x+ct,y:this.panStart.y+dt}),this});rn(this,"handleDrawEnd",()=>new DefaultState)}}class WaitForPinchState{constructor(){rn(this,"handleMouseWheel",SUPPRESS_SCROLL.bind(this));rn(this,"handleDrawStart",(h,g)=>{const{enablePanAndZoom:it}=g.props;return h.preventDefault(),!h.touches||!h.touches.length||!it?new DrawingState().handleDrawStart(h,g):it&&h.touches&&h.touches.length>=2?new ScaleOrPanState().handleDrawStart(h,g):this.handleDrawMove(h,g)});rn(this,"handleDrawMove",(h,g)=>{if(h.preventDefault(),h.touches&&h.touches.length>=2)return new ScaleOrPanState().handleDrawStart(h,g);const it=clientPointFromEvent(h);return this.deferredPoints.push(it),new Date().valueOf()-this.startTimestamp<PINCH_TIMEOUT_MS&&(this.startClientPoint===null&&(this.startClientPoint=it),Math.abs(it.clientX-this.startClientPoint.clientX)+Math.abs(it.clientY-this.startClientPoint.clientY)<TOUCH_SLOP)?this:this.issueDeferredPoints(g)});rn(this,"handleDrawEnd",(h,g)=>this.issueDeferredPoints(g).handleDrawEnd(h,g));rn(this,"issueDeferredPoints",h=>{let g=new DrawingState;for(let it=0;it<this.deferredPoints.length;it++){const ut=this.deferredPoints[it],ct=new SyntheticEvent(ut);g=(it===0?g.handleDrawStart:g.handleDrawMove)(ct,h)}return g});this.startClientPoint=null,this.startTimestamp=new Date().valueOf(),this.deferredPoints=[]}}class ScaleOrPanState{constructor(){rn(this,"handleMouseWheel",SUPPRESS_SCROLL.bind(this));rn(this,"handleDrawStart",(h,g)=>(h.preventDefault(),!h.touches||h.touches.length<2?new DefaultState:(this.start=this.getTouchMetrics(h),this.panStart={x:g.coordSystem.x,y:g.coordSystem.y},this.scaleStart=g.coordSystem.scale,this)));rn(this,"handleDrawMove",(h,g)=>{if(h.preventDefault(),!h.touches||h.touches.length<2)return new DefaultState;const{centroid:it,distance:ut}=this.recentMetrics=this.getTouchMetrics(h);if(Math.abs(ut-this.start.distance)>=TOUCH_SLOP)return new TouchScaleState(this).handleDrawMove(h,g);const dt=it.clientX-this.start.centroid.clientX,ht=it.clientY-this.start.centroid.clientY;return Math.abs(dt)+Math.abs(ht)>=TOUCH_SLOP?new TouchPanState(this).handleDrawMove(h,g):this});rn(this,"handleDrawEnd",()=>new DefaultState);rn(this,"getTouchMetrics",h=>{const{clientX:g,clientY:it}=clientPointFromEvent(h.touches[0]),{clientX:ut,clientY:ct}=clientPointFromEvent(h.touches[1]),dt=ut-g,ht=ct-it;return{t1:{clientX:g,clientY:it},t2:{clientX:ut,clientY:ct},distance:Math.sqrt(dt*dt+ht*ht),centroid:{clientX:(g+ut)/2,clientY:(it+ct)/2}}})}}class TouchPanState{constructor(h){rn(this,"handleMouseWheel",SUPPRESS_SCROLL.bind(this));rn(this,"handleDrawStart",()=>this);rn(this,"handleDrawMove",(h,g)=>{if(h.preventDefault(),!h.touches||h.touches.length<2)return new DefaultState;const it=this.scaleOrPanState,{centroid:ut,distance:ct}=it.recentMetrics=it.getTouchMetrics(h),dt=ut.clientX-it.start.centroid.clientX,ht=ut.clientY-it.start.centroid.clientY;return g.setView({x:it.panStart.x+dt,y:it.panStart.y+ht}),this});rn(this,"handleDrawEnd",()=>new DefaultState);this.scaleOrPanState=h}}class TouchScaleState{constructor(h){rn(this,"handleMouseWheel",SUPPRESS_SCROLL.bind(this));rn(this,"handleDrawStart",()=>this);rn(this,"handleDrawMove",(h,g)=>{if(h.preventDefault(),!h.touches||h.touches.length<2)return new DefaultState;const it=this.scaleOrPanState,{centroid:ut,distance:ct}=it.recentMetrics=it.getTouchMetrics(h),ht=it.scaleStart*(ct/it.start.distance)-g.coordSystem.scale;return g.coordSystem.scaleAtClientPoint(ht,ut),this});rn(this,"handleDrawEnd",()=>new DefaultState);this.scaleOrPanState=h}}class DrawingState{constructor(){rn(this,"handleMouseWheel",SUPPRESS_SCROLL.bind(this));rn(this,"handleDrawStart",(h,g)=>{if(h.preventDefault(),h.touches&&h.touches.length){const{x:it,y:ut}=viewPointFromEvent(g.coordSystem,h);g.lazy.update({x:it,y:ut},{both:!0})}return this.handleDrawMove(h,g)});rn(this,"handleDrawMove",(h,g)=>{h.preventDefault();const{x:it,y:ut}=viewPointFromEvent(g.coordSystem,h);g.lazy.update({x:it,y:ut});const ct=!g.lazy.isEnabled();return(!this.isDrawing||ct)&&(g.points.push(g.clampPointToDocument(g.lazy.brush.toObject())),this.isDrawing=!0),g.points.push(g.clampPointToDocument(g.lazy.brush.toObject())),g.drawPoints({points:g.points,brushColor:g.props.brushColor,brushRadius:g.props.brushRadius}),this});rn(this,"handleDrawEnd",(h,g)=>(h.preventDefault(),this.handleDrawMove(h,g),g.saveLine(),new DefaultState));this.isDrawing=!1}}class SyntheticEvent{constructor({clientX:h,clientY:g}){rn(this,"preventDefault",()=>{});this.clientX=h,this.clientY=g,this.touches=[{clientX:h,clientY:g}]}}function clientPointFromEvent(s){let h=s.clientX,g=s.clientY;return s.changedTouches&&s.changedTouches.length>0&&(h=s.changedTouches[0].clientX,g=s.changedTouches[0].clientY),{clientX:h,clientY:g}}function viewPointFromEvent(s,h){return s.clientPointToViewPoint(clientPointFromEvent(h))}let passiveSupported=!1;try{const s={get passive(){return passiveSupported=!0,!1}};window.addEventListener("test",s,s),window.removeEventListener("test",s,s)}catch{passiveSupported=!1}function makePassiveEventOption(s){return passiveSupported?{passive:s}:s}function midPointBtw(s,h){return{x:s.x+(h.x-s.x)/2,y:s.y+(h.y-s.y)/2}}const canvasStyle={display:"block",position:"absolute"},canvasTypes=["grid","drawing","temp","interface"],dimensionsPropTypes=PropTypes.oneOfType([PropTypes.number,PropTypes.string]),boundsProp=PropTypes.shape({min:PropTypes.number.isRequired,max:PropTypes.number.isRequired});class CanvasDraw extends reactExports.PureComponent{constructor(g){super(g);rn(this,"undo",()=>{let g=[];this.lines.length?g=this.lines.slice(0,-1):this.erasedLines.length&&(g=this.erasedLines.pop()),this.clearExceptErasedLines(),this.simulateDrawingLines({lines:g,immediate:!0}),this.triggerOnChange()});rn(this,"eraseAll",()=>{this.erasedLines.push([...this.lines]),this.clearExceptErasedLines(),this.triggerOnChange()});rn(this,"clear",()=>{this.erasedLines=[],this.clearExceptErasedLines(),this.resetView()});rn(this,"resetView",()=>this.coordSystem.resetView());rn(this,"setView",g=>this.coordSystem.setView(g));rn(this,"getSaveData",()=>JSON.stringify({lines:this.lines,width:this.props.canvasWidth,height:this.props.canvasHeight}));rn(this,"getDataURL",(g,it,ut)=>{let ct=this.canvas.drawing,dt=ct.getContext("2d"),ht=ct.width,pt=ct.height,mt=dt.getImageData(0,0,ht,pt);var vt=dt.globalCompositeOperation;if(dt.globalCompositeOperation="destination-over",it){if(!this.props.imgSrc)return"Background image source not set";this.drawImage()}else ut!=null&&(dt.fillStyle=ut,dt.fillRect(0,0,ht,pt));g||(g="png");let gt=ct.toDataURL(`image/${g}`);return dt.clearRect(0,0,ht,pt),dt.putImageData(mt,0,0),dt.globalCompositeOperation=vt,gt});rn(this,"loadSaveData",(g,it=this.props.immediateLoading)=>{if(typeof g!="string")throw new Error("saveData needs to be of type string!");const{lines:ut,width:ct,height:dt}=JSON.parse(g);if(!ut||typeof ut.push!="function")throw new Error("saveData.lines needs to be an array!");if(this.clear(),ct===this.props.canvasWidth&&dt===this.props.canvasHeight)this.simulateDrawingLines({lines:ut,immediate:it});else{const ht=this.props.canvasWidth/ct,pt=this.props.canvasHeight/dt,mt=(ht+pt)/2;this.simulateDrawingLines({lines:ut.map(vt=>({...vt,points:vt.points.map(gt=>({x:gt.x*ht,y:gt.y*pt})),brushRadius:vt.brushRadius*mt})),immediate:it})}});rn(this,"componentWillUnmount",()=>{this.canvasObserver.unobserve(this.canvasContainer),this.canvas.interface&&this.canvas.interface.removeEventListener("wheel",this.handleWheel)});rn(this,"handleWheel",g=>{this.interactionSM=this.interactionSM.handleMouseWheel(g,this)});rn(this,"handleDrawStart",g=>{this.interactionSM=this.interactionSM.handleDrawStart(g,this),this.mouseHasMoved=!0});rn(this,"handleDrawMove",g=>{this.interactionSM=this.interactionSM.handleDrawMove(g,this),this.mouseHasMoved=!0});rn(this,"handleDrawEnd",g=>{this.interactionSM=this.interactionSM.handleDrawEnd(g,this),this.mouseHasMoved=!0});rn(this,"applyView",()=>{if(this.ctx.drawing&&(canvasTypes.map(g=>this.ctx[g]).forEach(g=>{this.clearWindow(g);const it=this.coordSystem.transformMatrix;g.setTransform(it.a,it.b,it.c,it.d,it.e,it.f)}),!this.deferRedrawOnViewChange)){this.drawGrid(this.ctx.grid),this.redrawImage(),this.loop({once:!0});const g=this.lines;this.lines=[],this.simulateDrawingLines({lines:g,immediate:!0})}});rn(this,"handleCanvasResize",g=>{const it=this.getSaveData();this.deferRedrawOnViewChange=!0;try{for(const ut of g){const{width:ct,height:dt}=ut.contentRect;this.setCanvasSize(this.canvas.interface,ct,dt),this.setCanvasSize(this.canvas.drawing,ct,dt),this.setCanvasSize(this.canvas.temp,ct,dt),this.setCanvasSize(this.canvas.grid,ct,dt),this.coordSystem.documentSize={width:ct,height:dt},this.drawGrid(this.ctx.grid),this.drawImage(),this.loop({once:!0})}this.loadSaveData(it,!0)}finally{this.deferRedrawOnViewChange=!1}});rn(this,"clampPointToDocument",g=>this.props.clampLinesToDocument?{x:Math.max(Math.min(g.x,this.props.canvasWidth),0),y:Math.max(Math.min(g.y,this.props.canvasHeight),0)}:g);rn(this,"redrawImage",()=>{this.image&&this.image.complete&&drawImageProp({ctx:this.ctx.grid,img:this.image})});rn(this,"simulateDrawingLines",({lines:g,immediate:it})=>{let ut=0,ct=it?0:this.props.loadTimeOffset;g.forEach(dt=>{const{points:ht,brushColor:pt,brushRadius:mt}=dt;if(it){this.drawPoints({points:ht,brushColor:pt,brushRadius:mt}),this.points=ht,this.saveLine({brushColor:pt,brushRadius:mt});return}for(let vt=1;vt<ht.length;vt++)ut+=ct,window.setTimeout(()=>{this.drawPoints({points:ht.slice(0,vt+1),brushColor:pt,brushRadius:mt})},ut);ut+=ct,window.setTimeout(()=>{this.points=ht,this.saveLine({brushColor:pt,brushRadius:mt})},ut)})});rn(this,"setCanvasSize",(g,it,ut)=>{g.width=it,g.height=ut,g.style.width=it,g.style.height=ut});rn(this,"drawPoints",({points:g,brushColor:it,brushRadius:ut})=>{this.ctx.temp.lineJoin="round",this.ctx.temp.lineCap="round",this.ctx.temp.strokeStyle=it,this.clearWindow(this.ctx.temp),this.ctx.temp.lineWidth=ut*2;let ct=g[0],dt=g[1];this.ctx.temp.moveTo(dt.x,dt.y),this.ctx.temp.beginPath();for(var ht=1,pt=g.length;ht<pt;ht++){var mt=midPointBtw(ct,dt);this.ctx.temp.quadraticCurveTo(ct.x,ct.y,mt.x,mt.y),ct=g[ht],dt=g[ht+1]}this.ctx.temp.lineTo(ct.x,ct.y),this.ctx.temp.stroke()});rn(this,"saveLine",({brushColor:g,brushRadius:it}={})=>{this.points.length<2||(this.lines.push({points:[...this.points],brushColor:g||this.props.brushColor,brushRadius:it||this.props.brushRadius}),this.points.length=0,this.inClientSpace([this.ctx.drawing,this.ctx.temp],()=>{this.ctx.drawing.drawImage(this.canvas.temp,0,0,this.canvas.drawing.width,this.canvas.drawing.height)}),this.clearWindow(this.ctx.temp),this.triggerOnChange())});rn(this,"triggerOnChange",()=>{this.props.onChange&&this.props.onChange(this)});rn(this,"clearWindow",g=>{this.inClientSpace([g],()=>g.clearRect(0,0,g.canvas.width,g.canvas.height))});rn(this,"clearExceptErasedLines",()=>{this.lines=[],this.valuesChanged=!0,this.clearWindow(this.ctx.drawing),this.clearWindow(this.ctx.temp)});rn(this,"loop",({once:g=!1}={})=>{if(this.mouseHasMoved||this.valuesChanged){const it=this.lazy.getPointerCoordinates(),ut=this.lazy.getBrushCoordinates();this.drawInterface(this.ctx.interface,it,ut),this.mouseHasMoved=!1,this.valuesChanged=!1}g||window.requestAnimationFrame(()=>{this.loop()})});rn(this,"inClientSpace",(g,it)=>{g.forEach(ut=>{ut.save(),ut.setTransform(IDENTITY.a,IDENTITY.b,IDENTITY.c,IDENTITY.d,IDENTITY.e,IDENTITY.f)});try{it()}finally{g.forEach(ut=>ut.restore())}});rn(this,"drawImage",()=>{this.props.imgSrc&&(this.image=new Image,this.image.crossOrigin="anonymous",this.image.onload=this.redrawImage,this.image.src=this.props.imgSrc)});rn(this,"drawGrid",g=>{if(this.props.hideGrid)return;this.clearWindow(g);const it=25,{viewMin:ut,viewMax:ct}=this.coordSystem.canvasBounds,dt=Math.floor(ut.x/it-1)*it,ht=Math.floor(ut.y/it-1)*it,pt=ct.x+it,mt=ct.y+it;if(g.beginPath(),g.setLineDash([5,1]),g.setLineDash([]),g.strokeStyle=this.props.gridColor,g.lineWidth=this.props.gridLineWidth,!this.props.hideGridX){let vt=dt;const gt=this.props.gridSizeX;for(;vt<pt;)vt+=gt,g.moveTo(vt,ht),g.lineTo(vt,mt);g.stroke()}if(!this.props.hideGridY){let vt=ht;const gt=this.props.gridSizeY;for(;vt<mt;)vt+=gt,g.moveTo(dt,vt),g.lineTo(pt,vt);g.stroke()}});rn(this,"drawInterface",(g,it,ut)=>{this.props.hideInterface||(this.clearWindow(g),g.beginPath(),g.fillStyle=this.props.brushColor,g.arc(ut.x,ut.y,this.props.brushRadius,0,Math.PI*2,!0),g.fill(),g.beginPath(),g.fillStyle=this.props.catenaryColor,g.arc(it.x,it.y,4,0,Math.PI*2,!0),g.fill(),this.lazy.isEnabled()&&(g.beginPath(),g.lineWidth=2,g.lineCap="round",g.setLineDash([2,4]),g.strokeStyle=this.props.catenaryColor,this.catenary.drawToCanvas(this.ctx.interface,ut,it,this.chainLength),g.stroke()),g.beginPath(),g.fillStyle=this.props.catenaryColor,g.arc(ut.x,ut.y,2,0,Math.PI*2,!0),g.fill())});this.canvas={},this.ctx={},this.catenary=new Catenary,this.points=[],this.lines=[],this.erasedLines=[],this.mouseHasMoved=!0,this.valuesChanged=!0,this.isDrawing=!1,this.isPressing=!1,this.deferRedrawOnViewChange=!1,this.interactionSM=new DefaultState,this.coordSystem=new CoordinateSystem({scaleExtents:g.zoomExtents,documentSize:{width:g.canvasWidth,height:g.canvasHeight}}),this.coordSystem.attachViewChangeListener(this.applyView.bind(this))}componentDidMount(){this.lazy=new c({radius:this.props.lazyRadius*window.devicePixelRatio,enabled:!0,initialPoint:{x:window.innerWidth/2,y:window.innerHeight/2}}),this.chainLength=this.props.lazyRadius*window.devicePixelRatio,this.canvasObserver=new index$1((g,it)=>this.handleCanvasResize(g,it)),this.canvasObserver.observe(this.canvasContainer),this.drawImage(),this.loop(),window.setTimeout(()=>{const g=window.innerWidth/2,it=window.innerHeight/2;this.lazy.update({x:g-this.chainLength/4,y:it},{both:!0}),this.lazy.update({x:g+this.chainLength/4,y:it},{both:!1}),this.mouseHasMoved=!0,this.valuesChanged=!0,this.clearExceptErasedLines(),this.props.saveData&&this.loadSaveData(this.props.saveData)},100),this.canvas.interface&&this.canvas.interface.addEventListener("wheel",this.handleWheel,makePassiveEventOption())}componentDidUpdate(g){g.lazyRadius!==this.props.lazyRadius&&(this.chainLength=this.props.lazyRadius*window.devicePixelRatio,this.lazy.setRadius(this.props.lazyRadius*window.devicePixelRatio)),g.saveData!==this.props.saveData&&this.loadSaveData(this.props.saveData),JSON.stringify(g)!==JSON.stringify(this.props)&&(this.valuesChanged=!0),this.coordSystem.scaleExtents=this.props.zoomExtents,this.props.enablePanAndZoom||this.coordSystem.resetView(),g.imgSrc!==this.props.imgSrc&&this.drawImage()}render(){return jsxRuntimeExports.jsx("div",{className:this.props.className,style:{display:"block",background:this.props.backgroundColor,touchAction:"none",width:this.props.canvasWidth,height:this.props.canvasHeight,...this.props.style},ref:g=>{g&&(this.canvasContainer=g)},children:canvasTypes.map(g=>{const it=g==="interface";return jsxRuntimeExports.jsx("canvas",{ref:ut=>{ut&&(this.canvas[g]=ut,this.ctx[g]=ut.getContext("2d"),it&&(this.coordSystem.canvas=ut))},style:{...canvasStyle},onMouseDown:it?this.handleDrawStart:void 0,onMouseMove:it?this.handleDrawMove:void 0,onMouseUp:it?this.handleDrawEnd:void 0,onMouseOut:it?this.handleDrawEnd:void 0,onTouchStart:it?this.handleDrawStart:void 0,onTouchMove:it?this.handleDrawMove:void 0,onTouchEnd:it?this.handleDrawEnd:void 0,onTouchCancel:it?this.handleDrawEnd:void 0},g)})})}}rn(CanvasDraw,"propTypes",{onChange:PropTypes.func,loadTimeOffset:PropTypes.number,lazyRadius:PropTypes.number,brushRadius:PropTypes.number,brushColor:PropTypes.string,catenaryColor:PropTypes.string,gridColor:PropTypes.string,backgroundColor:PropTypes.string,hideGrid:PropTypes.bool,canvasWidth:dimensionsPropTypes,canvasHeight:dimensionsPropTypes,disabled:PropTypes.bool,imgSrc:PropTypes.string,saveData:PropTypes.string,immediateLoading:PropTypes.bool,hideInterface:PropTypes.bool,gridSizeX:PropTypes.number,gridSizeY:PropTypes.number,gridLineWidth:PropTypes.number,hideGridX:PropTypes.bool,hideGridY:PropTypes.bool,enablePanAndZoom:PropTypes.bool,mouseZoomFactor:PropTypes.number,zoomExtents:boundsProp,clampLinesToDocument:PropTypes.bool}),rn(CanvasDraw,"defaultProps",{onChange:null,loadTimeOffset:5,lazyRadius:12,brushRadius:10,brushColor:"#444",catenaryColor:"#0a0302",gridColor:"rgba(150,150,150,0.17)",backgroundColor:"#FFF",hideGrid:!1,canvasWidth:400,canvasHeight:400,disabled:!1,imgSrc:"",saveData:"",immediateLoading:!1,hideInterface:!1,gridSizeX:25,gridSizeY:25,gridLineWidth:.5,hideGridX:!1,hideGridY:!1,enablePanAndZoom:!1,mouseZoomFactor:.01,zoomExtents:{min:.33,max:3},clampLinesToDocument:!1});function ExperimentPhoto({canvasWidth:s,canvasHeight:h,cameraWidth:g,cameraHeight:it,isPortrait:ut,parentCallback:ct,savedImg:dt,savedCanvas:ht,saveSignal:pt}){const mt=reactExports.useRef(null),vt=reactExports.useRef(null),[gt,yt]=reactExports.useState(dt?JSON.parse(dt):null),[bt,wt]=reactExports.useState(ht?JSON.parse(ht):null),[Et,Mt]=reactExports.useState(ht?"draw":null);reactExports.useEffect(()=>{pt==!0&&ct(bt?JSON.stringify(vt.current.getSaveData()):null,gt?JSON.stringify(gt):null)},[pt]);const Dt=reactExports.useCallback(()=>{const Lt=mt.current.getScreenshot();yt(Lt),Mt("draw")},[mt]),$t=reactExports.useCallback(()=>{yt(null),Mt("camera")},[mt]),_t={width:ut?it:g,height:ut?g:it,facingMode:{exact:"environment"}},Nt=jsxRuntimeExports.jsx("div",{style:{border:"solid black 2px",display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(Webcam,{ref:mt,audio:!1,height:it,width:g,videoConstraints:_t})}),kt=jsxRuntimeExports.jsx(CanvasDraw,{ref:vt,onChange:null,imgSrc:gt,saveData:bt,immediateLoading:!0,canvasWidth:s,canvasHeight:h,lazyRadius:1,brushRadius:1,brushColor:"#000000",hideGrid:!1}),At=jsxRuntimeExports.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:[Et=="camera"&&Nt,Et=="draw"&&kt]}),Bt=jsxRuntimeExports.jsx(ButtonGroup$1,{children:jsxRuntimeExports.jsxs(ButtonGroup$1,{children:[jsxRuntimeExports.jsx(EPButton,{onClick:$t,children:"Kamera starten	"}),jsxRuntimeExports.jsx(EPButton,{onClick:Dt,children:"Foto aufnehmen "})]})}),Ft=jsxRuntimeExports.jsxs(ButtonGroup$1,{children:[jsxRuntimeExports.jsxs(EPButton,{style:{fontSize:"24px"},onClick:()=>{ct(JSON.stringify(vt.current.getSaveData()),JSON.stringify(gt))},children:[" ",jsxRuntimeExports.jsx(BiSolidSave,{})," "]}),jsxRuntimeExports.jsxs(EPButton,{style:{fontSize:"24px"},onClick:()=>{vt.current.eraseAll()},children:[" ",jsxRuntimeExports.jsx(BiTrash,{})," "]}),jsxRuntimeExports.jsxs(EPButton,{style:{fontSize:"24px"},onClick:()=>{vt.current.undo()},children:[" ",jsxRuntimeExports.jsx(BiUndo,{})," "]})]});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Bt,Et!=null&&jsxRuntimeExports.jsx(VerticalSpace$1,{}),At,Et!=null&&jsxRuntimeExports.jsx(VerticalSpace$1,{}),Et=="draw"&&Ft]})}st.div`
    width: ${s=>s.width?`${s.width}`:"100%"};
    height: ${s=>s.height?`${s.height}`:"100%"};
    background-color: white;
    border: solid white;
    display: grid;
    grid-template-columns: repeat(${s=>s.gridcols?`${s.gridcols}`:"10"}, 1fr);
    grid-template-rows: repeat(${s=>s.gridrows?`${s.gridrows}`:"10"}, minmax(30px, auto));
`;var reactArcher={exports:{}};(function(s,h){(function(g,it){s.exports=it(reactExports)})(typeof self<"u"?self:commonjsGlobal$1,function(g){return function(it){var ut={};function ct(dt){if(ut[dt])return ut[dt].exports;var ht=ut[dt]={i:dt,l:!1,exports:{}};return it[dt].call(ht.exports,ht,ht.exports,ct),ht.l=!0,ht.exports}return ct.m=it,ct.c=ut,ct.d=function(dt,ht,pt){ct.o(dt,ht)||Object.defineProperty(dt,ht,{enumerable:!0,get:pt})},ct.r=function(dt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(dt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(dt,"__esModule",{value:!0})},ct.t=function(dt,ht){if(1&ht&&(dt=ct(dt)),8&ht||4&ht&&typeof dt=="object"&&dt&&dt.__esModule)return dt;var pt=Object.create(null);if(ct.r(pt),Object.defineProperty(pt,"default",{enumerable:!0,value:dt}),2&ht&&typeof dt!="string")for(var mt in dt)ct.d(pt,mt,(function(vt){return dt[vt]}).bind(null,mt));return pt},ct.n=function(dt){var ht=dt&&dt.__esModule?function(){return dt.default}:function(){return dt};return ct.d(ht,"a",ht),ht},ct.o=function(dt,ht){return Object.prototype.hasOwnProperty.call(dt,ht)},ct.p="lib/",ct(ct.s=5)}([function(it,ut){it.exports=g},function(it,ut,ct){var dt=this&&this.__importDefault||function(pt){return pt&&pt.__esModule?pt:{default:pt}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.ArcherContainerContextProvider=ut.ArcherContainerContext=void 0;var ht=dt(ct(0));ut.ArcherContainerContext=ht.default.createContext(null),ut.ArcherContainerContextProvider=ut.ArcherContainerContext.Provider},function(it,ut,ct){Object.defineProperty(ut,"__esModule",{value:!0}),ut.encodeId=void 0,ut.encodeId=function(dt){return encodeURI(dt).replace(/%/g,"_")}},function(it,ut,ct){Object.defineProperty(ut,"__esModule",{value:!0}),ut.getMarkerId=ut.createShapeObj=ut.getSourceToTargets=ut.getEndShapeFromStyle=void 0;var dt=["arrow","circle"];ut.getEndShapeFromStyle=function(ht){return ht.endShape&&Object.keys(ht.endShape).filter(function(pt){return dt.includes(pt)})[0]||dt[0]},ut.getSourceToTargets=function(ht){var pt=Object.keys(ht).map(function(mt){return ht[mt]});return[].concat.apply([],pt).sort(function(mt,vt){return mt.order-vt.order})},ut.createShapeObj=function(ht,pt){return{arrow:function(){var mt;return{arrow:Object.assign(Object.assign({},pt==null?void 0:pt.arrow),(mt=ht.endShape)===null||mt===void 0?void 0:mt.arrow)}},circle:function(){var mt;return{circle:Object.assign(Object.assign({},pt==null?void 0:pt.circle),(mt=ht.endShape)===null||mt===void 0?void 0:mt.circle)}}}[(0,ut.getEndShapeFromStyle)(ht)]()},ut.getMarkerId=function(ht,pt,mt){return"".concat(ht).concat(pt.id).concat(mt.id)}},function(it,ut,ct){Object.defineProperty(ut,"__esModule",{value:!0}),ut.endShapeDefaultProp=void 0,ut.endShapeDefaultProp={arrow:{arrowLength:10,arrowThickness:6},circle:{radius:2,fillColor:"#f00",strokeColor:"#0ff",strokeWidth:1}}},function(it,ut,ct){var dt=this&&this.__importDefault||function(mt){return mt&&mt.__esModule?mt:{default:mt}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.ArcherContainer=ut.ArcherElement=void 0;var ht=ct(6);Object.defineProperty(ut,"ArcherElement",{enumerable:!0,get:function(){return dt(ht).default}});var pt=ct(11);Object.defineProperty(ut,"ArcherContainer",{enumerable:!0,get:function(){return dt(pt).default}})},function(it,ut,ct){var dt=this&&this.__createBinding||(Object.create?function(Et,Mt,Dt,$t){$t===void 0&&($t=Dt);var _t=Object.getOwnPropertyDescriptor(Mt,Dt);_t&&("get"in _t?Mt.__esModule:!_t.writable&&!_t.configurable)||(_t={enumerable:!0,get:function(){return Mt[Dt]}}),Object.defineProperty(Et,$t,_t)}:function(Et,Mt,Dt,$t){$t===void 0&&($t=Dt),Et[$t]=Mt[Dt]}),ht=this&&this.__setModuleDefault||(Object.create?function(Et,Mt){Object.defineProperty(Et,"default",{enumerable:!0,value:Mt})}:function(Et,Mt){Et.default=Mt}),pt=this&&this.__importStar||function(Et){if(Et&&Et.__esModule)return Et;var Mt={};if(Et!=null)for(var Dt in Et)Dt!=="default"&&Object.prototype.hasOwnProperty.call(Et,Dt)&&dt(Mt,Et,Dt);return ht(Mt,Et),Mt};Object.defineProperty(ut,"__esModule",{value:!0});var mt=pt(ct(0)),vt=ct(7),gt=ct(1),yt=ct(2),bt=ct(8),wt=ct(10);ut.default=function(Et){var Mt=Et.id,Dt=Et.relations,$t=Dt===void 0?[]:Dt,_t=Et.children,Nt=(0,mt.useMemo)(function(){return(0,yt.encodeId)(Mt)},[Mt]),kt=(0,mt.useContext)(gt.ArcherContainerContext),At=(0,mt.useRef)(),Bt=(0,mt.useCallback)(function(Rt){var Vt=(0,wt.generateSourceToTarget)(Nt,Rt);(0,wt.assertContextExists)(kt),kt.registerTransitions(Nt,Vt)},[kt,Nt]),Ft=(0,mt.useCallback)(function(){(0,wt.assertContextExists)(kt),kt.unregisterTransitions(Nt)},[kt,Nt]),Lt=(0,mt.useCallback)(function(Rt){Rt&&((0,wt.assertContextExists)(kt),kt.registerChild(Nt,Rt))},[Nt,kt]),Ot=(0,mt.useCallback)(function(){(0,wt.assertContextExists)(kt),kt.unregisterChild(Nt)},[kt,Nt]);(0,vt.useIsomorphicLayoutEffect)(function(){return Lt(At.current),function(){return Ot()}},[Lt,Ot]),(0,bt.useDeepCompareEffect)(function(){return Bt($t),function(){return Ft()}},[Bt,$t,Ft]),mt.default.Children.only(_t);var It=_t;return mt.default.cloneElement(It,Object.assign(Object.assign({},It.props),{ref:At}))}},function(it,ut,ct){Object.defineProperty(ut,"__esModule",{value:!0}),ut.useIsomorphicLayoutEffect=void 0;var dt=ct(0);ut.useIsomorphicLayoutEffect=typeof window<"u"?dt.useLayoutEffect:dt.useEffect},function(it,ut,ct){var dt=this&&this.__importDefault||function(vt){return vt&&vt.__esModule?vt:{default:vt}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.useDeepCompareEffect=void 0;var ht=ct(0),pt=dt(ct(9));function mt(vt){var gt=(0,ht.useRef)();return(0,pt.default)(vt,gt.current)||(gt.current=vt),gt.current}ut.useDeepCompareEffect=function(vt,gt){(0,ht.useEffect)(vt,gt.map(mt))}},function(it,ut,ct){var dt=Array.isArray,ht=Object.keys,pt=Object.prototype.hasOwnProperty,mt=typeof Element<"u";it.exports=function(vt,gt){try{return function yt(bt,wt){if(bt===wt)return!0;if(bt&&wt&&typeof bt=="object"&&typeof wt=="object"){var Et,Mt,Dt,$t=dt(bt),_t=dt(wt);if($t&&_t){if((Mt=bt.length)!=wt.length)return!1;for(Et=Mt;Et--!=0;)if(!yt(bt[Et],wt[Et]))return!1;return!0}if($t!=_t)return!1;var Nt=bt instanceof Date,kt=wt instanceof Date;if(Nt!=kt)return!1;if(Nt&&kt)return bt.getTime()==wt.getTime();var At=bt instanceof RegExp,Bt=wt instanceof RegExp;if(At!=Bt)return!1;if(At&&Bt)return bt.toString()==wt.toString();var Ft=ht(bt);if((Mt=Ft.length)!==ht(wt).length)return!1;for(Et=Mt;Et--!=0;)if(!pt.call(wt,Ft[Et]))return!1;if(mt&&bt instanceof Element&&wt instanceof Element)return bt===wt;for(Et=Mt;Et--!=0;)if(!((Dt=Ft[Et])==="_owner"&&bt.$$typeof||yt(bt[Dt],wt[Dt])))return!1;return!0}return bt!=bt&&wt!=wt}(vt,gt)}catch(yt){if(yt.message&&yt.message.match(/stack|recursion/i)||yt.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",yt.name,yt.message),!1;throw yt}}},function(it,ut,ct){Object.defineProperty(ut,"__esModule",{value:!0}),ut.generateSourceToTarget=ut.assertContextExists=void 0;var dt=ct(2);ut.assertContextExists=function(ht){if(!ht)throw new Error("Could not find ArcherContainerContext in <ArcherElement>. Please wrap the component in a <ArcherContainer>.")},ut.generateSourceToTarget=function(ht,pt){return pt.map(function(mt){var vt=mt.targetId,gt=mt.sourceAnchor,yt=mt.targetAnchor,bt=mt.label,wt=mt.className,Et=mt.style,Mt=mt.order,Dt=Mt===void 0?0:Mt;return{source:{id:(0,dt.encodeId)(ht),anchor:gt},target:{id:(0,dt.encodeId)(vt),anchor:yt},className:wt,label:bt,style:Et,order:Dt}})}},function(it,ut,ct){function dt(At,Bt,Ft){return Bt in At?Object.defineProperty(At,Bt,{value:Ft,enumerable:!0,configurable:!0,writable:!0}):At[Bt]=Ft,At}function ht(At,Bt){return function(Ft){if(Array.isArray(Ft))return Ft}(At)||function(Ft,Lt){var Ot=Ft==null?null:typeof Symbol<"u"&&Ft[Symbol.iterator]||Ft["@@iterator"];if(Ot!=null){var It,Rt,Vt=[],Xt=!0,Wt=!1;try{for(Ot=Ot.call(Ft);!(Xt=(It=Ot.next()).done)&&(Vt.push(It.value),!Lt||Vt.length!==Lt);Xt=!0);}catch(jt){Wt=!0,Rt=jt}finally{try{Xt||Ot.return==null||Ot.return()}finally{if(Wt)throw Rt}}return Vt}}(At,Bt)||function(Ft,Lt){if(Ft){if(typeof Ft=="string")return pt(Ft,Lt);var Ot=Object.prototype.toString.call(Ft).slice(8,-1);if(Ot==="Object"&&Ft.constructor&&(Ot=Ft.constructor.name),Ot==="Map"||Ot==="Set")return Array.from(Ft);if(Ot==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ot))return pt(Ft,Lt)}}(At,Bt)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pt(At,Bt){(Bt==null||Bt>At.length)&&(Bt=At.length);for(var Ft=0,Lt=new Array(Bt);Ft<Bt;Ft++)Lt[Ft]=At[Ft];return Lt}var mt=this&&this.__createBinding||(Object.create?function(At,Bt,Ft,Lt){Lt===void 0&&(Lt=Ft);var Ot=Object.getOwnPropertyDescriptor(Bt,Ft);Ot&&("get"in Ot?Bt.__esModule:!Ot.writable&&!Ot.configurable)||(Ot={enumerable:!0,get:function(){return Bt[Ft]}}),Object.defineProperty(At,Lt,Ot)}:function(At,Bt,Ft,Lt){Lt===void 0&&(Lt=Ft),At[Lt]=Bt[Ft]}),vt=this&&this.__setModuleDefault||(Object.create?function(At,Bt){Object.defineProperty(At,"default",{enumerable:!0,value:Bt})}:function(At,Bt){At.default=Bt}),gt=this&&this.__importStar||function(At){if(At&&At.__esModule)return At;var Bt={};if(At!=null)for(var Ft in At)Ft!=="default"&&Object.prototype.hasOwnProperty.call(At,Ft)&&mt(Bt,At,Ft);return vt(Bt,At),Bt},yt=this&&this.__importDefault||function(At){return At&&At.__esModule?At:{default:At}};Object.defineProperty(ut,"__esModule",{value:!0});var bt=gt(ct(0)),wt=yt(ct(12)),Et=ct(1),Mt=ct(14),Dt=ct(4),$t=ct(19),_t=ct(20),Nt={position:"absolute",width:"100%",height:"100%",top:0,left:0,pointerEvents:"none"},kt=bt.default.forwardRef(function(At,Bt){var Ft=At.endShape,Lt=Ft===void 0?Dt.endShapeDefaultProp:Ft,Ot=At.strokeColor,It=Ot===void 0?"#f00":Ot,Rt=At.strokeWidth,Vt=Rt===void 0?2:Rt,Xt=At.svgContainerStyle,Wt=Xt===void 0?{}:Xt,jt=At.noCurves,qt=At.children,Zt=At.className,Ut=At.endMarker,Yt=At.lineStyle,lr=At.offset,rr=At.startMarker,Qt=At.strokeDasharray,ur=At.style,wr=ht((0,bt.useState)({}),2),vr=wr[0],Dr=wr[1],Or=ht((0,bt.useState)({}),2),Mr=Or[0],dr=Or[1],_r=(0,bt.useRef)(new wt.default(function(){ir()})).current,zr=(0,bt.useRef)(null),yr=ht(bt.default.useState(),2)[1],Lr=(0,bt.useRef)("arrow".concat(Math.random().toString().slice(2))).current;(0,bt.useImperativeHandle)(Bt,function(){return{refreshScreen:ir,arrowMarkerUniquePrefix:Lr}});var tr,ir=bt.default.useCallback(function(){return yr({})},[]),br=(0,bt.useCallback)(function(er,ar){dr(function(xr){return Object.assign(Object.assign({},xr),dt({},er,ar))})},[]),nr=(0,bt.useCallback)(function(er){dr(function(ar){var xr=Object.assign({},ar);return delete xr[er],xr})},[]),cr=(0,bt.useCallback)(function(er,ar){Dr(function(xr){return xr[er]===ar?xr:Object.assign(Object.assign({},xr),dt({},er,ar))})},[]),gr=(0,bt.useCallback)(function(er){Dr(function(ar){var xr=Object.assign({},ar);return delete xr[er],xr})},[]),Sr=(0,bt.useMemo)(function(){return Object.assign(Object.assign({},Nt),Wt)},[Wt]);tr=typeof qt=="function"?qt(Et.ArcherContainerContext):qt,(0,_t.useResizeListener)(ir),(0,_t.useObserveElements)(vr,_r);var kr=(0,bt.useMemo)(function(){return{registerTransitions:br,unregisterTransitions:nr,registerChild:cr,unregisterChild:gr}},[br,nr,cr,gr]);return bt.default.createElement(Et.ArcherContainerContextProvider,{value:kr},bt.default.createElement("div",{style:Object.assign(Object.assign({},ur),{position:"relative"}),className:Zt},bt.default.createElement("svg",{style:Sr},bt.default.createElement("defs",null,bt.default.createElement($t.ArrowMarkers,{endShape:Lt,sourceToTargetsMap:Mr,strokeColor:It,uniqueId:Lr})),bt.default.createElement(Mt.SvgArrows,{startMarker:rr,endMarker:Ut,endShape:Lt,strokeColor:It,strokeWidth:Vt,strokeDasharray:Qt,noCurves:jt,lineStyle:Yt,offset:lr,parentCurrent:zr.current,refs:vr,uniqueId:Lr,sourceToTargetsMap:Mr})),bt.default.createElement("div",{style:{height:"100%"},ref:zr},tr)))});ut.default=kt},function(it,ut,ct){ct.r(ut),(function(dt){var ht=function(){if(typeof Map<"u")return Map;function Xt(Wt,jt){var qt=-1;return Wt.some(function(Zt,Ut){return Zt[0]===jt&&(qt=Ut,!0)}),qt}return function(){function Wt(){this.__entries__=[]}var jt={size:{configurable:!0}};return jt.size.get=function(){return this.__entries__.length},Wt.prototype.get=function(qt){var Zt=Xt(this.__entries__,qt),Ut=this.__entries__[Zt];return Ut&&Ut[1]},Wt.prototype.set=function(qt,Zt){var Ut=Xt(this.__entries__,qt);~Ut?this.__entries__[Ut][1]=Zt:this.__entries__.push([qt,Zt])},Wt.prototype.delete=function(qt){var Zt=this.__entries__,Ut=Xt(Zt,qt);~Ut&&Zt.splice(Ut,1)},Wt.prototype.has=function(qt){return!!~Xt(this.__entries__,qt)},Wt.prototype.clear=function(){this.__entries__.splice(0)},Wt.prototype.forEach=function(qt,Zt){Zt===void 0&&(Zt=null);for(var Ut=0,Yt=this.__entries__;Ut<Yt.length;Ut+=1){var lr=Yt[Ut];qt.call(Zt,lr[1],lr[0])}},Object.defineProperties(Wt.prototype,jt),Wt}()}(),pt=typeof window<"u"&&typeof document<"u"&&window.document===document,mt=function(){return dt!==void 0&&dt.Math===Math?dt:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),vt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(mt):function(Xt){return setTimeout(function(){return Xt(Date.now())},1e3/60)}}(),gt=2,yt=["top","right","bottom","left","width","height","size","weight"],bt=typeof MutationObserver<"u",wt=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(Xt,Wt){var jt=!1,qt=!1,Zt=0;function Ut(){jt&&(jt=!1,Xt()),qt&&lr()}function Yt(){vt(Ut)}function lr(){var rr=Date.now();if(jt){if(rr-Zt<gt)return;qt=!0}else jt=!0,qt=!1,setTimeout(Yt,Wt);Zt=rr}return lr}(this.refresh.bind(this),20)};wt.prototype.addObserver=function(Xt){~this.observers_.indexOf(Xt)||this.observers_.push(Xt),this.connected_||this.connect_()},wt.prototype.removeObserver=function(Xt){var Wt=this.observers_,jt=Wt.indexOf(Xt);~jt&&Wt.splice(jt,1),!Wt.length&&this.connected_&&this.disconnect_()},wt.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},wt.prototype.updateObservers_=function(){var Xt=this.observers_.filter(function(Wt){return Wt.gatherActive(),Wt.hasActive()});return Xt.forEach(function(Wt){return Wt.broadcastActive()}),Xt.length>0},wt.prototype.connect_=function(){pt&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),bt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},wt.prototype.disconnect_=function(){pt&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},wt.prototype.onTransitionEnd_=function(Xt){var Wt=Xt.propertyName;Wt===void 0&&(Wt=""),yt.some(function(jt){return!!~Wt.indexOf(jt)})&&this.refresh()},wt.getInstance=function(){return this.instance_||(this.instance_=new wt),this.instance_},wt.instance_=null;var Et=function(Xt,Wt){for(var jt=0,qt=Object.keys(Wt);jt<qt.length;jt+=1){var Zt=qt[jt];Object.defineProperty(Xt,Zt,{value:Wt[Zt],enumerable:!1,writable:!1,configurable:!0})}return Xt},Mt=function(Xt){return Xt&&Xt.ownerDocument&&Xt.ownerDocument.defaultView||mt},Dt=Bt(0,0,0,0);function $t(Xt){return parseFloat(Xt)||0}function _t(Xt){for(var Wt=[],jt=arguments.length-1;jt-- >0;)Wt[jt]=arguments[jt+1];return Wt.reduce(function(qt,Zt){return qt+$t(Xt["border-"+Zt+"-width"])},0)}function Nt(Xt){var Wt=Xt.clientWidth,jt=Xt.clientHeight;if(!Wt&&!jt)return Dt;var qt=Mt(Xt).getComputedStyle(Xt),Zt=function(wr){for(var vr={},Dr=0,Or=["top","right","bottom","left"];Dr<Or.length;Dr+=1){var Mr=Or[Dr],dr=wr["padding-"+Mr];vr[Mr]=$t(dr)}return vr}(qt),Ut=Zt.left+Zt.right,Yt=Zt.top+Zt.bottom,lr=$t(qt.width),rr=$t(qt.height);if(qt.boxSizing==="border-box"&&(Math.round(lr+Ut)!==Wt&&(lr-=_t(qt,"left","right")+Ut),Math.round(rr+Yt)!==jt&&(rr-=_t(qt,"top","bottom")+Yt)),!function(wr){return wr===Mt(wr).document.documentElement}(Xt)){var Qt=Math.round(lr+Ut)-Wt,ur=Math.round(rr+Yt)-jt;Math.abs(Qt)!==1&&(lr-=Qt),Math.abs(ur)!==1&&(rr-=ur)}return Bt(Zt.left,Zt.top,lr,rr)}var kt=function(){return typeof SVGGraphicsElement<"u"?function(Xt){return Xt instanceof Mt(Xt).SVGGraphicsElement}:function(Xt){return Xt instanceof Mt(Xt).SVGElement&&typeof Xt.getBBox=="function"}}();function At(Xt){return pt?kt(Xt)?function(Wt){var jt=Wt.getBBox();return Bt(0,0,jt.width,jt.height)}(Xt):Nt(Xt):Dt}function Bt(Xt,Wt,jt,qt){return{x:Xt,y:Wt,width:jt,height:qt}}var Ft=function(Xt){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Bt(0,0,0,0),this.target=Xt};Ft.prototype.isActive=function(){var Xt=At(this.target);return this.contentRect_=Xt,Xt.width!==this.broadcastWidth||Xt.height!==this.broadcastHeight},Ft.prototype.broadcastRect=function(){var Xt=this.contentRect_;return this.broadcastWidth=Xt.width,this.broadcastHeight=Xt.height,Xt};var Lt=function(Xt,Wt){var jt=function(qt){var Zt=qt.x,Ut=qt.y,Yt=qt.width,lr=qt.height,rr=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,Qt=Object.create(rr.prototype);return Et(Qt,{x:Zt,y:Ut,width:Yt,height:lr,top:Ut,right:Zt+Yt,bottom:lr+Ut,left:Zt}),Qt}(Wt);Et(this,{target:Xt,contentRect:jt})},Ot=function(Xt,Wt,jt){if(this.activeObservations_=[],this.observations_=new ht,typeof Xt!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=Xt,this.controller_=Wt,this.callbackCtx_=jt};Ot.prototype.observe=function(Xt){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(Xt instanceof Mt(Xt).Element))throw new TypeError('parameter 1 is not of type "Element".');var Wt=this.observations_;Wt.has(Xt)||(Wt.set(Xt,new Ft(Xt)),this.controller_.addObserver(this),this.controller_.refresh())}},Ot.prototype.unobserve=function(Xt){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(Xt instanceof Mt(Xt).Element))throw new TypeError('parameter 1 is not of type "Element".');var Wt=this.observations_;Wt.has(Xt)&&(Wt.delete(Xt),Wt.size||this.controller_.removeObserver(this))}},Ot.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},Ot.prototype.gatherActive=function(){var Xt=this;this.clearActive(),this.observations_.forEach(function(Wt){Wt.isActive()&&Xt.activeObservations_.push(Wt)})},Ot.prototype.broadcastActive=function(){if(this.hasActive()){var Xt=this.callbackCtx_,Wt=this.activeObservations_.map(function(jt){return new Lt(jt.target,jt.broadcastRect())});this.callback_.call(Xt,Wt,Xt),this.clearActive()}},Ot.prototype.clearActive=function(){this.activeObservations_.splice(0)},Ot.prototype.hasActive=function(){return this.activeObservations_.length>0};var It=typeof WeakMap<"u"?new WeakMap:new ht,Rt=function(Xt){if(!(this instanceof Rt))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var Wt=wt.getInstance(),jt=new Ot(Xt,Wt,this);It.set(this,jt)};["observe","unobserve","disconnect"].forEach(function(Xt){Rt.prototype[Xt]=function(){return(Wt=It.get(this))[Xt].apply(Wt,arguments);var Wt}});var Vt=function(){return mt.ResizeObserver!==void 0?mt.ResizeObserver:Rt}();ut.default=Vt}).call(this,ct(13))},function(it,ut){var ct;ct=function(){return this}();try{ct=ct||new Function("return this")()}catch{typeof window=="object"&&(ct=window)}it.exports=ct},function(it,ut,ct){var dt=this&&this.__importDefault||function(yt){return yt&&yt.__esModule?yt:{default:yt}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.SvgArrows=void 0;var ht=dt(ct(0)),pt=ct(15),mt=dt(ct(17)),vt=ct(3),gt=function(yt){var bt,wt,Et=yt.style||{},Mt=Et.startMarker||yt.startMarker,Dt=(wt=(bt=Et.endMarker)!==null&&bt!==void 0?bt:yt.endMarker)===null||wt===void 0||wt,$t=(0,vt.createShapeObj)(Et,yt.endShape),_t=Et.strokeColor||yt.strokeColor,Nt=Et.strokeWidth||yt.strokeWidth,kt=Et.strokeDasharray||yt.strokeDasharray,At=!(!Et.noCurves&&!yt.noCurves),Bt=Et.lineStyle||yt.lineStyle||(At?"angle":"curve"),Ft=yt.offset||0,Lt=yt.source.anchor,Ot=(0,pt.getPointCoordinatesFromAnchorPosition)(yt.source.anchor,yt.source.id,yt.parentCoordinates,yt.refs),It=yt.target.anchor,Rt=(0,pt.getPointCoordinatesFromAnchorPosition)(yt.target.anchor,yt.target.id,yt.parentCoordinates,yt.refs);return Ot?Rt?ht.default.createElement(mt.default,{className:yt.className,startingPoint:Ot,startingAnchorOrientation:Lt,endingPoint:Rt,endingAnchorOrientation:It,strokeColor:_t,strokeWidth:Nt,strokeDasharray:kt,arrowLabel:yt.label,arrowMarkerId:(0,vt.getMarkerId)(yt.uniqueId,yt.source,yt.target),lineStyle:Bt,offset:Ft,enableStartMarker:!!Mt,disableEndMarker:!Dt,endShape:$t}):(console.warn("[React Archer] Could not find target element! Not drawing the arrow."),null):(console.warn("[React Archer] Could not find starting point of element! Not drawing the arrow."),null)};ut.SvgArrows=function(yt){var bt=(0,pt.getPointFromElement)(yt.parentCurrent);return bt?ht.default.createElement(ht.default.Fragment,null,(0,vt.getSourceToTargets)(yt.sourceToTargetsMap).map(function(wt){return ht.default.createElement(gt,{key:JSON.stringify({source:wt.source,target:wt.target}),source:wt.source,target:wt.target,className:wt.className,label:wt.label,style:wt.style||{},startMarker:yt.startMarker,endMarker:yt.endMarker,endShape:yt.endShape,strokeColor:yt.strokeColor,strokeWidth:yt.strokeWidth,strokeDasharray:yt.strokeDasharray,noCurves:yt.noCurves,lineStyle:yt.lineStyle,offset:yt.offset,parentCoordinates:bt,refs:yt.refs,uniqueId:yt.uniqueId})})):null}},function(it,ut,ct){var dt=this&&this.__importDefault||function(vt){return vt&&vt.__esModule?vt:{default:vt}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.getPointCoordinatesFromAnchorPosition=ut.getPointFromElement=void 0;var ht=dt(ct(16));function pt(vt){return new ht.default(vt.left,vt.top)}var mt=function(vt){return vt?vt.getBoundingClientRect():null};ut.getPointFromElement=function(vt){var gt=mt(vt);return gt?pt(gt):null},ut.getPointCoordinatesFromAnchorPosition=function(vt,gt,yt,bt){var wt=mt(bt[gt]);if(!wt)return null;var Et=function(Mt,Dt){switch(Mt){case"top":return pt(Dt).add(new ht.default(Dt.width/2,0));case"bottom":return pt(Dt).add(new ht.default(Dt.width/2,Dt.height));case"left":return pt(Dt).add(new ht.default(0,Dt.height/2));case"right":return pt(Dt).add(new ht.default(Dt.width,Dt.height/2));case"middle":return pt(Dt).add(new ht.default(Dt.width/2,Dt.height/2));default:return console.error("[React Archer] Invalid anchor position was provided. Not drawing the arrow."),null}}(vt,wt);return Et?Et.substract(yt):null}},function(it,ut,ct){function dt(pt,mt){for(var vt=0;vt<mt.length;vt++){var gt=mt[vt];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(pt,gt.key,gt)}}Object.defineProperty(ut,"__esModule",{value:!0});var ht=function(){function pt(mt,vt){(function(gt,yt){if(!(gt instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,pt),this.x=mt,this.y=vt}return function(mt,vt,gt){vt&&dt(mt.prototype,vt),gt&&dt(mt,gt),Object.defineProperty(mt,"prototype",{writable:!1})}(pt,[{key:"add",value:function(mt){return new pt(this.x+mt.x,this.y+mt.y)}},{key:"substract",value:function(mt){return new pt(this.x-mt.x,this.y-mt.y)}}]),pt}();ut.default=ht},function(it,ut,ct){var dt=this&&this.__importDefault||function(bt){return bt&&bt.__esModule?bt:{default:bt}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.computeLabelDimensions=ut.computeEndingAnchorPosition=ut.computeStartingAnchorPosition=ut.computeArrowPointAccordingToArrowHead=void 0;var ht=dt(ct(0)),pt=ct(18);function mt(bt,wt,Et,Mt,Dt,$t,_t,Nt){var kt=(0,pt.computeArrowDirectionVector)(Dt),At=kt.arrowX,Bt=kt.arrowY;if($t==="straight"&&_t!==void 0&&Nt!==void 0){var Ft=Math.atan2(Nt-wt,_t-bt);At=Math.cos(Ft),Bt=Math.sin(Ft)}return{xPoint:bt+At*Et*Mt/2,yPoint:wt+Bt*Et*Mt/2}}function vt(bt,wt,Et,Mt,Dt){return Dt==="top"||Dt==="bottom"?{xAnchor1:bt,yAnchor1:wt+(Mt-wt)/2}:Dt==="left"||Dt==="right"?{xAnchor1:bt+(Et-bt)/2,yAnchor1:wt}:{xAnchor1:bt,yAnchor1:wt}}function gt(bt,wt,Et,Mt,Dt){return Dt==="top"||Dt==="bottom"?{xAnchor2:Et,yAnchor2:Mt-(Mt-wt)/2}:Dt==="left"||Dt==="right"?{xAnchor2:Et-(Et-bt)/2,yAnchor2:Mt}:{xAnchor2:Et,yAnchor2:Mt}}function yt(bt,wt,Et,Mt){return{xLabel:Et>bt?bt:Et,yLabel:Mt>wt?wt:Mt,labelWidth:Math.max(Math.abs(Et-bt),1),labelHeight:Math.max(Math.abs(Mt-wt),1)}}ut.computeArrowPointAccordingToArrowHead=mt,ut.computeStartingAnchorPosition=vt,ut.computeEndingAnchorPosition=gt,ut.computeLabelDimensions=yt,ut.default=function(bt){var wt=bt.className,Et=bt.startingPoint,Mt=bt.startingAnchorOrientation,Dt=bt.endingPoint,$t=bt.endingAnchorOrientation,_t=bt.strokeColor,Nt=bt.strokeWidth,kt=bt.strokeDasharray,At=bt.arrowLabel,Bt=bt.arrowMarkerId,Ft=bt.lineStyle,Lt=bt.offset,Ot=bt.enableStartMarker,It=bt.disableEndMarker,Rt=bt.endShape,Vt=Rt.circle?2*Rt.circle.radius:2*Rt.arrow.arrowLength,Xt=mt(Et.x,Et.y,Ot?Vt:0,Nt,Mt,Ft,Dt.x,Dt.y),Wt=Xt.xPoint,jt=Xt.yPoint,qt=mt(Dt.x,Dt.y,It?0:Vt,Nt,$t,Ft,Et.x,Et.y),Zt=qt.xPoint,Ut=qt.yPoint,Yt=vt(Wt,jt,Zt,Ut,Mt),lr=Yt.xAnchor1,rr=Yt.yAnchor1,Qt=gt(Wt,jt,Zt,Ut,$t),ur=function(_r){var zr=_r.xStart,yr=_r.yStart,Lr=_r.xAnchor1,tr=_r.yAnchor1,ir=_r.xAnchor2,br=_r.yAnchor2,nr=_r.xEnd,cr=_r.yEnd,gr=_r.lineStyle,Sr=_r.offset;if(Sr&&Sr!==0){var kr=gr==="straight"?Math.atan2(cr-yr,nr-zr):Math.atan2(tr-yr,Lr-zr),er=Sr*Math.cos(kr),ar=Sr*Math.sin(kr);gr!=="straight"&&(zr+=er,yr+=ar),nr-=er,cr-=ar}var xr="M".concat(zr,",").concat(yr," ");return["curve","angle"].includes(gr)&&(xr+="".concat(gr==="curve"?"C":"").concat(Lr,",").concat(tr," ").concat(ir,",").concat(br," ")),xr+="".concat(nr,",").concat(cr)}({xStart:Wt,yStart:jt,xAnchor1:lr,yAnchor1:rr,xAnchor2:Qt.xAnchor2,yAnchor2:Qt.yAnchor2,xEnd:Zt,yEnd:Ut,lineStyle:Ft,offset:Lt}),wr=yt(Wt,jt,Zt,Ut),vr=wr.xLabel,Dr=wr.yLabel,Or=wr.labelWidth,Mr=wr.labelHeight,dr="url(#".concat(Bt,")");return ht.default.createElement("g",{className:wt},ht.default.createElement("path",{d:ur,style:{fill:"none",stroke:_t,strokeWidth:Nt,strokeDasharray:kt},markerStart:Ot?dr:void 0,markerEnd:It?void 0:dr}),At&&ht.default.createElement("foreignObject",{x:vr,y:Dr,width:Or,height:Mr,style:{overflow:"visible",pointerEvents:"none"}},ht.default.createElement("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",pointerEvents:"all"}},ht.default.createElement("div",null,At))))}},function(it,ut,ct){Object.defineProperty(ut,"__esModule",{value:!0}),ut.computeArrowDirectionVector=void 0,ut.computeArrowDirectionVector=function(dt){switch(dt){case"left":return{arrowX:-1,arrowY:0};case"right":return{arrowX:1,arrowY:0};case"top":return{arrowX:0,arrowY:-1};case"bottom":return{arrowX:0,arrowY:1};default:return{arrowX:0,arrowY:0}}}},function(it,ut,ct){var dt=this&&this.__importDefault||function(yt){return yt&&yt.__esModule?yt:{default:yt}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.ArrowMarkers=void 0;var ht=dt(ct(0)),pt=ct(4),mt=ct(3),vt=function(yt,bt){return function(){var wt,Et,Mt,Dt,$t,_t,Nt,kt,At,Bt,Ft,Lt,Ot=((Et=(wt=yt.endShape)===null||wt===void 0?void 0:wt.circle)===null||Et===void 0?void 0:Et.radius)||((Mt=bt.circle)===null||Mt===void 0?void 0:Mt.radius)||pt.endShapeDefaultProp.circle.radius,It=(($t=(Dt=yt.endShape)===null||Dt===void 0?void 0:Dt.circle)===null||$t===void 0?void 0:$t.strokeWidth)||((_t=bt.circle)===null||_t===void 0?void 0:_t.strokeWidth)||pt.endShapeDefaultProp.circle.strokeWidth,Rt=((kt=(Nt=yt.endShape)===null||Nt===void 0?void 0:Nt.circle)===null||kt===void 0?void 0:kt.strokeColor)||((At=bt.circle)===null||At===void 0?void 0:At.strokeColor)||pt.endShapeDefaultProp.circle.strokeColor,Vt=((Ft=(Bt=yt.endShape)===null||Bt===void 0?void 0:Bt.circle)===null||Ft===void 0?void 0:Ft.fillColor)||((Lt=bt.circle)===null||Lt===void 0?void 0:Lt.fillColor)||pt.endShapeDefaultProp.circle.fillColor;return{markerWidth:4*Ot,markerHeight:4*Ot,refX:2*Ot+It,refY:2*Ot,path:ht.default.createElement("circle",{cx:2*Ot,cy:2*Ot,r:Ot,fill:Vt,stroke:Rt,strokeWidth:It})}}},gt=function(yt,bt,wt){return function(){var Et,Mt,Dt,$t,_t,Nt,kt,At,Bt=yt.strokeColor||wt,Ft=(_t=(Dt=(Mt=(Et=yt.endShape)===null||Et===void 0?void 0:Et.arrow)===null||Mt===void 0?void 0:Mt.arrowLength)!==null&&Dt!==void 0?Dt:($t=bt==null?void 0:bt.arrow)===null||$t===void 0?void 0:$t.arrowLength)!==null&&_t!==void 0?_t:pt.endShapeDefaultProp.arrow.arrowLength,Lt=((kt=(Nt=yt.endShape)===null||Nt===void 0?void 0:Nt.arrow)===null||kt===void 0?void 0:kt.arrowThickness)||((At=bt==null?void 0:bt.arrow)===null||At===void 0?void 0:At.arrowThickness)||pt.endShapeDefaultProp.arrow.arrowThickness,Ot="M0,0 L0,".concat(Lt," L").concat(Ft,",").concat(Lt/2," z");return{markerWidth:Ft,markerHeight:Lt,refX:0,refY:Lt/2,path:ht.default.createElement("path",{d:Ot,fill:Bt})}}};ut.ArrowMarkers=function(yt){var bt=yt.sourceToTargetsMap,wt=yt.endShape,Et=yt.strokeColor,Mt=yt.uniqueId;return ht.default.createElement(ht.default.Fragment,null,(0,mt.getSourceToTargets)(bt).map(function(Dt){var $t=Dt.source,_t=Dt.target,Nt=Dt.style,kt=function(It){var Rt=It.style,Vt=It.strokeColor,Xt=It.endShape,Wt=(0,mt.getEndShapeFromStyle)(Rt);return{circle:vt(Rt,Xt),arrow:gt(Rt,Xt,Vt)}[Wt]()}({style:Nt===void 0?{}:Nt,endShape:wt,strokeColor:Et}),At=kt.markerHeight,Bt=kt.markerWidth,Ft=kt.path,Lt=kt.refX,Ot=kt.refY;return ht.default.createElement("marker",{id:(0,mt.getMarkerId)(Mt,$t,_t),key:(0,mt.getMarkerId)(Mt,$t,_t),markerWidth:Bt,markerHeight:At,refX:Lt,refY:Ot,orient:"auto-start-reverse",markerUnits:"strokeWidth"},Ft)}))}},function(it,ut,ct){Object.defineProperty(ut,"__esModule",{value:!0}),ut.useResizeListener=ut.useObserveElements=void 0;var dt=ct(0);ut.useObserveElements=function(ht,pt){(0,dt.useEffect)(function(){return Object.keys(ht).map(function(mt){pt.observe(ht[mt])}),function(){Object.keys(ht).map(function(mt){pt.unobserve(ht[mt])})}},[ht,pt])},ut.useResizeListener=function(ht){(0,dt.useEffect)(function(){return window&&window.addEventListener("resize",ht),function(){window&&window.removeEventListener("resize",ht)}},[ht])}}])})})(reactArcher);const latexInputField="";function LatexInputField({parentCallback:s,style:h,data:g,readonly:it}){const[ut,ct]=reactExports.useState(g),dt=reactExports.useRef();return reactExports.useEffect(()=>{dt.current.smartFence=!0,dt.current.mathVirtualKeyboardPolicy="manual",dt.current.addEventListener("focusin",()=>{mathVirtualKeyboard.hide()}),dt.current.addEventListener("focusout",()=>mathVirtualKeyboard.hide()),s(g),dt.current.addEventListener("input",ht=>{var pt=ht.target.value;ct(pt),ht.inputType==="insertLineBreak"&&(ht.preventDefault(),s!=null&&s(pt))})},[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:it?jsxRuntimeExports.jsx("math-field",{ref:dt,style:h,readonly:!0,children:ut}):jsxRuntimeExports.jsx("math-field",{ref:dt,style:h,children:ut})})}function DebugComponent(){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}const inMemoryData=new Map;function useLocalStorageState(s,h){if(reactExports.useSyncExternalStore===void 0)throw new TypeError('You are using React 17 or below. Install with "npm install use-local-storage-state@17".');const[g]=reactExports.useState(h==null?void 0:h.defaultValue);if(typeof window>"u")return[g,()=>{},{isPersistent:!0,removeItem:()=>{}}];const it=h==null?void 0:h.serializer;return useBrowserLocalStorageState(s,g,h==null?void 0:h.storageSync,it==null?void 0:it.parse,it==null?void 0:it.stringify)}function useBrowserLocalStorageState(s,h,g=!0,it=parseJSON,ut=JSON.stringify){!inMemoryData.has(s)&&h!==void 0&&goodTry(()=>localStorage.getItem(s))===null&&goodTry(()=>localStorage.setItem(s,ut(h)));const ct=reactExports.useRef({item:null,parsed:h}),dt=reactExports.useSyncExternalStore(reactExports.useCallback(pt=>{const mt=vt=>{s===vt&&pt()};return callbacks.add(mt),()=>{callbacks.delete(mt)}},[s]),()=>{var pt;const mt=(pt=goodTry(()=>localStorage.getItem(s)))!==null&&pt!==void 0?pt:null;if(inMemoryData.has(s))ct.current={item:mt,parsed:inMemoryData.get(s)};else if(mt!==ct.current.item){let vt;try{vt=mt===null?h:it(mt)}catch{vt=h}ct.current={item:mt,parsed:vt}}return ct.current.parsed},()=>h),ht=reactExports.useCallback(pt=>{const mt=pt instanceof Function?pt(ct.current.parsed):pt;try{localStorage.setItem(s,ut(mt)),inMemoryData.delete(s)}catch{inMemoryData.set(s,mt)}triggerCallbacks(s)},[s,ut]);return reactExports.useEffect(()=>{if(!g)return;const pt=mt=>{mt.storageArea===goodTry(()=>localStorage)&&mt.key===s&&triggerCallbacks(s)};return window.addEventListener("storage",pt),()=>window.removeEventListener("storage",pt)},[s,g]),reactExports.useMemo(()=>[dt,ht,{isPersistent:dt===h||!inMemoryData.has(s),removeItem(){goodTry(()=>localStorage.removeItem(s)),inMemoryData.delete(s),triggerCallbacks(s)}}],[s,ht,dt,h])}const callbacks=new Set;function triggerCallbacks(s){for(const h of[...callbacks])h(s)}function parseJSON(s){return s==="undefined"?void 0:JSON.parse(s)}function goodTry(s){try{return s()}catch{return}}function Instructions({taskHandler:s,instructions:h,progressData:g}){const[it,ut]=s,ct=(ht,pt,mt)=>{const vt={...it};ht[pt].displayHelp=mt,ut(vt)},dt=h.map((ht,pt)=>jsxRuntimeExports.jsx("div",{children:g[ht.display]&&jsxRuntimeExports.jsxs("div",{children:[ht.topSpace&&jsxRuntimeExports.jsx(VerticalSpace$2,{size:ht.topSpace}),jsxRuntimeExports.jsxs("div",{children:[ht.text,ht.inLine?ht.component.props.children:ht.component," ",ht.help&&jsxRuntimeExports.jsx(HelpButton,{onClick:()=>ct(h,pt,!ht.displayHelp),children:"?"}),g[ht.check]&&jsxRuntimeExports.jsx(OK,{style:{marginLeft:"5px"},children:"✓"})]}),ht.displayHelp&&(ht.help?ht.help:null),ht.bottomSpace&&jsxRuntimeExports.jsx(VerticalSpace$2,{size:ht.bottomSpace})]})},pt));return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:dt})}function isObject$6(s){return s!==null&&typeof s=="object"&&Array.isArray(s)===!1}function compareNumbers(s,h,g=0){try{if(typeof s=="string")var it=parseFloat(s.replace(/,/g,"."));else if(typeof s=="number")var it=s;else return{res:!1,sol:null};if(typeof h=="string")var ut=parseFloat(h.replace(/,/g,"."));else if(typeof h=="number")var ut=h;else return{res:!1,sol:null};if(typeof g=="string")var ct=parseFloat(g.replace(/,/g,"."));else if(typeof g=="number")var ct=g;else var ct=0;return Math.abs(it-ut)<=ct?{res:!0,sol:s}:{res:!1,sol:null}}catch{return{res:!1,sol:null}}}function compareTables(s,h,g=!0){try{for(var it=0;it<h.length;it++)for(var ut=Object.keys(s[it]),ct=Object.keys(h[it]),dt=0;dt<ct.length;dt++)if(g){if(!compareNumbers(s[it][ut[dt]],h[it][ct[dt]].val,h[it][ct[dt]].diff).res)return{res:!1,sol:null}}else if(!compareNumbers(s[it][ut[dt]],h[it][ct[dt]]).res)return{res:!1,sol:null};return{res:!0,sol:s}}catch{return{res:!1,sol:null}}}function comparePointLists(s,h,g=0,it=0){try{const yt=JSON.parse(JSON.stringify(h));var ut=[],ct=Object.keys(s[Object.keys(s)[0]]),dt=Object.keys(h[0]),ht=0;for(var pt in s)if(s[pt].visible!=!1){ht+=1;for(var mt in yt){var vt=Math.abs(parseFloat(s[pt][ct[0]])-parseFloat(h[mt][dt[0]])),gt=Math.abs(parseFloat(s[pt][ct[1]])-parseFloat(h[mt][dt[1]]));vt<=g&&gt<=it&&(ut.push(pt),delete yt[mt])}}return ht==ut.length&&Object.keys(h).length==ut.length?{res:!0,sol:s}:{res:!1,sol:null}}catch{return{res:!1,sol:null}}}function compareLines(s,h,g=!0){try{if(g){if(compareNumbers(s.m,h.m[0],h.m[1]).res&&compareNumbers(s.c,h.c[0],h.c[1]).res)return{res:!0,sol:s}}else if(compareNumbers(s.m,h.m).res&&compareNumbers(s.c,h.c).res)return{res:!0,sol:s};return{res:!1,sol:null}}catch{return{res:!1,sol:null}}}function compareTablesLength(s,h,g="="){try{if(isObject$6(s))var it=Object.keys(s);else var it=s;if(isObject$6(h))var ut=Object.keys(h);else var ut=h;switch(g){case"=":return{res:it.length===ut.length,sol:s};case">":return{res:it.length>ut.length,sol:s};case">=":return{res:it.length>=ut.length,sol:s};case"<":return{res:it.length<ut.length,sol:s};case"<=":return{res:it.length<=ut.length,sol:s};default:return{res:!1,data:null}}}catch{return{res:!1,data:null}}}const functionMapper={compareNumbers,compareTables,comparePointLists,compareLines,compareTablesLength};function Checker({commands:s,ggbData:h,tableData:g,inputData:it,solHandler:ut,progressHandler:ct}){const[dt,ht]=ct,[pt,mt]=ut,vt={tableData:g,ggbData:h,inputData:it,solData:pt,progressData:dt},gt=yt=>{try{for(var bt=vt[yt[0]],wt=1;wt<yt.length;wt++)typeof yt[wt]=="number"&&isObject$6(bt)?bt=bt[Object.keys(bt)[yt[wt]]]:bt=bt[yt[wt]];return bt}catch{return null}};return reactExports.useEffect(()=>{for(var yt=0;yt<s.length;yt++){var bt=s[yt];if(dt[bt.after]==!1)ht(bt.step,!1);else{var wt=gt(bt.input),Et=gt(bt.sol),Mt=functionMapper[bt.action](wt,Et,...bt.args);ht(bt.step,Mt.res),Mt.sol!=null&&mt(bt.step,Mt.sol)}}},[g,h,it,dt,pt]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(s){for(var h=1;h<arguments.length;h++){var g=arguments[h];for(var it in g)Object.prototype.hasOwnProperty.call(g,it)&&(s[it]=g[it])}return s},_extends$1.apply(this,arguments)}var DEFAULT_CONFIG={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function isNumber(s){return typeof s=="number"}function isBigNumber(s){return!s||typeof s!="object"||typeof s.constructor!="function"?!1:s.isBigNumber===!0&&typeof s.constructor.prototype=="object"&&s.constructor.prototype.isBigNumber===!0||typeof s.constructor.isDecimal=="function"&&s.constructor.isDecimal(s)===!0}function isComplex(s){return s&&typeof s=="object"&&Object.getPrototypeOf(s).isComplex===!0||!1}function isFraction(s){return s&&typeof s=="object"&&Object.getPrototypeOf(s).isFraction===!0||!1}function isUnit(s){return s&&s.constructor.prototype.isUnit===!0||!1}function isString(s){return typeof s=="string"}var isArray=Array.isArray;function isMatrix(s){return s&&s.constructor.prototype.isMatrix===!0||!1}function isCollection(s){return Array.isArray(s)||isMatrix(s)}function isDenseMatrix(s){return s&&s.isDenseMatrix&&s.constructor.prototype.isMatrix===!0||!1}function isSparseMatrix(s){return s&&s.isSparseMatrix&&s.constructor.prototype.isMatrix===!0||!1}function isRange(s){return s&&s.constructor.prototype.isRange===!0||!1}function isIndex(s){return s&&s.constructor.prototype.isIndex===!0||!1}function isBoolean(s){return typeof s=="boolean"}function isResultSet(s){return s&&s.constructor.prototype.isResultSet===!0||!1}function isHelp(s){return s&&s.constructor.prototype.isHelp===!0||!1}function isFunction$1(s){return typeof s=="function"}function isDate(s){return s instanceof Date}function isRegExp(s){return s instanceof RegExp}function isObject$5(s){return!!(s&&typeof s=="object"&&s.constructor===Object&&!isComplex(s)&&!isFraction(s))}function isNull(s){return s===null}function isUndefined(s){return s===void 0}function isAccessorNode(s){return s&&s.isAccessorNode===!0&&s.constructor.prototype.isNode===!0||!1}function isArrayNode(s){return s&&s.isArrayNode===!0&&s.constructor.prototype.isNode===!0||!1}function isAssignmentNode(s){return s&&s.isAssignmentNode===!0&&s.constructor.prototype.isNode===!0||!1}function isBlockNode(s){return s&&s.isBlockNode===!0&&s.constructor.prototype.isNode===!0||!1}function isConditionalNode(s){return s&&s.isConditionalNode===!0&&s.constructor.prototype.isNode===!0||!1}function isConstantNode(s){return s&&s.isConstantNode===!0&&s.constructor.prototype.isNode===!0||!1}function rule2Node(s){return isConstantNode(s)||isOperatorNode(s)&&s.args.length===1&&isConstantNode(s.args[0])&&"-+~".includes(s.op)}function isFunctionAssignmentNode(s){return s&&s.isFunctionAssignmentNode===!0&&s.constructor.prototype.isNode===!0||!1}function isFunctionNode(s){return s&&s.isFunctionNode===!0&&s.constructor.prototype.isNode===!0||!1}function isIndexNode(s){return s&&s.isIndexNode===!0&&s.constructor.prototype.isNode===!0||!1}function isNode(s){return s&&s.isNode===!0&&s.constructor.prototype.isNode===!0||!1}function isObjectNode(s){return s&&s.isObjectNode===!0&&s.constructor.prototype.isNode===!0||!1}function isOperatorNode(s){return s&&s.isOperatorNode===!0&&s.constructor.prototype.isNode===!0||!1}function isParenthesisNode(s){return s&&s.isParenthesisNode===!0&&s.constructor.prototype.isNode===!0||!1}function isRangeNode(s){return s&&s.isRangeNode===!0&&s.constructor.prototype.isNode===!0||!1}function isRelationalNode(s){return s&&s.isRelationalNode===!0&&s.constructor.prototype.isNode===!0||!1}function isSymbolNode(s){return s&&s.isSymbolNode===!0&&s.constructor.prototype.isNode===!0||!1}function isChain(s){return s&&s.constructor.prototype.isChain===!0||!1}function typeOf$1(s){var h=typeof s;return h==="object"?s===null?"null":isBigNumber(s)?"BigNumber":s.constructor&&s.constructor.name?s.constructor.name:"Object":h}function clone$3(s){var h=typeof s;if(h==="number"||h==="string"||h==="boolean"||s===null||s===void 0)return s;if(typeof s.clone=="function")return s.clone();if(Array.isArray(s))return s.map(function(g){return clone$3(g)});if(s instanceof Date)return new Date(s.valueOf());if(isBigNumber(s))return s;if(s instanceof RegExp)throw new TypeError("Cannot clone "+s);return mapObject(s,clone$3)}function mapObject(s,h){var g={};for(var it in s)hasOwnProperty$1(s,it)&&(g[it]=h(s[it]));return g}function extend(s,h){for(var g in h)hasOwnProperty$1(h,g)&&(s[g]=h[g]);return s}function deepStrictEqual(s,h){var g,it,ut;if(Array.isArray(s)){if(!Array.isArray(h)||s.length!==h.length)return!1;for(it=0,ut=s.length;it<ut;it++)if(!deepStrictEqual(s[it],h[it]))return!1;return!0}else{if(typeof s=="function")return s===h;if(s instanceof Object){if(Array.isArray(h)||!(h instanceof Object))return!1;for(g in s)if(!(g in h)||!deepStrictEqual(s[g],h[g]))return!1;for(g in h)if(!(g in s))return!1;return!0}else return s===h}}function lazy(s,h,g){var it=!0,ut;Object.defineProperty(s,h,{get:function(){return it&&(ut=g(),it=!1),ut},set:function(dt){ut=dt,it=!1},configurable:!0,enumerable:!0})}function hasOwnProperty$1(s,h){return s&&Object.hasOwnProperty.call(s,h)}function pickShallow(s,h){for(var g={},it=0;it<h.length;it++){var ut=h[it],ct=s[ut];ct!==void 0&&(g[ut]=ct)}return g}var MATRIX_OPTIONS=["Matrix","Array"],NUMBER_OPTIONS=["number","BigNumber","Fraction"],config$1=function(h){if(h)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(DEFAULT_CONFIG)};_extends$1(config$1,DEFAULT_CONFIG,{MATRIX_OPTIONS,NUMBER_OPTIONS});function ok(){return!0}function notOk(){return!1}function undef(){}const NOT_TYPED_FUNCTION="Argument is not a typed-function.";function create(){function s(er){return typeof er=="object"&&er!==null&&er.constructor===Object}const h=[{name:"number",test:function(er){return typeof er=="number"}},{name:"string",test:function(er){return typeof er=="string"}},{name:"boolean",test:function(er){return typeof er=="boolean"}},{name:"Function",test:function(er){return typeof er=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(er){return er instanceof Date}},{name:"RegExp",test:function(er){return er instanceof RegExp}},{name:"Object",test:s},{name:"null",test:function(er){return er===null}},{name:"undefined",test:function(er){return er===void 0}}],g={name:"any",test:ok,isAny:!0};let it,ut,ct=0,dt={createCount:0};function ht(er){const ar=it.get(er);if(ar)return ar;let xr='Unknown type "'+er+'"';const Tr=er.toLowerCase();let Fr;for(Fr of ut)if(Fr.toLowerCase()===Tr){xr+='. Did you mean "'+Fr+'" ?';break}throw new TypeError(xr)}function pt(er){let ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const xr=ar?ht(ar).index:ut.length,Tr=[];for(let Er=0;Er<er.length;++Er){if(!er[Er]||typeof er[Er].name!="string"||typeof er[Er].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const jr=er[Er].name;if(it.has(jr))throw new TypeError('Duplicate type name "'+jr+'"');Tr.push(jr),it.set(jr,{name:jr,test:er[Er].test,isAny:er[Er].isAny,index:xr+Er,conversionsTo:[]})}const Fr=ut.slice(xr);ut=ut.slice(0,xr).concat(Tr).concat(Fr);for(let Er=xr+Tr.length;Er<ut.length;++Er)it.get(ut[Er]).index=Er}function mt(){it=new Map,ut=[],ct=0,pt([g],!1)}mt(),pt(h);function vt(){let er;for(er of ut)it.get(er).conversionsTo=[];ct=0}function gt(er){const ar=ut.filter(xr=>{const Tr=it.get(xr);return!Tr.isAny&&Tr.test(er)});return ar.length?ar:["any"]}function yt(er){return er&&typeof er=="function"&&"_typedFunctionData"in er}function bt(er,ar,xr){if(!yt(er))throw new TypeError(NOT_TYPED_FUNCTION);const Tr=xr&&xr.exact,Fr=Array.isArray(ar)?ar.join(","):ar,Er=Nt(Fr),jr=Mt(Er);if(!Tr||jr in er.signatures){const gn=er._typedFunctionData.signatureMap.get(jr);if(gn)return gn}const Kr=Er.length;let Xr;if(Tr){Xr=[];let gn;for(gn in er.signatures)Xr.push(er._typedFunctionData.signatureMap.get(gn))}else Xr=er._typedFunctionData.signatures;for(let gn=0;gn<Kr;++gn){const xn=Er[gn],hn=[];let Ar;for(Ar of Xr){const _n=Ft(Ar.params,gn);if(!(!_n||xn.restParam&&!_n.restParam)){if(!_n.hasAny){const Gt=_t(_n);if(xn.types.some(pr=>!Gt.has(pr.name)))continue}hn.push(Ar)}}if(Xr=hn,Xr.length===0)break}let Hr;for(Hr of Xr)if(Hr.params.length<=Kr)return Hr;throw new TypeError("Signature not found (signature: "+(er.name||"unnamed")+"("+Mt(Er,", ")+"))")}function wt(er,ar,xr){return bt(er,ar,xr).implementation}function Et(er,ar){const xr=ht(ar);if(xr.test(er))return er;const Tr=xr.conversionsTo;if(Tr.length===0)throw new Error("There are no conversions to "+ar+" defined.");for(let Fr=0;Fr<Tr.length;Fr++)if(ht(Tr[Fr].from).test(er))return Tr[Fr].convert(er);throw new Error("Cannot convert "+er+" to "+ar)}function Mt(er){let ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return er.map(xr=>xr.name).join(ar)}function Dt(er){const ar=er.indexOf("...")===0,Tr=(ar?er.length>3?er.slice(3):"any":er).split("|").map(Kr=>ht(Kr.trim()));let Fr=!1,Er=ar?"...":"";return{types:Tr.map(function(Kr){return Fr=Kr.isAny||Fr,Er+=Kr.name+"|",{name:Kr.name,typeIndex:Kr.index,test:Kr.test,isAny:Kr.isAny,conversion:null,conversionIndex:-1}}),name:Er.slice(0,-1),hasAny:Fr,hasConversion:!1,restParam:ar}}function $t(er){const ar=er.types.map(jr=>jr.name),xr=qt(ar);let Tr=er.hasAny,Fr=er.name;const Er=xr.map(function(jr){const Kr=ht(jr.from);return Tr=Kr.isAny||Tr,Fr+="|"+jr.from,{name:jr.from,typeIndex:Kr.index,test:Kr.test,isAny:Kr.isAny,conversion:jr,conversionIndex:jr.index}});return{types:er.types.concat(Er),name:Fr,hasAny:Tr,hasConversion:Er.length>0,restParam:er.restParam}}function _t(er){return er.typeSet||(er.typeSet=new Set,er.types.forEach(ar=>er.typeSet.add(ar.name))),er.typeSet}function Nt(er){const ar=[];if(typeof er!="string")throw new TypeError("Signatures must be strings");const xr=er.trim();if(xr==="")return ar;const Tr=xr.split(",");for(let Fr=0;Fr<Tr.length;++Fr){const Er=Dt(Tr[Fr].trim());if(Er.restParam&&Fr!==Tr.length-1)throw new SyntaxError('Unexpected rest parameter "'+Tr[Fr]+'": only allowed for the last parameter');if(Er.types.length===0)return null;ar.push(Er)}return ar}function kt(er){const ar=Mr(er);return ar?ar.restParam:!1}function At(er){if(!er||er.types.length===0)return ok;if(er.types.length===1)return ht(er.types[0].name).test;if(er.types.length===2){const ar=ht(er.types[0].name).test,xr=ht(er.types[1].name).test;return function(Fr){return ar(Fr)||xr(Fr)}}else{const ar=er.types.map(function(xr){return ht(xr.name).test});return function(Tr){for(let Fr=0;Fr<ar.length;Fr++)if(ar[Fr](Tr))return!0;return!1}}}function Bt(er){let ar,xr,Tr;if(kt(er)){ar=Or(er).map(At);const Fr=ar.length,Er=At(Mr(er)),jr=function(Kr){for(let Xr=Fr;Xr<Kr.length;Xr++)if(!Er(Kr[Xr]))return!1;return!0};return function(Xr){for(let Hr=0;Hr<ar.length;Hr++)if(!ar[Hr](Xr[Hr]))return!1;return jr(Xr)&&Xr.length>=Fr+1}}else return er.length===0?function(Er){return Er.length===0}:er.length===1?(xr=At(er[0]),function(Er){return xr(Er[0])&&Er.length===1}):er.length===2?(xr=At(er[0]),Tr=At(er[1]),function(Er){return xr(Er[0])&&Tr(Er[1])&&Er.length===2}):(ar=er.map(At),function(Er){for(let jr=0;jr<ar.length;jr++)if(!ar[jr](Er[jr]))return!1;return Er.length===ar.length})}function Ft(er,ar){return ar<er.length?er[ar]:kt(er)?Mr(er):null}function Lt(er,ar){const xr=Ft(er,ar);return xr?_t(xr):new Set}function Ot(er){return er.conversion===null||er.conversion===void 0}function It(er,ar){const xr=new Set;return er.forEach(Tr=>{const Fr=Lt(Tr.params,ar);let Er;for(Er of Fr)xr.add(Er)}),xr.has("any")?["any"]:Array.from(xr)}function Rt(er,ar,xr){let Tr,Fr;const Er=er||"unnamed";let jr=xr,Kr;for(Kr=0;Kr<ar.length;Kr++){const xn=[];if(jr.forEach(hn=>{const Ar=Ft(hn.params,Kr),_n=At(Ar);(Kr<hn.params.length||kt(hn.params))&&_n(ar[Kr])&&xn.push(hn)}),xn.length===0){if(Fr=It(jr,Kr),Fr.length>0){const hn=gt(ar[Kr]);return Tr=new TypeError("Unexpected type of argument in function "+Er+" (expected: "+Fr.join(" or ")+", actual: "+hn.join(" | ")+", index: "+Kr+")"),Tr.data={category:"wrongType",fn:Er,index:Kr,actual:hn,expected:Fr},Tr}}else jr=xn}const Xr=jr.map(function(xn){return kt(xn.params)?1/0:xn.params.length});if(ar.length<Math.min.apply(null,Xr))return Fr=It(jr,Kr),Tr=new TypeError("Too few arguments in function "+Er+" (expected: "+Fr.join(" or ")+", index: "+ar.length+")"),Tr.data={category:"tooFewArgs",fn:Er,index:ar.length,expected:Fr},Tr;const Hr=Math.max.apply(null,Xr);if(ar.length>Hr)return Tr=new TypeError("Too many arguments in function "+Er+" (expected: "+Hr+", actual: "+ar.length+")"),Tr.data={category:"tooManyArgs",fn:Er,index:ar.length,expectedLength:Hr},Tr;const gn=[];for(let xn=0;xn<ar.length;++xn)gn.push(gt(ar[xn]).join("|"));return Tr=new TypeError('Arguments of type "'+gn.join(", ")+'" do not match any of the defined signatures of function '+Er+"."),Tr.data={category:"mismatch",actual:gn},Tr}function Vt(er){let ar=ut.length+1;for(let xr=0;xr<er.types.length;xr++)Ot(er.types[xr])&&(ar=Math.min(ar,er.types[xr].typeIndex));return ar}function Xt(er){let ar=ct+1;for(let xr=0;xr<er.types.length;xr++)Ot(er.types[xr])||(ar=Math.min(ar,er.types[xr].conversionIndex));return ar}function Wt(er,ar){if(er.hasAny){if(!ar.hasAny)return 1}else if(ar.hasAny)return-1;if(er.restParam){if(!ar.restParam)return 1}else if(ar.restParam)return-1;if(er.hasConversion){if(!ar.hasConversion)return 1}else if(ar.hasConversion)return-1;const xr=Vt(er)-Vt(ar);if(xr<0)return-1;if(xr>0)return 1;const Tr=Xt(er)-Xt(ar);return Tr<0?-1:Tr>0?1:0}function jt(er,ar){const xr=er.params,Tr=ar.params,Fr=Mr(xr),Er=Mr(Tr),jr=kt(xr),Kr=kt(Tr);if(jr&&Fr.hasAny){if(!Kr||!Er.hasAny)return 1}else if(Kr&&Er.hasAny)return-1;let Xr=0,Hr=0,gn;for(gn of xr)gn.hasAny&&++Xr,gn.hasConversion&&++Hr;let xn=0,hn=0;for(gn of Tr)gn.hasAny&&++xn,gn.hasConversion&&++hn;if(Xr!==xn)return Xr-xn;if(jr&&Fr.hasConversion){if(!Kr||!Er.hasConversion)return 1}else if(Kr&&Er.hasConversion)return-1;if(Hr!==hn)return Hr-hn;if(jr){if(!Kr)return 1}else if(Kr)return-1;const Ar=(xr.length-Tr.length)*(jr?-1:1);if(Ar!==0)return Ar;const _n=[];let Gt=0;for(let Br=0;Br<xr.length;++Br){const Vr=Wt(xr[Br],Tr[Br]);_n.push(Vr),Gt+=Vr}if(Gt!==0)return Gt;let pr;for(pr of _n)if(pr!==0)return pr;return 0}function qt(er){if(er.length===0)return[];const ar=er.map(ht);er.length>1&&ar.sort((Fr,Er)=>Fr.index-Er.index);let xr=ar[0].conversionsTo;if(er.length===1)return xr;xr=xr.concat([]);const Tr=new Set(er);for(let Fr=1;Fr<ar.length;++Fr){let Er;for(Er of ar[Fr].conversionsTo)Tr.has(Er.from)||(xr.push(Er),Tr.add(Er.from))}return xr}function Zt(er,ar){let xr=ar;if(er.some(Fr=>Fr.hasConversion)){const Fr=kt(er),Er=er.map(Ut);xr=function(){const Kr=[],Xr=Fr?arguments.length-1:arguments.length;for(let Hr=0;Hr<Xr;Hr++)Kr[Hr]=Er[Hr](arguments[Hr]);return Fr&&(Kr[Xr]=arguments[Xr].map(Er[Xr])),ar.apply(this,Kr)}}let Tr=xr;if(kt(er)){const Fr=er.length-1;Tr=function(){return xr.apply(this,dr(arguments,0,Fr).concat([dr(arguments,Fr)]))}}return Tr}function Ut(er){let ar,xr,Tr,Fr;const Er=[],jr=[];switch(er.types.forEach(function(Kr){Kr.conversion&&(Er.push(ht(Kr.conversion.from).test),jr.push(Kr.conversion.convert))}),jr.length){case 0:return function(Xr){return Xr};case 1:return ar=Er[0],Tr=jr[0],function(Xr){return ar(Xr)?Tr(Xr):Xr};case 2:return ar=Er[0],xr=Er[1],Tr=jr[0],Fr=jr[1],function(Xr){return ar(Xr)?Tr(Xr):xr(Xr)?Fr(Xr):Xr};default:return function(Xr){for(let Hr=0;Hr<jr.length;Hr++)if(Er[Hr](Xr))return jr[Hr](Xr);return Xr}}}function Yt(er){function ar(xr,Tr,Fr){if(Tr<xr.length){const Er=xr[Tr];let jr=[];if(Er.restParam){const Kr=Er.types.filter(Ot);Kr.length<Er.types.length&&jr.push({types:Kr,name:"..."+Kr.map(Xr=>Xr.name).join("|"),hasAny:Kr.some(Xr=>Xr.isAny),hasConversion:!1,restParam:!0}),jr.push(Er)}else jr=Er.types.map(function(Kr){return{types:[Kr],name:Kr.name,hasAny:Kr.isAny,hasConversion:Kr.conversion,restParam:!1}});return zr(jr,function(Kr){return ar(xr,Tr+1,Fr.concat([Kr]))})}else return[Fr]}return ar(er,0,[])}function lr(er,ar){const xr=Math.max(er.length,ar.length);for(let Kr=0;Kr<xr;Kr++){const Xr=Lt(er,Kr),Hr=Lt(ar,Kr);let gn=!1,xn;for(xn of Hr)if(Xr.has(xn)){gn=!0;break}if(!gn)return!1}const Tr=er.length,Fr=ar.length,Er=kt(er),jr=kt(ar);return Er?jr?Tr===Fr:Fr>=Tr:jr?Tr>=Fr:Tr===Fr}function rr(er){return er.map(ar=>br(ar)?tr(ar.referToSelf.callback):ir(ar)?Lr(ar.referTo.references,ar.referTo.callback):ar)}function Qt(er,ar,xr){const Tr=[];let Fr;for(Fr of er){let Er=xr[Fr];if(typeof Er!="number")throw new TypeError('No definition for referenced signature "'+Fr+'"');if(Er=ar[Er],typeof Er!="function")return!1;Tr.push(Er)}return Tr}function ur(er,ar,xr){const Tr=rr(er),Fr=new Array(Tr.length).fill(!1);let Er=!0;for(;Er;){Er=!1;let jr=!0;for(let Kr=0;Kr<Tr.length;++Kr){if(Fr[Kr])continue;const Xr=Tr[Kr];if(br(Xr))Tr[Kr]=Xr.referToSelf.callback(xr),Tr[Kr].referToSelf=Xr.referToSelf,Fr[Kr]=!0,jr=!1;else if(ir(Xr)){const Hr=Qt(Xr.referTo.references,Tr,ar);Hr?(Tr[Kr]=Xr.referTo.callback.apply(this,Hr),Tr[Kr].referTo=Xr.referTo,Fr[Kr]=!0,jr=!1):Er=!0}}if(jr&&Er)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Tr}function wr(er){const ar=/\bthis(\(|\.signatures\b)/;Object.keys(er).forEach(xr=>{const Tr=er[xr];if(ar.test(Tr.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function vr(er,ar){if(dt.createCount++,Object.keys(ar).length===0)throw new SyntaxError("No signatures provided");dt.warnAgainstDeprecatedThis&&wr(ar);const xr=[],Tr=[],Fr={},Er=[];let jr;for(jr in ar){if(!Object.prototype.hasOwnProperty.call(ar,jr))continue;const En=Nt(jr);if(!En)continue;xr.forEach(function(eo){if(lr(eo,En))throw new TypeError('Conflicting signatures "'+Mt(eo)+'" and "'+Mt(En)+'".')}),xr.push(En);const Kn=Tr.length;Tr.push(ar[jr]);const ks=En.map($t);let lo;for(lo of Yt(ks)){const eo=Mt(lo);Er.push({params:lo,name:eo,fn:Kn}),lo.every(Vo=>!Vo.hasConversion)&&(Fr[eo]=Kn)}}Er.sort(jt);const Kr=ur(Tr,Fr,oo);let Xr;for(Xr in Fr)Object.prototype.hasOwnProperty.call(Fr,Xr)&&(Fr[Xr]=Kr[Fr[Xr]]);const Hr=[],gn=new Map;for(Xr of Er)gn.has(Xr.name)||(Xr.fn=Kr[Xr.fn],Hr.push(Xr),gn.set(Xr.name,Xr));const xn=Hr[0]&&Hr[0].params.length<=2&&!kt(Hr[0].params),hn=Hr[1]&&Hr[1].params.length<=2&&!kt(Hr[1].params),Ar=Hr[2]&&Hr[2].params.length<=2&&!kt(Hr[2].params),_n=Hr[3]&&Hr[3].params.length<=2&&!kt(Hr[3].params),Gt=Hr[4]&&Hr[4].params.length<=2&&!kt(Hr[4].params),pr=Hr[5]&&Hr[5].params.length<=2&&!kt(Hr[5].params),Br=xn&&hn&&Ar&&_n&&Gt&&pr;for(let En=0;En<Hr.length;++En)Hr[En].test=Bt(Hr[En].params);const Vr=xn?At(Hr[0].params[0]):notOk,vn=hn?At(Hr[1].params[0]):notOk,wn=Ar?At(Hr[2].params[0]):notOk,Wn=_n?At(Hr[3].params[0]):notOk,Nn=Gt?At(Hr[4].params[0]):notOk,Qn=pr?At(Hr[5].params[0]):notOk,bo=xn?At(Hr[0].params[1]):notOk,$a=hn?At(Hr[1].params[1]):notOk,Bo=Ar?At(Hr[2].params[1]):notOk,Uo=_n?At(Hr[3].params[1]):notOk,sn=Gt?At(Hr[4].params[1]):notOk,Zn=pr?At(Hr[5].params[1]):notOk;for(let En=0;En<Hr.length;++En)Hr[En].implementation=Zt(Hr[En].params,Hr[En].fn);const Oo=xn?Hr[0].implementation:undef,Ko=hn?Hr[1].implementation:undef,Mo=Ar?Hr[2].implementation:undef,Jn=_n?Hr[3].implementation:undef,$r=Gt?Hr[4].implementation:undef,cn=pr?Hr[5].implementation:undef,fn=xn?Hr[0].params.length:-1,pn=hn?Hr[1].params.length:-1,Nr=Ar?Hr[2].params.length:-1,Un=_n?Hr[3].params.length:-1,_i=Gt?Hr[4].params.length:-1,po=pr?Hr[5].params.length:-1,Lo=Br?6:0,ns=Hr.length,$o=Hr.map(En=>En.test),On=Hr.map(En=>En.implementation),na=function(){for(let Kn=Lo;Kn<ns;Kn++)if($o[Kn](arguments))return On[Kn].apply(this,arguments);return dt.onMismatch(er,arguments,Hr)};function oo(En,Kn){return arguments.length===fn&&Vr(En)&&bo(Kn)?Oo.apply(this,arguments):arguments.length===pn&&vn(En)&&$a(Kn)?Ko.apply(this,arguments):arguments.length===Nr&&wn(En)&&Bo(Kn)?Mo.apply(this,arguments):arguments.length===Un&&Wn(En)&&Uo(Kn)?Jn.apply(this,arguments):arguments.length===_i&&Nn(En)&&sn(Kn)?$r.apply(this,arguments):arguments.length===po&&Qn(En)&&Zn(Kn)?cn.apply(this,arguments):na.apply(this,arguments)}try{Object.defineProperty(oo,"name",{value:er})}catch{}return oo.signatures=Fr,oo._typedFunctionData={signatures:Hr,signatureMap:gn},oo}function Dr(er,ar,xr){throw Rt(er,ar,xr)}function Or(er){return dr(er,0,er.length-1)}function Mr(er){return er[er.length-1]}function dr(er,ar,xr){return Array.prototype.slice.call(er,ar,xr)}function _r(er,ar){for(let xr=0;xr<er.length;xr++)if(ar(er[xr]))return er[xr]}function zr(er,ar){return Array.prototype.concat.apply([],er.map(ar))}function yr(){const er=Or(arguments).map(xr=>Mt(Nt(xr))),ar=Mr(arguments);if(typeof ar!="function")throw new TypeError("Callback function expected as last argument");return Lr(er,ar)}function Lr(er,ar){return{referTo:{references:er,callback:ar}}}function tr(er){if(typeof er!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:er}}}function ir(er){return er&&typeof er.referTo=="object"&&Array.isArray(er.referTo.references)&&typeof er.referTo.callback=="function"}function br(er){return er&&typeof er.referToSelf=="object"&&typeof er.referToSelf.callback=="function"}function nr(er,ar){if(!er)return ar;if(ar&&ar!==er){const xr=new Error("Function names do not match (expected: "+er+", actual: "+ar+")");throw xr.data={actual:ar,expected:er},xr}return er}function cr(er){let ar;for(const xr in er)Object.prototype.hasOwnProperty.call(er,xr)&&(yt(er[xr])||typeof er[xr].signature=="string")&&(ar=nr(ar,er[xr].name));return ar}function gr(er,ar){let xr;for(xr in ar)if(Object.prototype.hasOwnProperty.call(ar,xr)){if(xr in er&&ar[xr]!==er[xr]){const Tr=new Error('Signature "'+xr+'" is defined twice');throw Tr.data={signature:xr,sourceFunction:ar[xr],destFunction:er[xr]},Tr}er[xr]=ar[xr]}}const Sr=dt;dt=function(er){const ar=typeof er=="string",xr=ar?1:0;let Tr=ar?er:"";const Fr={};for(let Er=xr;Er<arguments.length;++Er){const jr=arguments[Er];let Kr={},Xr;if(typeof jr=="function"?(Xr=jr.name,typeof jr.signature=="string"?Kr[jr.signature]=jr:yt(jr)&&(Kr=jr.signatures)):s(jr)&&(Kr=jr,ar||(Xr=cr(jr))),Object.keys(Kr).length===0){const Hr=new TypeError("Argument to 'typed' at index "+Er+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Hr.data={index:Er,argument:jr},Hr}ar||(Tr=nr(Tr,Xr)),gr(Fr,Kr)}return vr(Tr||"",Fr)},dt.create=create,dt.createCount=Sr.createCount,dt.onMismatch=Dr,dt.throwMismatchError=Dr,dt.createError=Rt,dt.clear=mt,dt.clearConversions=vt,dt.addTypes=pt,dt._findType=ht,dt.referTo=yr,dt.referToSelf=tr,dt.convert=Et,dt.findSignature=bt,dt.find=wt,dt.isTypedFunction=yt,dt.warnAgainstDeprecatedThis=!0,dt.addType=function(er,ar){let xr="any";ar!==!1&&it.has("Object")&&(xr="Object"),dt.addTypes([er],xr)};function kr(er){if(!er||typeof er.from!="string"||typeof er.to!="string"||typeof er.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(er.to===er.from)throw new SyntaxError('Illegal to define conversion from "'+er.from+'" to itself.')}return dt.addConversion=function(er){kr(er);const ar=ht(er.to);if(ar.conversionsTo.every(function(xr){return xr.from!==er.from}))ar.conversionsTo.push({from:er.from,convert:er.convert,index:ct++});else throw new Error('There is already a conversion from "'+er.from+'" to "'+ar.name+'"')},dt.addConversions=function(er){er.forEach(dt.addConversion)},dt.removeConversion=function(er){kr(er);const ar=ht(er.to),xr=_r(ar.conversionsTo,Fr=>Fr.from===er.from);if(!xr)throw new Error("Attempt to remove nonexistent conversion from "+er.from+" to "+er.to);if(xr.convert!==er.convert)throw new Error("Conversion to remove does not match existing conversion");const Tr=ar.conversionsTo.indexOf(xr);ar.conversionsTo.splice(Tr,1)},dt.resolve=function(er,ar){if(!yt(er))throw new TypeError(NOT_TYPED_FUNCTION);const xr=er._typedFunctionData.signatures;for(let Tr=0;Tr<xr.length;++Tr)if(xr[Tr].test(ar))return xr[Tr];return null},dt}const typedFunction=create();function isInteger$1(s){return typeof s=="boolean"?!0:isFinite(s)?s===Math.round(s):!1}var sign$2=Math.sign||function(s){return s>0?1:s<0?-1:0},log2$2=Math.log2||function(h){return Math.log(h)/Math.LN2},log10$2=Math.log10||function(h){return Math.log(h)/Math.LN10},log1p$1=Math.log1p||function(s){return Math.log(s+1)},cbrt$2=Math.cbrt||function(h){if(h===0)return h;var g=h<0,it;return g&&(h=-h),isFinite(h)?(it=Math.exp(Math.log(h)/3),it=(h/(it*it)+2*it)/3):it=h,g?-it:it},expm1$1=Math.expm1||function(h){return h>=2e-4||h<=-2e-4?Math.exp(h)-1:h+h*h/2+h*h*h/6};function formatNumberToBase(s,h,g){var it={2:"0b",8:"0o",16:"0x"},ut=it[h],ct="";if(g){if(g<1)throw new Error("size must be in greater than 0");if(!isInteger$1(g))throw new Error("size must be an integer");if(s>2**(g-1)-1||s<-(2**(g-1)))throw new Error("Value must be in range [-2^".concat(g-1,", 2^").concat(g-1,"-1]"));if(!isInteger$1(s))throw new Error("Value must be an integer");s<0&&(s=s+2**g),ct="i".concat(g)}var dt="";return s<0&&(s=-s,dt="-"),"".concat(dt).concat(ut).concat(s.toString(h)).concat(ct)}function format$3(s,h){if(typeof h=="function")return h(s);if(s===1/0)return"Infinity";if(s===-1/0)return"-Infinity";if(isNaN(s))return"NaN";var g="auto",it,ut;if(h&&(h.notation&&(g=h.notation),isNumber(h)?it=h:isNumber(h.precision)&&(it=h.precision),h.wordSize&&(ut=h.wordSize,typeof ut!="number")))throw new Error('Option "wordSize" must be a number');switch(g){case"fixed":return toFixed$1(s,it);case"exponential":return toExponential$1(s,it);case"engineering":return toEngineering$1(s,it);case"bin":return formatNumberToBase(s,2,ut);case"oct":return formatNumberToBase(s,8,ut);case"hex":return formatNumberToBase(s,16,ut);case"auto":return toPrecision(s,it,h&&h).replace(/((\.\d*?)(0+))($|e)/,function(){var ct=arguments[2],dt=arguments[4];return ct!=="."?ct+dt:dt});default:throw new Error('Unknown notation "'+g+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function splitNumber(s){var h=String(s).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!h)throw new SyntaxError("Invalid number "+s);var g=h[1],it=h[2],ut=parseFloat(h[4]||"0"),ct=it.indexOf(".");ut+=ct!==-1?ct-1:it.length-1;var dt=it.replace(".","").replace(/^0*/,function(ht){return ut-=ht.length,""}).replace(/0*$/,"").split("").map(function(ht){return parseInt(ht)});return dt.length===0&&(dt.push(0),ut++),{sign:g,coefficients:dt,exponent:ut}}function toEngineering$1(s,h){if(isNaN(s)||!isFinite(s))return String(s);var g=splitNumber(s),it=roundDigits(g,h),ut=it.exponent,ct=it.coefficients,dt=ut%3===0?ut:ut<0?ut-3-ut%3:ut-ut%3;if(isNumber(h))for(;h>ct.length||ut-dt+1>ct.length;)ct.push(0);else for(var ht=Math.abs(ut-dt)-(ct.length-1),pt=0;pt<ht;pt++)ct.push(0);for(var mt=Math.abs(ut-dt),vt=1;mt>0;)vt++,mt--;var gt=ct.slice(vt).join(""),yt=isNumber(h)&&gt.length||gt.match(/[1-9]/)?"."+gt:"",bt=ct.slice(0,vt).join("")+yt+"e"+(ut>=0?"+":"")+dt.toString();return it.sign+bt}function toFixed$1(s,h){if(isNaN(s)||!isFinite(s))return String(s);var g=splitNumber(s),it=typeof h=="number"?roundDigits(g,g.exponent+1+h):g,ut=it.coefficients,ct=it.exponent+1,dt=ct+(h||0);return ut.length<dt&&(ut=ut.concat(zeros$1(dt-ut.length))),ct<0&&(ut=zeros$1(-ct+1).concat(ut),ct=1),ct<ut.length&&ut.splice(ct,0,ct===0?"0.":"."),it.sign+ut.join("")}function toExponential$1(s,h){if(isNaN(s)||!isFinite(s))return String(s);var g=splitNumber(s),it=h?roundDigits(g,h):g,ut=it.coefficients,ct=it.exponent;ut.length<h&&(ut=ut.concat(zeros$1(h-ut.length)));var dt=ut.shift();return it.sign+dt+(ut.length>0?"."+ut.join(""):"")+"e"+(ct>=0?"+":"")+ct}function toPrecision(s,h,g){if(isNaN(s)||!isFinite(s))return String(s);var it=g&&g.lowerExp!==void 0?g.lowerExp:-3,ut=g&&g.upperExp!==void 0?g.upperExp:5,ct=splitNumber(s),dt=h?roundDigits(ct,h):ct;if(dt.exponent<it||dt.exponent>=ut)return toExponential$1(s,h);var ht=dt.coefficients,pt=dt.exponent;ht.length<h&&(ht=ht.concat(zeros$1(h-ht.length))),ht=ht.concat(zeros$1(pt-ht.length+1+(ht.length<h?h-ht.length:0))),ht=zeros$1(-pt).concat(ht);var mt=pt>0?pt:0;return mt<ht.length-1&&ht.splice(mt+1,0,"."),dt.sign+ht.join("")}function roundDigits(s,h){for(var g={sign:s.sign,coefficients:s.coefficients,exponent:s.exponent},it=g.coefficients;h<=0;)it.unshift(0),g.exponent++,h++;if(it.length>h){var ut=it.splice(h,it.length-h);if(ut[0]>=5){var ct=h-1;for(it[ct]++;it[ct]===10;)it.pop(),ct===0&&(it.unshift(0),g.exponent++,ct++),ct--,it[ct]++}}return g}function zeros$1(s){for(var h=[],g=0;g<s;g++)h.push(0);return h}function digits(s){return s.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var DBL_EPSILON=Number.EPSILON||2220446049250313e-31;function nearlyEqual$1(s,h,g){if(g==null)return s===h;if(s===h)return!0;if(isNaN(s)||isNaN(h))return!1;if(isFinite(s)&&isFinite(h)){var it=Math.abs(s-h);return it<DBL_EPSILON?!0:it<=Math.max(Math.abs(s),Math.abs(h))*g}return!1}var acosh$2=Math.acosh||function(s){return Math.log(Math.sqrt(s*s-1)+s)},asinh$2=Math.asinh||function(s){return Math.log(Math.sqrt(s*s+1)+s)},atanh$2=Math.atanh||function(s){return Math.log((1+s)/(1-s))/2},cosh$2=Math.cosh||function(s){return(Math.exp(s)+Math.exp(-s))/2},sinh$2=Math.sinh||function(s){return(Math.exp(s)-Math.exp(-s))/2},tanh$2=Math.tanh||function(s){var h=Math.exp(2*s);return(h-1)/(h+1)};function copysign(s,h){var g=s>0?!0:s<0?!1:1/s===1/0,it=h>0?!0:h<0?!1:1/h===1/0;return g^it?-s:s}function formatBigNumberToBase(s,h,g){var it=s.constructor,ut=new it(2),ct="";if(g){if(g<1)throw new Error("size must be in greater than 0");if(!isInteger$1(g))throw new Error("size must be an integer");if(s.greaterThan(ut.pow(g-1).sub(1))||s.lessThan(ut.pow(g-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(g-1,", 2^").concat(g-1,"-1]"));if(!s.isInteger())throw new Error("Value must be an integer");s.lessThan(0)&&(s=s.add(ut.pow(g))),ct="i".concat(g)}switch(h){case 2:return"".concat(s.toBinary()).concat(ct);case 8:return"".concat(s.toOctal()).concat(ct);case 16:return"".concat(s.toHexadecimal()).concat(ct);default:throw new Error("Base ".concat(h," not supported "))}}function format$2(s,h){if(typeof h=="function")return h(s);if(!s.isFinite())return s.isNaN()?"NaN":s.gt(0)?"Infinity":"-Infinity";var g="auto",it,ut;if(h!==void 0&&(h.notation&&(g=h.notation),typeof h=="number"?it=h:h.precision!==void 0&&(it=h.precision),h.wordSize&&(ut=h.wordSize,typeof ut!="number")))throw new Error('Option "wordSize" must be a number');switch(g){case"fixed":return toFixed(s,it);case"exponential":return toExponential(s,it);case"engineering":return toEngineering(s,it);case"bin":return formatBigNumberToBase(s,2,ut);case"oct":return formatBigNumberToBase(s,8,ut);case"hex":return formatBigNumberToBase(s,16,ut);case"auto":{var ct=h&&h.lowerExp!==void 0?h.lowerExp:-3,dt=h&&h.upperExp!==void 0?h.upperExp:5;if(s.isZero())return"0";var ht,pt=s.toSignificantDigits(it),mt=pt.e;return mt>=ct&&mt<dt?ht=pt.toFixed():ht=toExponential(s,it),ht.replace(/((\.\d*?)(0+))($|e)/,function(){var vt=arguments[2],gt=arguments[4];return vt!=="."?vt+gt:gt})}default:throw new Error('Unknown notation "'+g+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function toEngineering(s,h){var g=s.e,it=g%3===0?g:g<0?g-3-g%3:g-g%3,ut=s.mul(Math.pow(10,-it)),ct=ut.toPrecision(h);if(ct.indexOf("e")!==-1){var dt=s.constructor;ct=new dt(ct).toFixed()}return ct+"e"+(g>=0?"+":"")+it.toString()}function toExponential(s,h){return h!==void 0?s.toExponential(h-1):s.toExponential()}function toFixed(s,h){return s.toFixed(h)}function endsWith(s,h){var g=s.length-h.length,it=s.length;return s.substring(g,it)===h}function format$1(s,h){var g=_format(s,h);return h&&typeof h=="object"&&"truncate"in h&&g.length>h.truncate?g.substring(0,h.truncate-3)+"...":g}function _format(s,h){if(typeof s=="number")return format$3(s,h);if(isBigNumber(s))return format$2(s,h);if(looksLikeFraction(s))return!h||h.fraction!=="decimal"?s.s*s.n+"/"+s.d:s.toString();if(Array.isArray(s))return formatArray(s,h);if(isString(s))return'"'+s+'"';if(typeof s=="function")return s.syntax?String(s.syntax):"function";if(s&&typeof s=="object"){if(typeof s.format=="function")return s.format(h);if(s&&s.toString(h)!=={}.toString())return s.toString(h);var g=Object.keys(s).map(it=>'"'+it+'": '+format$1(s[it],h));return"{"+g.join(", ")+"}"}return String(s)}function stringify(s){for(var h=String(s),g="",it=0;it<h.length;){var ut=h.charAt(it);ut==="\\"?(g+=ut,it++,ut=h.charAt(it),(ut===""||'"\\/bfnrtu'.indexOf(ut)===-1)&&(g+="\\"),g+=ut):ut==='"'?g+='\\"':g+=ut,it++}return'"'+g+'"'}function escape(s){var h=String(s);return h=h.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),h}function formatArray(s,h){if(Array.isArray(s)){for(var g="[",it=s.length,ut=0;ut<it;ut++)ut!==0&&(g+=", "),g+=formatArray(s[ut],h);return g+="]",g}else return format$1(s,h)}function looksLikeFraction(s){return s&&typeof s=="object"&&typeof s.s=="number"&&typeof s.n=="number"&&typeof s.d=="number"||!1}function compareText$1(s,h){if(!isString(s))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+typeOf$1(s)+", index: 0)");if(!isString(h))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+typeOf$1(h)+", index: 1)");return s===h?0:s>h?1:-1}function DimensionError(s,h,g){if(!(this instanceof DimensionError))throw new SyntaxError("Constructor must be called with the new operator");this.actual=s,this.expected=h,this.relation=g,this.message="Dimension mismatch ("+(Array.isArray(s)?"["+s.join(", ")+"]":s)+" "+(this.relation||"!=")+" "+(Array.isArray(h)?"["+h.join(", ")+"]":h)+")",this.stack=new Error().stack}DimensionError.prototype=new RangeError;DimensionError.prototype.constructor=RangeError;DimensionError.prototype.name="DimensionError";DimensionError.prototype.isDimensionError=!0;function IndexError(s,h,g){if(!(this instanceof IndexError))throw new SyntaxError("Constructor must be called with the new operator");this.index=s,arguments.length<3?(this.min=0,this.max=h):(this.min=h,this.max=g),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}IndexError.prototype=new RangeError;IndexError.prototype.constructor=RangeError;IndexError.prototype.name="IndexError";IndexError.prototype.isIndexError=!0;function arraySize(s){for(var h=[];Array.isArray(s);)h.push(s.length),s=s[0];return h}function _validate(s,h,g){var it,ut=s.length;if(ut!==h[g])throw new DimensionError(ut,h[g]);if(g<h.length-1){var ct=g+1;for(it=0;it<ut;it++){var dt=s[it];if(!Array.isArray(dt))throw new DimensionError(h.length-1,h.length,"<");_validate(s[it],h,ct)}}else for(it=0;it<ut;it++)if(Array.isArray(s[it]))throw new DimensionError(h.length+1,h.length,">")}function validate(s,h){var g=h.length===0;if(g){if(Array.isArray(s))throw new DimensionError(s.length,0)}else _validate(s,h,0)}function validateIndexSourceSize(s,h){var g=s.isMatrix?s._size:arraySize(s),it=h._sourceSize;it.forEach((ut,ct)=>{if(ut!==null&&ut!==g[ct])throw new DimensionError(ut,g[ct])})}function validateIndex(s,h){if(s!==void 0){if(!isNumber(s)||!isInteger$1(s))throw new TypeError("Index must be an integer (value: "+s+")");if(s<0||typeof h=="number"&&s>=h)throw new IndexError(s,h)}}function isEmptyIndex(s){for(var h=0;h<s._dimensions.length;++h){var g=s._dimensions[h];if(g._data&&isArray(g._data)){if(g._size[0]===0)return!0}else if(g.isRange){if(g.start===g.end)return!0}else if(isString(g)&&g.length===0)return!0}return!1}function resize$1(s,h,g){if(!Array.isArray(h))throw new TypeError("Array expected");if(h.length===0)throw new Error("Resizing to scalar is not supported");h.forEach(function(ut){if(!isNumber(ut)||!isInteger$1(ut)||ut<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format$1(h)+")")}),(isNumber(s)||isBigNumber(s))&&(s=[s]);var it=g!==void 0?g:0;return _resize(s,h,0,it),s}function _resize(s,h,g,it){var ut,ct,dt=s.length,ht=h[g],pt=Math.min(dt,ht);if(s.length=ht,g<h.length-1){var mt=g+1;for(ut=0;ut<pt;ut++)ct=s[ut],Array.isArray(ct)||(ct=[ct],s[ut]=ct),_resize(ct,h,mt,it);for(ut=pt;ut<ht;ut++)ct=[],s[ut]=ct,_resize(ct,h,mt,it)}else{for(ut=0;ut<pt;ut++)for(;Array.isArray(s[ut]);)s[ut]=s[ut][0];for(ut=pt;ut<ht;ut++)s[ut]=it}}function reshape$1(s,h){var g=flatten$1(s),it=g.length;if(!Array.isArray(s)||!Array.isArray(h))throw new TypeError("Array expected");if(h.length===0)throw new DimensionError(0,it,"!=");h=processSizesWildcard(h,it);var ut=product$1(h);if(it!==ut)throw new DimensionError(ut,it,"!=");try{return _reshape(g,h)}catch(ct){throw ct instanceof DimensionError?new DimensionError(ut,it,"!="):ct}}function processSizesWildcard(s,h){var g=product$1(s),it=s.slice(),ut=-1,ct=s.indexOf(ut),dt=s.indexOf(ut,ct+1)>=0;if(dt)throw new Error("More than one wildcard in sizes");var ht=ct>=0,pt=h%g===0;if(ht)if(pt)it[ct]=-h/g;else throw new Error("Could not replace wildcard, since "+h+" is no multiple of "+-g);return it}function product$1(s){return s.reduce((h,g)=>h*g,1)}function _reshape(s,h){for(var g=s,it,ut=h.length-1;ut>0;ut--){var ct=h[ut];it=[];for(var dt=g.length/ct,ht=0;ht<dt;ht++)it.push(g.slice(ht*ct,(ht+1)*ct));g=it}return g}function squeeze$1(s,h){for(var g=h||arraySize(s);Array.isArray(s)&&s.length===1;)s=s[0],g.shift();for(var it=g.length;g[it-1]===1;)it--;return it<g.length&&(s=_squeeze(s,it,0),g.length=it),s}function _squeeze(s,h,g){var it,ut;if(g<h){var ct=g+1;for(it=0,ut=s.length;it<ut;it++)s[it]=_squeeze(s[it],h,ct)}else for(;Array.isArray(s);)s=s[0];return s}function unsqueeze(s,h,g,it){var ut=it||arraySize(s);if(g)for(var ct=0;ct<g;ct++)s=[s],ut.unshift(1);for(s=_unsqueeze(s,h,0);ut.length<h;)ut.push(1);return s}function _unsqueeze(s,h,g){var it,ut;if(Array.isArray(s)){var ct=g+1;for(it=0,ut=s.length;it<ut;it++)s[it]=_unsqueeze(s[it],h,ct)}else for(var dt=g;dt<h;dt++)s=[s];return s}function flatten$1(s){if(!Array.isArray(s))return s;var h=[];return s.forEach(function g(it){Array.isArray(it)?it.forEach(g):h.push(it)}),h}function map$1(s,h){return Array.prototype.map.call(s,h)}function forEach$1(s,h){Array.prototype.forEach.call(s,h)}function filter$1(s,h){if(arraySize(s).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(s,h)}function filterRegExp(s,h){if(arraySize(s).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(s,g=>h.test(g))}function join(s,h){return Array.prototype.join.call(s,h)}function identify(s){if(!Array.isArray(s))throw new TypeError("Array input expected");if(s.length===0)return s;var h=[],g=0;h[0]={value:s[0],identifier:0};for(var it=1;it<s.length;it++)s[it]===s[it-1]?g++:g=0,h.push({value:s[it],identifier:g});return h}function generalize(s){if(!Array.isArray(s))throw new TypeError("Array input expected");if(s.length===0)return s;for(var h=[],g=0;g<s.length;g++)h.push(s[g].value);return h}function getArrayDataType(s,h){for(var g,it=0,ut=0;ut<s.length;ut++){var ct=s[ut],dt=Array.isArray(ct);if(ut===0&&dt&&(it=ct.length),dt&&ct.length!==it)return;var ht=dt?getArrayDataType(ct,h):h(ct);if(g===void 0)g=ht;else if(g!==ht)return"mixed"}return g}function concatRecursive(s,h,g,it){if(it<g){if(s.length!==h.length)throw new DimensionError(s.length,h.length);for(var ut=[],ct=0;ct<s.length;ct++)ut[ct]=concatRecursive(s[ct],h[ct],g,it+1);return ut}else return s.concat(h)}function concat$1(){var s=Array.prototype.slice.call(arguments,0,-1),h=Array.prototype.slice.call(arguments,-1);if(s.length===1)return s[0];if(s.length>1)return s.slice(1).reduce(function(g,it){return concatRecursive(g,it,h,0)},s[0]);throw new Error("Wrong number of arguments in function concat")}function broadcastSizes(){for(var s=arguments.length,h=new Array(s),g=0;g<s;g++)h[g]=arguments[g];for(var it=h.map(yt=>yt.length),ut=Math.max(...it),ct=new Array(ut).fill(null),dt=0;dt<h.length;dt++)for(var ht=h[dt],pt=it[dt],mt=0;mt<pt;mt++){var vt=ut-pt+mt;ht[mt]>ct[vt]&&(ct[vt]=ht[mt])}for(var gt=0;gt<h.length;gt++)checkBroadcastingRules(h[gt],ct);return ct}function checkBroadcastingRules(s,h){for(var g=h.length,it=s.length,ut=0;ut<it;ut++){var ct=g-it+ut;if(s[ut]<h[ct]&&s[ut]>1||s[ut]>h[ct])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(s,") not possible to broadcast dimension ").concat(it," with size ").concat(s[ut]," to size ").concat(h[ct]))}}function broadcastTo(s,h){var g=arraySize(s);if(deepStrictEqual(g,h))return s;checkBroadcastingRules(g,h);var it=broadcastSizes(g,h),ut=it.length,ct=[...Array(ut-g.length).fill(1),...g],dt=clone$2(s);g.length<ut&&(dt=reshape$1(dt,ct),g=arraySize(dt));for(var ht=0;ht<ut;ht++)g[ht]<it[ht]&&(dt=stretch(dt,it[ht],ht),g=arraySize(dt));return dt}function stretch(s,h,g){return concat$1(...Array(h).fill(s),g)}function clone$2(s){return _extends$1([],s)}function factory(s,h,g,it){function ut(ct){var dt=pickShallow(ct,h.map(stripOptionalNotation));return assertDependencies(s,h,ct),g(dt)}return ut.isFactory=!0,ut.fn=s,ut.dependencies=h.slice().sort(),it&&(ut.meta=it),ut}function assertDependencies(s,h,g){var it=h.filter(ct=>!isOptionalDependency(ct)).every(ct=>g[ct]!==void 0);if(!it){var ut=h.filter(ct=>g[ct]===void 0);throw new Error('Cannot create function "'.concat(s,'", ')+"some dependencies are missing: ".concat(ut.map(ct=>'"'.concat(ct,'"')).join(", "),"."))}}function isOptionalDependency(s){return s&&s[0]==="?"}function stripOptionalNotation(s){return s&&s[0]==="?"?s.slice(1):s}function getSafeProperty(s,h){if(isPlainObject(s)&&isSafeProperty(s,h))return s[h];throw typeof s[h]=="function"&&isSafeMethod(s,h)?new Error('Cannot access method "'+h+'" as a property'):new Error('No access to property "'+h+'"')}function setSafeProperty(s,h,g){if(isPlainObject(s)&&isSafeProperty(s,h))return s[h]=g,g;throw new Error('No access to property "'+h+'"')}function hasSafeProperty(s,h){return h in s}function isSafeProperty(s,h){return!s||typeof s!="object"?!1:hasOwnProperty$1(safeNativeProperties,h)?!0:!(h in Object.prototype||h in Function.prototype)}function getSafeMethod(s,h){if(!isSafeMethod(s,h))throw new Error('No access to method "'+h+'"');return s[h]}function isSafeMethod(s,h){return s==null||typeof s[h]!="function"||hasOwnProperty$1(s,h)&&Object.getPrototypeOf&&h in Object.getPrototypeOf(s)?!1:hasOwnProperty$1(safeNativeMethods,h)?!0:!(h in Object.prototype||h in Function.prototype)}function isPlainObject(s){return typeof s=="object"&&s&&s.constructor===Object}var safeNativeProperties={length:!0,name:!0},safeNativeMethods={toString:!0,valueOf:!0,toLocaleString:!0};class ObjectWrappingMap{constructor(h){this.wrappedObject=h}keys(){return Object.keys(this.wrappedObject)}get(h){return getSafeProperty(this.wrappedObject,h)}set(h,g){return setSafeProperty(this.wrappedObject,h,g),this}has(h){return hasSafeProperty(this.wrappedObject,h)}}function createEmptyMap(){return new Map}function createMap$1(s){if(!s)return createEmptyMap();if(isMap(s))return s;if(isObject$5(s))return new ObjectWrappingMap(s);throw new Error("createMap can create maps from objects or Maps")}function toObject(s){if(s instanceof ObjectWrappingMap)return s.wrappedObject;var h={};for(var g of s.keys()){var it=s.get(g);setSafeProperty(h,g,it)}return h}function isMap(s){return s?s instanceof Map||s instanceof ObjectWrappingMap||typeof s.set=="function"&&typeof s.get=="function"&&typeof s.keys=="function"&&typeof s.has=="function":!1}function assign(s){for(var h=arguments.length,g=new Array(h>1?h-1:0),it=1;it<h;it++)g[it-1]=arguments[it];for(var ut of g)if(ut){if(isMap(ut))for(var ct of ut.keys())s.set(ct,ut.get(ct));else if(isObject$5(ut))for(var dt of Object.keys(ut))s.set(dt,ut[dt])}return s}var _createTyped2=function(){return _createTyped2=typedFunction.create,typedFunction},dependencies$4O=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],createTyped=factory("typed",dependencies$4O,function(h){var{BigNumber:g,Complex:it,DenseMatrix:ut,Fraction:ct}=h,dt=_createTyped2();return dt.clear(),dt.addTypes([{name:"number",test:isNumber},{name:"Complex",test:isComplex},{name:"BigNumber",test:isBigNumber},{name:"Fraction",test:isFraction},{name:"Unit",test:isUnit},{name:"identifier",test:ht=>isString&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(ht)},{name:"string",test:isString},{name:"Chain",test:isChain},{name:"Array",test:isArray},{name:"Matrix",test:isMatrix},{name:"DenseMatrix",test:isDenseMatrix},{name:"SparseMatrix",test:isSparseMatrix},{name:"Range",test:isRange},{name:"Index",test:isIndex},{name:"boolean",test:isBoolean},{name:"ResultSet",test:isResultSet},{name:"Help",test:isHelp},{name:"function",test:isFunction$1},{name:"Date",test:isDate},{name:"RegExp",test:isRegExp},{name:"null",test:isNull},{name:"undefined",test:isUndefined},{name:"AccessorNode",test:isAccessorNode},{name:"ArrayNode",test:isArrayNode},{name:"AssignmentNode",test:isAssignmentNode},{name:"BlockNode",test:isBlockNode},{name:"ConditionalNode",test:isConditionalNode},{name:"ConstantNode",test:isConstantNode},{name:"FunctionNode",test:isFunctionNode},{name:"FunctionAssignmentNode",test:isFunctionAssignmentNode},{name:"IndexNode",test:isIndexNode},{name:"Node",test:isNode},{name:"ObjectNode",test:isObjectNode},{name:"OperatorNode",test:isOperatorNode},{name:"ParenthesisNode",test:isParenthesisNode},{name:"RangeNode",test:isRangeNode},{name:"RelationalNode",test:isRelationalNode},{name:"SymbolNode",test:isSymbolNode},{name:"Map",test:isMap},{name:"Object",test:isObject$5}]),dt.addConversions([{from:"number",to:"BigNumber",convert:function(pt){if(g||throwNoBignumber(pt),digits(pt)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+pt+"). Use function bignumber(x) to convert to BigNumber.");return new g(pt)}},{from:"number",to:"Complex",convert:function(pt){return it||throwNoComplex(pt),new it(pt,0)}},{from:"BigNumber",to:"Complex",convert:function(pt){return it||throwNoComplex(pt),new it(pt.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(pt){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(pt){return it||throwNoComplex(pt),new it(pt.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(pt){ct||throwNoFraction(pt);var mt=new ct(pt);if(mt.valueOf()!==pt)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+pt+"). Use function fraction(x) to convert to Fraction.");return mt}},{from:"string",to:"number",convert:function(pt){var mt=Number(pt);if(isNaN(mt))throw new Error('Cannot convert "'+pt+'" to a number');return mt}},{from:"string",to:"BigNumber",convert:function(pt){g||throwNoBignumber(pt);try{return new g(pt)}catch{throw new Error('Cannot convert "'+pt+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(pt){ct||throwNoFraction(pt);try{return new ct(pt)}catch{throw new Error('Cannot convert "'+pt+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(pt){it||throwNoComplex(pt);try{return new it(pt)}catch{throw new Error('Cannot convert "'+pt+'" to Complex')}}},{from:"boolean",to:"number",convert:function(pt){return+pt}},{from:"boolean",to:"BigNumber",convert:function(pt){return g||throwNoBignumber(pt),new g(+pt)}},{from:"boolean",to:"Fraction",convert:function(pt){return ct||throwNoFraction(pt),new ct(+pt)}},{from:"boolean",to:"string",convert:function(pt){return String(pt)}},{from:"Array",to:"Matrix",convert:function(pt){return ut||throwNoMatrix(),new ut(pt)}},{from:"Matrix",to:"Array",convert:function(pt){return pt.valueOf()}}]),dt.onMismatch=(ht,pt,mt)=>{var vt=dt.createError(ht,pt,mt);if(["wrongType","mismatch"].includes(vt.data.category)&&pt.length===1&&isCollection(pt[0])&&mt.some(yt=>!yt.params.includes(","))){var gt=new TypeError("Function '".concat(ht,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(ht,")'."));throw gt.data=vt.data,gt}throw vt},dt.onMismatch=(ht,pt,mt)=>{var vt=dt.createError(ht,pt,mt);if(["wrongType","mismatch"].includes(vt.data.category)&&pt.length===1&&isCollection(pt[0])&&mt.some(yt=>!yt.params.includes(","))){var gt=new TypeError("Function '".concat(ht,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(ht,")'."));throw gt.data=vt.data,gt}throw vt},dt});function throwNoBignumber(s){throw new Error("Cannot convert value ".concat(s," into a BigNumber: no class 'BigNumber' provided"))}function throwNoComplex(s){throw new Error("Cannot convert value ".concat(s," into a Complex number: no class 'Complex' provided"))}function throwNoMatrix(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function throwNoFraction(s){throw new Error("Cannot convert value ".concat(s," into a Fraction, no class 'Fraction' provided."))}var name$4O="ResultSet",dependencies$4N=[],createResultSet=factory(name$4O,dependencies$4N,()=>{function s(h){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");this.entries=h||[]}return s.prototype.type="ResultSet",s.prototype.isResultSet=!0,s.prototype.valueOf=function(){return this.entries},s.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},s.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},s.fromJSON=function(h){return new s(h.entries)},s},{isClass:!0});/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10$1="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},inexact,quadrant,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,LN10_PRECISION=LN10$1.length-1,PI_PRECISION=PI.length-1,P$1={toStringTag:tag};P$1.absoluteValue=P$1.abs=function(){var s=new this.constructor(this);return s.s<0&&(s.s=1),finalise(s)};P$1.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)};P$1.clampedTo=P$1.clamp=function(s,h){var g,it=this,ut=it.constructor;if(s=new ut(s),h=new ut(h),!s.s||!h.s)return new ut(NaN);if(s.gt(h))throw Error(invalidArgument+h);return g=it.cmp(s),g<0?s:it.cmp(h)>0?h:new ut(it)};P$1.comparedTo=P$1.cmp=function(s){var h,g,it,ut,ct=this,dt=ct.d,ht=(s=new ct.constructor(s)).d,pt=ct.s,mt=s.s;if(!dt||!ht)return!pt||!mt?NaN:pt!==mt?pt:dt===ht?0:!dt^pt<0?1:-1;if(!dt[0]||!ht[0])return dt[0]?pt:ht[0]?-mt:0;if(pt!==mt)return pt;if(ct.e!==s.e)return ct.e>s.e^pt<0?1:-1;for(it=dt.length,ut=ht.length,h=0,g=it<ut?it:ut;h<g;++h)if(dt[h]!==ht[h])return dt[h]>ht[h]^pt<0?1:-1;return it===ut?0:it>ut^pt<0?1:-1};P$1.cosine=P$1.cos=function(){var s,h,g=this,it=g.constructor;return g.d?g.d[0]?(s=it.precision,h=it.rounding,it.precision=s+Math.max(g.e,g.sd())+LOG_BASE,it.rounding=1,g=cosine(it,toLessThanHalfPi(it,g)),it.precision=s,it.rounding=h,finalise(quadrant==2||quadrant==3?g.neg():g,s,h,!0)):new it(1):new it(NaN)};P$1.cubeRoot=P$1.cbrt=function(){var s,h,g,it,ut,ct,dt,ht,pt,mt,vt=this,gt=vt.constructor;if(!vt.isFinite()||vt.isZero())return new gt(vt);for(external=!1,ct=vt.s*mathpow(vt.s*vt,1/3),!ct||Math.abs(ct)==1/0?(g=digitsToString(vt.d),s=vt.e,(ct=(s-g.length+1)%3)&&(g+=ct==1||ct==-2?"0":"00"),ct=mathpow(g,1/3),s=mathfloor((s+1)/3)-(s%3==(s<0?-1:2)),ct==1/0?g="5e"+s:(g=ct.toExponential(),g=g.slice(0,g.indexOf("e")+1)+s),it=new gt(g),it.s=vt.s):it=new gt(ct.toString()),dt=(s=gt.precision)+3;;)if(ht=it,pt=ht.times(ht).times(ht),mt=pt.plus(vt),it=divide$1(mt.plus(vt).times(ht),mt.plus(pt),dt+2,1),digitsToString(ht.d).slice(0,dt)===(g=digitsToString(it.d)).slice(0,dt))if(g=g.slice(dt-3,dt+1),g=="9999"||!ut&&g=="4999"){if(!ut&&(finalise(ht,s+1,0),ht.times(ht).times(ht).eq(vt))){it=ht;break}dt+=4,ut=1}else{(!+g||!+g.slice(1)&&g.charAt(0)=="5")&&(finalise(it,s+1,1),h=!it.times(it).times(it).eq(vt));break}return external=!0,finalise(it,s,gt.rounding,h)};P$1.decimalPlaces=P$1.dp=function(){var s,h=this.d,g=NaN;if(h){if(s=h.length-1,g=(s-mathfloor(this.e/LOG_BASE))*LOG_BASE,s=h[s],s)for(;s%10==0;s/=10)g--;g<0&&(g=0)}return g};P$1.dividedBy=P$1.div=function(s){return divide$1(this,new this.constructor(s))};P$1.dividedToIntegerBy=P$1.divToInt=function(s){var h=this,g=h.constructor;return finalise(divide$1(h,new g(s),0,1,1),g.precision,g.rounding)};P$1.equals=P$1.eq=function(s){return this.cmp(s)===0};P$1.floor=function(){return finalise(new this.constructor(this),this.e+1,3)};P$1.greaterThan=P$1.gt=function(s){return this.cmp(s)>0};P$1.greaterThanOrEqualTo=P$1.gte=function(s){var h=this.cmp(s);return h==1||h===0};P$1.hyperbolicCosine=P$1.cosh=function(){var s,h,g,it,ut,ct=this,dt=ct.constructor,ht=new dt(1);if(!ct.isFinite())return new dt(ct.s?1/0:NaN);if(ct.isZero())return ht;g=dt.precision,it=dt.rounding,dt.precision=g+Math.max(ct.e,ct.sd())+4,dt.rounding=1,ut=ct.d.length,ut<32?(s=Math.ceil(ut/3),h=(1/tinyPow(4,s)).toString()):(s=16,h="2.3283064365386962890625e-10"),ct=taylorSeries(dt,1,ct.times(h),new dt(1),!0);for(var pt,mt=s,vt=new dt(8);mt--;)pt=ct.times(ct),ct=ht.minus(pt.times(vt.minus(pt.times(vt))));return finalise(ct,dt.precision=g,dt.rounding=it,!0)};P$1.hyperbolicSine=P$1.sinh=function(){var s,h,g,it,ut=this,ct=ut.constructor;if(!ut.isFinite()||ut.isZero())return new ct(ut);if(h=ct.precision,g=ct.rounding,ct.precision=h+Math.max(ut.e,ut.sd())+4,ct.rounding=1,it=ut.d.length,it<3)ut=taylorSeries(ct,2,ut,ut,!0);else{s=1.4*Math.sqrt(it),s=s>16?16:s|0,ut=ut.times(1/tinyPow(5,s)),ut=taylorSeries(ct,2,ut,ut,!0);for(var dt,ht=new ct(5),pt=new ct(16),mt=new ct(20);s--;)dt=ut.times(ut),ut=ut.times(ht.plus(dt.times(pt.times(dt).plus(mt))))}return ct.precision=h,ct.rounding=g,finalise(ut,h,g,!0)};P$1.hyperbolicTangent=P$1.tanh=function(){var s,h,g=this,it=g.constructor;return g.isFinite()?g.isZero()?new it(g):(s=it.precision,h=it.rounding,it.precision=s+7,it.rounding=1,divide$1(g.sinh(),g.cosh(),it.precision=s,it.rounding=h)):new it(g.s)};P$1.inverseCosine=P$1.acos=function(){var s,h=this,g=h.constructor,it=h.abs().cmp(1),ut=g.precision,ct=g.rounding;return it!==-1?it===0?h.isNeg()?getPi(g,ut,ct):new g(0):new g(NaN):h.isZero()?getPi(g,ut+4,ct).times(.5):(g.precision=ut+6,g.rounding=1,h=h.asin(),s=getPi(g,ut+4,ct).times(.5),g.precision=ut,g.rounding=ct,s.minus(h))};P$1.inverseHyperbolicCosine=P$1.acosh=function(){var s,h,g=this,it=g.constructor;return g.lte(1)?new it(g.eq(1)?0:NaN):g.isFinite()?(s=it.precision,h=it.rounding,it.precision=s+Math.max(Math.abs(g.e),g.sd())+4,it.rounding=1,external=!1,g=g.times(g).minus(1).sqrt().plus(g),external=!0,it.precision=s,it.rounding=h,g.ln()):new it(g)};P$1.inverseHyperbolicSine=P$1.asinh=function(){var s,h,g=this,it=g.constructor;return!g.isFinite()||g.isZero()?new it(g):(s=it.precision,h=it.rounding,it.precision=s+2*Math.max(Math.abs(g.e),g.sd())+6,it.rounding=1,external=!1,g=g.times(g).plus(1).sqrt().plus(g),external=!0,it.precision=s,it.rounding=h,g.ln())};P$1.inverseHyperbolicTangent=P$1.atanh=function(){var s,h,g,it,ut=this,ct=ut.constructor;return ut.isFinite()?ut.e>=0?new ct(ut.abs().eq(1)?ut.s/0:ut.isZero()?ut:NaN):(s=ct.precision,h=ct.rounding,it=ut.sd(),Math.max(it,s)<2*-ut.e-1?finalise(new ct(ut),s,h,!0):(ct.precision=g=it-ut.e,ut=divide$1(ut.plus(1),new ct(1).minus(ut),g+s,1),ct.precision=s+4,ct.rounding=1,ut=ut.ln(),ct.precision=s,ct.rounding=h,ut.times(.5))):new ct(NaN)};P$1.inverseSine=P$1.asin=function(){var s,h,g,it,ut=this,ct=ut.constructor;return ut.isZero()?new ct(ut):(h=ut.abs().cmp(1),g=ct.precision,it=ct.rounding,h!==-1?h===0?(s=getPi(ct,g+4,it).times(.5),s.s=ut.s,s):new ct(NaN):(ct.precision=g+6,ct.rounding=1,ut=ut.div(new ct(1).minus(ut.times(ut)).sqrt().plus(1)).atan(),ct.precision=g,ct.rounding=it,ut.times(2)))};P$1.inverseTangent=P$1.atan=function(){var s,h,g,it,ut,ct,dt,ht,pt,mt=this,vt=mt.constructor,gt=vt.precision,yt=vt.rounding;if(mt.isFinite()){if(mt.isZero())return new vt(mt);if(mt.abs().eq(1)&&gt+4<=PI_PRECISION)return dt=getPi(vt,gt+4,yt).times(.25),dt.s=mt.s,dt}else{if(!mt.s)return new vt(NaN);if(gt+4<=PI_PRECISION)return dt=getPi(vt,gt+4,yt).times(.5),dt.s=mt.s,dt}for(vt.precision=ht=gt+10,vt.rounding=1,g=Math.min(28,ht/LOG_BASE+2|0),s=g;s;--s)mt=mt.div(mt.times(mt).plus(1).sqrt().plus(1));for(external=!1,h=Math.ceil(ht/LOG_BASE),it=1,pt=mt.times(mt),dt=new vt(mt),ut=mt;s!==-1;)if(ut=ut.times(pt),ct=dt.minus(ut.div(it+=2)),ut=ut.times(pt),dt=ct.plus(ut.div(it+=2)),dt.d[h]!==void 0)for(s=h;dt.d[s]===ct.d[s]&&s--;);return g&&(dt=dt.times(2<<g-1)),external=!0,finalise(dt,vt.precision=gt,vt.rounding=yt,!0)};P$1.isFinite=function(){return!!this.d};P$1.isInteger=P$1.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2};P$1.isNaN=function(){return!this.s};P$1.isNegative=P$1.isNeg=function(){return this.s<0};P$1.isPositive=P$1.isPos=function(){return this.s>0};P$1.isZero=function(){return!!this.d&&this.d[0]===0};P$1.lessThan=P$1.lt=function(s){return this.cmp(s)<0};P$1.lessThanOrEqualTo=P$1.lte=function(s){return this.cmp(s)<1};P$1.logarithm=P$1.log=function(s){var h,g,it,ut,ct,dt,ht,pt,mt=this,vt=mt.constructor,gt=vt.precision,yt=vt.rounding,bt=5;if(s==null)s=new vt(10),h=!0;else{if(s=new vt(s),g=s.d,s.s<0||!g||!g[0]||s.eq(1))return new vt(NaN);h=s.eq(10)}if(g=mt.d,mt.s<0||!g||!g[0]||mt.eq(1))return new vt(g&&!g[0]?-1/0:mt.s!=1?NaN:g?0:1/0);if(h)if(g.length>1)ct=!0;else{for(ut=g[0];ut%10===0;)ut/=10;ct=ut!==1}if(external=!1,ht=gt+bt,dt=naturalLogarithm(mt,ht),it=h?getLn10(vt,ht+10):naturalLogarithm(s,ht),pt=divide$1(dt,it,ht,1),checkRoundingDigits(pt.d,ut=gt,yt))do if(ht+=10,dt=naturalLogarithm(mt,ht),it=h?getLn10(vt,ht+10):naturalLogarithm(s,ht),pt=divide$1(dt,it,ht,1),!ct){+digitsToString(pt.d).slice(ut+1,ut+15)+1==1e14&&(pt=finalise(pt,gt+1,0));break}while(checkRoundingDigits(pt.d,ut+=10,yt));return external=!0,finalise(pt,gt,yt)};P$1.minus=P$1.sub=function(s){var h,g,it,ut,ct,dt,ht,pt,mt,vt,gt,yt,bt=this,wt=bt.constructor;if(s=new wt(s),!bt.d||!s.d)return!bt.s||!s.s?s=new wt(NaN):bt.d?s.s=-s.s:s=new wt(s.d||bt.s!==s.s?bt:NaN),s;if(bt.s!=s.s)return s.s=-s.s,bt.plus(s);if(mt=bt.d,yt=s.d,ht=wt.precision,pt=wt.rounding,!mt[0]||!yt[0]){if(yt[0])s.s=-s.s;else if(mt[0])s=new wt(bt);else return new wt(pt===3?-0:0);return external?finalise(s,ht,pt):s}if(g=mathfloor(s.e/LOG_BASE),vt=mathfloor(bt.e/LOG_BASE),mt=mt.slice(),ct=vt-g,ct){for(gt=ct<0,gt?(h=mt,ct=-ct,dt=yt.length):(h=yt,g=vt,dt=mt.length),it=Math.max(Math.ceil(ht/LOG_BASE),dt)+2,ct>it&&(ct=it,h.length=1),h.reverse(),it=ct;it--;)h.push(0);h.reverse()}else{for(it=mt.length,dt=yt.length,gt=it<dt,gt&&(dt=it),it=0;it<dt;it++)if(mt[it]!=yt[it]){gt=mt[it]<yt[it];break}ct=0}for(gt&&(h=mt,mt=yt,yt=h,s.s=-s.s),dt=mt.length,it=yt.length-dt;it>0;--it)mt[dt++]=0;for(it=yt.length;it>ct;){if(mt[--it]<yt[it]){for(ut=it;ut&&mt[--ut]===0;)mt[ut]=BASE-1;--mt[ut],mt[it]+=BASE}mt[it]-=yt[it]}for(;mt[--dt]===0;)mt.pop();for(;mt[0]===0;mt.shift())--g;return mt[0]?(s.d=mt,s.e=getBase10Exponent(mt,g),external?finalise(s,ht,pt):s):new wt(pt===3?-0:0)};P$1.modulo=P$1.mod=function(s){var h,g=this,it=g.constructor;return s=new it(s),!g.d||!s.s||s.d&&!s.d[0]?new it(NaN):!s.d||g.d&&!g.d[0]?finalise(new it(g),it.precision,it.rounding):(external=!1,it.modulo==9?(h=divide$1(g,s.abs(),0,3,1),h.s*=s.s):h=divide$1(g,s,0,it.modulo,1),h=h.times(s),external=!0,g.minus(h))};P$1.naturalExponential=P$1.exp=function(){return naturalExponential(this)};P$1.naturalLogarithm=P$1.ln=function(){return naturalLogarithm(this)};P$1.negated=P$1.neg=function(){var s=new this.constructor(this);return s.s=-s.s,finalise(s)};P$1.plus=P$1.add=function(s){var h,g,it,ut,ct,dt,ht,pt,mt,vt,gt=this,yt=gt.constructor;if(s=new yt(s),!gt.d||!s.d)return!gt.s||!s.s?s=new yt(NaN):gt.d||(s=new yt(s.d||gt.s===s.s?gt:NaN)),s;if(gt.s!=s.s)return s.s=-s.s,gt.minus(s);if(mt=gt.d,vt=s.d,ht=yt.precision,pt=yt.rounding,!mt[0]||!vt[0])return vt[0]||(s=new yt(gt)),external?finalise(s,ht,pt):s;if(ct=mathfloor(gt.e/LOG_BASE),it=mathfloor(s.e/LOG_BASE),mt=mt.slice(),ut=ct-it,ut){for(ut<0?(g=mt,ut=-ut,dt=vt.length):(g=vt,it=ct,dt=mt.length),ct=Math.ceil(ht/LOG_BASE),dt=ct>dt?ct+1:dt+1,ut>dt&&(ut=dt,g.length=1),g.reverse();ut--;)g.push(0);g.reverse()}for(dt=mt.length,ut=vt.length,dt-ut<0&&(ut=dt,g=vt,vt=mt,mt=g),h=0;ut;)h=(mt[--ut]=mt[ut]+vt[ut]+h)/BASE|0,mt[ut]%=BASE;for(h&&(mt.unshift(h),++it),dt=mt.length;mt[--dt]==0;)mt.pop();return s.d=mt,s.e=getBase10Exponent(mt,it),external?finalise(s,ht,pt):s};P$1.precision=P$1.sd=function(s){var h,g=this;if(s!==void 0&&s!==!!s&&s!==1&&s!==0)throw Error(invalidArgument+s);return g.d?(h=getPrecision(g.d),s&&g.e+1>h&&(h=g.e+1)):h=NaN,h};P$1.round=function(){var s=this,h=s.constructor;return finalise(new h(s),s.e+1,h.rounding)};P$1.sine=P$1.sin=function(){var s,h,g=this,it=g.constructor;return g.isFinite()?g.isZero()?new it(g):(s=it.precision,h=it.rounding,it.precision=s+Math.max(g.e,g.sd())+LOG_BASE,it.rounding=1,g=sine(it,toLessThanHalfPi(it,g)),it.precision=s,it.rounding=h,finalise(quadrant>2?g.neg():g,s,h,!0)):new it(NaN)};P$1.squareRoot=P$1.sqrt=function(){var s,h,g,it,ut,ct,dt=this,ht=dt.d,pt=dt.e,mt=dt.s,vt=dt.constructor;if(mt!==1||!ht||!ht[0])return new vt(!mt||mt<0&&(!ht||ht[0])?NaN:ht?dt:1/0);for(external=!1,mt=Math.sqrt(+dt),mt==0||mt==1/0?(h=digitsToString(ht),(h.length+pt)%2==0&&(h+="0"),mt=Math.sqrt(h),pt=mathfloor((pt+1)/2)-(pt<0||pt%2),mt==1/0?h="5e"+pt:(h=mt.toExponential(),h=h.slice(0,h.indexOf("e")+1)+pt),it=new vt(h)):it=new vt(mt.toString()),g=(pt=vt.precision)+3;;)if(ct=it,it=ct.plus(divide$1(dt,ct,g+2,1)).times(.5),digitsToString(ct.d).slice(0,g)===(h=digitsToString(it.d)).slice(0,g))if(h=h.slice(g-3,g+1),h=="9999"||!ut&&h=="4999"){if(!ut&&(finalise(ct,pt+1,0),ct.times(ct).eq(dt))){it=ct;break}g+=4,ut=1}else{(!+h||!+h.slice(1)&&h.charAt(0)=="5")&&(finalise(it,pt+1,1),s=!it.times(it).eq(dt));break}return external=!0,finalise(it,pt,vt.rounding,s)};P$1.tangent=P$1.tan=function(){var s,h,g=this,it=g.constructor;return g.isFinite()?g.isZero()?new it(g):(s=it.precision,h=it.rounding,it.precision=s+10,it.rounding=1,g=g.sin(),g.s=1,g=divide$1(g,new it(1).minus(g.times(g)).sqrt(),s+10,0),it.precision=s,it.rounding=h,finalise(quadrant==2||quadrant==4?g.neg():g,s,h,!0)):new it(NaN)};P$1.times=P$1.mul=function(s){var h,g,it,ut,ct,dt,ht,pt,mt,vt=this,gt=vt.constructor,yt=vt.d,bt=(s=new gt(s)).d;if(s.s*=vt.s,!yt||!yt[0]||!bt||!bt[0])return new gt(!s.s||yt&&!yt[0]&&!bt||bt&&!bt[0]&&!yt?NaN:!yt||!bt?s.s/0:s.s*0);for(g=mathfloor(vt.e/LOG_BASE)+mathfloor(s.e/LOG_BASE),pt=yt.length,mt=bt.length,pt<mt&&(ct=yt,yt=bt,bt=ct,dt=pt,pt=mt,mt=dt),ct=[],dt=pt+mt,it=dt;it--;)ct.push(0);for(it=mt;--it>=0;){for(h=0,ut=pt+it;ut>it;)ht=ct[ut]+bt[it]*yt[ut-it-1]+h,ct[ut--]=ht%BASE|0,h=ht/BASE|0;ct[ut]=(ct[ut]+h)%BASE|0}for(;!ct[--dt];)ct.pop();return h?++g:ct.shift(),s.d=ct,s.e=getBase10Exponent(ct,g),external?finalise(s,gt.precision,gt.rounding):s};P$1.toBinary=function(s,h){return toStringBinary(this,2,s,h)};P$1.toDecimalPlaces=P$1.toDP=function(s,h){var g=this,it=g.constructor;return g=new it(g),s===void 0?g:(checkInt32(s,0,MAX_DIGITS),h===void 0?h=it.rounding:checkInt32(h,0,8),finalise(g,s+g.e+1,h))};P$1.toExponential=function(s,h){var g,it=this,ut=it.constructor;return s===void 0?g=finiteToString(it,!0):(checkInt32(s,0,MAX_DIGITS),h===void 0?h=ut.rounding:checkInt32(h,0,8),it=finalise(new ut(it),s+1,h),g=finiteToString(it,!0,s+1)),it.isNeg()&&!it.isZero()?"-"+g:g};P$1.toFixed=function(s,h){var g,it,ut=this,ct=ut.constructor;return s===void 0?g=finiteToString(ut):(checkInt32(s,0,MAX_DIGITS),h===void 0?h=ct.rounding:checkInt32(h,0,8),it=finalise(new ct(ut),s+ut.e+1,h),g=finiteToString(it,!1,s+it.e+1)),ut.isNeg()&&!ut.isZero()?"-"+g:g};P$1.toFraction=function(s){var h,g,it,ut,ct,dt,ht,pt,mt,vt,gt,yt,bt=this,wt=bt.d,Et=bt.constructor;if(!wt)return new Et(bt);if(mt=g=new Et(1),it=pt=new Et(0),h=new Et(it),ct=h.e=getPrecision(wt)-bt.e-1,dt=ct%LOG_BASE,h.d[0]=mathpow(10,dt<0?LOG_BASE+dt:dt),s==null)s=ct>0?h:mt;else{if(ht=new Et(s),!ht.isInt()||ht.lt(mt))throw Error(invalidArgument+ht);s=ht.gt(h)?ct>0?h:mt:ht}for(external=!1,ht=new Et(digitsToString(wt)),vt=Et.precision,Et.precision=ct=wt.length*LOG_BASE*2;gt=divide$1(ht,h,0,1,1),ut=g.plus(gt.times(it)),ut.cmp(s)!=1;)g=it,it=ut,ut=mt,mt=pt.plus(gt.times(ut)),pt=ut,ut=h,h=ht.minus(gt.times(ut)),ht=ut;return ut=divide$1(s.minus(g),it,0,1,1),pt=pt.plus(ut.times(mt)),g=g.plus(ut.times(it)),pt.s=mt.s=bt.s,yt=divide$1(mt,it,ct,1).minus(bt).abs().cmp(divide$1(pt,g,ct,1).minus(bt).abs())<1?[mt,it]:[pt,g],Et.precision=vt,external=!0,yt};P$1.toHexadecimal=P$1.toHex=function(s,h){return toStringBinary(this,16,s,h)};P$1.toNearest=function(s,h){var g=this,it=g.constructor;if(g=new it(g),s==null){if(!g.d)return g;s=new it(1),h=it.rounding}else{if(s=new it(s),h===void 0?h=it.rounding:checkInt32(h,0,8),!g.d)return s.s?g:s;if(!s.d)return s.s&&(s.s=g.s),s}return s.d[0]?(external=!1,g=divide$1(g,s,0,h,1).times(s),external=!0,finalise(g)):(s.s=g.s,g=s),g};P$1.toNumber=function(){return+this};P$1.toOctal=function(s,h){return toStringBinary(this,8,s,h)};P$1.toPower=P$1.pow=function(s){var h,g,it,ut,ct,dt,ht=this,pt=ht.constructor,mt=+(s=new pt(s));if(!ht.d||!s.d||!ht.d[0]||!s.d[0])return new pt(mathpow(+ht,mt));if(ht=new pt(ht),ht.eq(1))return ht;if(it=pt.precision,ct=pt.rounding,s.eq(1))return finalise(ht,it,ct);if(h=mathfloor(s.e/LOG_BASE),h>=s.d.length-1&&(g=mt<0?-mt:mt)<=MAX_SAFE_INTEGER)return ut=intPow(pt,ht,g,it),s.s<0?new pt(1).div(ut):finalise(ut,it,ct);if(dt=ht.s,dt<0){if(h<s.d.length-1)return new pt(NaN);if(s.d[h]&1||(dt=1),ht.e==0&&ht.d[0]==1&&ht.d.length==1)return ht.s=dt,ht}return g=mathpow(+ht,mt),h=g==0||!isFinite(g)?mathfloor(mt*(Math.log("0."+digitsToString(ht.d))/Math.LN10+ht.e+1)):new pt(g+"").e,h>pt.maxE+1||h<pt.minE-1?new pt(h>0?dt/0:0):(external=!1,pt.rounding=ht.s=1,g=Math.min(12,(h+"").length),ut=naturalExponential(s.times(naturalLogarithm(ht,it+g)),it),ut.d&&(ut=finalise(ut,it+5,1),checkRoundingDigits(ut.d,it,ct)&&(h=it+10,ut=finalise(naturalExponential(s.times(naturalLogarithm(ht,h+g)),h),h+5,1),+digitsToString(ut.d).slice(it+1,it+15)+1==1e14&&(ut=finalise(ut,it+1,0)))),ut.s=dt,external=!0,pt.rounding=ct,finalise(ut,it,ct))};P$1.toPrecision=function(s,h){var g,it=this,ut=it.constructor;return s===void 0?g=finiteToString(it,it.e<=ut.toExpNeg||it.e>=ut.toExpPos):(checkInt32(s,1,MAX_DIGITS),h===void 0?h=ut.rounding:checkInt32(h,0,8),it=finalise(new ut(it),s,h),g=finiteToString(it,s<=it.e||it.e<=ut.toExpNeg,s)),it.isNeg()&&!it.isZero()?"-"+g:g};P$1.toSignificantDigits=P$1.toSD=function(s,h){var g=this,it=g.constructor;return s===void 0?(s=it.precision,h=it.rounding):(checkInt32(s,1,MAX_DIGITS),h===void 0?h=it.rounding:checkInt32(h,0,8)),finalise(new it(g),s,h)};P$1.toString=function(){var s=this,h=s.constructor,g=finiteToString(s,s.e<=h.toExpNeg||s.e>=h.toExpPos);return s.isNeg()&&!s.isZero()?"-"+g:g};P$1.truncated=P$1.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)};P$1.valueOf=P$1.toJSON=function(){var s=this,h=s.constructor,g=finiteToString(s,s.e<=h.toExpNeg||s.e>=h.toExpPos);return s.isNeg()?"-"+g:g};function digitsToString(s){var h,g,it,ut=s.length-1,ct="",dt=s[0];if(ut>0){for(ct+=dt,h=1;h<ut;h++)it=s[h]+"",g=LOG_BASE-it.length,g&&(ct+=getZeroString(g)),ct+=it;dt=s[h],it=dt+"",g=LOG_BASE-it.length,g&&(ct+=getZeroString(g))}else if(dt===0)return"0";for(;dt%10===0;)dt/=10;return ct+dt}function checkInt32(s,h,g){if(s!==~~s||s<h||s>g)throw Error(invalidArgument+s)}function checkRoundingDigits(s,h,g,it){var ut,ct,dt,ht;for(ct=s[0];ct>=10;ct/=10)--h;return--h<0?(h+=LOG_BASE,ut=0):(ut=Math.ceil((h+1)/LOG_BASE),h%=LOG_BASE),ct=mathpow(10,LOG_BASE-h),ht=s[ut]%ct|0,it==null?h<3?(h==0?ht=ht/100|0:h==1&&(ht=ht/10|0),dt=g<4&&ht==99999||g>3&&ht==49999||ht==5e4||ht==0):dt=(g<4&&ht+1==ct||g>3&&ht+1==ct/2)&&(s[ut+1]/ct/100|0)==mathpow(10,h-2)-1||(ht==ct/2||ht==0)&&(s[ut+1]/ct/100|0)==0:h<4?(h==0?ht=ht/1e3|0:h==1?ht=ht/100|0:h==2&&(ht=ht/10|0),dt=(it||g<4)&&ht==9999||!it&&g>3&&ht==4999):dt=((it||g<4)&&ht+1==ct||!it&&g>3&&ht+1==ct/2)&&(s[ut+1]/ct/1e3|0)==mathpow(10,h-3)-1,dt}function convertBase(s,h,g){for(var it,ut=[0],ct,dt=0,ht=s.length;dt<ht;){for(ct=ut.length;ct--;)ut[ct]*=h;for(ut[0]+=NUMERALS.indexOf(s.charAt(dt++)),it=0;it<ut.length;it++)ut[it]>g-1&&(ut[it+1]===void 0&&(ut[it+1]=0),ut[it+1]+=ut[it]/g|0,ut[it]%=g)}return ut.reverse()}function cosine(s,h){var g,it,ut;if(h.isZero())return h;it=h.d.length,it<32?(g=Math.ceil(it/3),ut=(1/tinyPow(4,g)).toString()):(g=16,ut="2.3283064365386962890625e-10"),s.precision+=g,h=taylorSeries(s,1,h.times(ut),new s(1));for(var ct=g;ct--;){var dt=h.times(h);h=dt.times(dt).minus(dt).times(8).plus(1)}return s.precision-=g,h}var divide$1=function(){function s(it,ut,ct){var dt,ht=0,pt=it.length;for(it=it.slice();pt--;)dt=it[pt]*ut+ht,it[pt]=dt%ct|0,ht=dt/ct|0;return ht&&it.unshift(ht),it}function h(it,ut,ct,dt){var ht,pt;if(ct!=dt)pt=ct>dt?1:-1;else for(ht=pt=0;ht<ct;ht++)if(it[ht]!=ut[ht]){pt=it[ht]>ut[ht]?1:-1;break}return pt}function g(it,ut,ct,dt){for(var ht=0;ct--;)it[ct]-=ht,ht=it[ct]<ut[ct]?1:0,it[ct]=ht*dt+it[ct]-ut[ct];for(;!it[0]&&it.length>1;)it.shift()}return function(it,ut,ct,dt,ht,pt){var mt,vt,gt,yt,bt,wt,Et,Mt,Dt,$t,_t,Nt,kt,At,Bt,Ft,Lt,Ot,It,Rt,Vt=it.constructor,Xt=it.s==ut.s?1:-1,Wt=it.d,jt=ut.d;if(!Wt||!Wt[0]||!jt||!jt[0])return new Vt(!it.s||!ut.s||(Wt?jt&&Wt[0]==jt[0]:!jt)?NaN:Wt&&Wt[0]==0||!jt?Xt*0:Xt/0);for(pt?(bt=1,vt=it.e-ut.e):(pt=BASE,bt=LOG_BASE,vt=mathfloor(it.e/bt)-mathfloor(ut.e/bt)),It=jt.length,Lt=Wt.length,Dt=new Vt(Xt),$t=Dt.d=[],gt=0;jt[gt]==(Wt[gt]||0);gt++);if(jt[gt]>(Wt[gt]||0)&&vt--,ct==null?(At=ct=Vt.precision,dt=Vt.rounding):ht?At=ct+(it.e-ut.e)+1:At=ct,At<0)$t.push(1),wt=!0;else{if(At=At/bt+2|0,gt=0,It==1){for(yt=0,jt=jt[0],At++;(gt<Lt||yt)&&At--;gt++)Bt=yt*pt+(Wt[gt]||0),$t[gt]=Bt/jt|0,yt=Bt%jt|0;wt=yt||gt<Lt}else{for(yt=pt/(jt[0]+1)|0,yt>1&&(jt=s(jt,yt,pt),Wt=s(Wt,yt,pt),It=jt.length,Lt=Wt.length),Ft=It,_t=Wt.slice(0,It),Nt=_t.length;Nt<It;)_t[Nt++]=0;Rt=jt.slice(),Rt.unshift(0),Ot=jt[0],jt[1]>=pt/2&&++Ot;do yt=0,mt=h(jt,_t,It,Nt),mt<0?(kt=_t[0],It!=Nt&&(kt=kt*pt+(_t[1]||0)),yt=kt/Ot|0,yt>1?(yt>=pt&&(yt=pt-1),Et=s(jt,yt,pt),Mt=Et.length,Nt=_t.length,mt=h(Et,_t,Mt,Nt),mt==1&&(yt--,g(Et,It<Mt?Rt:jt,Mt,pt))):(yt==0&&(mt=yt=1),Et=jt.slice()),Mt=Et.length,Mt<Nt&&Et.unshift(0),g(_t,Et,Nt,pt),mt==-1&&(Nt=_t.length,mt=h(jt,_t,It,Nt),mt<1&&(yt++,g(_t,It<Nt?Rt:jt,Nt,pt))),Nt=_t.length):mt===0&&(yt++,_t=[0]),$t[gt++]=yt,mt&&_t[0]?_t[Nt++]=Wt[Ft]||0:(_t=[Wt[Ft]],Nt=1);while((Ft++<Lt||_t[0]!==void 0)&&At--);wt=_t[0]!==void 0}$t[0]||$t.shift()}if(bt==1)Dt.e=vt,inexact=wt;else{for(gt=1,yt=$t[0];yt>=10;yt/=10)gt++;Dt.e=gt+vt*bt-1,finalise(Dt,ht?ct+Dt.e+1:ct,dt,wt)}return Dt}}();function finalise(s,h,g,it){var ut,ct,dt,ht,pt,mt,vt,gt,yt,bt=s.constructor;e:if(h!=null){if(gt=s.d,!gt)return s;for(ut=1,ht=gt[0];ht>=10;ht/=10)ut++;if(ct=h-ut,ct<0)ct+=LOG_BASE,dt=h,vt=gt[yt=0],pt=vt/mathpow(10,ut-dt-1)%10|0;else if(yt=Math.ceil((ct+1)/LOG_BASE),ht=gt.length,yt>=ht)if(it){for(;ht++<=yt;)gt.push(0);vt=pt=0,ut=1,ct%=LOG_BASE,dt=ct-LOG_BASE+1}else break e;else{for(vt=ht=gt[yt],ut=1;ht>=10;ht/=10)ut++;ct%=LOG_BASE,dt=ct-LOG_BASE+ut,pt=dt<0?0:vt/mathpow(10,ut-dt-1)%10|0}if(it=it||h<0||gt[yt+1]!==void 0||(dt<0?vt:vt%mathpow(10,ut-dt-1)),mt=g<4?(pt||it)&&(g==0||g==(s.s<0?3:2)):pt>5||pt==5&&(g==4||it||g==6&&(ct>0?dt>0?vt/mathpow(10,ut-dt):0:gt[yt-1])%10&1||g==(s.s<0?8:7)),h<1||!gt[0])return gt.length=0,mt?(h-=s.e+1,gt[0]=mathpow(10,(LOG_BASE-h%LOG_BASE)%LOG_BASE),s.e=-h||0):gt[0]=s.e=0,s;if(ct==0?(gt.length=yt,ht=1,yt--):(gt.length=yt+1,ht=mathpow(10,LOG_BASE-ct),gt[yt]=dt>0?(vt/mathpow(10,ut-dt)%mathpow(10,dt)|0)*ht:0),mt)for(;;)if(yt==0){for(ct=1,dt=gt[0];dt>=10;dt/=10)ct++;for(dt=gt[0]+=ht,ht=1;dt>=10;dt/=10)ht++;ct!=ht&&(s.e++,gt[0]==BASE&&(gt[0]=1));break}else{if(gt[yt]+=ht,gt[yt]!=BASE)break;gt[yt--]=0,ht=1}for(ct=gt.length;gt[--ct]===0;)gt.pop()}return external&&(s.e>bt.maxE?(s.d=null,s.e=NaN):s.e<bt.minE&&(s.e=0,s.d=[0])),s}function finiteToString(s,h,g){if(!s.isFinite())return nonFiniteToString(s);var it,ut=s.e,ct=digitsToString(s.d),dt=ct.length;return h?(g&&(it=g-dt)>0?ct=ct.charAt(0)+"."+ct.slice(1)+getZeroString(it):dt>1&&(ct=ct.charAt(0)+"."+ct.slice(1)),ct=ct+(s.e<0?"e":"e+")+s.e):ut<0?(ct="0."+getZeroString(-ut-1)+ct,g&&(it=g-dt)>0&&(ct+=getZeroString(it))):ut>=dt?(ct+=getZeroString(ut+1-dt),g&&(it=g-ut-1)>0&&(ct=ct+"."+getZeroString(it))):((it=ut+1)<dt&&(ct=ct.slice(0,it)+"."+ct.slice(it)),g&&(it=g-dt)>0&&(ut+1===dt&&(ct+="."),ct+=getZeroString(it))),ct}function getBase10Exponent(s,h){var g=s[0];for(h*=LOG_BASE;g>=10;g/=10)h++;return h}function getLn10(s,h,g){if(h>LN10_PRECISION)throw external=!0,g&&(s.precision=g),Error(precisionLimitExceeded);return finalise(new s(LN10$1),h,1,!0)}function getPi(s,h,g){if(h>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new s(PI),h,g,!0)}function getPrecision(s){var h=s.length-1,g=h*LOG_BASE+1;if(h=s[h],h){for(;h%10==0;h/=10)g--;for(h=s[0];h>=10;h/=10)g++}return g}function getZeroString(s){for(var h="";s--;)h+="0";return h}function intPow(s,h,g,it){var ut,ct=new s(1),dt=Math.ceil(it/LOG_BASE+4);for(external=!1;;){if(g%2&&(ct=ct.times(h),truncate(ct.d,dt)&&(ut=!0)),g=mathfloor(g/2),g===0){g=ct.d.length-1,ut&&ct.d[g]===0&&++ct.d[g];break}h=h.times(h),truncate(h.d,dt)}return external=!0,ct}function isOdd(s){return s.d[s.d.length-1]&1}function maxOrMin(s,h,g){for(var it,ut=new s(h[0]),ct=0;++ct<h.length;)if(it=new s(h[ct]),it.s)ut[g](it)&&(ut=it);else{ut=it;break}return ut}function naturalExponential(s,h){var g,it,ut,ct,dt,ht,pt,mt=0,vt=0,gt=0,yt=s.constructor,bt=yt.rounding,wt=yt.precision;if(!s.d||!s.d[0]||s.e>17)return new yt(s.d?s.d[0]?s.s<0?0:1/0:1:s.s?s.s<0?0:s:0/0);for(h==null?(external=!1,pt=wt):pt=h,ht=new yt(.03125);s.e>-2;)s=s.times(ht),gt+=5;for(it=Math.log(mathpow(2,gt))/Math.LN10*2+5|0,pt+=it,g=ct=dt=new yt(1),yt.precision=pt;;){if(ct=finalise(ct.times(s),pt,1),g=g.times(++vt),ht=dt.plus(divide$1(ct,g,pt,1)),digitsToString(ht.d).slice(0,pt)===digitsToString(dt.d).slice(0,pt)){for(ut=gt;ut--;)dt=finalise(dt.times(dt),pt,1);if(h==null)if(mt<3&&checkRoundingDigits(dt.d,pt-it,bt,mt))yt.precision=pt+=10,g=ct=ht=new yt(1),vt=0,mt++;else return finalise(dt,yt.precision=wt,bt,external=!0);else return yt.precision=wt,dt}dt=ht}}function naturalLogarithm(s,h){var g,it,ut,ct,dt,ht,pt,mt,vt,gt,yt,bt=1,wt=10,Et=s,Mt=Et.d,Dt=Et.constructor,$t=Dt.rounding,_t=Dt.precision;if(Et.s<0||!Mt||!Mt[0]||!Et.e&&Mt[0]==1&&Mt.length==1)return new Dt(Mt&&!Mt[0]?-1/0:Et.s!=1?NaN:Mt?0:Et);if(h==null?(external=!1,vt=_t):vt=h,Dt.precision=vt+=wt,g=digitsToString(Mt),it=g.charAt(0),Math.abs(ct=Et.e)<15e14){for(;it<7&&it!=1||it==1&&g.charAt(1)>3;)Et=Et.times(s),g=digitsToString(Et.d),it=g.charAt(0),bt++;ct=Et.e,it>1?(Et=new Dt("0."+g),ct++):Et=new Dt(it+"."+g.slice(1))}else return mt=getLn10(Dt,vt+2,_t).times(ct+""),Et=naturalLogarithm(new Dt(it+"."+g.slice(1)),vt-wt).plus(mt),Dt.precision=_t,h==null?finalise(Et,_t,$t,external=!0):Et;for(gt=Et,pt=dt=Et=divide$1(Et.minus(1),Et.plus(1),vt,1),yt=finalise(Et.times(Et),vt,1),ut=3;;){if(dt=finalise(dt.times(yt),vt,1),mt=pt.plus(divide$1(dt,new Dt(ut),vt,1)),digitsToString(mt.d).slice(0,vt)===digitsToString(pt.d).slice(0,vt))if(pt=pt.times(2),ct!==0&&(pt=pt.plus(getLn10(Dt,vt+2,_t).times(ct+""))),pt=divide$1(pt,new Dt(bt),vt,1),h==null)if(checkRoundingDigits(pt.d,vt-wt,$t,ht))Dt.precision=vt+=wt,mt=dt=Et=divide$1(gt.minus(1),gt.plus(1),vt,1),yt=finalise(Et.times(Et),vt,1),ut=ht=1;else return finalise(pt,Dt.precision=_t,$t,external=!0);else return Dt.precision=_t,pt;pt=mt,ut+=2}}function nonFiniteToString(s){return String(s.s*s.s/0)}function parseDecimal(s,h){var g,it,ut;for((g=h.indexOf("."))>-1&&(h=h.replace(".","")),(it=h.search(/e/i))>0?(g<0&&(g=it),g+=+h.slice(it+1),h=h.substring(0,it)):g<0&&(g=h.length),it=0;h.charCodeAt(it)===48;it++);for(ut=h.length;h.charCodeAt(ut-1)===48;--ut);if(h=h.slice(it,ut),h){if(ut-=it,s.e=g=g-it-1,s.d=[],it=(g+1)%LOG_BASE,g<0&&(it+=LOG_BASE),it<ut){for(it&&s.d.push(+h.slice(0,it)),ut-=LOG_BASE;it<ut;)s.d.push(+h.slice(it,it+=LOG_BASE));h=h.slice(it),it=LOG_BASE-h.length}else it-=ut;for(;it--;)h+="0";s.d.push(+h),external&&(s.e>s.constructor.maxE?(s.d=null,s.e=NaN):s.e<s.constructor.minE&&(s.e=0,s.d=[0]))}else s.e=0,s.d=[0];return s}function parseOther(s,h){var g,it,ut,ct,dt,ht,pt,mt,vt;if(h.indexOf("_")>-1){if(h=h.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(h))return parseDecimal(s,h)}else if(h==="Infinity"||h==="NaN")return+h||(s.s=NaN),s.e=NaN,s.d=null,s;if(isHex.test(h))g=16,h=h.toLowerCase();else if(isBinary.test(h))g=2;else if(isOctal.test(h))g=8;else throw Error(invalidArgument+h);for(ct=h.search(/p/i),ct>0?(pt=+h.slice(ct+1),h=h.substring(2,ct)):h=h.slice(2),ct=h.indexOf("."),dt=ct>=0,it=s.constructor,dt&&(h=h.replace(".",""),ht=h.length,ct=ht-ct,ut=intPow(it,new it(g),ct,ct*2)),mt=convertBase(h,g,BASE),vt=mt.length-1,ct=vt;mt[ct]===0;--ct)mt.pop();return ct<0?new it(s.s*0):(s.e=getBase10Exponent(mt,vt),s.d=mt,external=!1,dt&&(s=divide$1(s,ut,ht*4)),pt&&(s=s.times(Math.abs(pt)<54?mathpow(2,pt):Decimal.pow(2,pt))),external=!0,s)}function sine(s,h){var g,it=h.d.length;if(it<3)return h.isZero()?h:taylorSeries(s,2,h,h);g=1.4*Math.sqrt(it),g=g>16?16:g|0,h=h.times(1/tinyPow(5,g)),h=taylorSeries(s,2,h,h);for(var ut,ct=new s(5),dt=new s(16),ht=new s(20);g--;)ut=h.times(h),h=h.times(ct.plus(ut.times(dt.times(ut).minus(ht))));return h}function taylorSeries(s,h,g,it,ut){var ct,dt,ht,pt,mt=s.precision,vt=Math.ceil(mt/LOG_BASE);for(external=!1,pt=g.times(g),ht=new s(it);;){if(dt=divide$1(ht.times(pt),new s(h++*h++),mt,1),ht=ut?it.plus(dt):it.minus(dt),it=divide$1(dt.times(pt),new s(h++*h++),mt,1),dt=ht.plus(it),dt.d[vt]!==void 0){for(ct=vt;dt.d[ct]===ht.d[ct]&&ct--;);if(ct==-1)break}ct=ht,ht=it,it=dt,dt=ct}return external=!0,dt.d.length=vt+1,dt}function tinyPow(s,h){for(var g=s;--h;)g*=s;return g}function toLessThanHalfPi(s,h){var g,it=h.s<0,ut=getPi(s,s.precision,1),ct=ut.times(.5);if(h=h.abs(),h.lte(ct))return quadrant=it?4:1,h;if(g=h.divToInt(ut),g.isZero())quadrant=it?3:2;else{if(h=h.minus(g.times(ut)),h.lte(ct))return quadrant=isOdd(g)?it?2:3:it?4:1,h;quadrant=isOdd(g)?it?1:4:it?3:2}return h.minus(ut).abs()}function toStringBinary(s,h,g,it){var ut,ct,dt,ht,pt,mt,vt,gt,yt,bt=s.constructor,wt=g!==void 0;if(wt?(checkInt32(g,1,MAX_DIGITS),it===void 0?it=bt.rounding:checkInt32(it,0,8)):(g=bt.precision,it=bt.rounding),!s.isFinite())vt=nonFiniteToString(s);else{for(vt=finiteToString(s),dt=vt.indexOf("."),wt?(ut=2,h==16?g=g*4-3:h==8&&(g=g*3-2)):ut=h,dt>=0&&(vt=vt.replace(".",""),yt=new bt(1),yt.e=vt.length-dt,yt.d=convertBase(finiteToString(yt),10,ut),yt.e=yt.d.length),gt=convertBase(vt,10,ut),ct=pt=gt.length;gt[--pt]==0;)gt.pop();if(!gt[0])vt=wt?"0p+0":"0";else{if(dt<0?ct--:(s=new bt(s),s.d=gt,s.e=ct,s=divide$1(s,yt,g,it,0,ut),gt=s.d,ct=s.e,mt=inexact),dt=gt[g],ht=ut/2,mt=mt||gt[g+1]!==void 0,mt=it<4?(dt!==void 0||mt)&&(it===0||it===(s.s<0?3:2)):dt>ht||dt===ht&&(it===4||mt||it===6&&gt[g-1]&1||it===(s.s<0?8:7)),gt.length=g,mt)for(;++gt[--g]>ut-1;)gt[g]=0,g||(++ct,gt.unshift(1));for(pt=gt.length;!gt[pt-1];--pt);for(dt=0,vt="";dt<pt;dt++)vt+=NUMERALS.charAt(gt[dt]);if(wt){if(pt>1)if(h==16||h==8){for(dt=h==16?4:3,--pt;pt%dt;pt++)vt+="0";for(gt=convertBase(vt,ut,h),pt=gt.length;!gt[pt-1];--pt);for(dt=1,vt="1.";dt<pt;dt++)vt+=NUMERALS.charAt(gt[dt])}else vt=vt.charAt(0)+"."+vt.slice(1);vt=vt+(ct<0?"p":"p+")+ct}else if(ct<0){for(;++ct;)vt="0"+vt;vt="0."+vt}else if(++ct>pt)for(ct-=pt;ct--;)vt+="0";else ct<pt&&(vt=vt.slice(0,ct)+"."+vt.slice(ct))}vt=(h==16?"0x":h==2?"0b":h==8?"0o":"")+vt}return s.s<0?"-"+vt:vt}function truncate(s,h){if(s.length>h)return s.length=h,!0}function abs$1(s){return new this(s).abs()}function acos$1(s){return new this(s).acos()}function acosh$1(s){return new this(s).acosh()}function add$1(s,h){return new this(s).plus(h)}function asin$1(s){return new this(s).asin()}function asinh$1(s){return new this(s).asinh()}function atan$1(s){return new this(s).atan()}function atanh$1(s){return new this(s).atanh()}function atan2$1(s,h){s=new this(s),h=new this(h);var g,it=this.precision,ut=this.rounding,ct=it+4;return!s.s||!h.s?g=new this(NaN):!s.d&&!h.d?(g=getPi(this,ct,1).times(h.s>0?.25:.75),g.s=s.s):!h.d||s.isZero()?(g=h.s<0?getPi(this,it,ut):new this(0),g.s=s.s):!s.d||h.isZero()?(g=getPi(this,ct,1).times(.5),g.s=s.s):h.s<0?(this.precision=ct,this.rounding=1,g=this.atan(divide$1(s,h,ct,1)),h=getPi(this,ct,1),this.precision=it,this.rounding=ut,g=s.s<0?g.minus(h):g.plus(h)):g=this.atan(divide$1(s,h,ct,1)),g}function cbrt$1(s){return new this(s).cbrt()}function ceil$1(s){return finalise(s=new this(s),s.e+1,2)}function clamp(s,h,g){return new this(s).clamp(h,g)}function config(s){if(!s||typeof s!="object")throw Error(decimalError+"Object expected");var h,g,it,ut=s.defaults===!0,ct=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9];for(h=0;h<ct.length;h+=3)if(g=ct[h],ut&&(this[g]=DEFAULTS[g]),(it=s[g])!==void 0)if(mathfloor(it)===it&&it>=ct[h+1]&&it<=ct[h+2])this[g]=it;else throw Error(invalidArgument+g+": "+it);if(g="crypto",ut&&(this[g]=DEFAULTS[g]),(it=s[g])!==void 0)if(it===!0||it===!1||it===0||it===1)if(it)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[g]=!0;else throw Error(cryptoUnavailable);else this[g]=!1;else throw Error(invalidArgument+g+": "+it);return this}function cos$1(s){return new this(s).cos()}function cosh$1(s){return new this(s).cosh()}function clone$1(s){var h,g,it;function ut(ct){var dt,ht,pt,mt=this;if(!(mt instanceof ut))return new ut(ct);if(mt.constructor=ut,isDecimalInstance(ct)){mt.s=ct.s,external?!ct.d||ct.e>ut.maxE?(mt.e=NaN,mt.d=null):ct.e<ut.minE?(mt.e=0,mt.d=[0]):(mt.e=ct.e,mt.d=ct.d.slice()):(mt.e=ct.e,mt.d=ct.d?ct.d.slice():ct.d);return}if(pt=typeof ct,pt==="number"){if(ct===0){mt.s=1/ct<0?-1:1,mt.e=0,mt.d=[0];return}if(ct<0?(ct=-ct,mt.s=-1):mt.s=1,ct===~~ct&&ct<1e7){for(dt=0,ht=ct;ht>=10;ht/=10)dt++;external?dt>ut.maxE?(mt.e=NaN,mt.d=null):dt<ut.minE?(mt.e=0,mt.d=[0]):(mt.e=dt,mt.d=[ct]):(mt.e=dt,mt.d=[ct]);return}else if(ct*0!==0){ct||(mt.s=NaN),mt.e=NaN,mt.d=null;return}return parseDecimal(mt,ct.toString())}else if(pt!=="string")throw Error(invalidArgument+ct);return(ht=ct.charCodeAt(0))===45?(ct=ct.slice(1),mt.s=-1):(ht===43&&(ct=ct.slice(1)),mt.s=1),isDecimal.test(ct)?parseDecimal(mt,ct):parseOther(mt,ct)}if(ut.prototype=P$1,ut.ROUND_UP=0,ut.ROUND_DOWN=1,ut.ROUND_CEIL=2,ut.ROUND_FLOOR=3,ut.ROUND_HALF_UP=4,ut.ROUND_HALF_DOWN=5,ut.ROUND_HALF_EVEN=6,ut.ROUND_HALF_CEIL=7,ut.ROUND_HALF_FLOOR=8,ut.EUCLID=9,ut.config=ut.set=config,ut.clone=clone$1,ut.isDecimal=isDecimalInstance,ut.abs=abs$1,ut.acos=acos$1,ut.acosh=acosh$1,ut.add=add$1,ut.asin=asin$1,ut.asinh=asinh$1,ut.atan=atan$1,ut.atanh=atanh$1,ut.atan2=atan2$1,ut.cbrt=cbrt$1,ut.ceil=ceil$1,ut.clamp=clamp,ut.cos=cos$1,ut.cosh=cosh$1,ut.div=div,ut.exp=exp$1,ut.floor=floor$1,ut.hypot=hypot$1,ut.ln=ln,ut.log=log$1,ut.log10=log10$1,ut.log2=log2$1,ut.max=max$1,ut.min=min$1,ut.mod=mod$1,ut.mul=mul,ut.pow=pow$1,ut.random=random$1,ut.round=round$1,ut.sign=sign$1,ut.sin=sin$1,ut.sinh=sinh$1,ut.sqrt=sqrt$1,ut.sub=sub,ut.sum=sum$1,ut.tan=tan$1,ut.tanh=tanh$1,ut.trunc=trunc,s===void 0&&(s={}),s&&s.defaults!==!0)for(it=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],h=0;h<it.length;)s.hasOwnProperty(g=it[h++])||(s[g]=this[g]);return ut.config(s),ut}function div(s,h){return new this(s).div(h)}function exp$1(s){return new this(s).exp()}function floor$1(s){return finalise(s=new this(s),s.e+1,3)}function hypot$1(){var s,h,g=new this(0);for(external=!1,s=0;s<arguments.length;)if(h=new this(arguments[s++]),h.d)g.d&&(g=g.plus(h.times(h)));else{if(h.s)return external=!0,new this(1/0);g=h}return external=!0,g.sqrt()}function isDecimalInstance(s){return s instanceof Decimal||s&&s.toStringTag===tag||!1}function ln(s){return new this(s).ln()}function log$1(s,h){return new this(s).log(h)}function log2$1(s){return new this(s).log(2)}function log10$1(s){return new this(s).log(10)}function max$1(){return maxOrMin(this,arguments,"lt")}function min$1(){return maxOrMin(this,arguments,"gt")}function mod$1(s,h){return new this(s).mod(h)}function mul(s,h){return new this(s).mul(h)}function pow$1(s,h){return new this(s).pow(h)}function random$1(s){var h,g,it,ut,ct=0,dt=new this(1),ht=[];if(s===void 0?s=this.precision:checkInt32(s,1,MAX_DIGITS),it=Math.ceil(s/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(h=crypto.getRandomValues(new Uint32Array(it));ct<it;)ut=h[ct],ut>=429e7?h[ct]=crypto.getRandomValues(new Uint32Array(1))[0]:ht[ct++]=ut%1e7;else if(crypto.randomBytes){for(h=crypto.randomBytes(it*=4);ct<it;)ut=h[ct]+(h[ct+1]<<8)+(h[ct+2]<<16)+((h[ct+3]&127)<<24),ut>=214e7?crypto.randomBytes(4).copy(h,ct):(ht.push(ut%1e7),ct+=4);ct=it/4}else throw Error(cryptoUnavailable);else for(;ct<it;)ht[ct++]=Math.random()*1e7|0;for(it=ht[--ct],s%=LOG_BASE,it&&s&&(ut=mathpow(10,LOG_BASE-s),ht[ct]=(it/ut|0)*ut);ht[ct]===0;ct--)ht.pop();if(ct<0)g=0,ht=[0];else{for(g=-1;ht[0]===0;g-=LOG_BASE)ht.shift();for(it=1,ut=ht[0];ut>=10;ut/=10)it++;it<LOG_BASE&&(g-=LOG_BASE-it)}return dt.e=g,dt.d=ht,dt}function round$1(s){return finalise(s=new this(s),s.e+1,this.rounding)}function sign$1(s){return s=new this(s),s.d?s.d[0]?s.s:0*s.s:s.s||NaN}function sin$1(s){return new this(s).sin()}function sinh$1(s){return new this(s).sinh()}function sqrt$1(s){return new this(s).sqrt()}function sub(s,h){return new this(s).sub(h)}function sum$1(){var s=0,h=arguments,g=new this(h[s]);for(external=!1;g.s&&++s<h.length;)g=g.plus(h[s]);return external=!0,finalise(g,this.precision,this.rounding)}function tan$1(s){return new this(s).tan()}function tanh$1(s){return new this(s).tanh()}function trunc(s){return finalise(s=new this(s),s.e+1,1)}P$1[Symbol.for("nodejs.util.inspect.custom")]=P$1.toString;P$1[Symbol.toStringTag]="Decimal";var Decimal=P$1.constructor=clone$1(DEFAULTS);LN10$1=new Decimal(LN10$1);PI=new Decimal(PI);var name$4N="BigNumber",dependencies$4M=["?on","config"],createBigNumberClass=factory(name$4N,dependencies$4M,s=>{var{on:h,config:g}=s,it=Decimal.clone({precision:g.precision,modulo:Decimal.EUCLID});return it.prototype=Object.create(it.prototype),it.prototype.type="BigNumber",it.prototype.isBigNumber=!0,it.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},it.fromJSON=function(ut){return new it(ut.value)},h&&h("config",function(ut,ct){ut.precision!==ct.precision&&it.config({precision:ut.precision})}),it},{isClass:!0}),complex$1={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(s,h){(function(g){var it=Math.cosh||function(gt){return Math.abs(gt)<1e-9?1-gt:(Math.exp(gt)+Math.exp(-gt))*.5},ut=Math.sinh||function(gt){return Math.abs(gt)<1e-9?gt:(Math.exp(gt)-Math.exp(-gt))*.5},ct=function(gt){var yt=Math.PI/4;if(-yt>gt||gt>yt)return Math.cos(gt)-1;var bt=gt*gt;return bt*(bt*(bt*(bt*(bt*(bt*(bt*(bt/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},dt=function(gt,yt){var bt=Math.abs(gt),wt=Math.abs(yt);return bt<3e3&&wt<3e3?Math.sqrt(bt*bt+wt*wt):(bt<wt?(bt=wt,wt=gt/yt):wt=yt/gt,bt*Math.sqrt(1+wt*wt))},ht=function(){throw SyntaxError("Invalid Param")};function pt(gt,yt){var bt=Math.abs(gt),wt=Math.abs(yt);return gt===0?Math.log(wt):yt===0?Math.log(bt):bt<3e3&&wt<3e3?Math.log(gt*gt+yt*yt)*.5:(gt=gt/2,yt=yt/2,.5*Math.log(gt*gt+yt*yt)+Math.LN2)}var mt=function(gt,yt){var bt={re:0,im:0};if(gt==null)bt.re=bt.im=0;else if(yt!==void 0)bt.re=gt,bt.im=yt;else switch(typeof gt){case"object":if("im"in gt&&"re"in gt)bt.re=gt.re,bt.im=gt.im;else if("abs"in gt&&"arg"in gt){if(!Number.isFinite(gt.abs)&&Number.isFinite(gt.arg))return vt.INFINITY;bt.re=gt.abs*Math.cos(gt.arg),bt.im=gt.abs*Math.sin(gt.arg)}else if("r"in gt&&"phi"in gt){if(!Number.isFinite(gt.r)&&Number.isFinite(gt.phi))return vt.INFINITY;bt.re=gt.r*Math.cos(gt.phi),bt.im=gt.r*Math.sin(gt.phi)}else gt.length===2?(bt.re=gt[0],bt.im=gt[1]):ht();break;case"string":bt.im=bt.re=0;var wt=gt.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),Et=1,Mt=0;wt===null&&ht();for(var Dt=0;Dt<wt.length;Dt++){var $t=wt[Dt];$t===" "||$t==="	"||$t===`
`||($t==="+"?Et++:$t==="-"?Mt++:$t==="i"||$t==="I"?(Et+Mt===0&&ht(),wt[Dt+1]!==" "&&!isNaN(wt[Dt+1])?(bt.im+=parseFloat((Mt%2?"-":"")+wt[Dt+1]),Dt++):bt.im+=parseFloat((Mt%2?"-":"")+"1"),Et=Mt=0):((Et+Mt===0||isNaN($t))&&ht(),wt[Dt+1]==="i"||wt[Dt+1]==="I"?(bt.im+=parseFloat((Mt%2?"-":"")+$t),Dt++):bt.re+=parseFloat((Mt%2?"-":"")+$t),Et=Mt=0))}Et+Mt>0&&ht();break;case"number":bt.im=0,bt.re=gt;break;default:ht()}return isNaN(bt.re)||isNaN(bt.im),bt};function vt(gt,yt){if(!(this instanceof vt))return new vt(gt,yt);var bt=mt(gt,yt);this.re=bt.re,this.im=bt.im}vt.prototype={re:0,im:0,sign:function(){var gt=this.abs();return new vt(this.re/gt,this.im/gt)},add:function(gt,yt){var bt=new vt(gt,yt);return this.isInfinite()&&bt.isInfinite()?vt.NAN:this.isInfinite()||bt.isInfinite()?vt.INFINITY:new vt(this.re+bt.re,this.im+bt.im)},sub:function(gt,yt){var bt=new vt(gt,yt);return this.isInfinite()&&bt.isInfinite()?vt.NAN:this.isInfinite()||bt.isInfinite()?vt.INFINITY:new vt(this.re-bt.re,this.im-bt.im)},mul:function(gt,yt){var bt=new vt(gt,yt);return this.isInfinite()&&bt.isZero()||this.isZero()&&bt.isInfinite()?vt.NAN:this.isInfinite()||bt.isInfinite()?vt.INFINITY:bt.im===0&&this.im===0?new vt(this.re*bt.re,0):new vt(this.re*bt.re-this.im*bt.im,this.re*bt.im+this.im*bt.re)},div:function(gt,yt){var bt=new vt(gt,yt);if(this.isZero()&&bt.isZero()||this.isInfinite()&&bt.isInfinite())return vt.NAN;if(this.isInfinite()||bt.isZero())return vt.INFINITY;if(this.isZero()||bt.isInfinite())return vt.ZERO;gt=this.re,yt=this.im;var wt=bt.re,Et=bt.im,Mt,Dt;return Et===0?new vt(gt/wt,yt/wt):Math.abs(wt)<Math.abs(Et)?(Dt=wt/Et,Mt=wt*Dt+Et,new vt((gt*Dt+yt)/Mt,(yt*Dt-gt)/Mt)):(Dt=Et/wt,Mt=Et*Dt+wt,new vt((gt+yt*Dt)/Mt,(yt-gt*Dt)/Mt))},pow:function(gt,yt){var bt=new vt(gt,yt);if(gt=this.re,yt=this.im,bt.isZero())return vt.ONE;if(bt.im===0){if(yt===0&&gt>0)return new vt(Math.pow(gt,bt.re),0);if(gt===0)switch((bt.re%4+4)%4){case 0:return new vt(Math.pow(yt,bt.re),0);case 1:return new vt(0,Math.pow(yt,bt.re));case 2:return new vt(-Math.pow(yt,bt.re),0);case 3:return new vt(0,-Math.pow(yt,bt.re))}}if(gt===0&&yt===0&&bt.re>0&&bt.im>=0)return vt.ZERO;var wt=Math.atan2(yt,gt),Et=pt(gt,yt);return gt=Math.exp(bt.re*Et-bt.im*wt),yt=bt.im*Et+bt.re*wt,new vt(gt*Math.cos(yt),gt*Math.sin(yt))},sqrt:function(){var gt=this.re,yt=this.im,bt=this.abs(),wt,Et;if(gt>=0){if(yt===0)return new vt(Math.sqrt(gt),0);wt=.5*Math.sqrt(2*(bt+gt))}else wt=Math.abs(yt)/Math.sqrt(2*(bt-gt));return gt<=0?Et=.5*Math.sqrt(2*(bt-gt)):Et=Math.abs(yt)/Math.sqrt(2*(bt+gt)),new vt(wt,yt<0?-Et:Et)},exp:function(){var gt=Math.exp(this.re);return this.im,new vt(gt*Math.cos(this.im),gt*Math.sin(this.im))},expm1:function(){var gt=this.re,yt=this.im;return new vt(Math.expm1(gt)*Math.cos(yt)+ct(yt),Math.exp(gt)*Math.sin(yt))},log:function(){var gt=this.re,yt=this.im;return new vt(pt(gt,yt),Math.atan2(yt,gt))},abs:function(){return dt(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var gt=this.re,yt=this.im;return new vt(Math.sin(gt)*it(yt),Math.cos(gt)*ut(yt))},cos:function(){var gt=this.re,yt=this.im;return new vt(Math.cos(gt)*it(yt),-Math.sin(gt)*ut(yt))},tan:function(){var gt=2*this.re,yt=2*this.im,bt=Math.cos(gt)+it(yt);return new vt(Math.sin(gt)/bt,ut(yt)/bt)},cot:function(){var gt=2*this.re,yt=2*this.im,bt=Math.cos(gt)-it(yt);return new vt(-Math.sin(gt)/bt,ut(yt)/bt)},sec:function(){var gt=this.re,yt=this.im,bt=.5*it(2*yt)+.5*Math.cos(2*gt);return new vt(Math.cos(gt)*it(yt)/bt,Math.sin(gt)*ut(yt)/bt)},csc:function(){var gt=this.re,yt=this.im,bt=.5*it(2*yt)-.5*Math.cos(2*gt);return new vt(Math.sin(gt)*it(yt)/bt,-Math.cos(gt)*ut(yt)/bt)},asin:function(){var gt=this.re,yt=this.im,bt=new vt(yt*yt-gt*gt+1,-2*gt*yt).sqrt(),wt=new vt(bt.re-yt,bt.im+gt).log();return new vt(wt.im,-wt.re)},acos:function(){var gt=this.re,yt=this.im,bt=new vt(yt*yt-gt*gt+1,-2*gt*yt).sqrt(),wt=new vt(bt.re-yt,bt.im+gt).log();return new vt(Math.PI/2-wt.im,wt.re)},atan:function(){var gt=this.re,yt=this.im;if(gt===0){if(yt===1)return new vt(0,1/0);if(yt===-1)return new vt(0,-1/0)}var bt=gt*gt+(1-yt)*(1-yt),wt=new vt((1-yt*yt-gt*gt)/bt,-2*gt/bt).log();return new vt(-.5*wt.im,.5*wt.re)},acot:function(){var gt=this.re,yt=this.im;if(yt===0)return new vt(Math.atan2(1,gt),0);var bt=gt*gt+yt*yt;return bt!==0?new vt(gt/bt,-yt/bt).atan():new vt(gt!==0?gt/0:0,yt!==0?-yt/0:0).atan()},asec:function(){var gt=this.re,yt=this.im;if(gt===0&&yt===0)return new vt(0,1/0);var bt=gt*gt+yt*yt;return bt!==0?new vt(gt/bt,-yt/bt).acos():new vt(gt!==0?gt/0:0,yt!==0?-yt/0:0).acos()},acsc:function(){var gt=this.re,yt=this.im;if(gt===0&&yt===0)return new vt(Math.PI/2,1/0);var bt=gt*gt+yt*yt;return bt!==0?new vt(gt/bt,-yt/bt).asin():new vt(gt!==0?gt/0:0,yt!==0?-yt/0:0).asin()},sinh:function(){var gt=this.re,yt=this.im;return new vt(ut(gt)*Math.cos(yt),it(gt)*Math.sin(yt))},cosh:function(){var gt=this.re,yt=this.im;return new vt(it(gt)*Math.cos(yt),ut(gt)*Math.sin(yt))},tanh:function(){var gt=2*this.re,yt=2*this.im,bt=it(gt)+Math.cos(yt);return new vt(ut(gt)/bt,Math.sin(yt)/bt)},coth:function(){var gt=2*this.re,yt=2*this.im,bt=it(gt)-Math.cos(yt);return new vt(ut(gt)/bt,-Math.sin(yt)/bt)},csch:function(){var gt=this.re,yt=this.im,bt=Math.cos(2*yt)-it(2*gt);return new vt(-2*ut(gt)*Math.cos(yt)/bt,2*it(gt)*Math.sin(yt)/bt)},sech:function(){var gt=this.re,yt=this.im,bt=Math.cos(2*yt)+it(2*gt);return new vt(2*it(gt)*Math.cos(yt)/bt,-2*ut(gt)*Math.sin(yt)/bt)},asinh:function(){var gt=this.im;this.im=-this.re,this.re=gt;var yt=this.asin();return this.re=-this.im,this.im=gt,gt=yt.re,yt.re=-yt.im,yt.im=gt,yt},acosh:function(){var gt=this.acos();if(gt.im<=0){var yt=gt.re;gt.re=-gt.im,gt.im=yt}else{var yt=gt.im;gt.im=-gt.re,gt.re=yt}return gt},atanh:function(){var gt=this.re,yt=this.im,bt=gt>1&&yt===0,wt=1-gt,Et=1+gt,Mt=wt*wt+yt*yt,Dt=Mt!==0?new vt((Et*wt-yt*yt)/Mt,(yt*wt+Et*yt)/Mt):new vt(gt!==-1?gt/0:0,yt!==0?yt/0:0),$t=Dt.re;return Dt.re=pt(Dt.re,Dt.im)/2,Dt.im=Math.atan2(Dt.im,$t)/2,bt&&(Dt.im=-Dt.im),Dt},acoth:function(){var gt=this.re,yt=this.im;if(gt===0&&yt===0)return new vt(0,Math.PI/2);var bt=gt*gt+yt*yt;return bt!==0?new vt(gt/bt,-yt/bt).atanh():new vt(gt!==0?gt/0:0,yt!==0?-yt/0:0).atanh()},acsch:function(){var gt=this.re,yt=this.im;if(yt===0)return new vt(gt!==0?Math.log(gt+Math.sqrt(gt*gt+1)):1/0,0);var bt=gt*gt+yt*yt;return bt!==0?new vt(gt/bt,-yt/bt).asinh():new vt(gt!==0?gt/0:0,yt!==0?-yt/0:0).asinh()},asech:function(){var gt=this.re,yt=this.im;if(this.isZero())return vt.INFINITY;var bt=gt*gt+yt*yt;return bt!==0?new vt(gt/bt,-yt/bt).acosh():new vt(gt!==0?gt/0:0,yt!==0?-yt/0:0).acosh()},inverse:function(){if(this.isZero())return vt.INFINITY;if(this.isInfinite())return vt.ZERO;var gt=this.re,yt=this.im,bt=gt*gt+yt*yt;return new vt(gt/bt,-yt/bt)},conjugate:function(){return new vt(this.re,-this.im)},neg:function(){return new vt(-this.re,-this.im)},ceil:function(gt){return gt=Math.pow(10,gt||0),new vt(Math.ceil(this.re*gt)/gt,Math.ceil(this.im*gt)/gt)},floor:function(gt){return gt=Math.pow(10,gt||0),new vt(Math.floor(this.re*gt)/gt,Math.floor(this.im*gt)/gt)},round:function(gt){return gt=Math.pow(10,gt||0),new vt(Math.round(this.re*gt)/gt,Math.round(this.im*gt)/gt)},equals:function(gt,yt){var bt=new vt(gt,yt);return Math.abs(bt.re-this.re)<=vt.EPSILON&&Math.abs(bt.im-this.im)<=vt.EPSILON},clone:function(){return new vt(this.re,this.im)},toString:function(){var gt=this.re,yt=this.im,bt="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(gt)<vt.EPSILON&&(gt=0),Math.abs(yt)<vt.EPSILON&&(yt=0),yt===0?bt+gt:(gt!==0?(bt+=gt,bt+=" ",yt<0?(yt=-yt,bt+="-"):bt+="+",bt+=" "):yt<0&&(yt=-yt,bt+="-"),yt!==1&&(bt+=yt),bt+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},vt.ZERO=new vt(0,0),vt.ONE=new vt(1,0),vt.I=new vt(0,1),vt.PI=new vt(Math.PI,0),vt.E=new vt(Math.E,0),vt.INFINITY=new vt(1/0,1/0),vt.NAN=new vt(NaN,NaN),vt.EPSILON=1e-15,Object.defineProperty(vt,"__esModule",{value:!0}),vt.default=vt,vt.Complex=vt,s.exports=vt})()})(complex$1);var complexExports=complex$1.exports;const Complex$1=getDefaultExportFromCjs(complexExports);var name$4M="Complex",dependencies$4L=[],createComplexClass=factory(name$4M,dependencies$4L,()=>(Object.defineProperty(Complex$1,"name",{value:"Complex"}),Complex$1.prototype.constructor=Complex$1,Complex$1.prototype.type="Complex",Complex$1.prototype.isComplex=!0,Complex$1.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Complex$1.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Complex$1.prototype.format=function(s){var h="",g=this.im,it=this.re,ut=format$3(this.re,s),ct=format$3(this.im,s),dt=isNumber(s)?s:s?s.precision:null;if(dt!==null){var ht=Math.pow(10,-dt);Math.abs(it/g)<ht&&(it=0),Math.abs(g/it)<ht&&(g=0)}return g===0?h=ut:it===0?g===1?h="i":g===-1?h="-i":h=ct+"i":g<0?g===-1?h=ut+" - i":h=ut+" - "+ct.substring(1)+"i":g===1?h=ut+" + i":h=ut+" + "+ct+"i",h},Complex$1.fromPolar=function(s){switch(arguments.length){case 1:{var h=arguments[0];if(typeof h=="object")return Complex$1(h);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var g=arguments[0],it=arguments[1];if(isNumber(g)){if(isUnit(it)&&it.hasBase("ANGLE")&&(it=it.toNumber("rad")),isNumber(it))return new Complex$1({r:g,phi:it});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Complex$1.prototype.valueOf=Complex$1.prototype.toString,Complex$1.fromJSON=function(s){return new Complex$1(s)},Complex$1.compare=function(s,h){return s.re>h.re?1:s.re<h.re?-1:s.im>h.im?1:s.im<h.im?-1:0},Complex$1),{isClass:!0}),fraction$1={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(s,h){(function(g){var it=2e3,ut={s:1,n:0,d:1};function ct(Dt,$t){if(isNaN(Dt=parseInt(Dt,10)))throw Et();return Dt*$t}function dt(Dt,$t){if($t===0)throw wt();var _t=Object.create(bt.prototype);_t.s=Dt<0?-1:1,Dt=Dt<0?-Dt:Dt;var Nt=yt(Dt,$t);return _t.n=Dt/Nt,_t.d=$t/Nt,_t}function ht(Dt){for(var $t={},_t=Dt,Nt=2,kt=4;kt<=_t;){for(;_t%Nt===0;)_t/=Nt,$t[Nt]=($t[Nt]||0)+1;kt+=1+2*Nt++}return _t!==Dt?_t>1&&($t[_t]=($t[_t]||0)+1):$t[Dt]=($t[Dt]||0)+1,$t}var pt=function(Dt,$t){var _t=0,Nt=1,kt=1,At=0,Bt=0,Ft=0,Lt=1,Ot=1,It=0,Rt=1,Vt=1,Xt=1,Wt=1e7,jt;if(Dt!=null)if($t!==void 0){if(_t=Dt,Nt=$t,kt=_t*Nt,_t%1!==0||Nt%1!==0)throw Mt()}else switch(typeof Dt){case"object":{if("d"in Dt&&"n"in Dt)_t=Dt.n,Nt=Dt.d,"s"in Dt&&(_t*=Dt.s);else if(0 in Dt)_t=Dt[0],1 in Dt&&(Nt=Dt[1]);else throw Et();kt=_t*Nt;break}case"number":{if(Dt<0&&(kt=Dt,Dt=-Dt),Dt%1===0)_t=Dt;else if(Dt>0){for(Dt>=1&&(Ot=Math.pow(10,Math.floor(1+Math.log(Dt)/Math.LN10)),Dt/=Ot);Rt<=Wt&&Xt<=Wt;)if(jt=(It+Vt)/(Rt+Xt),Dt===jt){Rt+Xt<=Wt?(_t=It+Vt,Nt=Rt+Xt):Xt>Rt?(_t=Vt,Nt=Xt):(_t=It,Nt=Rt);break}else Dt>jt?(It+=Vt,Rt+=Xt):(Vt+=It,Xt+=Rt),Rt>Wt?(_t=Vt,Nt=Xt):(_t=It,Nt=Rt);_t*=Ot}else(isNaN(Dt)||isNaN($t))&&(Nt=_t=NaN);break}case"string":{if(Rt=Dt.match(/\d+|./g),Rt===null)throw Et();if(Rt[It]==="-"?(kt=-1,It++):Rt[It]==="+"&&It++,Rt.length===It+1?Bt=ct(Rt[It++],kt):Rt[It+1]==="."||Rt[It]==="."?(Rt[It]!=="."&&(At=ct(Rt[It++],kt)),It++,(It+1===Rt.length||Rt[It+1]==="("&&Rt[It+3]===")"||Rt[It+1]==="'"&&Rt[It+3]==="'")&&(Bt=ct(Rt[It],kt),Lt=Math.pow(10,Rt[It].length),It++),(Rt[It]==="("&&Rt[It+2]===")"||Rt[It]==="'"&&Rt[It+2]==="'")&&(Ft=ct(Rt[It+1],kt),Ot=Math.pow(10,Rt[It+1].length)-1,It+=3)):Rt[It+1]==="/"||Rt[It+1]===":"?(Bt=ct(Rt[It],kt),Lt=ct(Rt[It+2],1),It+=3):Rt[It+3]==="/"&&Rt[It+1]===" "&&(At=ct(Rt[It],kt),Bt=ct(Rt[It+2],kt),Lt=ct(Rt[It+4],1),It+=5),Rt.length<=It){Nt=Lt*Ot,kt=_t=Ft+Nt*At+Ot*Bt;break}}default:throw Et()}if(Nt===0)throw wt();ut.s=kt<0?-1:1,ut.n=Math.abs(_t),ut.d=Math.abs(Nt)};function mt(Dt,$t,_t){for(var Nt=1;$t>0;Dt=Dt*Dt%_t,$t>>=1)$t&1&&(Nt=Nt*Dt%_t);return Nt}function vt(Dt,$t){for(;$t%2===0;$t/=2);for(;$t%5===0;$t/=5);if($t===1)return 0;for(var _t=10%$t,Nt=1;_t!==1;Nt++)if(_t=_t*10%$t,Nt>it)return 0;return Nt}function gt(Dt,$t,_t){for(var Nt=1,kt=mt(10,_t,$t),At=0;At<300;At++){if(Nt===kt)return At;Nt=Nt*10%$t,kt=kt*10%$t}return 0}function yt(Dt,$t){if(!Dt)return $t;if(!$t)return Dt;for(;;){if(Dt%=$t,!Dt)return $t;if($t%=Dt,!$t)return Dt}}function bt(Dt,$t){if(pt(Dt,$t),this instanceof bt)Dt=yt(ut.d,ut.n),this.s=ut.s,this.n=ut.n/Dt,this.d=ut.d/Dt;else return dt(ut.s*ut.n,ut.d)}var wt=function(){return new Error("Division by Zero")},Et=function(){return new Error("Invalid argument")},Mt=function(){return new Error("Parameters must be integer")};bt.prototype={s:1,n:0,d:1,abs:function(){return dt(this.n,this.d)},neg:function(){return dt(-this.s*this.n,this.d)},add:function(Dt,$t){return pt(Dt,$t),dt(this.s*this.n*ut.d+ut.s*this.d*ut.n,this.d*ut.d)},sub:function(Dt,$t){return pt(Dt,$t),dt(this.s*this.n*ut.d-ut.s*this.d*ut.n,this.d*ut.d)},mul:function(Dt,$t){return pt(Dt,$t),dt(this.s*ut.s*this.n*ut.n,this.d*ut.d)},div:function(Dt,$t){return pt(Dt,$t),dt(this.s*ut.s*this.n*ut.d,this.d*ut.n)},clone:function(){return dt(this.s*this.n,this.d)},mod:function(Dt,$t){if(isNaN(this.n)||isNaN(this.d))return new bt(NaN);if(Dt===void 0)return dt(this.s*this.n%this.d,1);if(pt(Dt,$t),ut.n===0&&this.d===0)throw wt();return dt(this.s*(ut.d*this.n)%(ut.n*this.d),ut.d*this.d)},gcd:function(Dt,$t){return pt(Dt,$t),dt(yt(ut.n,this.n)*yt(ut.d,this.d),ut.d*this.d)},lcm:function(Dt,$t){return pt(Dt,$t),ut.n===0&&this.n===0?dt(0,1):dt(ut.n*this.n,yt(ut.n,this.n)*yt(ut.d,this.d))},ceil:function(Dt){return Dt=Math.pow(10,Dt||0),isNaN(this.n)||isNaN(this.d)?new bt(NaN):dt(Math.ceil(Dt*this.s*this.n/this.d),Dt)},floor:function(Dt){return Dt=Math.pow(10,Dt||0),isNaN(this.n)||isNaN(this.d)?new bt(NaN):dt(Math.floor(Dt*this.s*this.n/this.d),Dt)},round:function(Dt){return Dt=Math.pow(10,Dt||0),isNaN(this.n)||isNaN(this.d)?new bt(NaN):dt(Math.round(Dt*this.s*this.n/this.d),Dt)},inverse:function(){return dt(this.s*this.d,this.n)},pow:function(Dt,$t){if(pt(Dt,$t),ut.d===1)return ut.s<0?dt(Math.pow(this.s*this.d,ut.n),Math.pow(this.n,ut.n)):dt(Math.pow(this.s*this.n,ut.n),Math.pow(this.d,ut.n));if(this.s<0)return null;var _t=ht(this.n),Nt=ht(this.d),kt=1,At=1;for(var Bt in _t)if(Bt!=="1"){if(Bt==="0"){kt=0;break}if(_t[Bt]*=ut.n,_t[Bt]%ut.d===0)_t[Bt]/=ut.d;else return null;kt*=Math.pow(Bt,_t[Bt])}for(var Bt in Nt)if(Bt!=="1"){if(Nt[Bt]*=ut.n,Nt[Bt]%ut.d===0)Nt[Bt]/=ut.d;else return null;At*=Math.pow(Bt,Nt[Bt])}return ut.s<0?dt(At,kt):dt(kt,At)},equals:function(Dt,$t){return pt(Dt,$t),this.s*this.n*ut.d===ut.s*ut.n*this.d},compare:function(Dt,$t){pt(Dt,$t);var _t=this.s*this.n*ut.d-ut.s*ut.n*this.d;return(0<_t)-(_t<0)},simplify:function(Dt){if(isNaN(this.n)||isNaN(this.d))return this;Dt=Dt||.001;for(var $t=this.abs(),_t=$t.toContinued(),Nt=1;Nt<_t.length;Nt++){for(var kt=dt(_t[Nt-1],1),At=Nt-2;At>=0;At--)kt=kt.inverse().add(_t[At]);if(Math.abs(kt.sub($t).valueOf())<Dt)return kt.mul(this.s)}return this},divisible:function(Dt,$t){return pt(Dt,$t),!(!(ut.n*this.d)||this.n*ut.d%(ut.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(Dt){var $t,_t="",Nt=this.n,kt=this.d;return this.s<0&&(_t+="-"),kt===1?_t+=Nt:(Dt&&($t=Math.floor(Nt/kt))>0&&(_t+=$t,_t+=" ",Nt%=kt),_t+=Nt,_t+="/",_t+=kt),_t},toLatex:function(Dt){var $t,_t="",Nt=this.n,kt=this.d;return this.s<0&&(_t+="-"),kt===1?_t+=Nt:(Dt&&($t=Math.floor(Nt/kt))>0&&(_t+=$t,Nt%=kt),_t+="\\frac{",_t+=Nt,_t+="}{",_t+=kt,_t+="}"),_t},toContinued:function(){var Dt,$t=this.n,_t=this.d,Nt=[];if(isNaN($t)||isNaN(_t))return Nt;do Nt.push(Math.floor($t/_t)),Dt=$t%_t,$t=_t,_t=Dt;while($t!==1);return Nt},toString:function(Dt){var $t=this.n,_t=this.d;if(isNaN($t)||isNaN(_t))return"NaN";Dt=Dt||15;var Nt=vt($t,_t),kt=gt($t,_t,Nt),At=this.s<0?"-":"";if(At+=$t/_t|0,$t%=_t,$t*=10,$t&&(At+="."),Nt){for(var Bt=kt;Bt--;)At+=$t/_t|0,$t%=_t,$t*=10;At+="(";for(var Bt=Nt;Bt--;)At+=$t/_t|0,$t%=_t,$t*=10;At+=")"}else for(var Bt=Dt;$t&&Bt--;)At+=$t/_t|0,$t%=_t,$t*=10;return At}},Object.defineProperty(bt,"__esModule",{value:!0}),bt.default=bt,bt.Fraction=bt,s.exports=bt})()})(fraction$1);var fractionExports=fraction$1.exports;const Fraction$1=getDefaultExportFromCjs(fractionExports);var name$4L="Fraction",dependencies$4K=[],createFractionClass=factory(name$4L,dependencies$4K,()=>(Object.defineProperty(Fraction$1,"name",{value:"Fraction"}),Fraction$1.prototype.constructor=Fraction$1,Fraction$1.prototype.type="Fraction",Fraction$1.prototype.isFraction=!0,Fraction$1.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Fraction$1.fromJSON=function(s){return new Fraction$1(s)},Fraction$1),{isClass:!0}),name$4K="Range",dependencies$4J=[],createRangeClass=factory(name$4K,dependencies$4J,()=>{function s(h,g,it){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");var ut=h!=null,ct=g!=null,dt=it!=null;if(ut){if(isBigNumber(h))h=h.toNumber();else if(typeof h!="number")throw new TypeError("Parameter start must be a number")}if(ct){if(isBigNumber(g))g=g.toNumber();else if(typeof g!="number")throw new TypeError("Parameter end must be a number")}if(dt){if(isBigNumber(it))it=it.toNumber();else if(typeof it!="number")throw new TypeError("Parameter step must be a number")}this.start=ut?parseFloat(h):0,this.end=ct?parseFloat(g):0,this.step=dt?parseFloat(it):1}return s.prototype.type="Range",s.prototype.isRange=!0,s.parse=function(h){if(typeof h!="string")return null;var g=h.split(":"),it=g.map(function(ct){return parseFloat(ct)}),ut=it.some(function(ct){return isNaN(ct)});if(ut)return null;switch(it.length){case 2:return new s(it[0],it[1]);case 3:return new s(it[0],it[2],it[1]);default:return null}},s.prototype.clone=function(){return new s(this.start,this.end,this.step)},s.prototype.size=function(){var h=0,g=this.start,it=this.step,ut=this.end,ct=ut-g;return sign$2(it)===sign$2(ct)?h=Math.ceil(ct/it):ct===0&&(h=0),isNaN(h)&&(h=0),[h]},s.prototype.min=function(){var h=this.size()[0];if(h>0)return this.step>0?this.start:this.start+(h-1)*this.step},s.prototype.max=function(){var h=this.size()[0];if(h>0)return this.step>0?this.start+(h-1)*this.step:this.start},s.prototype.forEach=function(h){var g=this.start,it=this.step,ut=this.end,ct=0;if(it>0)for(;g<ut;)h(g,[ct],this),g+=it,ct++;else if(it<0)for(;g>ut;)h(g,[ct],this),g+=it,ct++},s.prototype.map=function(h){var g=[];return this.forEach(function(it,ut,ct){g[ut[0]]=h(it,ut,ct)}),g},s.prototype.toArray=function(){var h=[];return this.forEach(function(g,it){h[it[0]]=g}),h},s.prototype.valueOf=function(){return this.toArray()},s.prototype.format=function(h){var g=format$3(this.start,h);return this.step!==1&&(g+=":"+format$3(this.step,h)),g+=":"+format$3(this.end,h),g},s.prototype.toString=function(){return this.format()},s.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},s.fromJSON=function(h){return new s(h.start,h.end,h.step)},s},{isClass:!0}),name$4J="Matrix",dependencies$4I=[],createMatrixClass=factory(name$4J,dependencies$4I,()=>{function s(){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator")}return s.prototype.type="Matrix",s.prototype.isMatrix=!0,s.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},s.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},s.prototype.create=function(h,g){throw new Error("Cannot invoke create on a Matrix interface")},s.prototype.subset=function(h,g,it){throw new Error("Cannot invoke subset on a Matrix interface")},s.prototype.get=function(h){throw new Error("Cannot invoke get on a Matrix interface")},s.prototype.set=function(h,g,it){throw new Error("Cannot invoke set on a Matrix interface")},s.prototype.resize=function(h,g){throw new Error("Cannot invoke resize on a Matrix interface")},s.prototype.reshape=function(h,g){throw new Error("Cannot invoke reshape on a Matrix interface")},s.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},s.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},s.prototype.map=function(h,g){throw new Error("Cannot invoke map on a Matrix interface")},s.prototype.forEach=function(h){throw new Error("Cannot invoke forEach on a Matrix interface")},s.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},s.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},s.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},s.prototype.format=function(h){throw new Error("Cannot invoke format on a Matrix interface")},s.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},s},{isClass:!0});function lruQueue(s){var h=0,g=1,it=Object.create(null),ut=Object.create(null),ct=0,dt=function(pt){var mt=ut[pt];if(mt&&(delete it[mt],delete ut[pt],--h,g===mt)){if(!h){ct=0,g=1;return}for(;!Object.prototype.hasOwnProperty.call(it,++g););}};return s=Math.abs(s),{hit:function(pt){var mt=ut[pt],vt=++ct;if(it[vt]=pt,ut[pt]=vt,!mt)return++h,h<=s?void 0:(pt=it[g],dt(pt),pt);if(delete it[mt],g===mt)for(;!Object.prototype.hasOwnProperty.call(it,++g););},delete:dt,clear:function(){h=ct=0,g=1,it=Object.create(null),ut=Object.create(null)}}}function memoize(s){var{hasher:h,limit:g}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return g=g??Number.POSITIVE_INFINITY,h=h??JSON.stringify,function it(){typeof it.cache!="object"&&(it.cache={values:new Map,lru:lruQueue(g||Number.POSITIVE_INFINITY)});for(var ut=[],ct=0;ct<arguments.length;ct++)ut[ct]=arguments[ct];var dt=h(ut);if(it.cache.values.has(dt))return it.cache.lru.hit(dt),it.cache.values.get(dt);var ht=s.apply(s,ut);return it.cache.values.set(dt,ht),it.cache.values.delete(it.cache.lru.hit(dt)),ht}}function maxArgumentCount(s){return Object.keys(s.signatures||{}).reduce(function(h,g){var it=(g.match(/,/g)||[]).length+1;return Math.max(h,it)},-1)}var name$4I="DenseMatrix",dependencies$4H=["Matrix"],createDenseMatrixClass=factory(name$4I,dependencies$4H,s=>{var{Matrix:h}=s;function g(vt,gt){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");if(gt&&!isString(gt))throw new Error("Invalid datatype: "+gt);if(isMatrix(vt))vt.type==="DenseMatrix"?(this._data=clone$3(vt._data),this._size=clone$3(vt._size),this._datatype=gt||vt._datatype):(this._data=vt.toArray(),this._size=vt.size(),this._datatype=gt||vt._datatype);else if(vt&&isArray(vt.data)&&isArray(vt.size))this._data=vt.data,this._size=vt.size,validate(this._data,this._size),this._datatype=gt||vt.datatype;else if(isArray(vt))this._data=mt(vt),this._size=arraySize(this._data),validate(this._data,this._size),this._datatype=gt;else{if(vt)throw new TypeError("Unsupported type of data ("+typeOf$1(vt)+")");this._data=[],this._size=[0],this._datatype=gt}}g.prototype=new h,g.prototype.createDenseMatrix=function(vt,gt){return new g(vt,gt)},Object.defineProperty(g,"name",{value:"DenseMatrix"}),g.prototype.constructor=g,g.prototype.type="DenseMatrix",g.prototype.isDenseMatrix=!0,g.prototype.getDataType=function(){return getArrayDataType(this._data,typeOf$1)},g.prototype.storage=function(){return"dense"},g.prototype.datatype=function(){return this._datatype},g.prototype.create=function(vt,gt){return new g(vt,gt)},g.prototype.subset=function(vt,gt,yt){switch(arguments.length){case 1:return it(this,vt);case 2:case 3:return ct(this,vt,gt,yt);default:throw new SyntaxError("Wrong number of arguments")}},g.prototype.get=function(vt){if(!isArray(vt))throw new TypeError("Array expected");if(vt.length!==this._size.length)throw new DimensionError(vt.length,this._size.length);for(var gt=0;gt<vt.length;gt++)validateIndex(vt[gt],this._size[gt]);for(var yt=this._data,bt=0,wt=vt.length;bt<wt;bt++){var Et=vt[bt];validateIndex(Et,yt.length),yt=yt[Et]}return yt},g.prototype.set=function(vt,gt,yt){if(!isArray(vt))throw new TypeError("Array expected");if(vt.length<this._size.length)throw new DimensionError(vt.length,this._size.length,"<");var bt,wt,Et,Mt=vt.map(function($t){return $t+1});pt(this,Mt,yt);var Dt=this._data;for(bt=0,wt=vt.length-1;bt<wt;bt++)Et=vt[bt],validateIndex(Et,Dt.length),Dt=Dt[Et];return Et=vt[vt.length-1],validateIndex(Et,Dt.length),Dt[Et]=gt,this};function it(vt,gt){if(!isIndex(gt))throw new TypeError("Invalid index");var yt=gt.isScalar();if(yt)return vt.get(gt.min());var bt=gt.size();if(bt.length!==vt._size.length)throw new DimensionError(bt.length,vt._size.length);for(var wt=gt.min(),Et=gt.max(),Mt=0,Dt=vt._size.length;Mt<Dt;Mt++)validateIndex(wt[Mt],vt._size[Mt]),validateIndex(Et[Mt],vt._size[Mt]);return new g(ut(vt._data,gt,bt.length,0),vt._datatype)}function ut(vt,gt,yt,bt){var wt=bt===yt-1,Et=gt.dimension(bt);return wt?Et.map(function(Mt){return validateIndex(Mt,vt.length),vt[Mt]}).valueOf():Et.map(function(Mt){validateIndex(Mt,vt.length);var Dt=vt[Mt];return ut(Dt,gt,yt,bt+1)}).valueOf()}function ct(vt,gt,yt,bt){if(!gt||gt.isIndex!==!0)throw new TypeError("Invalid index");var wt=gt.size(),Et=gt.isScalar(),Mt;if(isMatrix(yt)?(Mt=yt.size(),yt=yt.valueOf()):Mt=arraySize(yt),Et){if(Mt.length!==0)throw new TypeError("Scalar expected");vt.set(gt.min(),yt,bt)}else{if(!deepStrictEqual(Mt,wt))try{Mt.length===0?yt=broadcastTo([yt],wt):yt=broadcastTo(yt,wt),Mt=arraySize(yt)}catch{}if(wt.length<vt._size.length)throw new DimensionError(wt.length,vt._size.length,"<");if(Mt.length<wt.length){for(var Dt=0,$t=0;wt[Dt]===1&&Mt[Dt]===1;)Dt++;for(;wt[Dt]===1;)$t++,Dt++;yt=unsqueeze(yt,wt.length,$t,Mt)}if(!deepStrictEqual(wt,Mt))throw new DimensionError(wt,Mt,">");var _t=gt.max().map(function(At){return At+1});pt(vt,_t,bt);var Nt=wt.length,kt=0;dt(vt._data,gt,yt,Nt,kt)}return vt}function dt(vt,gt,yt,bt,wt){var Et=wt===bt-1,Mt=gt.dimension(wt);Et?Mt.forEach(function(Dt,$t){validateIndex(Dt),vt[Dt]=yt[$t[0]]}):Mt.forEach(function(Dt,$t){validateIndex(Dt),dt(vt[Dt],gt,yt[$t[0]],bt,wt+1)})}g.prototype.resize=function(vt,gt,yt){if(!isCollection(vt))throw new TypeError("Array or Matrix expected");var bt=vt.valueOf().map(Et=>Array.isArray(Et)&&Et.length===1?Et[0]:Et),wt=yt?this.clone():this;return ht(wt,bt,gt)};function ht(vt,gt,yt){if(gt.length===0){for(var bt=vt._data;isArray(bt);)bt=bt[0];return bt}return vt._size=gt.slice(0),vt._data=resize$1(vt._data,vt._size,yt),vt}g.prototype.reshape=function(vt,gt){var yt=gt?this.clone():this;yt._data=reshape$1(yt._data,vt);var bt=yt._size.reduce((wt,Et)=>wt*Et);return yt._size=processSizesWildcard(vt,bt),yt};function pt(vt,gt,yt){for(var bt=vt._size.slice(0),wt=!1;bt.length<gt.length;)bt.push(0),wt=!0;for(var Et=0,Mt=gt.length;Et<Mt;Et++)gt[Et]>bt[Et]&&(bt[Et]=gt[Et],wt=!0);wt&&ht(vt,bt,yt)}g.prototype.clone=function(){var vt=new g({data:clone$3(this._data),size:clone$3(this._size),datatype:this._datatype});return vt},g.prototype.size=function(){return this._size.slice(0)},g.prototype.map=function(vt){var gt=this,yt=maxArgumentCount(vt),bt=function Mt(Dt,$t){return isArray(Dt)?Dt.map(function(_t,Nt){return Mt(_t,$t.concat(Nt))}):yt===1?vt(Dt):yt===2?vt(Dt,$t):vt(Dt,$t,gt)},wt=bt(this._data,[]),Et=this._datatype!==void 0?getArrayDataType(wt,typeOf$1):void 0;return new g(wt,Et)},g.prototype.forEach=function(vt){var gt=this,yt=function bt(wt,Et){isArray(wt)?wt.forEach(function(Mt,Dt){bt(Mt,Et.concat(Dt))}):vt(wt,Et,gt)};yt(this._data,[])},g.prototype[Symbol.iterator]=function*(){var vt=function*gt(yt,bt){if(isArray(yt))for(var wt=0;wt<yt.length;wt++)yield*gt(yt[wt],bt.concat(wt));else yield{value:yt,index:bt}};yield*vt(this._data,[])},g.prototype.rows=function(){var vt=[],gt=this.size();if(gt.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var yt=this._data;for(var bt of yt)vt.push(new g([bt],this._datatype));return vt},g.prototype.columns=function(){var vt=this,gt=[],yt=this.size();if(yt.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var bt=this._data,wt=function(Dt){var $t=bt.map(_t=>[_t[Dt]]);gt.push(new g($t,vt._datatype))},Et=0;Et<yt[1];Et++)wt(Et);return gt},g.prototype.toArray=function(){return clone$3(this._data)},g.prototype.valueOf=function(){return this._data},g.prototype.format=function(vt){return format$1(this._data,vt)},g.prototype.toString=function(){return format$1(this._data)},g.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},g.prototype.diagonal=function(vt){if(vt){if(isBigNumber(vt)&&(vt=vt.toNumber()),!isNumber(vt)||!isInteger$1(vt))throw new TypeError("The parameter k must be an integer number")}else vt=0;for(var gt=vt>0?vt:0,yt=vt<0?-vt:0,bt=this._size[0],wt=this._size[1],Et=Math.min(bt-yt,wt-gt),Mt=[],Dt=0;Dt<Et;Dt++)Mt[Dt]=this._data[Dt+yt][Dt+gt];return new g({data:Mt,size:[Et],datatype:this._datatype})},g.diagonal=function(vt,gt,yt,bt){if(!isArray(vt))throw new TypeError("Array expected, size parameter");if(vt.length!==2)throw new Error("Only two dimensions matrix are supported");if(vt=vt.map(function(Bt){if(isBigNumber(Bt)&&(Bt=Bt.toNumber()),!isNumber(Bt)||!isInteger$1(Bt)||Bt<1)throw new Error("Size values must be positive integers");return Bt}),yt){if(isBigNumber(yt)&&(yt=yt.toNumber()),!isNumber(yt)||!isInteger$1(yt))throw new TypeError("The parameter k must be an integer number")}else yt=0;var wt=yt>0?yt:0,Et=yt<0?-yt:0,Mt=vt[0],Dt=vt[1],$t=Math.min(Mt-Et,Dt-wt),_t;if(isArray(gt)){if(gt.length!==$t)throw new Error("Invalid value array length");_t=function(Ft){return gt[Ft]}}else if(isMatrix(gt)){var Nt=gt.size();if(Nt.length!==1||Nt[0]!==$t)throw new Error("Invalid matrix length");_t=function(Ft){return gt.get([Ft])}}else _t=function(){return gt};bt||(bt=isBigNumber(_t(0))?_t(0).mul(0):0);var kt=[];if(vt.length>0){kt=resize$1(kt,vt,bt);for(var At=0;At<$t;At++)kt[At+Et][At+wt]=_t(At)}return new g({data:kt,size:[Mt,Dt]})},g.fromJSON=function(vt){return new g(vt)},g.prototype.swapRows=function(vt,gt){if(!isNumber(vt)||!isInteger$1(vt)||!isNumber(gt)||!isInteger$1(gt))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return validateIndex(vt,this._size[0]),validateIndex(gt,this._size[0]),g._swapRows(vt,gt,this._data),this},g._swapRows=function(vt,gt,yt){var bt=yt[vt];yt[vt]=yt[gt],yt[gt]=bt};function mt(vt){return isMatrix(vt)?mt(vt.valueOf()):isArray(vt)?vt.map(mt):vt}return g},{isClass:!0}),name$4H="clone",dependencies$4G=["typed"],createClone=factory(name$4H,dependencies$4G,s=>{var{typed:h}=s;return h(name$4H,{any:clone$3})});function _switch$1(s){var h=s.length,g=s[0].length,it,ut,ct=[];for(ut=0;ut<g;ut++){var dt=[];for(it=0;it<h;it++)dt.push(s[it][ut]);ct.push(dt)}return ct}function containsCollections(s){for(var h=0;h<s.length;h++)if(isCollection(s[h]))return!0;return!1}function deepForEach(s,h){isMatrix(s)&&(s=s.valueOf());for(var g=0,it=s.length;g<it;g++){var ut=s[g];Array.isArray(ut)?deepForEach(ut,h):h(ut)}}function deepMap(s,h,g){return s&&typeof s.map=="function"?s.map(function(it){return deepMap(it,h)}):h(s)}function reduce(s,h,g){var it=Array.isArray(s)?arraySize(s):s.size();if(h<0||h>=it.length)throw new IndexError(h,it.length);return isMatrix(s)?s.create(_reduce(s.valueOf(),h,g)):_reduce(s,h,g)}function _reduce(s,h,g){var it,ut,ct,dt;if(h<=0)if(Array.isArray(s[0])){for(dt=_switch$1(s),ut=[],it=0;it<dt.length;it++)ut[it]=_reduce(dt[it],h-1,g);return ut}else{for(ct=s[0],it=1;it<s.length;it++)ct=g(ct,s[it]);return ct}else{for(ut=[],it=0;it<s.length;it++)ut[it]=_reduce(s[it],h-1,g);return ut}}function scatter(s,h,g,it,ut,ct,dt,ht,pt,mt,vt){var gt=s._values,yt=s._index,bt=s._ptr,wt,Et,Mt,Dt;if(it)for(Et=bt[h],Mt=bt[h+1],wt=Et;wt<Mt;wt++)Dt=yt[wt],g[Dt]!==ct?(g[Dt]=ct,dt.push(Dt),mt?(it[Dt]=pt?ht(gt[wt],vt):ht(vt,gt[wt]),ut[Dt]=ct):it[Dt]=gt[wt]):(it[Dt]=pt?ht(gt[wt],it[Dt]):ht(it[Dt],gt[wt]),ut[Dt]=ct);else for(Et=bt[h],Mt=bt[h+1],wt=Et;wt<Mt;wt++)Dt=yt[wt],g[Dt]!==ct?(g[Dt]=ct,dt.push(Dt)):ut[Dt]=ct}var name$4G="isInteger",dependencies$4F=["typed"],createIsInteger=factory(name$4G,dependencies$4F,s=>{var{typed:h}=s;return h(name$4G,{number:isInteger$1,BigNumber:function(it){return it.isInt()},Fraction:function(it){return it.d===1&&isFinite(it.n)},"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),n1$4="number",n2$2="number, number";function absNumber(s){return Math.abs(s)}absNumber.signature=n1$4;function addNumber(s,h){return s+h}addNumber.signature=n2$2;function multiplyNumber(s,h){return s*h}multiplyNumber.signature=n2$2;function unaryMinusNumber(s){return-s}unaryMinusNumber.signature=n1$4;function unaryPlusNumber(s){return s}unaryPlusNumber.signature=n1$4;function cbrtNumber(s){return cbrt$2(s)}cbrtNumber.signature=n1$4;function cubeNumber(s){return s*s*s}cubeNumber.signature=n1$4;function expNumber(s){return Math.exp(s)}expNumber.signature=n1$4;function expm1Number(s){return expm1$1(s)}expm1Number.signature=n1$4;function gcdNumber(s,h){if(!isInteger$1(s)||!isInteger$1(h))throw new Error("Parameters in function gcd must be integer numbers");for(var g;h!==0;)g=s%h,s=h,h=g;return s<0?-s:s}gcdNumber.signature=n2$2;function lcmNumber(s,h){if(!isInteger$1(s)||!isInteger$1(h))throw new Error("Parameters in function lcm must be integer numbers");if(s===0||h===0)return 0;for(var g,it=s*h;h!==0;)g=h,h=s%g,s=g;return Math.abs(it/s)}lcmNumber.signature=n2$2;function logNumber(s,h){return h?Math.log(s)/Math.log(h):Math.log(s)}function log10Number(s){return log10$2(s)}log10Number.signature=n1$4;function log2Number(s){return log2$2(s)}log2Number.signature=n1$4;function modNumber(s,h){if(h>0)return s-h*Math.floor(s/h);if(h===0)return s;throw new Error("Cannot calculate mod for a negative divisor")}modNumber.signature=n2$2;function nthRootNumber(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,g=h<0;if(g&&(h=-h),h===0)throw new Error("Root must be non-zero");if(s<0&&Math.abs(h)%2!==1)throw new Error("Root must be odd when a is negative.");if(s===0)return g?1/0:0;if(!isFinite(s))return g?0:s;var it=Math.pow(Math.abs(s),1/h);return it=s<0?-it:it,g?1/it:it}function signNumber(s){return sign$2(s)}signNumber.signature=n1$4;function squareNumber(s){return s*s}squareNumber.signature=n1$4;function xgcdNumber(s,h){var g,it,ut,ct=0,dt=1,ht=1,pt=0;if(!isInteger$1(s)||!isInteger$1(h))throw new Error("Parameters in function xgcd must be integer numbers");for(;h;)it=Math.floor(s/h),ut=s-it*h,g=ct,ct=dt-it*ct,dt=g,g=ht,ht=pt-it*ht,pt=g,s=h,h=ut;var mt;return s<0?mt=[-s,-dt,-pt]:mt=[s,s?dt:0,pt],mt}xgcdNumber.signature=n2$2;function powNumber(s,h){return s*s<1&&h===1/0||s*s>1&&h===-1/0?0:Math.pow(s,h)}powNumber.signature=n2$2;function roundNumber(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!isInteger$1(h)||h<0||h>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(toFixed$1(s,h))}var n1$3="number",n2$1="number, number";function bitAndNumber(s,h){if(!isInteger$1(s)||!isInteger$1(h))throw new Error("Integers expected in function bitAnd");return s&h}bitAndNumber.signature=n2$1;function bitNotNumber(s){if(!isInteger$1(s))throw new Error("Integer expected in function bitNot");return~s}bitNotNumber.signature=n1$3;function bitOrNumber(s,h){if(!isInteger$1(s)||!isInteger$1(h))throw new Error("Integers expected in function bitOr");return s|h}bitOrNumber.signature=n2$1;function bitXorNumber(s,h){if(!isInteger$1(s)||!isInteger$1(h))throw new Error("Integers expected in function bitXor");return s^h}bitXorNumber.signature=n2$1;function leftShiftNumber(s,h){if(!isInteger$1(s)||!isInteger$1(h))throw new Error("Integers expected in function leftShift");return s<<h}leftShiftNumber.signature=n2$1;function rightArithShiftNumber(s,h){if(!isInteger$1(s)||!isInteger$1(h))throw new Error("Integers expected in function rightArithShift");return s>>h}rightArithShiftNumber.signature=n2$1;function rightLogShiftNumber(s,h){if(!isInteger$1(s)||!isInteger$1(h))throw new Error("Integers expected in function rightLogShift");return s>>>h}rightLogShiftNumber.signature=n2$1;function product(s,h){if(h<s)return 1;if(h===s)return h;var g=h+s>>1;return product(s,g)*product(g+1,h)}function combinationsNumber(s,h){if(!isInteger$1(s)||s<0)throw new TypeError("Positive integer value expected in function combinations");if(!isInteger$1(h)||h<0)throw new TypeError("Positive integer value expected in function combinations");if(h>s)throw new TypeError("k must be less than or equal to n");for(var g=s-h,it=1,ut=h<g?g+1:h+1,ct=2,dt=h<g?h:g,ht=ut;ht<=s;++ht)for(it*=ht;ct<=dt&&it%ct===0;)it/=ct,++ct;return ct<=dt&&(it/=product(ct,dt)),it}combinationsNumber.signature="number, number";var pi$1=Math.PI,tau$1=2*Math.PI,e$1=Math.E,phi$1=1.618033988749895,n1$2="number",n2="number, number";function notNumber(s){return!s}notNumber.signature=n1$2;function orNumber(s,h){return!!(s||h)}orNumber.signature=n2;function xorNumber(s,h){return!!s!=!!h}xorNumber.signature=n2;function andNumber(s,h){return!!(s&&h)}andNumber.signature=n2;function gammaNumber(s){var h;if(isInteger$1(s))return s<=0?isFinite(s)?1/0:NaN:s>171?1/0:product(1,s-1);if(s<.5)return Math.PI/(Math.sin(Math.PI*s)*gammaNumber(1-s));if(s>=171.35)return 1/0;if(s>85){var g=s*s,it=g*s,ut=it*s,ct=ut*s;return Math.sqrt(2*Math.PI/s)*Math.pow(s/Math.E,s)*(1+1/(12*s)+1/(288*g)-139/(51840*it)-571/(2488320*ut)+163879/(209018880*ct)+5246819/(75246796800*ct*s))}--s,h=gammaP[0];for(var dt=1;dt<gammaP.length;++dt)h+=gammaP[dt]/(s+dt);var ht=s+gammaG+.5;return Math.sqrt(2*Math.PI)*Math.pow(ht,s+.5)*Math.exp(-ht)*h}gammaNumber.signature="number";var gammaG=4.7421875,gammaP=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],lnSqrt2PI=.9189385332046728,lgammaG=5,lgammaN=7,lgammaSeries=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function lgammaNumber(s){if(s<0)return NaN;if(s===0)return 1/0;if(!isFinite(s))return s;if(s<.5)return Math.log(Math.PI/Math.sin(Math.PI*s))-lgammaNumber(1-s);s=s-1;for(var h=s+lgammaG+.5,g=lgammaSeries[0],it=lgammaN-1;it>=1;it--)g+=lgammaSeries[it]/(s+it);return lnSqrt2PI+(s+.5)*Math.log(h)-h+Math.log(g)}lgammaNumber.signature="number";var n1$1="number";function acoshNumber(s){return acosh$2(s)}acoshNumber.signature=n1$1;function acotNumber(s){return Math.atan(1/s)}acotNumber.signature=n1$1;function acothNumber(s){return isFinite(s)?(Math.log((s+1)/s)+Math.log(s/(s-1)))/2:0}acothNumber.signature=n1$1;function acscNumber(s){return Math.asin(1/s)}acscNumber.signature=n1$1;function acschNumber(s){var h=1/s;return Math.log(h+Math.sqrt(h*h+1))}acschNumber.signature=n1$1;function asecNumber(s){return Math.acos(1/s)}asecNumber.signature=n1$1;function asechNumber(s){var h=1/s,g=Math.sqrt(h*h-1);return Math.log(g+h)}asechNumber.signature=n1$1;function asinhNumber(s){return asinh$2(s)}asinhNumber.signature=n1$1;function atanhNumber(s){return atanh$2(s)}atanhNumber.signature=n1$1;function cotNumber(s){return 1/Math.tan(s)}cotNumber.signature=n1$1;function cothNumber(s){var h=Math.exp(2*s);return(h+1)/(h-1)}cothNumber.signature=n1$1;function cscNumber(s){return 1/Math.sin(s)}cscNumber.signature=n1$1;function cschNumber(s){return s===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(s)-Math.exp(-s)))*sign$2(s)}cschNumber.signature=n1$1;function secNumber(s){return 1/Math.cos(s)}secNumber.signature=n1$1;function sechNumber(s){return 2/(Math.exp(s)+Math.exp(-s))}sechNumber.signature=n1$1;function sinhNumber(s){return sinh$2(s)}sinhNumber.signature=n1$1;var n1="number";function isNegativeNumber(s){return s<0}isNegativeNumber.signature=n1;function isPositiveNumber(s){return s>0}isPositiveNumber.signature=n1;function isZeroNumber(s){return s===0}isZeroNumber.signature=n1;function isNaNNumber(s){return Number.isNaN(s)}isNaNNumber.signature=n1;var name$4F="isNegative",dependencies$4E=["typed"],createIsNegative=factory(name$4F,dependencies$4E,s=>{var{typed:h}=s;return h(name$4F,{number:isNegativeNumber,BigNumber:function(it){return it.isNeg()&&!it.isZero()&&!it.isNaN()},Fraction:function(it){return it.s<0},Unit:h.referToSelf(g=>it=>h.find(g,it.valueType())(it.value)),"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),name$4E="isNumeric",dependencies$4D=["typed"],createIsNumeric=factory(name$4E,dependencies$4D,s=>{var{typed:h}=s;return h(name$4E,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),name$4D="hasNumericValue",dependencies$4C=["typed","isNumeric"],createHasNumericValue=factory(name$4D,dependencies$4C,s=>{var{typed:h,isNumeric:g}=s;return h(name$4D,{boolean:()=>!0,string:function(ut){return ut.trim().length>0&&!isNaN(Number(ut))},any:function(ut){return g(ut)}})}),name$4C="isPositive",dependencies$4B=["typed"],createIsPositive=factory(name$4C,dependencies$4B,s=>{var{typed:h}=s;return h(name$4C,{number:isPositiveNumber,BigNumber:function(it){return!it.isNeg()&&!it.isZero()&&!it.isNaN()},Fraction:function(it){return it.s>0&&it.n>0},Unit:h.referToSelf(g=>it=>h.find(g,it.valueType())(it.value)),"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),name$4B="isZero",dependencies$4A=["typed"],createIsZero=factory(name$4B,dependencies$4A,s=>{var{typed:h}=s;return h(name$4B,{number:isZeroNumber,BigNumber:function(it){return it.isZero()},Complex:function(it){return it.re===0&&it.im===0},Fraction:function(it){return it.d===1&&it.n===0},Unit:h.referToSelf(g=>it=>h.find(g,it.valueType())(it.value)),"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),name$4A="isNaN",dependencies$4z=["typed"],createIsNaN=factory(name$4A,dependencies$4z,s=>{var{typed:h}=s;return h(name$4A,{number:isNaNNumber,BigNumber:function(it){return it.isNaN()},Fraction:function(it){return!1},Complex:function(it){return it.isNaN()},Unit:function(it){return Number.isNaN(it.value)},"Array | Matrix":function(it){return deepMap(it,Number.isNaN)}})}),name$4z="typeOf",dependencies$4y=["typed"],createTypeOf=factory(name$4z,dependencies$4y,s=>{var{typed:h}=s;return h(name$4z,{any:typeOf$1})});function nearlyEqual(s,h,g){if(g==null)return s.eq(h);if(s.eq(h))return!0;if(s.isNaN()||h.isNaN())return!1;if(s.isFinite()&&h.isFinite()){var it=s.minus(h).abs();if(it.isZero())return!0;var ut=s.constructor.max(s.abs(),h.abs());return it.lte(ut.times(g))}return!1}function complexEquals(s,h,g){return nearlyEqual$1(s.re,h.re,g)&&nearlyEqual$1(s.im,h.im,g)}var createCompareUnits=factory("compareUnits",["typed"],s=>{var{typed:h}=s;return{"Unit, Unit":h.referToSelf(g=>(it,ut)=>{if(!it.equalBase(ut))throw new Error("Cannot compare units with different base");return h.find(g,[it.valueType(),ut.valueType()])(it.value,ut.value)})}}),name$4y="equalScalar",dependencies$4x=["typed","config"],createEqualScalar=factory(name$4y,dependencies$4x,s=>{var{typed:h,config:g}=s,it=createCompareUnits({typed:h});return h(name$4y,{"boolean, boolean":function(ct,dt){return ct===dt},"number, number":function(ct,dt){return nearlyEqual$1(ct,dt,g.epsilon)},"BigNumber, BigNumber":function(ct,dt){return ct.eq(dt)||nearlyEqual(ct,dt,g.epsilon)},"Fraction, Fraction":function(ct,dt){return ct.equals(dt)},"Complex, Complex":function(ct,dt){return complexEquals(ct,dt,g.epsilon)}},it)});factory(name$4y,["typed","config"],s=>{var{typed:h,config:g}=s;return h(name$4y,{"number, number":function(ut,ct){return nearlyEqual$1(ut,ct,g.epsilon)}})});var name$4x="SparseMatrix",dependencies$4w=["typed","equalScalar","Matrix"],createSparseMatrixClass=factory(name$4x,dependencies$4w,s=>{var{typed:h,equalScalar:g,Matrix:it}=s;function ut(Et,Mt){if(!(this instanceof ut))throw new SyntaxError("Constructor must be called with the new operator");if(Mt&&!isString(Mt))throw new Error("Invalid datatype: "+Mt);if(isMatrix(Et))ct(this,Et,Mt);else if(Et&&isArray(Et.index)&&isArray(Et.ptr)&&isArray(Et.size))this._values=Et.values,this._index=Et.index,this._ptr=Et.ptr,this._size=Et.size,this._datatype=Mt||Et.datatype;else if(isArray(Et))dt(this,Et,Mt);else{if(Et)throw new TypeError("Unsupported type of data ("+typeOf$1(Et)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=Mt}}function ct(Et,Mt,Dt){Mt.type==="SparseMatrix"?(Et._values=Mt._values?clone$3(Mt._values):void 0,Et._index=clone$3(Mt._index),Et._ptr=clone$3(Mt._ptr),Et._size=clone$3(Mt._size),Et._datatype=Dt||Mt._datatype):dt(Et,Mt.valueOf(),Dt||Mt._datatype)}function dt(Et,Mt,Dt){Et._values=[],Et._index=[],Et._ptr=[],Et._datatype=Dt;var $t=Mt.length,_t=0,Nt=g,kt=0;if(isString(Dt)&&(Nt=h.find(g,[Dt,Dt])||g,kt=h.convert(0,Dt)),$t>0){var At=0;do{Et._ptr.push(Et._index.length);for(var Bt=0;Bt<$t;Bt++){var Ft=Mt[Bt];if(isArray(Ft)){if(At===0&&_t<Ft.length&&(_t=Ft.length),At<Ft.length){var Lt=Ft[At];Nt(Lt,kt)||(Et._values.push(Lt),Et._index.push(Bt))}}else At===0&&_t<1&&(_t=1),Nt(Ft,kt)||(Et._values.push(Ft),Et._index.push(Bt))}At++}while(At<_t)}Et._ptr.push(Et._index.length),Et._size=[$t,_t]}ut.prototype=new it,ut.prototype.createSparseMatrix=function(Et,Mt){return new ut(Et,Mt)},Object.defineProperty(ut,"name",{value:"SparseMatrix"}),ut.prototype.constructor=ut,ut.prototype.type="SparseMatrix",ut.prototype.isSparseMatrix=!0,ut.prototype.getDataType=function(){return getArrayDataType(this._values,typeOf$1)},ut.prototype.storage=function(){return"sparse"},ut.prototype.datatype=function(){return this._datatype},ut.prototype.create=function(Et,Mt){return new ut(Et,Mt)},ut.prototype.density=function(){var Et=this._size[0],Mt=this._size[1];return Et!==0&&Mt!==0?this._index.length/(Et*Mt):0},ut.prototype.subset=function(Et,Mt,Dt){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return ht(this,Et);case 2:case 3:return pt(this,Et,Mt,Dt);default:throw new SyntaxError("Wrong number of arguments")}};function ht(Et,Mt){if(!isIndex(Mt))throw new TypeError("Invalid index");var Dt=Mt.isScalar();if(Dt)return Et.get(Mt.min());var $t=Mt.size();if($t.length!==Et._size.length)throw new DimensionError($t.length,Et._size.length);var _t,Nt,kt,At,Bt=Mt.min(),Ft=Mt.max();for(_t=0,Nt=Et._size.length;_t<Nt;_t++)validateIndex(Bt[_t],Et._size[_t]),validateIndex(Ft[_t],Et._size[_t]);var Lt=Et._values,Ot=Et._index,It=Et._ptr,Rt=Mt.dimension(0),Vt=Mt.dimension(1),Xt=[],Wt=[];Rt.forEach(function(Ut,Yt){Wt[Ut]=Yt[0],Xt[Ut]=!0});var jt=Lt?[]:void 0,qt=[],Zt=[];return Vt.forEach(function(Ut){for(Zt.push(qt.length),kt=It[Ut],At=It[Ut+1];kt<At;kt++)_t=Ot[kt],Xt[_t]===!0&&(qt.push(Wt[_t]),jt&&jt.push(Lt[kt]))}),Zt.push(qt.length),new ut({values:jt,index:qt,ptr:Zt,size:$t,datatype:Et._datatype})}function pt(Et,Mt,Dt,$t){if(!Mt||Mt.isIndex!==!0)throw new TypeError("Invalid index");var _t=Mt.size(),Nt=Mt.isScalar(),kt;if(isMatrix(Dt)?(kt=Dt.size(),Dt=Dt.toArray()):kt=arraySize(Dt),Nt){if(kt.length!==0)throw new TypeError("Scalar expected");Et.set(Mt.min(),Dt,$t)}else{if(_t.length!==1&&_t.length!==2)throw new DimensionError(_t.length,Et._size.length,"<");if(kt.length<_t.length){for(var At=0,Bt=0;_t[At]===1&&kt[At]===1;)At++;for(;_t[At]===1;)Bt++,At++;Dt=unsqueeze(Dt,_t.length,Bt,kt)}if(!deepStrictEqual(_t,kt))throw new DimensionError(_t,kt,">");if(_t.length===1){var Ft=Mt.dimension(0);Ft.forEach(function(It,Rt){validateIndex(It),Et.set([It,0],Dt[Rt[0]],$t)})}else{var Lt=Mt.dimension(0),Ot=Mt.dimension(1);Lt.forEach(function(It,Rt){validateIndex(It),Ot.forEach(function(Vt,Xt){validateIndex(Vt),Et.set([It,Vt],Dt[Rt[0]][Xt[0]],$t)})})}}return Et}ut.prototype.get=function(Et){if(!isArray(Et))throw new TypeError("Array expected");if(Et.length!==this._size.length)throw new DimensionError(Et.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var Mt=Et[0],Dt=Et[1];validateIndex(Mt,this._size[0]),validateIndex(Dt,this._size[1]);var $t=mt(Mt,this._ptr[Dt],this._ptr[Dt+1],this._index);return $t<this._ptr[Dt+1]&&this._index[$t]===Mt?this._values[$t]:0},ut.prototype.set=function(Et,Mt,Dt){if(!isArray(Et))throw new TypeError("Array expected");if(Et.length!==this._size.length)throw new DimensionError(Et.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var $t=Et[0],_t=Et[1],Nt=this._size[0],kt=this._size[1],At=g,Bt=0;isString(this._datatype)&&(At=h.find(g,[this._datatype,this._datatype])||g,Bt=h.convert(0,this._datatype)),($t>Nt-1||_t>kt-1)&&(yt(this,Math.max($t+1,Nt),Math.max(_t+1,kt),Dt),Nt=this._size[0],kt=this._size[1]),validateIndex($t,Nt),validateIndex(_t,kt);var Ft=mt($t,this._ptr[_t],this._ptr[_t+1],this._index);return Ft<this._ptr[_t+1]&&this._index[Ft]===$t?At(Mt,Bt)?vt(Ft,_t,this._values,this._index,this._ptr):this._values[Ft]=Mt:At(Mt,Bt)||gt(Ft,$t,_t,Mt,this._values,this._index,this._ptr),this};function mt(Et,Mt,Dt,$t){if(Dt-Mt===0)return Dt;for(var _t=Mt;_t<Dt;_t++)if($t[_t]===Et)return _t;return Mt}function vt(Et,Mt,Dt,$t,_t){Dt.splice(Et,1),$t.splice(Et,1);for(var Nt=Mt+1;Nt<_t.length;Nt++)_t[Nt]--}function gt(Et,Mt,Dt,$t,_t,Nt,kt){_t.splice(Et,0,$t),Nt.splice(Et,0,Mt);for(var At=Dt+1;At<kt.length;At++)kt[At]++}ut.prototype.resize=function(Et,Mt,Dt){if(!isCollection(Et))throw new TypeError("Array or Matrix expected");var $t=Et.valueOf().map(Nt=>Array.isArray(Nt)&&Nt.length===1?Nt[0]:Nt);if($t.length!==2)throw new Error("Only two dimensions matrix are supported");$t.forEach(function(Nt){if(!isNumber(Nt)||!isInteger$1(Nt)||Nt<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format$1($t)+")")});var _t=Dt?this.clone():this;return yt(_t,$t[0],$t[1],Mt)};function yt(Et,Mt,Dt,$t){var _t=$t||0,Nt=g,kt=0;isString(Et._datatype)&&(Nt=h.find(g,[Et._datatype,Et._datatype])||g,kt=h.convert(0,Et._datatype),_t=h.convert(_t,Et._datatype));var At=!Nt(_t,kt),Bt=Et._size[0],Ft=Et._size[1],Lt,Ot,It;if(Dt>Ft){for(Ot=Ft;Ot<Dt;Ot++)if(Et._ptr[Ot]=Et._values.length,At)for(Lt=0;Lt<Bt;Lt++)Et._values.push(_t),Et._index.push(Lt);Et._ptr[Dt]=Et._values.length}else Dt<Ft&&(Et._ptr.splice(Dt+1,Ft-Dt),Et._values.splice(Et._ptr[Dt],Et._values.length),Et._index.splice(Et._ptr[Dt],Et._index.length));if(Ft=Dt,Mt>Bt){if(At){var Rt=0;for(Ot=0;Ot<Ft;Ot++){Et._ptr[Ot]=Et._ptr[Ot]+Rt,It=Et._ptr[Ot+1]+Rt;var Vt=0;for(Lt=Bt;Lt<Mt;Lt++,Vt++)Et._values.splice(It+Vt,0,_t),Et._index.splice(It+Vt,0,Lt),Rt++}Et._ptr[Ft]=Et._values.length}}else if(Mt<Bt){var Xt=0;for(Ot=0;Ot<Ft;Ot++){Et._ptr[Ot]=Et._ptr[Ot]-Xt;var Wt=Et._ptr[Ot],jt=Et._ptr[Ot+1]-Xt;for(It=Wt;It<jt;It++)Lt=Et._index[It],Lt>Mt-1&&(Et._values.splice(It,1),Et._index.splice(It,1),Xt++)}Et._ptr[Ot]=Et._values.length}return Et._size[0]=Mt,Et._size[1]=Dt,Et}ut.prototype.reshape=function(Et,Mt){if(!isArray(Et))throw new TypeError("Array expected");if(Et.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");Et.forEach(function(Ut){if(!isNumber(Ut)||!isInteger$1(Ut)||Ut<=-2||Ut===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+format$1(Et)+")")});var Dt=this._size[0]*this._size[1];Et=processSizesWildcard(Et,Dt);var $t=Et[0]*Et[1];if(Dt!==$t)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var _t=Mt?this.clone():this;if(this._size[0]===Et[0]&&this._size[1]===Et[1])return _t;for(var Nt=[],kt=0;kt<_t._ptr.length;kt++)for(var At=0;At<_t._ptr[kt+1]-_t._ptr[kt];At++)Nt.push(kt);for(var Bt=_t._values.slice(),Ft=_t._index.slice(),Lt=0;Lt<_t._index.length;Lt++){var Ot=Ft[Lt],It=Nt[Lt],Rt=Ot*_t._size[1]+It;Nt[Lt]=Rt%Et[1],Ft[Lt]=Math.floor(Rt/Et[1])}_t._values.length=0,_t._index.length=0,_t._ptr.length=Et[1]+1,_t._size=Et.slice();for(var Vt=0;Vt<_t._ptr.length;Vt++)_t._ptr[Vt]=0;for(var Xt=0;Xt<Bt.length;Xt++){var Wt=Ft[Xt],jt=Nt[Xt],qt=Bt[Xt],Zt=mt(Wt,_t._ptr[jt],_t._ptr[jt+1],_t._index);gt(Zt,Wt,jt,qt,_t._values,_t._index,_t._ptr)}return _t},ut.prototype.clone=function(){var Et=new ut({values:this._values?clone$3(this._values):void 0,index:clone$3(this._index),ptr:clone$3(this._ptr),size:clone$3(this._size),datatype:this._datatype});return Et},ut.prototype.size=function(){return this._size.slice(0)},ut.prototype.map=function(Et,Mt){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var Dt=this,$t=this._size[0],_t=this._size[1],Nt=maxArgumentCount(Et),kt=function(Bt,Ft,Lt){return Nt===1?Et(Bt):Nt===2?Et(Bt,[Ft,Lt]):Et(Bt,[Ft,Lt],Dt)};return bt(this,0,$t-1,0,_t-1,kt,Mt)};function bt(Et,Mt,Dt,$t,_t,Nt,kt){var At=[],Bt=[],Ft=[],Lt=g,Ot=0;isString(Et._datatype)&&(Lt=h.find(g,[Et._datatype,Et._datatype])||g,Ot=h.convert(0,Et._datatype));for(var It=function(Qt,ur,wr){Qt=Nt(Qt,ur,wr),Lt(Qt,Ot)||(At.push(Qt),Bt.push(ur))},Rt=$t;Rt<=_t;Rt++){Ft.push(At.length);var Vt=Et._ptr[Rt],Xt=Et._ptr[Rt+1];if(kt)for(var Wt=Vt;Wt<Xt;Wt++){var jt=Et._index[Wt];jt>=Mt&&jt<=Dt&&It(Et._values[Wt],jt-Mt,Rt-$t)}else{for(var qt={},Zt=Vt;Zt<Xt;Zt++){var Ut=Et._index[Zt];qt[Ut]=Et._values[Zt]}for(var Yt=Mt;Yt<=Dt;Yt++){var lr=Yt in qt?qt[Yt]:0;It(lr,Yt-Mt,Rt-$t)}}}return Ft.push(At.length),new ut({values:At,index:Bt,ptr:Ft,size:[Dt-Mt+1,_t-$t+1]})}ut.prototype.forEach=function(Et,Mt){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var Dt=this,$t=this._size[0],_t=this._size[1],Nt=0;Nt<_t;Nt++){var kt=this._ptr[Nt],At=this._ptr[Nt+1];if(Mt)for(var Bt=kt;Bt<At;Bt++){var Ft=this._index[Bt];Et(this._values[Bt],[Ft,Nt],Dt)}else{for(var Lt={},Ot=kt;Ot<At;Ot++){var It=this._index[Ot];Lt[It]=this._values[Ot]}for(var Rt=0;Rt<$t;Rt++){var Vt=Rt in Lt?Lt[Rt]:0;Et(Vt,[Rt,Nt],Dt)}}}},ut.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var Et=this._size[1],Mt=0;Mt<Et;Mt++)for(var Dt=this._ptr[Mt],$t=this._ptr[Mt+1],_t=Dt;_t<$t;_t++){var Nt=this._index[_t];yield{value:this._values[_t],index:[Nt,Mt]}}},ut.prototype.toArray=function(){return wt(this._values,this._index,this._ptr,this._size,!0)},ut.prototype.valueOf=function(){return wt(this._values,this._index,this._ptr,this._size,!1)};function wt(Et,Mt,Dt,$t,_t){var Nt=$t[0],kt=$t[1],At=[],Bt,Ft;for(Bt=0;Bt<Nt;Bt++)for(At[Bt]=[],Ft=0;Ft<kt;Ft++)At[Bt][Ft]=0;for(Ft=0;Ft<kt;Ft++)for(var Lt=Dt[Ft],Ot=Dt[Ft+1],It=Lt;It<Ot;It++)Bt=Mt[It],At[Bt][Ft]=Et?_t?clone$3(Et[It]):Et[It]:1;return At}return ut.prototype.format=function(Et){for(var Mt=this._size[0],Dt=this._size[1],$t=this.density(),_t="Sparse Matrix ["+format$1(Mt,Et)+" x "+format$1(Dt,Et)+"] density: "+format$1($t,Et)+`
`,Nt=0;Nt<Dt;Nt++)for(var kt=this._ptr[Nt],At=this._ptr[Nt+1],Bt=kt;Bt<At;Bt++){var Ft=this._index[Bt];_t+=`
    (`+format$1(Ft,Et)+", "+format$1(Nt,Et)+") ==> "+(this._values?format$1(this._values[Bt],Et):"X")}return _t},ut.prototype.toString=function(){return format$1(this.toArray())},ut.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},ut.prototype.diagonal=function(Et){if(Et){if(isBigNumber(Et)&&(Et=Et.toNumber()),!isNumber(Et)||!isInteger$1(Et))throw new TypeError("The parameter k must be an integer number")}else Et=0;var Mt=Et>0?Et:0,Dt=Et<0?-Et:0,$t=this._size[0],_t=this._size[1],Nt=Math.min($t-Dt,_t-Mt),kt=[],At=[],Bt=[];Bt[0]=0;for(var Ft=Mt;Ft<_t&&kt.length<Nt;Ft++)for(var Lt=this._ptr[Ft],Ot=this._ptr[Ft+1],It=Lt;It<Ot;It++){var Rt=this._index[It];if(Rt===Ft-Mt+Dt){kt.push(this._values[It]),At[kt.length-1]=Rt-Dt;break}}return Bt.push(kt.length),new ut({values:kt,index:At,ptr:Bt,size:[Nt,1]})},ut.fromJSON=function(Et){return new ut(Et)},ut.diagonal=function(Et,Mt,Dt,$t,_t){if(!isArray(Et))throw new TypeError("Array expected, size parameter");if(Et.length!==2)throw new Error("Only two dimensions matrix are supported");if(Et=Et.map(function(Ut){if(isBigNumber(Ut)&&(Ut=Ut.toNumber()),!isNumber(Ut)||!isInteger$1(Ut)||Ut<1)throw new Error("Size values must be positive integers");return Ut}),Dt){if(isBigNumber(Dt)&&(Dt=Dt.toNumber()),!isNumber(Dt)||!isInteger$1(Dt))throw new TypeError("The parameter k must be an integer number")}else Dt=0;var Nt=g,kt=0;isString(_t)&&(Nt=h.find(g,[_t,_t])||g,kt=h.convert(0,_t));var At=Dt>0?Dt:0,Bt=Dt<0?-Dt:0,Ft=Et[0],Lt=Et[1],Ot=Math.min(Ft-Bt,Lt-At),It;if(isArray(Mt)){if(Mt.length!==Ot)throw new Error("Invalid value array length");It=function(Yt){return Mt[Yt]}}else if(isMatrix(Mt)){var Rt=Mt.size();if(Rt.length!==1||Rt[0]!==Ot)throw new Error("Invalid matrix length");It=function(Yt){return Mt.get([Yt])}}else It=function(){return Mt};for(var Vt=[],Xt=[],Wt=[],jt=0;jt<Lt;jt++){Wt.push(Vt.length);var qt=jt-At;if(qt>=0&&qt<Ot){var Zt=It(qt);Nt(Zt,kt)||(Xt.push(qt+Bt),Vt.push(Zt))}}return Wt.push(Vt.length),new ut({values:Vt,index:Xt,ptr:Wt,size:[Ft,Lt]})},ut.prototype.swapRows=function(Et,Mt){if(!isNumber(Et)||!isInteger$1(Et)||!isNumber(Mt)||!isInteger$1(Mt))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return validateIndex(Et,this._size[0]),validateIndex(Mt,this._size[0]),ut._swapRows(Et,Mt,this._size[1],this._values,this._index,this._ptr),this},ut._forEachRow=function(Et,Mt,Dt,$t,_t){for(var Nt=$t[Et],kt=$t[Et+1],At=Nt;At<kt;At++)_t(Dt[At],Mt[At])},ut._swapRows=function(Et,Mt,Dt,$t,_t,Nt){for(var kt=0;kt<Dt;kt++){var At=Nt[kt],Bt=Nt[kt+1],Ft=mt(Et,At,Bt,_t),Lt=mt(Mt,At,Bt,_t);if(Ft<Bt&&Lt<Bt&&_t[Ft]===Et&&_t[Lt]===Mt){if($t){var Ot=$t[Ft];$t[Ft]=$t[Lt],$t[Lt]=Ot}continue}if(Ft<Bt&&_t[Ft]===Et&&(Lt>=Bt||_t[Lt]!==Mt)){var It=$t?$t[Ft]:void 0;_t.splice(Lt,0,Mt),$t&&$t.splice(Lt,0,It),_t.splice(Lt<=Ft?Ft+1:Ft,1),$t&&$t.splice(Lt<=Ft?Ft+1:Ft,1);continue}if(Lt<Bt&&_t[Lt]===Mt&&(Ft>=Bt||_t[Ft]!==Et)){var Rt=$t?$t[Lt]:void 0;_t.splice(Ft,0,Et),$t&&$t.splice(Ft,0,Rt),_t.splice(Ft<=Lt?Lt+1:Lt,1),$t&&$t.splice(Ft<=Lt?Lt+1:Lt,1)}}},ut},{isClass:!0}),name$4w="number",dependencies$4v=["typed"];function getNonDecimalNumberParts(s){var h=s.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(h){var g={"0b":2,"0o":8,"0x":16}[h[1]],it=h[2],ut=h[3];return{input:s,radix:g,integerPart:it,fractionalPart:ut}}else return null}function makeNumberFromNonDecimalParts(s){for(var h=parseInt(s.integerPart,s.radix),g=0,it=0;it<s.fractionalPart.length;it++){var ut=parseInt(s.fractionalPart[it],s.radix);g+=ut/Math.pow(s.radix,it+1)}var ct=h+g;if(isNaN(ct))throw new SyntaxError('String "'+s.input+'" is no valid number');return ct}var createNumber=factory(name$4w,dependencies$4v,s=>{var{typed:h}=s,g=h("number",{"":function(){return 0},number:function(ut){return ut},string:function(ut){if(ut==="NaN")return NaN;var ct=getNonDecimalNumberParts(ut);if(ct)return makeNumberFromNonDecimalParts(ct);var dt=0,ht=ut.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);ht&&(dt=Number(ht[2]),ut=ht[1]);var pt=Number(ut);if(isNaN(pt))throw new SyntaxError('String "'+ut+'" is no valid number');if(ht){if(pt>2**dt-1)throw new SyntaxError('String "'.concat(ut,'" is out of range'));pt>=2**(dt-1)&&(pt=pt-2**dt)}return pt},BigNumber:function(ut){return ut.toNumber()},Fraction:function(ut){return ut.valueOf()},Unit:h.referToSelf(it=>ut=>{var ct=ut.clone();return ct.value=it(ut.value),ct}),null:function(ut){return 0},"Unit, string | Unit":function(ut,ct){return ut.toNumber(ct)},"Array | Matrix":h.referToSelf(it=>ut=>deepMap(ut,it))});return g.fromJSON=function(it){return parseFloat(it.value)},g}),name$4v="string",dependencies$4u=["typed"],createString=factory(name$4v,dependencies$4u,s=>{var{typed:h}=s;return h(name$4v,{"":function(){return""},number:format$3,null:function(it){return"null"},boolean:function(it){return it+""},string:function(it){return it},"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g)),any:function(it){return String(it)}})}),name$4u="boolean",dependencies$4t=["typed"],createBoolean=factory(name$4u,dependencies$4t,s=>{var{typed:h}=s;return h(name$4u,{"":function(){return!1},boolean:function(it){return it},number:function(it){return!!it},null:function(it){return!1},BigNumber:function(it){return!it.isZero()},string:function(it){var ut=it.toLowerCase();if(ut==="true")return!0;if(ut==="false")return!1;var ct=Number(it);if(it!==""&&!isNaN(ct))return!!ct;throw new Error('Cannot convert "'+it+'" to a boolean')},"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),name$4t="bignumber",dependencies$4s=["typed","BigNumber"],createBignumber=factory(name$4t,dependencies$4s,s=>{var{typed:h,BigNumber:g}=s;return h("bignumber",{"":function(){return new g(0)},number:function(ut){return new g(ut+"")},string:function(ut){var ct=ut.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(ct){var dt=ct[2],ht=g(ct[1]),pt=new g(2).pow(Number(dt));if(ht.gt(pt.sub(1)))throw new SyntaxError('String "'.concat(ut,'" is out of range'));var mt=new g(2).pow(Number(dt)-1);return ht.gte(mt)?ht.sub(pt):ht}return new g(ut)},BigNumber:function(ut){return ut},Unit:h.referToSelf(it=>ut=>{var ct=ut.clone();return ct.value=it(ut.value),ct}),Fraction:function(ut){return new g(ut.n).div(ut.d).times(ut.s)},null:function(ut){return new g(0)},"Array | Matrix":h.referToSelf(it=>ut=>deepMap(ut,it))})}),name$4s="complex",dependencies$4r=["typed","Complex"],createComplex=factory(name$4s,dependencies$4r,s=>{var{typed:h,Complex:g}=s;return h("complex",{"":function(){return g.ZERO},number:function(ut){return new g(ut,0)},"number, number":function(ut,ct){return new g(ut,ct)},"BigNumber, BigNumber":function(ut,ct){return new g(ut.toNumber(),ct.toNumber())},Fraction:function(ut){return new g(ut.valueOf(),0)},Complex:function(ut){return ut.clone()},string:function(ut){return g(ut)},null:function(ut){return g(0)},Object:function(ut){if("re"in ut&&"im"in ut)return new g(ut.re,ut.im);if("r"in ut&&"phi"in ut||"abs"in ut&&"arg"in ut)return new g(ut);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":h.referToSelf(it=>ut=>deepMap(ut,it))})}),name$4r="fraction",dependencies$4q=["typed","Fraction"],createFraction=factory(name$4r,dependencies$4q,s=>{var{typed:h,Fraction:g}=s;return h("fraction",{number:function(ut){if(!isFinite(ut)||isNaN(ut))throw new Error(ut+" cannot be represented as a fraction");return new g(ut)},string:function(ut){return new g(ut)},"number, number":function(ut,ct){return new g(ut,ct)},null:function(ut){return new g(0)},BigNumber:function(ut){return new g(ut.toString())},Fraction:function(ut){return ut},Unit:h.referToSelf(it=>ut=>{var ct=ut.clone();return ct.value=it(ut.value),ct}),Object:function(ut){return new g(ut)},"Array | Matrix":h.referToSelf(it=>ut=>deepMap(ut,it))})}),name$4q="matrix",dependencies$4p=["typed","Matrix","DenseMatrix","SparseMatrix"],createMatrix=factory(name$4q,dependencies$4p,s=>{var{typed:h,Matrix:g,DenseMatrix:it,SparseMatrix:ut}=s;return h(name$4q,{"":function(){return ct([])},string:function(ht){return ct([],ht)},"string, string":function(ht,pt){return ct([],ht,pt)},Array:function(ht){return ct(ht)},Matrix:function(ht){return ct(ht,ht.storage())},"Array | Matrix, string":ct,"Array | Matrix, string, string":ct});function ct(dt,ht,pt){if(ht==="dense"||ht==="default"||ht===void 0)return new it(dt,pt);if(ht==="sparse")return new ut(dt,pt);throw new TypeError("Unknown matrix type "+JSON.stringify(ht)+".")}}),name$4p="matrixFromFunction",dependencies$4o=["typed","matrix","isZero"],createMatrixFromFunction=factory(name$4p,dependencies$4o,s=>{var{typed:h,matrix:g,isZero:it}=s;return h(name$4p,{"Array | Matrix, function, string, string":function(dt,ht,pt,mt){return ut(dt,ht,pt,mt)},"Array | Matrix, function, string":function(dt,ht,pt){return ut(dt,ht,pt)},"Matrix, function":function(dt,ht){return ut(dt,ht,"dense")},"Array, function":function(dt,ht){return ut(dt,ht,"dense").toArray()},"Array | Matrix, string, function":function(dt,ht,pt){return ut(dt,pt,ht)},"Array | Matrix, string, string, function":function(dt,ht,pt,mt){return ut(dt,mt,ht,pt)}});function ut(ct,dt,ht,pt){var mt;return pt!==void 0?mt=g(ht,pt):mt=g(ht),mt.resize(ct),mt.forEach(function(vt,gt){var yt=dt(gt);it(yt)||mt.set(gt,yt)}),mt}}),name$4o="matrixFromRows",dependencies$4n=["typed","matrix","flatten","size"],createMatrixFromRows=factory(name$4o,dependencies$4n,s=>{var{typed:h,matrix:g,flatten:it,size:ut}=s;return h(name$4o,{"...Array":function(pt){return ct(pt)},"...Matrix":function(pt){return g(ct(pt.map(mt=>mt.toArray())))}});function ct(ht){if(ht.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var pt=dt(ht[0]),mt=[];for(var vt of ht){var gt=dt(vt);if(gt!==pt)throw new TypeError("The vectors had different length: "+(pt|0)+" ≠ "+(gt|0));mt.push(it(vt))}return mt}function dt(ht){var pt=ut(ht);if(pt.length===1)return pt[0];if(pt.length===2){if(pt[0]===1)return pt[1];if(pt[1]===1)return pt[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),name$4n="matrixFromColumns",dependencies$4m=["typed","matrix","flatten","size"],createMatrixFromColumns=factory(name$4n,dependencies$4m,s=>{var{typed:h,matrix:g,flatten:it,size:ut}=s;return h(name$4n,{"...Array":function(pt){return ct(pt)},"...Matrix":function(pt){return g(ct(pt.map(mt=>mt.toArray())))}});function ct(ht){if(ht.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var pt=dt(ht[0]),mt=[],vt=0;vt<pt;vt++)mt[vt]=[];for(var gt of ht){var yt=dt(gt);if(yt!==pt)throw new TypeError("The vectors had different length: "+(pt|0)+" ≠ "+(yt|0));for(var bt=it(gt),wt=0;wt<pt;wt++)mt[wt].push(bt[wt])}return mt}function dt(ht){var pt=ut(ht);if(pt.length===1)return pt[0];if(pt.length===2){if(pt[0]===1)return pt[1];if(pt[1]===1)return pt[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),name$4m="splitUnit",dependencies$4l=["typed"],createSplitUnit=factory(name$4m,dependencies$4l,s=>{var{typed:h}=s;return h(name$4m,{"Unit, Array":function(it,ut){return it.splitUnit(ut)}})}),name$4l="unaryMinus",dependencies$4k=["typed"],createUnaryMinus=factory(name$4l,dependencies$4k,s=>{var{typed:h}=s;return h(name$4l,{number:unaryMinusNumber,"Complex | BigNumber | Fraction":g=>g.neg(),Unit:h.referToSelf(g=>it=>{var ut=it.clone();return ut.value=h.find(g,ut.valueType())(it.value),ut}),"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),name$4k="unaryPlus",dependencies$4j=["typed","config","BigNumber"],createUnaryPlus=factory(name$4k,dependencies$4j,s=>{var{typed:h,config:g,BigNumber:it}=s;return h(name$4k,{number:unaryPlusNumber,Complex:function(ct){return ct},BigNumber:function(ct){return ct},Fraction:function(ct){return ct},Unit:function(ct){return ct.clone()},"Array | Matrix":h.referToSelf(ut=>ct=>deepMap(ct,ut)),"boolean | string":function(ct){return g.number==="BigNumber"?new it(+ct):+ct}})}),name$4j="abs",dependencies$4i=["typed"],createAbs=factory(name$4j,dependencies$4i,s=>{var{typed:h}=s;return h(name$4j,{number:absNumber,"Complex | BigNumber | Fraction | Unit":g=>g.abs(),"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),name$4i="apply",dependencies$4h=["typed","isInteger"],createApply=factory(name$4i,dependencies$4h,s=>{var{typed:h,isInteger:g}=s;return h(name$4i,{"Array | Matrix, number | BigNumber, function":function(ut,ct,dt){if(!g(ct))throw new TypeError("Integer number expected for dimension");var ht=Array.isArray(ut)?arraySize(ut):ut.size();if(ct<0||ct>=ht.length)throw new IndexError(ct,ht.length);return isMatrix(ut)?ut.create(_apply(ut.valueOf(),ct,dt)):_apply(ut,ct,dt)}})});function _apply(s,h,g){var it,ut,ct;if(h<=0)if(Array.isArray(s[0])){for(ct=_switch(s),ut=[],it=0;it<ct.length;it++)ut[it]=_apply(ct[it],h-1,g);return ut}else return g(s);else{for(ut=[],it=0;it<s.length;it++)ut[it]=_apply(s[it],h-1,g);return ut}}function _switch(s){var h=s.length,g=s[0].length,it,ut,ct=[];for(ut=0;ut<g;ut++){var dt=[];for(it=0;it<h;it++)dt.push(s[it][ut]);ct.push(dt)}return ct}var name$4h="addScalar",dependencies$4g=["typed"],createAddScalar=factory(name$4h,dependencies$4g,s=>{var{typed:h}=s;return h(name$4h,{"number, number":addNumber,"Complex, Complex":function(it,ut){return it.add(ut)},"BigNumber, BigNumber":function(it,ut){return it.plus(ut)},"Fraction, Fraction":function(it,ut){return it.add(ut)},"Unit, Unit":h.referToSelf(g=>(it,ut)=>{if(it.value===null||it.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(ut.value===null||ut.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!it.equalBase(ut))throw new Error("Units do not match");var ct=it.clone();return ct.value=h.find(g,[ct.valueType(),ut.valueType()])(ct.value,ut.value),ct.fixPrefix=!1,ct})})}),name$4g="cbrt",dependencies$4f=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],createCbrt=factory(name$4g,dependencies$4f,s=>{var{config:h,typed:g,isNegative:it,unaryMinus:ut,matrix:ct,Complex:dt,BigNumber:ht,Fraction:pt}=s;return g(name$4g,{number:cbrtNumber,Complex:mt,"Complex, boolean":mt,BigNumber:function(yt){return yt.cbrt()},Unit:vt});function mt(gt,yt){var bt=gt.arg()/3,wt=gt.abs(),Et=new dt(cbrtNumber(wt),0).mul(new dt(0,bt).exp());if(yt){var Mt=[Et,new dt(cbrtNumber(wt),0).mul(new dt(0,bt+Math.PI*2/3).exp()),new dt(cbrtNumber(wt),0).mul(new dt(0,bt-Math.PI*2/3).exp())];return h.matrix==="Array"?Mt:ct(Mt)}else return Et}function vt(gt){if(gt.value&&isComplex(gt.value)){var yt=gt.clone();return yt.value=1,yt=yt.pow(1/3),yt.value=mt(gt.value),yt}else{var bt=it(gt.value);bt&&(gt.value=ut(gt.value));var wt;isBigNumber(gt.value)?wt=new ht(1).div(3):isFraction(gt.value)?wt=new pt(1,3):wt=1/3;var Et=gt.pow(wt);return bt&&(Et.value=ut(Et.value)),Et}}}),name$4f="matAlgo11xS0s",dependencies$4e=["typed","equalScalar"],createMatAlgo11xS0s=factory(name$4f,dependencies$4e,s=>{var{typed:h,equalScalar:g}=s;return function(ut,ct,dt,ht){var pt=ut._values,mt=ut._index,vt=ut._ptr,gt=ut._size,yt=ut._datatype;if(!pt)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var bt=gt[0],wt=gt[1],Et,Mt=g,Dt=0,$t=dt;typeof yt=="string"&&(Et=yt,Mt=h.find(g,[Et,Et]),Dt=h.convert(0,Et),ct=h.convert(ct,Et),$t=h.find(dt,[Et,Et]));for(var _t=[],Nt=[],kt=[],At=0;At<wt;At++){kt[At]=Nt.length;for(var Bt=vt[At],Ft=vt[At+1],Lt=Bt;Lt<Ft;Lt++){var Ot=mt[Lt],It=ht?$t(ct,pt[Lt]):$t(pt[Lt],ct);Mt(It,Dt)||(Nt.push(Ot),_t.push(It))}}return kt[wt]=Nt.length,ut.createSparseMatrix({values:_t,index:Nt,ptr:kt,size:[bt,wt],datatype:Et})}}),name$4e="matAlgo12xSfs",dependencies$4d=["typed","DenseMatrix"],createMatAlgo12xSfs=factory(name$4e,dependencies$4d,s=>{var{typed:h,DenseMatrix:g}=s;return function(ut,ct,dt,ht){var pt=ut._values,mt=ut._index,vt=ut._ptr,gt=ut._size,yt=ut._datatype;if(!pt)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var bt=gt[0],wt=gt[1],Et,Mt=dt;typeof yt=="string"&&(Et=yt,ct=h.convert(ct,Et),Mt=h.find(dt,[Et,Et]));for(var Dt=[],$t=[],_t=[],Nt=0;Nt<wt;Nt++){for(var kt=Nt+1,At=vt[Nt],Bt=vt[Nt+1],Ft=At;Ft<Bt;Ft++){var Lt=mt[Ft];$t[Lt]=pt[Ft],_t[Lt]=kt}for(var Ot=0;Ot<bt;Ot++)Nt===0&&(Dt[Ot]=[]),_t[Ot]===kt?Dt[Ot][Nt]=ht?Mt(ct,$t[Ot]):Mt($t[Ot],ct):Dt[Ot][Nt]=ht?Mt(ct,0):Mt(0,ct)}return new g({data:Dt,size:[bt,wt],datatype:Et})}}),name$4d="matAlgo14xDs",dependencies$4c=["typed"],createMatAlgo14xDs=factory(name$4d,dependencies$4c,s=>{var{typed:h}=s;return function(ut,ct,dt,ht){var pt=ut._data,mt=ut._size,vt=ut._datatype,gt,yt=dt;typeof vt=="string"&&(gt=vt,ct=h.convert(ct,gt),yt=h.find(dt,[gt,gt]));var bt=mt.length>0?g(yt,0,mt,mt[0],pt,ct,ht):[];return ut.createDenseMatrix({data:bt,size:clone$3(mt),datatype:gt})};function g(it,ut,ct,dt,ht,pt,mt){var vt=[];if(ut===ct.length-1)for(var gt=0;gt<dt;gt++)vt[gt]=mt?it(pt,ht[gt]):it(ht[gt],pt);else for(var yt=0;yt<dt;yt++)vt[yt]=g(it,ut+1,ct,ct[ut+1],ht[yt],pt,mt);return vt}}),name$4c="ceil",dependencies$4b=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],createCeilNumber=factory(name$4c,["typed","config","round"],s=>{var{typed:h,config:g,round:it}=s;return h(name$4c,{number:function(ct){return nearlyEqual$1(ct,it(ct),g.epsilon)?it(ct):Math.ceil(ct)},"number, number":function(ct,dt){if(nearlyEqual$1(ct,it(ct,dt),g.epsilon))return it(ct,dt);var[ht,pt]="".concat(ct,"e").split("e"),mt=Math.ceil(Number("".concat(ht,"e").concat(Number(pt)+dt)));return[ht,pt]="".concat(mt,"e").split("e"),Number("".concat(ht,"e").concat(Number(pt)-dt))}})}),createCeil=factory(name$4c,dependencies$4b,s=>{var{typed:h,config:g,round:it,matrix:ut,equalScalar:ct,zeros:dt,DenseMatrix:ht}=s,pt=createMatAlgo11xS0s({typed:h,equalScalar:ct}),mt=createMatAlgo12xSfs({typed:h,DenseMatrix:ht}),vt=createMatAlgo14xDs({typed:h}),gt=createCeilNumber({typed:h,config:g,round:it});return h("ceil",{number:gt.signatures.number,"number,number":gt.signatures["number,number"],Complex:function(bt){return bt.ceil()},"Complex, number":function(bt,wt){return bt.ceil(wt)},"Complex, BigNumber":function(bt,wt){return bt.ceil(wt.toNumber())},BigNumber:function(bt){return nearlyEqual(bt,it(bt),g.epsilon)?it(bt):bt.ceil()},"BigNumber, BigNumber":function(bt,wt){return nearlyEqual(bt,it(bt,wt),g.epsilon)?it(bt,wt):bt.toDecimalPlaces(wt.toNumber(),Decimal.ROUND_CEIL)},Fraction:function(bt){return bt.ceil()},"Fraction, number":function(bt,wt){return bt.ceil(wt)},"Fraction, BigNumber":function(bt,wt){return bt.ceil(wt.toNumber())},"Array | Matrix":h.referToSelf(yt=>bt=>deepMap(bt,yt)),"Array, number | BigNumber":h.referToSelf(yt=>(bt,wt)=>deepMap(bt,Et=>yt(Et,wt))),"SparseMatrix, number | BigNumber":h.referToSelf(yt=>(bt,wt)=>pt(bt,wt,yt,!1)),"DenseMatrix, number | BigNumber":h.referToSelf(yt=>(bt,wt)=>vt(bt,wt,yt,!1)),"number | Complex | Fraction | BigNumber, Array":h.referToSelf(yt=>(bt,wt)=>vt(ut(wt),bt,yt,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":h.referToSelf(yt=>(bt,wt)=>ct(bt,0)?dt(wt.size(),wt.storage()):wt.storage()==="dense"?vt(wt,bt,yt,!0):mt(wt,bt,yt,!0))})}),name$4b="cube",dependencies$4a=["typed"],createCube=factory(name$4b,dependencies$4a,s=>{var{typed:h}=s;return h(name$4b,{number:cubeNumber,Complex:function(it){return it.mul(it).mul(it)},BigNumber:function(it){return it.times(it).times(it)},Fraction:function(it){return it.pow(3)},Unit:function(it){return it.pow(3)}})}),name$4a="exp",dependencies$49=["typed"],createExp=factory(name$4a,dependencies$49,s=>{var{typed:h}=s;return h(name$4a,{number:expNumber,Complex:function(it){return it.exp()},BigNumber:function(it){return it.exp()}})}),name$49="expm1",dependencies$48=["typed","Complex"],createExpm1=factory(name$49,dependencies$48,s=>{var{typed:h,Complex:g}=s;return h(name$49,{number:expm1Number,Complex:function(ut){var ct=Math.exp(ut.re);return new g(ct*Math.cos(ut.im)-1,ct*Math.sin(ut.im))},BigNumber:function(ut){return ut.exp().minus(1)}})}),name$48="fix",dependencies$47=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],createFixNumber=factory(name$48,["typed","ceil","floor"],s=>{var{typed:h,ceil:g,floor:it}=s;return h(name$48,{number:function(ct){return ct>0?it(ct):g(ct)},"number, number":function(ct,dt){return ct>0?it(ct,dt):g(ct,dt)}})}),createFix=factory(name$48,dependencies$47,s=>{var{typed:h,Complex:g,matrix:it,ceil:ut,floor:ct,equalScalar:dt,zeros:ht,DenseMatrix:pt}=s,mt=createMatAlgo12xSfs({typed:h,DenseMatrix:pt}),vt=createMatAlgo14xDs({typed:h}),gt=createFixNumber({typed:h,ceil:ut,floor:ct});return h("fix",{number:gt.signatures.number,"number, number | BigNumber":gt.signatures["number,number"],Complex:function(bt){return new g(bt.re>0?Math.floor(bt.re):Math.ceil(bt.re),bt.im>0?Math.floor(bt.im):Math.ceil(bt.im))},"Complex, number":function(bt,wt){return new g(bt.re>0?ct(bt.re,wt):ut(bt.re,wt),bt.im>0?ct(bt.im,wt):ut(bt.im,wt))},"Complex, BigNumber":function(bt,wt){var Et=wt.toNumber();return new g(bt.re>0?ct(bt.re,Et):ut(bt.re,Et),bt.im>0?ct(bt.im,Et):ut(bt.im,Et))},BigNumber:function(bt){return bt.isNegative()?ut(bt):ct(bt)},"BigNumber, number | BigNumber":function(bt,wt){return bt.isNegative()?ut(bt,wt):ct(bt,wt)},Fraction:function(bt){return bt.s<0?bt.ceil():bt.floor()},"Fraction, number | BigNumber":function(bt,wt){return bt.s<0?ut(bt,wt):ct(bt,wt)},"Array | Matrix":h.referToSelf(yt=>bt=>deepMap(bt,yt)),"Array | Matrix, number | BigNumber":h.referToSelf(yt=>(bt,wt)=>deepMap(bt,Et=>yt(Et,wt))),"number | Complex | Fraction | BigNumber, Array":h.referToSelf(yt=>(bt,wt)=>vt(it(wt),bt,yt,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":h.referToSelf(yt=>(bt,wt)=>dt(bt,0)?ht(wt.size(),wt.storage()):wt.storage()==="dense"?vt(wt,bt,yt,!0):mt(wt,bt,yt,!0))})}),name$47="floor",dependencies$46=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],createFloorNumber=factory(name$47,["typed","config","round"],s=>{var{typed:h,config:g,round:it}=s;return h(name$47,{number:function(ct){return nearlyEqual$1(ct,it(ct),g.epsilon)?it(ct):Math.floor(ct)},"number, number":function(ct,dt){if(nearlyEqual$1(ct,it(ct,dt),g.epsilon))return it(ct,dt);var[ht,pt]="".concat(ct,"e").split("e"),mt=Math.floor(Number("".concat(ht,"e").concat(Number(pt)+dt)));return[ht,pt]="".concat(mt,"e").split("e"),Number("".concat(ht,"e").concat(Number(pt)-dt))}})}),createFloor=factory(name$47,dependencies$46,s=>{var{typed:h,config:g,round:it,matrix:ut,equalScalar:ct,zeros:dt,DenseMatrix:ht}=s,pt=createMatAlgo11xS0s({typed:h,equalScalar:ct}),mt=createMatAlgo12xSfs({typed:h,DenseMatrix:ht}),vt=createMatAlgo14xDs({typed:h}),gt=createFloorNumber({typed:h,config:g,round:it});return h("floor",{number:gt.signatures.number,"number,number":gt.signatures["number,number"],Complex:function(bt){return bt.floor()},"Complex, number":function(bt,wt){return bt.floor(wt)},"Complex, BigNumber":function(bt,wt){return bt.floor(wt.toNumber())},BigNumber:function(bt){return nearlyEqual(bt,it(bt),g.epsilon)?it(bt):bt.floor()},"BigNumber, BigNumber":function(bt,wt){return nearlyEqual(bt,it(bt,wt),g.epsilon)?it(bt,wt):bt.toDecimalPlaces(wt.toNumber(),Decimal.ROUND_FLOOR)},Fraction:function(bt){return bt.floor()},"Fraction, number":function(bt,wt){return bt.floor(wt)},"Fraction, BigNumber":function(bt,wt){return bt.floor(wt.toNumber())},"Array | Matrix":h.referToSelf(yt=>bt=>deepMap(bt,yt)),"Array, number | BigNumber":h.referToSelf(yt=>(bt,wt)=>deepMap(bt,Et=>yt(Et,wt))),"SparseMatrix, number | BigNumber":h.referToSelf(yt=>(bt,wt)=>pt(bt,wt,yt,!1)),"DenseMatrix, number | BigNumber":h.referToSelf(yt=>(bt,wt)=>vt(bt,wt,yt,!1)),"number | Complex | Fraction | BigNumber, Array":h.referToSelf(yt=>(bt,wt)=>vt(ut(wt),bt,yt,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":h.referToSelf(yt=>(bt,wt)=>ct(bt,0)?dt(wt.size(),wt.storage()):wt.storage()==="dense"?vt(wt,bt,yt,!0):mt(wt,bt,yt,!0))})}),name$46="matAlgo01xDSid",dependencies$45=["typed"],createMatAlgo01xDSid=factory(name$46,dependencies$45,s=>{var{typed:h}=s;return function(it,ut,ct,dt){var ht=it._data,pt=it._size,mt=it._datatype,vt=ut._values,gt=ut._index,yt=ut._ptr,bt=ut._size,wt=ut._datatype;if(pt.length!==bt.length)throw new DimensionError(pt.length,bt.length);if(pt[0]!==bt[0]||pt[1]!==bt[1])throw new RangeError("Dimension mismatch. Matrix A ("+pt+") must match Matrix B ("+bt+")");if(!vt)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var Et=pt[0],Mt=pt[1],Dt=typeof mt=="string"&&mt===wt?mt:void 0,$t=Dt?h.find(ct,[Dt,Dt]):ct,_t,Nt,kt=[];for(_t=0;_t<Et;_t++)kt[_t]=[];var At=[],Bt=[];for(Nt=0;Nt<Mt;Nt++){for(var Ft=Nt+1,Lt=yt[Nt],Ot=yt[Nt+1],It=Lt;It<Ot;It++)_t=gt[It],At[_t]=dt?$t(vt[It],ht[_t][Nt]):$t(ht[_t][Nt],vt[It]),Bt[_t]=Ft;for(_t=0;_t<Et;_t++)Bt[_t]===Ft?kt[_t][Nt]=At[_t]:kt[_t][Nt]=ht[_t][Nt]}return it.createDenseMatrix({data:kt,size:[Et,Mt],datatype:Dt})}}),name$45="matAlgo04xSidSid",dependencies$44=["typed","equalScalar"],createMatAlgo04xSidSid=factory(name$45,dependencies$44,s=>{var{typed:h,equalScalar:g}=s;return function(ut,ct,dt){var ht=ut._values,pt=ut._index,mt=ut._ptr,vt=ut._size,gt=ut._datatype,yt=ct._values,bt=ct._index,wt=ct._ptr,Et=ct._size,Mt=ct._datatype;if(vt.length!==Et.length)throw new DimensionError(vt.length,Et.length);if(vt[0]!==Et[0]||vt[1]!==Et[1])throw new RangeError("Dimension mismatch. Matrix A ("+vt+") must match Matrix B ("+Et+")");var Dt=vt[0],$t=vt[1],_t,Nt=g,kt=0,At=dt;typeof gt=="string"&&gt===Mt&&(_t=gt,Nt=h.find(g,[_t,_t]),kt=h.convert(0,_t),At=h.find(dt,[_t,_t]));var Bt=ht&&yt?[]:void 0,Ft=[],Lt=[],Ot=ht&&yt?[]:void 0,It=ht&&yt?[]:void 0,Rt=[],Vt=[],Xt,Wt,jt,qt,Zt;for(Wt=0;Wt<$t;Wt++){Lt[Wt]=Ft.length;var Ut=Wt+1;for(qt=mt[Wt],Zt=mt[Wt+1],jt=qt;jt<Zt;jt++)Xt=pt[jt],Ft.push(Xt),Rt[Xt]=Ut,Ot&&(Ot[Xt]=ht[jt]);for(qt=wt[Wt],Zt=wt[Wt+1],jt=qt;jt<Zt;jt++)if(Xt=bt[jt],Rt[Xt]===Ut){if(Ot){var Yt=At(Ot[Xt],yt[jt]);Nt(Yt,kt)?Rt[Xt]=null:Ot[Xt]=Yt}}else Ft.push(Xt),Vt[Xt]=Ut,It&&(It[Xt]=yt[jt]);if(Ot&&It)for(jt=Lt[Wt];jt<Ft.length;)Xt=Ft[jt],Rt[Xt]===Ut?(Bt[jt]=Ot[Xt],jt++):Vt[Xt]===Ut?(Bt[jt]=It[Xt],jt++):Ft.splice(jt,1)}return Lt[$t]=Ft.length,ut.createSparseMatrix({values:Bt,index:Ft,ptr:Lt,size:[Dt,$t],datatype:_t})}}),name$44="matAlgo10xSids",dependencies$43=["typed","DenseMatrix"],createMatAlgo10xSids=factory(name$44,dependencies$43,s=>{var{typed:h,DenseMatrix:g}=s;return function(ut,ct,dt,ht){var pt=ut._values,mt=ut._index,vt=ut._ptr,gt=ut._size,yt=ut._datatype;if(!pt)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var bt=gt[0],wt=gt[1],Et,Mt=dt;typeof yt=="string"&&(Et=yt,ct=h.convert(ct,Et),Mt=h.find(dt,[Et,Et]));for(var Dt=[],$t=[],_t=[],Nt=0;Nt<wt;Nt++){for(var kt=Nt+1,At=vt[Nt],Bt=vt[Nt+1],Ft=At;Ft<Bt;Ft++){var Lt=mt[Ft];$t[Lt]=pt[Ft],_t[Lt]=kt}for(var Ot=0;Ot<bt;Ot++)Nt===0&&(Dt[Ot]=[]),_t[Ot]===kt?Dt[Ot][Nt]=ht?Mt(ct,$t[Ot]):Mt($t[Ot],ct):Dt[Ot][Nt]=ct}return new g({data:Dt,size:[bt,wt],datatype:Et})}}),name$43="matAlgo13xDD",dependencies$42=["typed"],createMatAlgo13xDD=factory(name$43,dependencies$42,s=>{var{typed:h}=s;return function(ut,ct,dt){var ht=ut._data,pt=ut._size,mt=ut._datatype,vt=ct._data,gt=ct._size,yt=ct._datatype,bt=[];if(pt.length!==gt.length)throw new DimensionError(pt.length,gt.length);for(var wt=0;wt<pt.length;wt++){if(pt[wt]!==gt[wt])throw new RangeError("Dimension mismatch. Matrix A ("+pt+") must match Matrix B ("+gt+")");bt[wt]=pt[wt]}var Et,Mt=dt;typeof mt=="string"&&mt===yt&&(Et=mt,Mt=h.find(dt,[Et,Et]));var Dt=bt.length>0?g(Mt,0,bt,bt[0],ht,vt):[];return ut.createDenseMatrix({data:Dt,size:bt,datatype:Et})};function g(it,ut,ct,dt,ht,pt){var mt=[];if(ut===ct.length-1)for(var vt=0;vt<dt;vt++)mt[vt]=it(ht[vt],pt[vt]);else for(var gt=0;gt<dt;gt++)mt[gt]=g(it,ut+1,ct,ct[ut+1],ht[gt],pt[gt]);return mt}}),name$42="broadcast",dependancies=["concat"],createBroadcast=factory(name$42,dependancies,s=>{var{concat:h}=s;return function(ut,ct){var dt=Math.max(ut._size.length,ct._size.length);if(ut._size.length===ct._size.length&&ut._size.every((wt,Et)=>wt===ct._size[Et]))return[ut,ct];for(var ht=g(ut._size,dt,0),pt=g(ct._size,dt,0),mt=[],vt=0;vt<dt;vt++)mt[vt]=Math.max(ht[vt],pt[vt]);checkBroadcastingRules(ht,mt),checkBroadcastingRules(pt,mt);var gt=ut.clone(),yt=ct.clone();gt._size.length<dt?gt.reshape(g(gt._size,dt,1)):yt._size.length<dt&&yt.reshape(g(yt._size,dt,1));for(var bt=0;bt<dt;bt++)gt._size[bt]<mt[bt]&&(gt=it(gt,mt[bt],bt)),yt._size[bt]<mt[bt]&&(yt=it(yt,mt[bt],bt));return[gt,yt]};function g(ut,ct,dt){return[...Array(ct-ut.length).fill(dt),...ut]}function it(ut,ct,dt){return h(...Array(ct).fill(ut),dt)}}),name$41="matrixAlgorithmSuite",dependencies$41=["typed","matrix","concat"],createMatrixAlgorithmSuite=factory(name$41,dependencies$41,s=>{var{typed:h,matrix:g,concat:it}=s,ut=createMatAlgo13xDD({typed:h}),ct=createMatAlgo14xDs({typed:h}),dt=createBroadcast({concat:it});return function(pt){var mt=pt.elop,vt=pt.SD||pt.DS,gt;mt?(gt={"DenseMatrix, DenseMatrix":(Et,Mt)=>ut(...dt(Et,Mt),mt),"Array, Array":(Et,Mt)=>ut(...dt(g(Et),g(Mt)),mt).valueOf(),"Array, DenseMatrix":(Et,Mt)=>ut(...dt(g(Et),Mt),mt),"DenseMatrix, Array":(Et,Mt)=>ut(...dt(Et,g(Mt)),mt)},pt.SS&&(gt["SparseMatrix, SparseMatrix"]=(Et,Mt)=>pt.SS(...dt(Et,Mt),mt,!1)),pt.DS&&(gt["DenseMatrix, SparseMatrix"]=(Et,Mt)=>pt.DS(...dt(Et,Mt),mt,!1),gt["Array, SparseMatrix"]=(Et,Mt)=>pt.DS(...dt(g(Et),Mt),mt,!1)),vt&&(gt["SparseMatrix, DenseMatrix"]=(Et,Mt)=>vt(...dt(Mt,Et),mt,!0),gt["SparseMatrix, Array"]=(Et,Mt)=>vt(...dt(g(Mt),Et),mt,!0))):(gt={"DenseMatrix, DenseMatrix":h.referToSelf(Et=>(Mt,Dt)=>ut(...dt(Mt,Dt),Et)),"Array, Array":h.referToSelf(Et=>(Mt,Dt)=>ut(...dt(g(Mt),g(Dt)),Et).valueOf()),"Array, DenseMatrix":h.referToSelf(Et=>(Mt,Dt)=>ut(...dt(g(Mt),Dt),Et)),"DenseMatrix, Array":h.referToSelf(Et=>(Mt,Dt)=>ut(...dt(Mt,g(Dt)),Et))},pt.SS&&(gt["SparseMatrix, SparseMatrix"]=h.referToSelf(Et=>(Mt,Dt)=>pt.SS(...dt(Mt,Dt),Et,!1))),pt.DS&&(gt["DenseMatrix, SparseMatrix"]=h.referToSelf(Et=>(Mt,Dt)=>pt.DS(...dt(Mt,Dt),Et,!1)),gt["Array, SparseMatrix"]=h.referToSelf(Et=>(Mt,Dt)=>pt.DS(...dt(g(Mt),Dt),Et,!1))),vt&&(gt["SparseMatrix, DenseMatrix"]=h.referToSelf(Et=>(Mt,Dt)=>vt(...dt(Dt,Mt),Et,!0)),gt["SparseMatrix, Array"]=h.referToSelf(Et=>(Mt,Dt)=>vt(...dt(g(Dt),Mt),Et,!0))));var yt=pt.scalar||"any",bt=pt.Ds||pt.Ss;bt&&(mt?(gt["DenseMatrix,"+yt]=(Et,Mt)=>ct(Et,Mt,mt,!1),gt[yt+", DenseMatrix"]=(Et,Mt)=>ct(Mt,Et,mt,!0),gt["Array,"+yt]=(Et,Mt)=>ct(g(Et),Mt,mt,!1).valueOf(),gt[yt+", Array"]=(Et,Mt)=>ct(g(Mt),Et,mt,!0).valueOf()):(gt["DenseMatrix,"+yt]=h.referToSelf(Et=>(Mt,Dt)=>ct(Mt,Dt,Et,!1)),gt[yt+", DenseMatrix"]=h.referToSelf(Et=>(Mt,Dt)=>ct(Dt,Mt,Et,!0)),gt["Array,"+yt]=h.referToSelf(Et=>(Mt,Dt)=>ct(g(Mt),Dt,Et,!1).valueOf()),gt[yt+", Array"]=h.referToSelf(Et=>(Mt,Dt)=>ct(g(Dt),Mt,Et,!0).valueOf())));var wt=pt.sS!==void 0?pt.sS:pt.Ss;return mt?(pt.Ss&&(gt["SparseMatrix,"+yt]=(Et,Mt)=>pt.Ss(Et,Mt,mt,!1)),wt&&(gt[yt+", SparseMatrix"]=(Et,Mt)=>wt(Mt,Et,mt,!0))):(pt.Ss&&(gt["SparseMatrix,"+yt]=h.referToSelf(Et=>(Mt,Dt)=>pt.Ss(Mt,Dt,Et,!1))),wt&&(gt[yt+", SparseMatrix"]=h.referToSelf(Et=>(Mt,Dt)=>wt(Dt,Mt,Et,!0)))),mt&&mt.signatures&&extend(gt,mt.signatures),gt}});function ArgumentsError(s,h,g,it){if(!(this instanceof ArgumentsError))throw new SyntaxError("Constructor must be called with the new operator");this.fn=s,this.count=h,this.min=g,this.max=it,this.message="Wrong number of arguments in function "+s+" ("+h+" provided, "+g+(it!=null?"-"+it:"")+" expected)",this.stack=new Error().stack}ArgumentsError.prototype=new Error;ArgumentsError.prototype.constructor=Error;ArgumentsError.prototype.name="ArgumentsError";ArgumentsError.prototype.isArgumentsError=!0;var name$40="gcd",dependencies$40=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],gcdTypes="number | BigNumber | Fraction | Matrix | Array",gcdManyTypesSignature="".concat(gcdTypes,", ").concat(gcdTypes,", ...").concat(gcdTypes);function is1d(s){return!s.some(h=>Array.isArray(h))}var createGcd=factory(name$40,dependencies$40,s=>{var{typed:h,matrix:g,equalScalar:it,BigNumber:ut,DenseMatrix:ct,concat:dt}=s,ht=createMatAlgo01xDSid({typed:h}),pt=createMatAlgo04xSidSid({typed:h,equalScalar:it}),mt=createMatAlgo10xSids({typed:h,DenseMatrix:ct}),vt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:dt});return h(name$40,{"number, number":gcdNumber,"BigNumber, BigNumber":gt,"Fraction, Fraction":(yt,bt)=>yt.gcd(bt)},vt({SS:pt,DS:ht,Ss:mt}),{[gcdManyTypesSignature]:h.referToSelf(yt=>(bt,wt,Et)=>{for(var Mt=yt(bt,wt),Dt=0;Dt<Et.length;Dt++)Mt=yt(Mt,Et[Dt]);return Mt}),Array:h.referToSelf(yt=>bt=>{if(bt.length===1&&Array.isArray(bt[0])&&is1d(bt[0]))return yt(...bt[0]);if(is1d(bt))return yt(...bt);throw new ArgumentsError("gcd() supports only 1d matrices!")}),Matrix:h.referToSelf(yt=>bt=>yt(bt.toArray()))});function gt(yt,bt){if(!yt.isInt()||!bt.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var wt=new ut(0);!bt.isZero();){var Et=yt.mod(bt);yt=bt,bt=Et}return yt.lt(wt)?yt.neg():yt}}),name$3$="matAlgo02xDS0",dependencies$3$=["typed","equalScalar"],createMatAlgo02xDS0=factory(name$3$,dependencies$3$,s=>{var{typed:h,equalScalar:g}=s;return function(ut,ct,dt,ht){var pt=ut._data,mt=ut._size,vt=ut._datatype,gt=ct._values,yt=ct._index,bt=ct._ptr,wt=ct._size,Et=ct._datatype;if(mt.length!==wt.length)throw new DimensionError(mt.length,wt.length);if(mt[0]!==wt[0]||mt[1]!==wt[1])throw new RangeError("Dimension mismatch. Matrix A ("+mt+") must match Matrix B ("+wt+")");if(!gt)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var Mt=mt[0],Dt=mt[1],$t,_t=g,Nt=0,kt=dt;typeof vt=="string"&&vt===Et&&($t=vt,_t=h.find(g,[$t,$t]),Nt=h.convert(0,$t),kt=h.find(dt,[$t,$t]));for(var At=[],Bt=[],Ft=[],Lt=0;Lt<Dt;Lt++){Ft[Lt]=Bt.length;for(var Ot=bt[Lt],It=bt[Lt+1],Rt=Ot;Rt<It;Rt++){var Vt=yt[Rt],Xt=ht?kt(gt[Rt],pt[Vt][Lt]):kt(pt[Vt][Lt],gt[Rt]);_t(Xt,Nt)||(Bt.push(Vt),At.push(Xt))}}return Ft[Dt]=Bt.length,ct.createSparseMatrix({values:At,index:Bt,ptr:Ft,size:[Mt,Dt],datatype:$t})}}),name$3_="matAlgo06xS0S0",dependencies$3_=["typed","equalScalar"],createMatAlgo06xS0S0=factory(name$3_,dependencies$3_,s=>{var{typed:h,equalScalar:g}=s;return function(ut,ct,dt){var ht=ut._values,pt=ut._size,mt=ut._datatype,vt=ct._values,gt=ct._size,yt=ct._datatype;if(pt.length!==gt.length)throw new DimensionError(pt.length,gt.length);if(pt[0]!==gt[0]||pt[1]!==gt[1])throw new RangeError("Dimension mismatch. Matrix A ("+pt+") must match Matrix B ("+gt+")");var bt=pt[0],wt=pt[1],Et,Mt=g,Dt=0,$t=dt;typeof mt=="string"&&mt===yt&&(Et=mt,Mt=h.find(g,[Et,Et]),Dt=h.convert(0,Et),$t=h.find(dt,[Et,Et]));for(var _t=ht&&vt?[]:void 0,Nt=[],kt=[],At=_t?[]:void 0,Bt=[],Ft=[],Lt=0;Lt<wt;Lt++){kt[Lt]=Nt.length;var Ot=Lt+1;if(scatter(ut,Lt,Bt,At,Ft,Ot,Nt,$t),scatter(ct,Lt,Bt,At,Ft,Ot,Nt,$t),At)for(var It=kt[Lt];It<Nt.length;){var Rt=Nt[It];if(Ft[Rt]===Ot){var Vt=At[Rt];Mt(Vt,Dt)?Nt.splice(It,1):(_t.push(Vt),It++)}else Nt.splice(It,1)}else for(var Xt=kt[Lt];Xt<Nt.length;){var Wt=Nt[Xt];Ft[Wt]!==Ot?Nt.splice(Xt,1):Xt++}}return kt[wt]=Nt.length,ut.createSparseMatrix({values:_t,index:Nt,ptr:kt,size:[bt,wt],datatype:Et})}}),name$3Z="lcm",dependencies$3Z=["typed","matrix","equalScalar","concat"],createLcm=factory(name$3Z,dependencies$3Z,s=>{var{typed:h,matrix:g,equalScalar:it,concat:ut}=s,ct=createMatAlgo02xDS0({typed:h,equalScalar:it}),dt=createMatAlgo06xS0S0({typed:h,equalScalar:it}),ht=createMatAlgo11xS0s({typed:h,equalScalar:it}),pt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:ut}),mt="number | BigNumber | Fraction | Matrix | Array",vt={};return vt["".concat(mt,", ").concat(mt,", ...").concat(mt)]=h.referToSelf(yt=>(bt,wt,Et)=>{for(var Mt=yt(bt,wt),Dt=0;Dt<Et.length;Dt++)Mt=yt(Mt,Et[Dt]);return Mt}),h(name$3Z,{"number, number":lcmNumber,"BigNumber, BigNumber":gt,"Fraction, Fraction":(yt,bt)=>yt.lcm(bt)},pt({SS:dt,DS:ct,Ss:ht}),vt);function gt(yt,bt){if(!yt.isInt()||!bt.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(yt.isZero())return yt;if(bt.isZero())return bt;for(var wt=yt.times(bt);!bt.isZero();){var Et=bt;bt=yt.mod(Et),yt=Et}return wt.div(yt).abs()}}),name$3Y="log10",dependencies$3Y=["typed","config","Complex"],createLog10=factory(name$3Y,dependencies$3Y,s=>{var{typed:h,config:g,Complex:it}=s;return h(name$3Y,{number:function(ct){return ct>=0||g.predictable?log10Number(ct):new it(ct,0).log().div(Math.LN10)},Complex:function(ct){return new it(ct).log().div(Math.LN10)},BigNumber:function(ct){return!ct.isNegative()||g.predictable?ct.log():new it(ct.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":h.referToSelf(ut=>ct=>deepMap(ct,ut))})}),name$3X="log2",dependencies$3X=["typed","config","Complex"],createLog2=factory(name$3X,dependencies$3X,s=>{var{typed:h,config:g,Complex:it}=s;return h(name$3X,{number:function(dt){return dt>=0||g.predictable?log2Number(dt):ut(new it(dt,0))},Complex:ut,BigNumber:function(dt){return!dt.isNegative()||g.predictable?dt.log(2):ut(new it(dt.toNumber(),0))},"Array | Matrix":h.referToSelf(ct=>dt=>deepMap(dt,ct))});function ut(ct){var dt=Math.sqrt(ct.re*ct.re+ct.im*ct.im);return new it(Math.log2?Math.log2(dt):Math.log(dt)/Math.LN2,Math.atan2(ct.im,ct.re)/Math.LN2)}}),name$3W="matAlgo03xDSf",dependencies$3W=["typed"],createMatAlgo03xDSf=factory(name$3W,dependencies$3W,s=>{var{typed:h}=s;return function(it,ut,ct,dt){var ht=it._data,pt=it._size,mt=it._datatype,vt=ut._values,gt=ut._index,yt=ut._ptr,bt=ut._size,wt=ut._datatype;if(pt.length!==bt.length)throw new DimensionError(pt.length,bt.length);if(pt[0]!==bt[0]||pt[1]!==bt[1])throw new RangeError("Dimension mismatch. Matrix A ("+pt+") must match Matrix B ("+bt+")");if(!vt)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var Et=pt[0],Mt=pt[1],Dt,$t=0,_t=ct;typeof mt=="string"&&mt===wt&&(Dt=mt,$t=h.convert(0,Dt),_t=h.find(ct,[Dt,Dt]));for(var Nt=[],kt=0;kt<Et;kt++)Nt[kt]=[];for(var At=[],Bt=[],Ft=0;Ft<Mt;Ft++){for(var Lt=Ft+1,Ot=yt[Ft],It=yt[Ft+1],Rt=Ot;Rt<It;Rt++){var Vt=gt[Rt];At[Vt]=dt?_t(vt[Rt],ht[Vt][Ft]):_t(ht[Vt][Ft],vt[Rt]),Bt[Vt]=Lt}for(var Xt=0;Xt<Et;Xt++)Bt[Xt]===Lt?Nt[Xt][Ft]=At[Xt]:Nt[Xt][Ft]=dt?_t($t,ht[Xt][Ft]):_t(ht[Xt][Ft],$t)}return it.createDenseMatrix({data:Nt,size:[Et,Mt],datatype:Dt})}}),name$3V="matAlgo05xSfSf",dependencies$3V=["typed","equalScalar"],createMatAlgo05xSfSf=factory(name$3V,dependencies$3V,s=>{var{typed:h,equalScalar:g}=s;return function(ut,ct,dt){var ht=ut._values,pt=ut._index,mt=ut._ptr,vt=ut._size,gt=ut._datatype,yt=ct._values,bt=ct._index,wt=ct._ptr,Et=ct._size,Mt=ct._datatype;if(vt.length!==Et.length)throw new DimensionError(vt.length,Et.length);if(vt[0]!==Et[0]||vt[1]!==Et[1])throw new RangeError("Dimension mismatch. Matrix A ("+vt+") must match Matrix B ("+Et+")");var Dt=vt[0],$t=vt[1],_t,Nt=g,kt=0,At=dt;typeof gt=="string"&&gt===Mt&&(_t=gt,Nt=h.find(g,[_t,_t]),kt=h.convert(0,_t),At=h.find(dt,[_t,_t]));var Bt=ht&&yt?[]:void 0,Ft=[],Lt=[],Ot=Bt?[]:void 0,It=Bt?[]:void 0,Rt=[],Vt=[],Xt,Wt,jt,qt;for(Wt=0;Wt<$t;Wt++){Lt[Wt]=Ft.length;var Zt=Wt+1;for(jt=mt[Wt],qt=mt[Wt+1];jt<qt;jt++)Xt=pt[jt],Ft.push(Xt),Rt[Xt]=Zt,Ot&&(Ot[Xt]=ht[jt]);for(jt=wt[Wt],qt=wt[Wt+1];jt<qt;jt++)Xt=bt[jt],Rt[Xt]!==Zt&&Ft.push(Xt),Vt[Xt]=Zt,It&&(It[Xt]=yt[jt]);if(Bt)for(jt=Lt[Wt];jt<Ft.length;){Xt=Ft[jt];var Ut=Rt[Xt],Yt=Vt[Xt];if(Ut===Zt||Yt===Zt){var lr=Ut===Zt?Ot[Xt]:kt,rr=Yt===Zt?It[Xt]:kt,Qt=At(lr,rr);Nt(Qt,kt)?Ft.splice(jt,1):(Bt.push(Qt),jt++)}}}return Lt[$t]=Ft.length,ut.createSparseMatrix({values:Bt,index:Ft,ptr:Lt,size:[Dt,$t],datatype:_t})}}),name$3U="mod",dependencies$3U=["typed","matrix","equalScalar","DenseMatrix","concat"],createMod=factory(name$3U,dependencies$3U,s=>{var{typed:h,matrix:g,equalScalar:it,DenseMatrix:ut,concat:ct}=s,dt=createMatAlgo02xDS0({typed:h,equalScalar:it}),ht=createMatAlgo03xDSf({typed:h}),pt=createMatAlgo05xSfSf({typed:h,equalScalar:it}),mt=createMatAlgo11xS0s({typed:h,equalScalar:it}),vt=createMatAlgo12xSfs({typed:h,DenseMatrix:ut}),gt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:ct});return h(name$3U,{"number, number":modNumber,"BigNumber, BigNumber":function(bt,wt){if(wt.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return wt.isZero()?bt:bt.mod(wt)},"Fraction, Fraction":function(bt,wt){if(wt.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return bt.compare(0)>=0?bt.mod(wt):bt.mod(wt).add(wt).mod(wt)}},gt({SS:pt,DS:ht,SD:dt,Ss:mt,sS:vt}))}),name$3T="multiplyScalar",dependencies$3T=["typed"],createMultiplyScalar=factory(name$3T,dependencies$3T,s=>{var{typed:h}=s;return h("multiplyScalar",{"number, number":multiplyNumber,"Complex, Complex":function(it,ut){return it.mul(ut)},"BigNumber, BigNumber":function(it,ut){return it.times(ut)},"Fraction, Fraction":function(it,ut){return it.mul(ut)},"number | Fraction | BigNumber | Complex, Unit":(g,it)=>it.multiply(g),"Unit, number | Fraction | BigNumber | Complex | Unit":(g,it)=>g.multiply(it)})}),name$3S="multiply",dependencies$3S=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],createMultiply=factory(name$3S,dependencies$3S,s=>{var{typed:h,matrix:g,addScalar:it,multiplyScalar:ut,equalScalar:ct,dot:dt}=s,ht=createMatAlgo11xS0s({typed:h,equalScalar:ct}),pt=createMatAlgo14xDs({typed:h});function mt(kt,At){switch(kt.length){case 1:switch(At.length){case 1:if(kt[0]!==At[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(kt[0]!==At[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+kt[0]+") must match Matrix rows ("+At[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+At.length+" dimensions)")}break;case 2:switch(At.length){case 1:if(kt[1]!==At[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+kt[1]+") must match Vector length ("+At[0]+")");break;case 2:if(kt[1]!==At[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+kt[1]+") must match Matrix B rows ("+At[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+At.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+kt.length+" dimensions)")}}function vt(kt,At,Bt){if(Bt===0)throw new Error("Cannot multiply two empty vectors");return dt(kt,At)}function gt(kt,At){if(At.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return yt(kt,At)}function yt(kt,At){var Bt=kt._data,Ft=kt._size,Lt=kt._datatype,Ot=At._data,It=At._size,Rt=At._datatype,Vt=Ft[0],Xt=It[1],Wt,jt=it,qt=ut;Lt&&Rt&&Lt===Rt&&typeof Lt=="string"&&(Wt=Lt,jt=h.find(it,[Wt,Wt]),qt=h.find(ut,[Wt,Wt]));for(var Zt=[],Ut=0;Ut<Xt;Ut++){for(var Yt=qt(Bt[0],Ot[0][Ut]),lr=1;lr<Vt;lr++)Yt=jt(Yt,qt(Bt[lr],Ot[lr][Ut]));Zt[Ut]=Yt}return kt.createDenseMatrix({data:Zt,size:[Xt],datatype:Wt})}var bt=h("_multiplyMatrixVector",{"DenseMatrix, any":Et,"SparseMatrix, any":$t}),wt=h("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":Mt,"DenseMatrix, SparseMatrix":Dt,"SparseMatrix, DenseMatrix":_t,"SparseMatrix, SparseMatrix":Nt});function Et(kt,At){var Bt=kt._data,Ft=kt._size,Lt=kt._datatype,Ot=At._data,It=At._datatype,Rt=Ft[0],Vt=Ft[1],Xt,Wt=it,jt=ut;Lt&&It&&Lt===It&&typeof Lt=="string"&&(Xt=Lt,Wt=h.find(it,[Xt,Xt]),jt=h.find(ut,[Xt,Xt]));for(var qt=[],Zt=0;Zt<Rt;Zt++){for(var Ut=Bt[Zt],Yt=jt(Ut[0],Ot[0]),lr=1;lr<Vt;lr++)Yt=Wt(Yt,jt(Ut[lr],Ot[lr]));qt[Zt]=Yt}return kt.createDenseMatrix({data:qt,size:[Rt],datatype:Xt})}function Mt(kt,At){var Bt=kt._data,Ft=kt._size,Lt=kt._datatype,Ot=At._data,It=At._size,Rt=At._datatype,Vt=Ft[0],Xt=Ft[1],Wt=It[1],jt,qt=it,Zt=ut;Lt&&Rt&&Lt===Rt&&typeof Lt=="string"&&(jt=Lt,qt=h.find(it,[jt,jt]),Zt=h.find(ut,[jt,jt]));for(var Ut=[],Yt=0;Yt<Vt;Yt++){var lr=Bt[Yt];Ut[Yt]=[];for(var rr=0;rr<Wt;rr++){for(var Qt=Zt(lr[0],Ot[0][rr]),ur=1;ur<Xt;ur++)Qt=qt(Qt,Zt(lr[ur],Ot[ur][rr]));Ut[Yt][rr]=Qt}}return kt.createDenseMatrix({data:Ut,size:[Vt,Wt],datatype:jt})}function Dt(kt,At){var Bt=kt._data,Ft=kt._size,Lt=kt._datatype,Ot=At._values,It=At._index,Rt=At._ptr,Vt=At._size,Xt=At._datatype;if(!Ot)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var Wt=Ft[0],jt=Vt[1],qt,Zt=it,Ut=ut,Yt=ct,lr=0;Lt&&Xt&&Lt===Xt&&typeof Lt=="string"&&(qt=Lt,Zt=h.find(it,[qt,qt]),Ut=h.find(ut,[qt,qt]),Yt=h.find(ct,[qt,qt]),lr=h.convert(0,qt));for(var rr=[],Qt=[],ur=[],wr=At.createSparseMatrix({values:rr,index:Qt,ptr:ur,size:[Wt,jt],datatype:qt}),vr=0;vr<jt;vr++){ur[vr]=Qt.length;var Dr=Rt[vr],Or=Rt[vr+1];if(Or>Dr)for(var Mr=0,dr=0;dr<Wt;dr++){for(var _r=dr+1,zr=void 0,yr=Dr;yr<Or;yr++){var Lr=It[yr];Mr!==_r?(zr=Ut(Bt[dr][Lr],Ot[yr]),Mr=_r):zr=Zt(zr,Ut(Bt[dr][Lr],Ot[yr]))}Mr===_r&&!Yt(zr,lr)&&(Qt.push(dr),rr.push(zr))}}return ur[jt]=Qt.length,wr}function $t(kt,At){var Bt=kt._values,Ft=kt._index,Lt=kt._ptr,Ot=kt._datatype;if(!Bt)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var It=At._data,Rt=At._datatype,Vt=kt._size[0],Xt=At._size[0],Wt=[],jt=[],qt=[],Zt,Ut=it,Yt=ut,lr=ct,rr=0;Ot&&Rt&&Ot===Rt&&typeof Ot=="string"&&(Zt=Ot,Ut=h.find(it,[Zt,Zt]),Yt=h.find(ut,[Zt,Zt]),lr=h.find(ct,[Zt,Zt]),rr=h.convert(0,Zt));var Qt=[],ur=[];qt[0]=0;for(var wr=0;wr<Xt;wr++){var vr=It[wr];if(!lr(vr,rr))for(var Dr=Lt[wr],Or=Lt[wr+1],Mr=Dr;Mr<Or;Mr++){var dr=Ft[Mr];ur[dr]?Qt[dr]=Ut(Qt[dr],Yt(vr,Bt[Mr])):(ur[dr]=!0,jt.push(dr),Qt[dr]=Yt(vr,Bt[Mr]))}}for(var _r=jt.length,zr=0;zr<_r;zr++){var yr=jt[zr];Wt[zr]=Qt[yr]}return qt[1]=jt.length,kt.createSparseMatrix({values:Wt,index:jt,ptr:qt,size:[Vt,1],datatype:Zt})}function _t(kt,At){var Bt=kt._values,Ft=kt._index,Lt=kt._ptr,Ot=kt._datatype;if(!Bt)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var It=At._data,Rt=At._datatype,Vt=kt._size[0],Xt=At._size[0],Wt=At._size[1],jt,qt=it,Zt=ut,Ut=ct,Yt=0;Ot&&Rt&&Ot===Rt&&typeof Ot=="string"&&(jt=Ot,qt=h.find(it,[jt,jt]),Zt=h.find(ut,[jt,jt]),Ut=h.find(ct,[jt,jt]),Yt=h.convert(0,jt));for(var lr=[],rr=[],Qt=[],ur=kt.createSparseMatrix({values:lr,index:rr,ptr:Qt,size:[Vt,Wt],datatype:jt}),wr=[],vr=[],Dr=0;Dr<Wt;Dr++){Qt[Dr]=rr.length;for(var Or=Dr+1,Mr=0;Mr<Xt;Mr++){var dr=It[Mr][Dr];if(!Ut(dr,Yt))for(var _r=Lt[Mr],zr=Lt[Mr+1],yr=_r;yr<zr;yr++){var Lr=Ft[yr];vr[Lr]!==Or?(vr[Lr]=Or,rr.push(Lr),wr[Lr]=Zt(dr,Bt[yr])):wr[Lr]=qt(wr[Lr],Zt(dr,Bt[yr]))}}for(var tr=Qt[Dr],ir=rr.length,br=tr;br<ir;br++){var nr=rr[br];lr[br]=wr[nr]}}return Qt[Wt]=rr.length,ur}function Nt(kt,At){var Bt=kt._values,Ft=kt._index,Lt=kt._ptr,Ot=kt._datatype,It=At._values,Rt=At._index,Vt=At._ptr,Xt=At._datatype,Wt=kt._size[0],jt=At._size[1],qt=Bt&&It,Zt,Ut=it,Yt=ut;Ot&&Xt&&Ot===Xt&&typeof Ot=="string"&&(Zt=Ot,Ut=h.find(it,[Zt,Zt]),Yt=h.find(ut,[Zt,Zt]));for(var lr=qt?[]:void 0,rr=[],Qt=[],ur=kt.createSparseMatrix({values:lr,index:rr,ptr:Qt,size:[Wt,jt],datatype:Zt}),wr=qt?[]:void 0,vr=[],Dr,Or,Mr,dr,_r,zr,yr,Lr,tr=0;tr<jt;tr++){Qt[tr]=rr.length;var ir=tr+1;for(_r=Vt[tr],zr=Vt[tr+1],dr=_r;dr<zr;dr++)if(Lr=Rt[dr],qt)for(Or=Lt[Lr],Mr=Lt[Lr+1],Dr=Or;Dr<Mr;Dr++)yr=Ft[Dr],vr[yr]!==ir?(vr[yr]=ir,rr.push(yr),wr[yr]=Yt(It[dr],Bt[Dr])):wr[yr]=Ut(wr[yr],Yt(It[dr],Bt[Dr]));else for(Or=Lt[Lr],Mr=Lt[Lr+1],Dr=Or;Dr<Mr;Dr++)yr=Ft[Dr],vr[yr]!==ir&&(vr[yr]=ir,rr.push(yr));if(qt)for(var br=Qt[tr],nr=rr.length,cr=br;cr<nr;cr++){var gr=rr[cr];lr[cr]=wr[gr]}}return Qt[jt]=rr.length,ur}return h(name$3S,ut,{"Array, Array":h.referTo("Matrix, Matrix",kt=>(At,Bt)=>{mt(arraySize(At),arraySize(Bt));var Ft=kt(g(At),g(Bt));return isMatrix(Ft)?Ft.valueOf():Ft}),"Matrix, Matrix":function(At,Bt){var Ft=At.size(),Lt=Bt.size();return mt(Ft,Lt),Ft.length===1?Lt.length===1?vt(At,Bt,Ft[0]):gt(At,Bt):Lt.length===1?bt(At,Bt):wt(At,Bt)},"Matrix, Array":h.referTo("Matrix,Matrix",kt=>(At,Bt)=>kt(At,g(Bt))),"Array, Matrix":h.referToSelf(kt=>(At,Bt)=>kt(g(At,Bt.storage()),Bt)),"SparseMatrix, any":function(At,Bt){return ht(At,Bt,ut,!1)},"DenseMatrix, any":function(At,Bt){return pt(At,Bt,ut,!1)},"any, SparseMatrix":function(At,Bt){return ht(Bt,At,ut,!0)},"any, DenseMatrix":function(At,Bt){return pt(Bt,At,ut,!0)},"Array, any":function(At,Bt){return pt(g(At),Bt,ut,!1).valueOf()},"any, Array":function(At,Bt){return pt(g(Bt),At,ut,!0).valueOf()},"any, any":ut,"any, any, ...any":h.referToSelf(kt=>(At,Bt,Ft)=>{for(var Lt=kt(At,Bt),Ot=0;Ot<Ft.length;Ot++)Lt=kt(Lt,Ft[Ot]);return Lt})})}),name$3R="nthRoot",dependencies$3R=["typed","matrix","equalScalar","BigNumber","concat"],createNthRoot=factory(name$3R,dependencies$3R,s=>{var{typed:h,matrix:g,equalScalar:it,BigNumber:ut,concat:ct}=s,dt=createMatAlgo01xDSid({typed:h}),ht=createMatAlgo02xDS0({typed:h,equalScalar:it}),pt=createMatAlgo06xS0S0({typed:h,equalScalar:it}),mt=createMatAlgo11xS0s({typed:h,equalScalar:it}),vt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:ct});function gt(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return h(name$3R,{number:nthRootNumber,"number, number":nthRootNumber,BigNumber:bt=>yt(bt,new ut(2)),"BigNumber, BigNumber":yt,Complex:gt,"Complex, number":gt,Array:h.referTo("DenseMatrix,number",bt=>wt=>bt(g(wt),2).valueOf()),DenseMatrix:h.referTo("DenseMatrix,number",bt=>wt=>bt(wt,2)),SparseMatrix:h.referTo("SparseMatrix,number",bt=>wt=>bt(wt,2)),"SparseMatrix, SparseMatrix":h.referToSelf(bt=>(wt,Et)=>{if(Et.density()===1)return pt(wt,Et,bt);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":h.referToSelf(bt=>(wt,Et)=>{if(Et.density()===1)return dt(wt,Et,bt,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":h.referTo("DenseMatrix,SparseMatrix",bt=>(wt,Et)=>bt(g(wt),Et)),"number | BigNumber, SparseMatrix":h.referToSelf(bt=>(wt,Et)=>{if(Et.density()===1)return mt(Et,wt,bt,!0);throw new Error("Root must be non-zero")})},vt({scalar:"number | BigNumber",SD:ht,Ss:mt,sS:!1}));function yt(bt,wt){var Et=ut.precision,Mt=ut.clone({precision:Et+2}),Dt=new ut(0),$t=new Mt(1),_t=wt.isNegative();if(_t&&(wt=wt.neg()),wt.isZero())throw new Error("Root must be non-zero");if(bt.isNegative()&&!wt.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(bt.isZero())return _t?new Mt(1/0):0;if(!bt.isFinite())return _t?Dt:bt;var Nt=bt.abs().pow($t.div(wt));return Nt=bt.isNeg()?Nt.neg():Nt,new ut((_t?$t.div(Nt):Nt).toPrecision(Et))}}),name$3Q="sign",dependencies$3Q=["typed","BigNumber","Fraction","complex"],createSign=factory(name$3Q,dependencies$3Q,s=>{var{typed:h,BigNumber:g,complex:it,Fraction:ut}=s;return h(name$3Q,{number:signNumber,Complex:function(dt){return dt.im===0?it(signNumber(dt.re)):dt.sign()},BigNumber:function(dt){return new g(dt.cmp(0))},Fraction:function(dt){return new ut(dt.s,1)},"Array | Matrix":h.referToSelf(ct=>dt=>deepMap(dt,ct)),Unit:h.referToSelf(ct=>dt=>{if(!dt._isDerived()&&dt.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return h.find(ct,dt.valueType())(dt.value)})})}),name$3P="sqrt",dependencies$3P=["config","typed","Complex"],createSqrt=factory(name$3P,dependencies$3P,s=>{var{config:h,typed:g,Complex:it}=s;return g("sqrt",{number:ut,Complex:function(dt){return dt.sqrt()},BigNumber:function(dt){return!dt.isNegative()||h.predictable?dt.sqrt():ut(dt.toNumber())},Unit:function(dt){return dt.pow(.5)}});function ut(ct){return isNaN(ct)?NaN:ct>=0||h.predictable?Math.sqrt(ct):new it(ct,0).sqrt()}}),name$3O="square",dependencies$3O=["typed"],createSquare=factory(name$3O,dependencies$3O,s=>{var{typed:h}=s;return h(name$3O,{number:squareNumber,Complex:function(it){return it.mul(it)},BigNumber:function(it){return it.times(it)},Fraction:function(it){return it.mul(it)},Unit:function(it){return it.pow(2)}})}),name$3N="subtract",dependencies$3N=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix","concat"],createSubtract=factory(name$3N,dependencies$3N,s=>{var{typed:h,matrix:g,equalScalar:it,addScalar:ut,unaryMinus:ct,DenseMatrix:dt,concat:ht}=s,pt=createMatAlgo01xDSid({typed:h}),mt=createMatAlgo03xDSf({typed:h}),vt=createMatAlgo05xSfSf({typed:h,equalScalar:it}),gt=createMatAlgo10xSids({typed:h,DenseMatrix:dt}),yt=createMatAlgo12xSfs({typed:h,DenseMatrix:dt}),bt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:ht});return h(name$3N,{"number, number":(wt,Et)=>wt-Et,"Complex, Complex":(wt,Et)=>wt.sub(Et),"BigNumber, BigNumber":(wt,Et)=>wt.minus(Et),"Fraction, Fraction":(wt,Et)=>wt.sub(Et),"Unit, Unit":h.referToSelf(wt=>(Et,Mt)=>{if(Et.value===null)throw new Error("Parameter x contains a unit with undefined value");if(Mt.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!Et.equalBase(Mt))throw new Error("Units do not match");var Dt=Et.clone();return Dt.value=h.find(wt,[Dt.valueType(),Mt.valueType()])(Dt.value,Mt.value),Dt.fixPrefix=!1,Dt})},bt({SS:vt,DS:pt,SD:mt,Ss:yt,sS:gt}))}),name$3M="xgcd",dependencies$3M=["typed","config","matrix","BigNumber"],createXgcd=factory(name$3M,dependencies$3M,s=>{var{typed:h,config:g,matrix:it,BigNumber:ut}=s;return h(name$3M,{"number, number":function(ht,pt){var mt=xgcdNumber(ht,pt);return g.matrix==="Array"?mt:it(mt)},"BigNumber, BigNumber":ct});function ct(dt,ht){var pt,mt,vt,gt=new ut(0),yt=new ut(1),bt=gt,wt=yt,Et=yt,Mt=gt;if(!dt.isInt()||!ht.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!ht.isZero();)mt=dt.div(ht).floor(),vt=dt.mod(ht),pt=bt,bt=wt.minus(mt.times(bt)),wt=pt,pt=Et,Et=Mt.minus(mt.times(Et)),Mt=pt,dt=ht,ht=vt;var Dt;return dt.lt(gt)?Dt=[dt.neg(),wt.neg(),Mt.neg()]:Dt=[dt,dt.isZero()?0:wt,Mt],g.matrix==="Array"?Dt:it(Dt)}}),name$3L="invmod",dependencies$3L=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],createInvmod=factory(name$3L,dependencies$3L,s=>{var{typed:h,config:g,BigNumber:it,xgcd:ut,equal:ct,smaller:dt,mod:ht,add:pt,isInteger:mt}=s;return h(name$3L,{"number, number":vt,"BigNumber, BigNumber":vt});function vt(gt,yt){if(!mt(gt)||!mt(yt))throw new Error("Parameters in function invmod must be integer numbers");if(gt=ht(gt,yt),ct(yt,0))throw new Error("Divisor must be non zero");var bt=ut(gt,yt);bt=bt.valueOf();var[wt,Et]=bt;return ct(wt,it(1))?(Et=ht(Et,yt),dt(Et,it(0))&&(Et=pt(Et,yt)),Et):NaN}}),name$3K="matAlgo09xS0Sf",dependencies$3K=["typed","equalScalar"],createMatAlgo09xS0Sf=factory(name$3K,dependencies$3K,s=>{var{typed:h,equalScalar:g}=s;return function(ut,ct,dt){var ht=ut._values,pt=ut._index,mt=ut._ptr,vt=ut._size,gt=ut._datatype,yt=ct._values,bt=ct._index,wt=ct._ptr,Et=ct._size,Mt=ct._datatype;if(vt.length!==Et.length)throw new DimensionError(vt.length,Et.length);if(vt[0]!==Et[0]||vt[1]!==Et[1])throw new RangeError("Dimension mismatch. Matrix A ("+vt+") must match Matrix B ("+Et+")");var Dt=vt[0],$t=vt[1],_t,Nt=g,kt=0,At=dt;typeof gt=="string"&&gt===Mt&&(_t=gt,Nt=h.find(g,[_t,_t]),kt=h.convert(0,_t),At=h.find(dt,[_t,_t]));var Bt=ht&&yt?[]:void 0,Ft=[],Lt=[],Ot=Bt?[]:void 0,It=[],Rt,Vt,Xt,Wt,jt;for(Vt=0;Vt<$t;Vt++){Lt[Vt]=Ft.length;var qt=Vt+1;if(Ot)for(Wt=wt[Vt],jt=wt[Vt+1],Xt=Wt;Xt<jt;Xt++)Rt=bt[Xt],It[Rt]=qt,Ot[Rt]=yt[Xt];for(Wt=mt[Vt],jt=mt[Vt+1],Xt=Wt;Xt<jt;Xt++)if(Rt=pt[Xt],Ot){var Zt=It[Rt]===qt?Ot[Rt]:kt,Ut=At(ht[Xt],Zt);Nt(Ut,kt)||(Ft.push(Rt),Bt.push(Ut))}else Ft.push(Rt)}return Lt[$t]=Ft.length,ut.createSparseMatrix({values:Bt,index:Ft,ptr:Lt,size:[Dt,$t],datatype:_t})}}),name$3J="dotMultiply",dependencies$3J=["typed","matrix","equalScalar","multiplyScalar","concat"],createDotMultiply=factory(name$3J,dependencies$3J,s=>{var{typed:h,matrix:g,equalScalar:it,multiplyScalar:ut,concat:ct}=s,dt=createMatAlgo02xDS0({typed:h,equalScalar:it}),ht=createMatAlgo09xS0Sf({typed:h,equalScalar:it}),pt=createMatAlgo11xS0s({typed:h,equalScalar:it}),mt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:ct});return h(name$3J,mt({elop:ut,SS:ht,DS:dt,Ss:pt}))});function bitAndBigNumber(s,h){if(s.isFinite()&&!s.isInteger()||h.isFinite()&&!h.isInteger())throw new Error("Integers expected in function bitAnd");var g=s.constructor;if(s.isNaN()||h.isNaN())return new g(NaN);if(s.isZero()||h.eq(-1)||s.eq(h))return s;if(h.isZero()||s.eq(-1))return h;if(!s.isFinite()||!h.isFinite()){if(!s.isFinite()&&!h.isFinite())return s.isNegative()===h.isNegative()?s:new g(0);if(!s.isFinite())return h.isNegative()?s:s.isNegative()?new g(0):h;if(!h.isFinite())return s.isNegative()?h:h.isNegative()?new g(0):s}return bitwise(s,h,function(it,ut){return it&ut})}function bitNotBigNumber(s){if(s.isFinite()&&!s.isInteger())throw new Error("Integer expected in function bitNot");var h=s.constructor,g=h.precision;h.config({precision:1e9});var it=s.plus(new h(1));return it.s=-it.s||null,h.config({precision:g}),it}function bitOrBigNumber(s,h){if(s.isFinite()&&!s.isInteger()||h.isFinite()&&!h.isInteger())throw new Error("Integers expected in function bitOr");var g=s.constructor;if(s.isNaN()||h.isNaN())return new g(NaN);var it=new g(-1);return s.isZero()||h.eq(it)||s.eq(h)?h:h.isZero()||s.eq(it)?s:!s.isFinite()||!h.isFinite()?!s.isFinite()&&!s.isNegative()&&h.isNegative()||s.isNegative()&&!h.isNegative()&&!h.isFinite()?it:s.isNegative()&&h.isNegative()?s.isFinite()?s:h:s.isFinite()?h:s:bitwise(s,h,function(ut,ct){return ut|ct})}function bitwise(s,h,g){var it=s.constructor,ut,ct,dt=+(s.s<0),ht=+(h.s<0);if(dt){ut=decCoefficientToBinaryString(bitNotBigNumber(s));for(var pt=0;pt<ut.length;++pt)ut[pt]^=1}else ut=decCoefficientToBinaryString(s);if(ht){ct=decCoefficientToBinaryString(bitNotBigNumber(h));for(var mt=0;mt<ct.length;++mt)ct[mt]^=1}else ct=decCoefficientToBinaryString(h);var vt,gt,yt;ut.length<=ct.length?(vt=ut,gt=ct,yt=dt):(vt=ct,gt=ut,yt=ht);var bt=vt.length,wt=gt.length,Et=g(dt,ht)^1,Mt=new it(Et^1),Dt=new it(1),$t=new it(2),_t=it.precision;for(it.config({precision:1e9});bt>0;)g(vt[--bt],gt[--wt])===Et&&(Mt=Mt.plus(Dt)),Dt=Dt.times($t);for(;wt>0;)g(yt,gt[--wt])===Et&&(Mt=Mt.plus(Dt)),Dt=Dt.times($t);return it.config({precision:_t}),Et===0&&(Mt.s=-Mt.s),Mt}function decCoefficientToBinaryString(s){for(var h=s.d,g=h[0]+"",it=1;it<h.length;++it){for(var ut=h[it]+"",ct=7-ut.length;ct--;)ut="0"+ut;g+=ut}for(var dt=g.length;g.charAt(dt)==="0";)dt--;var ht=s.e,pt=g.slice(0,dt+1||1),mt=pt.length;if(ht>0)if(++ht>mt)for(ht-=mt;ht--;)pt+="0";else ht<mt&&(pt=pt.slice(0,ht)+"."+pt.slice(ht));for(var vt=[0],gt=0;gt<pt.length;){for(var yt=vt.length;yt--;)vt[yt]*=10;vt[0]+=parseInt(pt.charAt(gt++));for(var bt=0;bt<vt.length;++bt)vt[bt]>1&&((vt[bt+1]===null||vt[bt+1]===void 0)&&(vt[bt+1]=0),vt[bt+1]+=vt[bt]>>1,vt[bt]&=1)}return vt.reverse()}function bitXor$1(s,h){if(s.isFinite()&&!s.isInteger()||h.isFinite()&&!h.isInteger())throw new Error("Integers expected in function bitXor");var g=s.constructor;if(s.isNaN()||h.isNaN())return new g(NaN);if(s.isZero())return h;if(h.isZero())return s;if(s.eq(h))return new g(0);var it=new g(-1);return s.eq(it)?bitNotBigNumber(h):h.eq(it)?bitNotBigNumber(s):!s.isFinite()||!h.isFinite()?!s.isFinite()&&!h.isFinite()?it:new g(s.isNegative()===h.isNegative()?1/0:-1/0):bitwise(s,h,function(ut,ct){return ut^ct})}function leftShiftBigNumber(s,h){if(s.isFinite()&&!s.isInteger()||h.isFinite()&&!h.isInteger())throw new Error("Integers expected in function leftShift");var g=s.constructor;return s.isNaN()||h.isNaN()||h.isNegative()&&!h.isZero()?new g(NaN):s.isZero()||h.isZero()?s:!s.isFinite()&&!h.isFinite()?new g(NaN):h.lt(55)?s.times(Math.pow(2,h.toNumber())+""):s.times(new g(2).pow(h))}function rightArithShiftBigNumber(s,h){if(s.isFinite()&&!s.isInteger()||h.isFinite()&&!h.isInteger())throw new Error("Integers expected in function rightArithShift");var g=s.constructor;return s.isNaN()||h.isNaN()||h.isNegative()&&!h.isZero()?new g(NaN):s.isZero()||h.isZero()?s:h.isFinite()?h.lt(55)?s.div(Math.pow(2,h.toNumber())+"").floor():s.div(new g(2).pow(h)).floor():s.isNegative()?new g(-1):s.isFinite()?new g(0):new g(NaN)}var name$3I="bitAnd",dependencies$3I=["typed","matrix","equalScalar","concat"],createBitAnd=factory(name$3I,dependencies$3I,s=>{var{typed:h,matrix:g,equalScalar:it,concat:ut}=s,ct=createMatAlgo02xDS0({typed:h,equalScalar:it}),dt=createMatAlgo06xS0S0({typed:h,equalScalar:it}),ht=createMatAlgo11xS0s({typed:h,equalScalar:it}),pt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:ut});return h(name$3I,{"number, number":bitAndNumber,"BigNumber, BigNumber":bitAndBigNumber},pt({SS:dt,DS:ct,Ss:ht}))}),name$3H="bitNot",dependencies$3H=["typed"],createBitNot=factory(name$3H,dependencies$3H,s=>{var{typed:h}=s;return h(name$3H,{number:bitNotNumber,BigNumber:bitNotBigNumber,"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),name$3G="bitOr",dependencies$3G=["typed","matrix","equalScalar","DenseMatrix","concat"],createBitOr=factory(name$3G,dependencies$3G,s=>{var{typed:h,matrix:g,equalScalar:it,DenseMatrix:ut,concat:ct}=s,dt=createMatAlgo01xDSid({typed:h}),ht=createMatAlgo04xSidSid({typed:h,equalScalar:it}),pt=createMatAlgo10xSids({typed:h,DenseMatrix:ut}),mt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:ct});return h(name$3G,{"number, number":bitOrNumber,"BigNumber, BigNumber":bitOrBigNumber},mt({SS:ht,DS:dt,Ss:pt}))}),name$3F="matAlgo07xSSf",dependencies$3F=["typed","DenseMatrix"],createMatAlgo07xSSf=factory(name$3F,dependencies$3F,s=>{var{typed:h,DenseMatrix:g}=s;return function(ct,dt,ht){var pt=ct._size,mt=ct._datatype,vt=dt._size,gt=dt._datatype;if(pt.length!==vt.length)throw new DimensionError(pt.length,vt.length);if(pt[0]!==vt[0]||pt[1]!==vt[1])throw new RangeError("Dimension mismatch. Matrix A ("+pt+") must match Matrix B ("+vt+")");var yt=pt[0],bt=pt[1],wt,Et=0,Mt=ht;typeof mt=="string"&&mt===gt&&(wt=mt,Et=h.convert(0,wt),Mt=h.find(ht,[wt,wt]));var Dt,$t,_t=[];for(Dt=0;Dt<yt;Dt++)_t[Dt]=[];var Nt=[],kt=[],At=[],Bt=[];for($t=0;$t<bt;$t++){var Ft=$t+1;for(it(ct,$t,At,Nt,Ft),it(dt,$t,Bt,kt,Ft),Dt=0;Dt<yt;Dt++){var Lt=At[Dt]===Ft?Nt[Dt]:Et,Ot=Bt[Dt]===Ft?kt[Dt]:Et;_t[Dt][$t]=Mt(Lt,Ot)}}return new g({data:_t,size:[yt,bt],datatype:wt})};function it(ut,ct,dt,ht,pt){for(var mt=ut._values,vt=ut._index,gt=ut._ptr,yt=gt[ct],bt=gt[ct+1];yt<bt;yt++){var wt=vt[yt];dt[wt]=pt,ht[wt]=mt[yt]}}}),name$3E="bitXor",dependencies$3E=["typed","matrix","DenseMatrix","concat"],createBitXor=factory(name$3E,dependencies$3E,s=>{var{typed:h,matrix:g,DenseMatrix:it,concat:ut}=s,ct=createMatAlgo03xDSf({typed:h}),dt=createMatAlgo07xSSf({typed:h,DenseMatrix:it}),ht=createMatAlgo12xSfs({typed:h,DenseMatrix:it}),pt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:ut});return h(name$3E,{"number, number":bitXorNumber,"BigNumber, BigNumber":bitXor$1},pt({SS:dt,DS:ct,Ss:ht}))}),name$3D="arg",dependencies$3D=["typed"],createArg=factory(name$3D,dependencies$3D,s=>{var{typed:h}=s;return h(name$3D,{number:function(it){return Math.atan2(0,it)},BigNumber:function(it){return it.constructor.atan2(0,it)},Complex:function(it){return it.arg()},"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),name$3C="conj",dependencies$3C=["typed"],createConj=factory(name$3C,dependencies$3C,s=>{var{typed:h}=s;return h(name$3C,{"number | BigNumber | Fraction":g=>g,Complex:g=>g.conjugate(),"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),name$3B="im",dependencies$3B=["typed"],createIm=factory(name$3B,dependencies$3B,s=>{var{typed:h}=s;return h(name$3B,{number:()=>0,"BigNumber | Fraction":g=>g.mul(0),Complex:g=>g.im,"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),name$3A="re",dependencies$3A=["typed"],createRe=factory(name$3A,dependencies$3A,s=>{var{typed:h}=s;return h(name$3A,{"number | BigNumber | Fraction":g=>g,Complex:g=>g.re,"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),name$3z="not",dependencies$3z=["typed"],createNot=factory(name$3z,dependencies$3z,s=>{var{typed:h}=s;return h(name$3z,{"null | undefined":()=>!0,number:notNumber,Complex:function(it){return it.re===0&&it.im===0},BigNumber:function(it){return it.isZero()||it.isNaN()},Unit:h.referToSelf(g=>it=>h.find(g,it.valueType())(it.value)),"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),name$3y="or",dependencies$3y=["typed","matrix","equalScalar","DenseMatrix","concat"],createOr=factory(name$3y,dependencies$3y,s=>{var{typed:h,matrix:g,equalScalar:it,DenseMatrix:ut,concat:ct}=s,dt=createMatAlgo03xDSf({typed:h}),ht=createMatAlgo05xSfSf({typed:h,equalScalar:it}),pt=createMatAlgo12xSfs({typed:h,DenseMatrix:ut}),mt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:ct});return h(name$3y,{"number, number":orNumber,"Complex, Complex":function(gt,yt){return gt.re!==0||gt.im!==0||yt.re!==0||yt.im!==0},"BigNumber, BigNumber":function(gt,yt){return!gt.isZero()&&!gt.isNaN()||!yt.isZero()&&!yt.isNaN()},"Unit, Unit":h.referToSelf(vt=>(gt,yt)=>vt(gt.value||0,yt.value||0))},mt({SS:ht,DS:dt,Ss:pt}))}),name$3x="xor",dependencies$3x=["typed","matrix","DenseMatrix","concat"],createXor=factory(name$3x,dependencies$3x,s=>{var{typed:h,matrix:g,DenseMatrix:it,concat:ut}=s,ct=createMatAlgo03xDSf({typed:h}),dt=createMatAlgo07xSSf({typed:h,DenseMatrix:it}),ht=createMatAlgo12xSfs({typed:h,DenseMatrix:it}),pt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:ut});return h(name$3x,{"number, number":xorNumber,"Complex, Complex":function(vt,gt){return(vt.re!==0||vt.im!==0)!=(gt.re!==0||gt.im!==0)},"BigNumber, BigNumber":function(vt,gt){return(!vt.isZero()&&!vt.isNaN())!=(!gt.isZero()&&!gt.isNaN())},"Unit, Unit":h.referToSelf(mt=>(vt,gt)=>mt(vt.value||0,gt.value||0))},pt({SS:dt,DS:ct,Ss:ht}))}),name$3w="concat",dependencies$3w=["typed","matrix","isInteger"],createConcat=factory(name$3w,dependencies$3w,s=>{var{typed:h,matrix:g,isInteger:it}=s;return h(name$3w,{"...Array | Matrix | number | BigNumber":function(ct){var dt,ht=ct.length,pt=-1,mt,vt=!1,gt=[];for(dt=0;dt<ht;dt++){var yt=ct[dt];if(isMatrix(yt)&&(vt=!0),isNumber(yt)||isBigNumber(yt)){if(dt!==ht-1)throw new Error("Dimension must be specified as last argument");if(mt=pt,pt=yt.valueOf(),!it(pt))throw new TypeError("Integer number expected for dimension");if(pt<0||dt>0&&pt>mt)throw new IndexError(pt,mt+1)}else{var bt=clone$3(yt).valueOf(),wt=arraySize(bt);if(gt[dt]=bt,mt=pt,pt=wt.length-1,dt>0&&pt!==mt)throw new DimensionError(mt+1,pt+1)}}if(gt.length===0)throw new SyntaxError("At least one matrix expected");for(var Et=gt.shift();gt.length;)Et=concat$1(Et,gt.shift(),pt);return vt?g(Et):Et},"...string":function(ct){return ct.join("")}})}),name$3v="column",dependencies$3v=["typed","Index","matrix","range"],createColumn=factory(name$3v,dependencies$3v,s=>{var{typed:h,Index:g,matrix:it,range:ut}=s;return h(name$3v,{"Matrix, number":ct,"Array, number":function(ht,pt){return ct(it(clone$3(ht)),pt).valueOf()}});function ct(dt,ht){if(dt.size().length!==2)throw new Error("Only two dimensional matrix is supported");validateIndex(ht,dt.size()[1]);var pt=ut(0,dt.size()[0]),mt=new g(pt,ht),vt=dt.subset(mt);return isMatrix(vt)?vt:it([[vt]])}}),name$3u="count",dependencies$3u=["typed","size","prod"],createCount=factory(name$3u,dependencies$3u,s=>{var{typed:h,size:g,prod:it}=s;return h(name$3u,{string:function(ct){return ct.length},"Matrix | Array":function(ct){return it(g(ct))}})}),name$3t="cross",dependencies$3t=["typed","matrix","subtract","multiply"],createCross=factory(name$3t,dependencies$3t,s=>{var{typed:h,matrix:g,subtract:it,multiply:ut}=s;return h(name$3t,{"Matrix, Matrix":function(ht,pt){return g(ct(ht.toArray(),pt.toArray()))},"Matrix, Array":function(ht,pt){return g(ct(ht.toArray(),pt))},"Array, Matrix":function(ht,pt){return g(ct(ht,pt.toArray()))},"Array, Array":ct});function ct(dt,ht){var pt=Math.max(arraySize(dt).length,arraySize(ht).length);dt=squeeze$1(dt),ht=squeeze$1(ht);var mt=arraySize(dt),vt=arraySize(ht);if(mt.length!==1||vt.length!==1||mt[0]!==3||vt[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+mt.join(", ")+"], B = ["+vt.join(", ")+"])");var gt=[it(ut(dt[1],ht[2]),ut(dt[2],ht[1])),it(ut(dt[2],ht[0]),ut(dt[0],ht[2])),it(ut(dt[0],ht[1]),ut(dt[1],ht[0]))];return pt>1?[gt]:gt}}),name$3s="diag",dependencies$3s=["typed","matrix","DenseMatrix","SparseMatrix"],createDiag=factory(name$3s,dependencies$3s,s=>{var{typed:h,matrix:g,DenseMatrix:it,SparseMatrix:ut}=s;return h(name$3s,{Array:function(mt){return ct(mt,0,arraySize(mt),null)},"Array, number":function(mt,vt){return ct(mt,vt,arraySize(mt),null)},"Array, BigNumber":function(mt,vt){return ct(mt,vt.toNumber(),arraySize(mt),null)},"Array, string":function(mt,vt){return ct(mt,0,arraySize(mt),vt)},"Array, number, string":function(mt,vt,gt){return ct(mt,vt,arraySize(mt),gt)},"Array, BigNumber, string":function(mt,vt,gt){return ct(mt,vt.toNumber(),arraySize(mt),gt)},Matrix:function(mt){return ct(mt,0,mt.size(),mt.storage())},"Matrix, number":function(mt,vt){return ct(mt,vt,mt.size(),mt.storage())},"Matrix, BigNumber":function(mt,vt){return ct(mt,vt.toNumber(),mt.size(),mt.storage())},"Matrix, string":function(mt,vt){return ct(mt,0,mt.size(),vt)},"Matrix, number, string":function(mt,vt,gt){return ct(mt,vt,mt.size(),gt)},"Matrix, BigNumber, string":function(mt,vt,gt){return ct(mt,vt.toNumber(),mt.size(),gt)}});function ct(pt,mt,vt,gt){if(!isInteger$1(mt))throw new TypeError("Second parameter in function diag must be an integer");var yt=mt>0?mt:0,bt=mt<0?-mt:0;switch(vt.length){case 1:return dt(pt,mt,gt,vt[0],bt,yt);case 2:return ht(pt,mt,gt,vt,bt,yt)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function dt(pt,mt,vt,gt,yt,bt){var wt=[gt+yt,gt+bt];if(vt&&vt!=="sparse"&&vt!=="dense")throw new TypeError("Unknown matrix type ".concat(vt,'"'));var Et=vt==="sparse"?ut.diagonal(wt,pt,mt):it.diagonal(wt,pt,mt);return vt!==null?Et:Et.valueOf()}function ht(pt,mt,vt,gt,yt,bt){if(isMatrix(pt)){var wt=pt.diagonal(mt);return vt!==null?vt!==wt.storage()?g(wt,vt):wt:wt.valueOf()}for(var Et=Math.min(gt[0]-yt,gt[1]-bt),Mt=[],Dt=0;Dt<Et;Dt++)Mt[Dt]=pt[Dt+yt][Dt+bt];return vt!==null?g(Mt):Mt}});function applyCallback(s,h,g,it,ut){if(typedFunction.isTypedFunction(s)){var ct=[h,g,it],dt=typedFunction.resolve(s,ct);if(dt)return gt(dt.implementation,ct);var ht=[h,g],pt=typedFunction.resolve(s,ht);if(pt)return gt(pt.implementation,ht);var mt=[h],vt=typedFunction.resolve(s,mt);return vt?gt(vt.implementation,mt):gt(s,ct)}else return s(h,g,it);function gt(yt,bt){try{return yt.apply(yt,bt)}catch(Mt){var wt;if(Mt instanceof TypeError&&((wt=Mt.data)===null||wt===void 0?void 0:wt.category)==="wrongType"){var Et=[];throw Et.push("value: ".concat(typeOf$1(h))),bt.length>=2&&Et.push("index: ".concat(typeOf$1(g))),bt.length>=3&&Et.push("array: ".concat(typeOf$1(it))),new TypeError("Function ".concat(ut," cannot apply callback arguments ")+"".concat(s.name,"(").concat(Et.join(", "),") at index ").concat(JSON.stringify(g)))}else throw new TypeError("Function ".concat(ut," cannot apply callback arguments ")+"to function ".concat(s.name,": ").concat(Mt.message))}}}var name$3r="filter",dependencies$3r=["typed"],createFilter=factory(name$3r,dependencies$3r,s=>{var{typed:h}=s;return h("filter",{"Array, function":_filterCallback,"Matrix, function":function(it,ut){return it.create(_filterCallback(it.toArray(),ut))},"Array, RegExp":filterRegExp,"Matrix, RegExp":function(it,ut){return it.create(filterRegExp(it.toArray(),ut))}})});function _filterCallback(s,h){return filter$1(s,function(g,it,ut){return applyCallback(h,g,[it],ut,"filter")})}var name$3q="flatten",dependencies$3q=["typed","matrix"],createFlatten=factory(name$3q,dependencies$3q,s=>{var{typed:h,matrix:g}=s;return h(name$3q,{Array:function(ut){return flatten$1(ut)},Matrix:function(ut){var ct=flatten$1(ut.toArray());return g(ct)}})}),name$3p="forEach",dependencies$3p=["typed"],createForEach=factory(name$3p,dependencies$3p,s=>{var{typed:h}=s;return h(name$3p,{"Array, function":_forEach,"Matrix, function":function(it,ut){it.forEach(ut)}})});function _forEach(s,h){var g=function it(ut,ct){if(Array.isArray(ut))forEach$1(ut,function(dt,ht){it(dt,ct.concat(ht))});else return applyCallback(h,ut,ct,s,"forEach")};g(s,[])}var name$3o="getMatrixDataType",dependencies$3o=["typed"],createGetMatrixDataType=factory(name$3o,dependencies$3o,s=>{var{typed:h}=s;return h(name$3o,{Array:function(it){return getArrayDataType(it,typeOf$1)},Matrix:function(it){return it.getDataType()}})}),name$3n="identity",dependencies$3n=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],createIdentity=factory(name$3n,dependencies$3n,s=>{var{typed:h,config:g,matrix:it,BigNumber:ut,DenseMatrix:ct,SparseMatrix:dt}=s;return h(name$3n,{"":function(){return g.matrix==="Matrix"?it([]):[]},string:function(vt){return it(vt)},"number | BigNumber":function(vt){return pt(vt,vt,g.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(vt,gt){return pt(vt,vt,gt)},"number | BigNumber, number | BigNumber":function(vt,gt){return pt(vt,gt,g.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(vt,gt,yt){return pt(vt,gt,yt)},Array:function(vt){return ht(vt)},"Array, string":function(vt,gt){return ht(vt,gt)},Matrix:function(vt){return ht(vt.valueOf(),vt.storage())},"Matrix, string":function(vt,gt){return ht(vt.valueOf(),gt)}});function ht(mt,vt){switch(mt.length){case 0:return vt?it(vt):[];case 1:return pt(mt[0],mt[0],vt);case 2:return pt(mt[0],mt[1],vt);default:throw new Error("Vector containing two values expected")}}function pt(mt,vt,gt){var yt=isBigNumber(mt)||isBigNumber(vt)?ut:null;if(isBigNumber(mt)&&(mt=mt.toNumber()),isBigNumber(vt)&&(vt=vt.toNumber()),!isInteger$1(mt)||mt<1)throw new Error("Parameters in function identity must be positive integers");if(!isInteger$1(vt)||vt<1)throw new Error("Parameters in function identity must be positive integers");var bt=yt?new ut(1):1,wt=yt?new yt(0):0,Et=[mt,vt];if(gt){if(gt==="sparse")return dt.diagonal(Et,bt,0,wt);if(gt==="dense")return ct.diagonal(Et,bt,0,wt);throw new TypeError('Unknown matrix type "'.concat(gt,'"'))}for(var Mt=resize$1([],Et,wt),Dt=mt<vt?mt:vt,$t=0;$t<Dt;$t++)Mt[$t][$t]=bt;return Mt}}),name$3m="kron",dependencies$3m=["typed","matrix","multiplyScalar"],createKron=factory(name$3m,dependencies$3m,s=>{var{typed:h,matrix:g,multiplyScalar:it}=s;return h(name$3m,{"Matrix, Matrix":function(dt,ht){return g(ut(dt.toArray(),ht.toArray()))},"Matrix, Array":function(dt,ht){return g(ut(dt.toArray(),ht))},"Array, Matrix":function(dt,ht){return g(ut(dt,ht.toArray()))},"Array, Array":ut});function ut(ct,dt){if(arraySize(ct).length===1&&(ct=[ct]),arraySize(dt).length===1&&(dt=[dt]),arraySize(ct).length>2||arraySize(dt).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(ct.length)+", y = "+JSON.stringify(dt.length)+")");var ht=[],pt=[];return ct.map(function(mt){return dt.map(function(vt){return pt=[],ht.push(pt),mt.map(function(gt){return vt.map(function(yt){return pt.push(it(gt,yt))})})})})&&ht}}),name$3l="map",dependencies$3l=["typed"],createMap=factory(name$3l,dependencies$3l,s=>{var{typed:h}=s;return h(name$3l,{"Array, function":_map$1,"Matrix, function":function(it,ut){return it.map(ut)}})});function _map$1(s,h){var g=function it(ut,ct){return Array.isArray(ut)?ut.map(function(dt,ht){return it(dt,ct.concat(ht))}):applyCallback(h,ut,ct,s,"map")};return g(s,[])}var name$3k="diff",dependencies$3k=["typed","matrix","subtract","number"],createDiff=factory(name$3k,dependencies$3k,s=>{var{typed:h,matrix:g,subtract:it,number:ut}=s;return h(name$3k,{"Array | Matrix":function(vt){return isMatrix(vt)?g(dt(vt.toArray())):dt(vt)},"Array | Matrix, number":function(vt,gt){if(!isInteger$1(gt))throw new RangeError("Dimension must be a whole number");return isMatrix(vt)?g(ct(vt.toArray(),gt)):ct(vt,gt)},"Array, BigNumber":h.referTo("Array,number",mt=>(vt,gt)=>mt(vt,ut(gt))),"Matrix, BigNumber":h.referTo("Matrix,number",mt=>(vt,gt)=>mt(vt,ut(gt)))});function ct(mt,vt){if(isMatrix(mt)&&(mt=mt.toArray()),!Array.isArray(mt))throw RangeError("Array/Matrix does not have that many dimensions");if(vt>0){var gt=[];return mt.forEach(yt=>{gt.push(ct(yt,vt-1))}),gt}else{if(vt===0)return dt(mt);throw RangeError("Cannot have negative dimension")}}function dt(mt){for(var vt=[],gt=mt.length,yt=1;yt<gt;yt++)vt.push(ht(mt[yt-1],mt[yt]));return vt}function ht(mt,vt){isMatrix(mt)&&(mt=mt.toArray()),isMatrix(vt)&&(vt=vt.toArray());var gt=Array.isArray(mt),yt=Array.isArray(vt);if(gt&&yt)return pt(mt,vt);if(!gt&&!yt)return it(vt,mt);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function pt(mt,vt){if(mt.length!==vt.length)throw RangeError("Not all sub-arrays have the same length");for(var gt=[],yt=mt.length,bt=0;bt<yt;bt++)gt.push(ht(mt[bt],vt[bt]));return gt}}),name$3j="ones",dependencies$3j=["typed","config","matrix","BigNumber"],createOnes=factory(name$3j,dependencies$3j,s=>{var{typed:h,config:g,matrix:it,BigNumber:ut}=s;return h("ones",{"":function(){return g.matrix==="Array"?ct([]):ct([],"default")},"...number | BigNumber | string":function(mt){var vt=mt[mt.length-1];if(typeof vt=="string"){var gt=mt.pop();return ct(mt,gt)}else return g.matrix==="Array"?ct(mt):ct(mt,"default")},Array:ct,Matrix:function(mt){var vt=mt.storage();return ct(mt.valueOf(),vt)},"Array | Matrix, string":function(mt,vt){return ct(mt.valueOf(),vt)}});function ct(pt,mt){var vt=dt(pt),gt=vt?new ut(1):1;if(ht(pt),mt){var yt=it(mt);return pt.length>0?yt.resize(pt,gt):yt}else{var bt=[];return pt.length>0?resize$1(bt,pt,gt):bt}}function dt(pt){var mt=!1;return pt.forEach(function(vt,gt,yt){isBigNumber(vt)&&(mt=!0,yt[gt]=vt.toNumber())}),mt}function ht(pt){pt.forEach(function(mt){if(typeof mt!="number"||!isInteger$1(mt)||mt<0)throw new Error("Parameters in function ones must be positive integers")})}});function noBignumber(){throw new Error('No "bignumber" implementation available')}function noFraction(){throw new Error('No "fraction" implementation available')}function noMatrix(){throw new Error('No "matrix" implementation available')}var name$3i="range",dependencies$3i=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],createRange=factory(name$3i,dependencies$3i,s=>{var{typed:h,config:g,matrix:it,bignumber:ut,smaller:ct,smallerEq:dt,larger:ht,largerEq:pt,add:mt,isPositive:vt}=s;return h(name$3i,{string:yt,"string, boolean":yt,"number, number":function(Mt,Dt){return gt(bt(Mt,Dt,1,!1))},"number, number, number":function(Mt,Dt,$t){return gt(bt(Mt,Dt,$t,!1))},"number, number, boolean":function(Mt,Dt,$t){return gt(bt(Mt,Dt,1,$t))},"number, number, number, boolean":function(Mt,Dt,$t,_t){return gt(bt(Mt,Dt,$t,_t))},"BigNumber, BigNumber":function(Mt,Dt){var $t=Mt.constructor;return gt(bt(Mt,Dt,new $t(1),!1))},"BigNumber, BigNumber, BigNumber":function(Mt,Dt,$t){return gt(bt(Mt,Dt,$t,!1))},"BigNumber, BigNumber, boolean":function(Mt,Dt,$t){var _t=Mt.constructor;return gt(bt(Mt,Dt,new _t(1),$t))},"BigNumber, BigNumber, BigNumber, boolean":function(Mt,Dt,$t,_t){return gt(bt(Mt,Dt,$t,_t))},"Unit, Unit, Unit":function(Mt,Dt,$t){return gt(bt(Mt,Dt,$t,!1))},"Unit, Unit, Unit, boolean":function(Mt,Dt,$t,_t){return gt(bt(Mt,Dt,$t,_t))}});function gt(Et){return g.matrix==="Matrix"?it?it(Et):noMatrix():Et}function yt(Et,Mt){var Dt=wt(Et);if(!Dt)throw new SyntaxError('String "'+Et+'" is no valid range');return g.number==="BigNumber"?(ut===void 0&&noBignumber(),gt(bt(ut(Dt.start),ut(Dt.end),ut(Dt.step)))):gt(bt(Dt.start,Dt.end,Dt.step,Mt))}function bt(Et,Mt,Dt,$t){for(var _t=[],Nt=vt(Dt)?$t?dt:ct:$t?pt:ht,kt=Et;Nt(kt,Mt);)_t.push(kt),kt=mt(kt,Dt);return _t}function wt(Et){var Mt=Et.split(":"),Dt=Mt.map(function(_t){return Number(_t)}),$t=Dt.some(function(_t){return isNaN(_t)});if($t)return null;switch(Dt.length){case 2:return{start:Dt[0],end:Dt[1],step:1};case 3:return{start:Dt[0],end:Dt[2],step:Dt[1]};default:return null}}}),name$3h="reshape",dependencies$3h=["typed","isInteger","matrix"],createReshape=factory(name$3h,dependencies$3h,s=>{var{typed:h,isInteger:g}=s;return h(name$3h,{"Matrix, Array":function(ut,ct){return ut.reshape(ct,!0)},"Array, Array":function(ut,ct){return ct.forEach(function(dt){if(!g(dt))throw new TypeError("Invalid size for dimension: "+dt)}),reshape$1(ut,ct)}})}),name$3g="resize",dependencies$3g=["config","matrix"],createResize=factory(name$3g,dependencies$3g,s=>{var{config:h,matrix:g}=s;return function(ct,dt,ht){if(arguments.length!==2&&arguments.length!==3)throw new ArgumentsError("resize",arguments.length,2,3);if(isMatrix(dt)&&(dt=dt.valueOf()),isBigNumber(dt[0])&&(dt=dt.map(function(vt){return isBigNumber(vt)?vt.toNumber():vt})),isMatrix(ct))return ct.resize(dt,ht,!0);if(typeof ct=="string")return it(ct,dt,ht);var pt=Array.isArray(ct)?!1:h.matrix!=="Array";if(dt.length===0){for(;Array.isArray(ct);)ct=ct[0];return clone$3(ct)}else{Array.isArray(ct)||(ct=[ct]),ct=clone$3(ct);var mt=resize$1(ct,dt,ht);return pt?g(mt):mt}};function it(ut,ct,dt){if(dt!==void 0){if(typeof dt!="string"||dt.length!==1)throw new TypeError("Single character expected as defaultValue")}else dt=" ";if(ct.length!==1)throw new DimensionError(ct.length,1);var ht=ct[0];if(typeof ht!="number"||!isInteger$1(ht))throw new TypeError("Invalid size, must contain positive integers (size: "+format$1(ct)+")");if(ut.length>ht)return ut.substring(0,ht);if(ut.length<ht){for(var pt=ut,mt=0,vt=ht-ut.length;mt<vt;mt++)pt+=dt;return pt}else return ut}}),name$3f="rotate",dependencies$3f=["typed","multiply","rotationMatrix"],createRotate=factory(name$3f,dependencies$3f,s=>{var{typed:h,multiply:g,rotationMatrix:it}=s;return h(name$3f,{"Array , number | BigNumber | Complex | Unit":function(dt,ht){ut(dt,2);var pt=g(it(ht),dt);return pt.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(dt,ht){return ut(dt,2),g(it(ht),dt)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(dt,ht,pt){ut(dt,3);var mt=g(it(ht,pt),dt);return mt},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(dt,ht,pt){return ut(dt,3),g(it(ht,pt),dt)}});function ut(ct,dt){var ht=Array.isArray(ct)?arraySize(ct):ct.size();if(ht.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(dt));if(ht.length===2&&ht[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(dt));if(ht[0]!==dt)throw new RangeError("Vector must be of dimensions 1x".concat(dt))}}),name$3e="rotationMatrix",dependencies$3e=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],createRotationMatrix=factory(name$3e,dependencies$3e,s=>{var{typed:h,config:g,multiplyScalar:it,addScalar:ut,unaryMinus:ct,norm:dt,BigNumber:ht,matrix:pt,DenseMatrix:mt,SparseMatrix:vt,cos:gt,sin:yt}=s;return h(name$3e,{"":function(){return g.matrix==="Matrix"?pt([]):[]},string:function(_t){return pt(_t)},"number | BigNumber | Complex | Unit":function(_t){return bt(_t,g.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(_t,Nt){return bt(_t,Nt)},"number | BigNumber | Complex | Unit, Array":function(_t,Nt){var kt=pt(Nt);return wt(kt),Dt(_t,kt,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(_t,Nt){wt(Nt);var kt=Nt.storage()||(g.matrix==="Matrix"?"dense":void 0);return Dt(_t,Nt,kt)},"number | BigNumber | Complex | Unit, Array, string":function(_t,Nt,kt){var At=pt(Nt);return wt(At),Dt(_t,At,kt)},"number | BigNumber | Complex | Unit, Matrix, string":function(_t,Nt,kt){return wt(Nt),Dt(_t,Nt,kt)}});function bt($t,_t){var Nt=isBigNumber($t),kt=Nt?new ht(-1):-1,At=gt($t),Bt=yt($t),Ft=[[At,it(kt,Bt)],[Bt,At]];return Mt(Ft,_t)}function wt($t){var _t=$t.size();if(_t.length<1||_t[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function Et($t){return $t.reduce((_t,Nt)=>it(_t,Nt))}function Mt($t,_t){if(_t){if(_t==="sparse")return new vt($t);if(_t==="dense")return new mt($t);throw new TypeError('Unknown matrix type "'.concat(_t,'"'))}return $t}function Dt($t,_t,Nt){var kt=dt(_t);if(kt===0)throw new RangeError("Rotation around zero vector");var At=isBigNumber($t)?ht:null,Bt=At?new At(1):1,Ft=At?new At(-1):-1,Lt=At?new At(_t.get([0])/kt):_t.get([0])/kt,Ot=At?new At(_t.get([1])/kt):_t.get([1])/kt,It=At?new At(_t.get([2])/kt):_t.get([2])/kt,Rt=gt($t),Vt=ut(Bt,ct(Rt)),Xt=yt($t),Wt=ut(Rt,Et([Lt,Lt,Vt])),jt=ut(Et([Lt,Ot,Vt]),Et([Ft,It,Xt])),qt=ut(Et([Lt,It,Vt]),Et([Ot,Xt])),Zt=ut(Et([Lt,Ot,Vt]),Et([It,Xt])),Ut=ut(Rt,Et([Ot,Ot,Vt])),Yt=ut(Et([Ot,It,Vt]),Et([Ft,Lt,Xt])),lr=ut(Et([Lt,It,Vt]),Et([Ft,Ot,Xt])),rr=ut(Et([Ot,It,Vt]),Et([Lt,Xt])),Qt=ut(Rt,Et([It,It,Vt])),ur=[[Wt,jt,qt],[Zt,Ut,Yt],[lr,rr,Qt]];return Mt(ur,Nt)}}),name$3d="row",dependencies$3d=["typed","Index","matrix","range"],createRow=factory(name$3d,dependencies$3d,s=>{var{typed:h,Index:g,matrix:it,range:ut}=s;return h(name$3d,{"Matrix, number":ct,"Array, number":function(ht,pt){return ct(it(clone$3(ht)),pt).valueOf()}});function ct(dt,ht){if(dt.size().length!==2)throw new Error("Only two dimensional matrix is supported");validateIndex(ht,dt.size()[0]);var pt=ut(0,dt.size()[1]),mt=new g(ht,pt),vt=dt.subset(mt);return isMatrix(vt)?vt:it([[vt]])}}),name$3c="size",dependencies$3c=["typed","config","?matrix"],createSize=factory(name$3c,dependencies$3c,s=>{var{typed:h,config:g,matrix:it}=s;return h(name$3c,{Matrix:function(ct){return ct.create(ct.size())},Array:arraySize,string:function(ct){return g.matrix==="Array"?[ct.length]:it([ct.length])},"number | Complex | BigNumber | Unit | boolean | null":function(ct){return g.matrix==="Array"?[]:it?it([]):noMatrix()}})}),name$3b="squeeze",dependencies$3b=["typed","matrix"],createSqueeze=factory(name$3b,dependencies$3b,s=>{var{typed:h,matrix:g}=s;return h(name$3b,{Array:function(ut){return squeeze$1(clone$3(ut))},Matrix:function(ut){var ct=squeeze$1(ut.toArray());return Array.isArray(ct)?g(ct):ct},any:function(ut){return clone$3(ut)}})}),name$3a="subset",dependencies$3a=["typed","matrix","zeros","add"],createSubset=factory(name$3a,dependencies$3a,s=>{var{typed:h,matrix:g,zeros:it,add:ut}=s;return h(name$3a,{"Matrix, Index":function(ht,pt){return isEmptyIndex(pt)?g():(validateIndexSourceSize(ht,pt),ht.subset(pt))},"Array, Index":h.referTo("Matrix, Index",function(dt){return function(ht,pt){var mt=dt(g(ht),pt);return pt.isScalar()?mt:mt.valueOf()}}),"Object, Index":_getObjectProperty,"string, Index":_getSubstring,"Matrix, Index, any, any":function(ht,pt,mt,vt){return isEmptyIndex(pt)?ht:(validateIndexSourceSize(ht,pt),ht.clone().subset(pt,ct(mt,pt),vt))},"Array, Index, any, any":h.referTo("Matrix, Index, any, any",function(dt){return function(ht,pt,mt,vt){var gt=dt(g(ht),pt,mt,vt);return gt.isMatrix?gt.valueOf():gt}}),"Array, Index, any":h.referTo("Matrix, Index, any, any",function(dt){return function(ht,pt,mt){return dt(g(ht),pt,mt,void 0).valueOf()}}),"Matrix, Index, any":h.referTo("Matrix, Index, any, any",function(dt){return function(ht,pt,mt){return dt(ht,pt,mt,void 0)}}),"string, Index, string":_setSubstring,"string, Index, string, string":_setSubstring,"Object, Index, any":_setObjectProperty});function ct(dt,ht){if(typeof dt=="string")throw new Error("can't boradcast a string");if(ht._isScalar)return dt;var pt=ht.size();if(pt.every(mt=>mt>0))try{return ut(dt,it(pt))}catch{return dt}else return dt}});function _getSubstring(s,h){if(!isIndex(h))throw new TypeError("Index expected");if(isEmptyIndex(h))return"";if(validateIndexSourceSize(Array.from(s),h),h.size().length!==1)throw new DimensionError(h.size().length,1);var g=s.length;validateIndex(h.min()[0],g),validateIndex(h.max()[0],g);var it=h.dimension(0),ut="";return it.forEach(function(ct){ut+=s.charAt(ct)}),ut}function _setSubstring(s,h,g,it){if(!h||h.isIndex!==!0)throw new TypeError("Index expected");if(isEmptyIndex(h))return s;if(validateIndexSourceSize(Array.from(s),h),h.size().length!==1)throw new DimensionError(h.size().length,1);if(it!==void 0){if(typeof it!="string"||it.length!==1)throw new TypeError("Single character expected as defaultValue")}else it=" ";var ut=h.dimension(0),ct=ut.size()[0];if(ct!==g.length)throw new DimensionError(ut.size()[0],g.length);var dt=s.length;validateIndex(h.min()[0]),validateIndex(h.max()[0]);for(var ht=[],pt=0;pt<dt;pt++)ht[pt]=s.charAt(pt);if(ut.forEach(function(gt,yt){ht[gt]=g.charAt(yt[0])}),ht.length>dt)for(var mt=dt-1,vt=ht.length;mt<vt;mt++)ht[mt]||(ht[mt]=it);return ht.join("")}function _getObjectProperty(s,h){if(!isEmptyIndex(h)){if(h.size().length!==1)throw new DimensionError(h.size(),1);var g=h.dimension(0);if(typeof g!="string")throw new TypeError("String expected as index to retrieve an object property");return getSafeProperty(s,g)}}function _setObjectProperty(s,h,g){if(isEmptyIndex(h))return s;if(h.size().length!==1)throw new DimensionError(h.size(),1);var it=h.dimension(0);if(typeof it!="string")throw new TypeError("String expected as index to retrieve an object property");var ut=clone$3(s);return setSafeProperty(ut,it,g),ut}var name$39="transpose",dependencies$39=["typed","matrix"],createTranspose=factory(name$39,dependencies$39,s=>{var{typed:h,matrix:g}=s;return h(name$39,{Array:dt=>it(g(dt)).valueOf(),Matrix:it,any:clone$3});function it(dt){var ht=dt.size(),pt;switch(ht.length){case 1:pt=dt.clone();break;case 2:{var mt=ht[0],vt=ht[1];if(vt===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+format$1(ht)+")");switch(dt.storage()){case"dense":pt=ut(dt,mt,vt);break;case"sparse":pt=ct(dt,mt,vt);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+format$1(ht)+")")}return pt}function ut(dt,ht,pt){for(var mt=dt._data,vt=[],gt,yt=0;yt<pt;yt++){gt=vt[yt]=[];for(var bt=0;bt<ht;bt++)gt[bt]=clone$3(mt[bt][yt])}return dt.createDenseMatrix({data:vt,size:[pt,ht],datatype:dt._datatype})}function ct(dt,ht,pt){for(var mt=dt._values,vt=dt._index,gt=dt._ptr,yt=mt?[]:void 0,bt=[],wt=[],Et=[],Mt=0;Mt<ht;Mt++)Et[Mt]=0;var Dt,$t,_t;for(Dt=0,$t=vt.length;Dt<$t;Dt++)Et[vt[Dt]]++;for(var Nt=0,kt=0;kt<ht;kt++)wt.push(Nt),Nt+=Et[kt],Et[kt]=wt[kt];for(wt.push(Nt),_t=0;_t<pt;_t++)for(var At=gt[_t],Bt=gt[_t+1],Ft=At;Ft<Bt;Ft++){var Lt=Et[vt[Ft]]++;bt[Lt]=_t,mt&&(yt[Lt]=clone$3(mt[Ft]))}return dt.createSparseMatrix({values:yt,index:bt,ptr:wt,size:[pt,ht],datatype:dt._datatype})}}),name$38="ctranspose",dependencies$38=["typed","transpose","conj"],createCtranspose=factory(name$38,dependencies$38,s=>{var{typed:h,transpose:g,conj:it}=s;return h(name$38,{any:function(ct){return it(g(ct))}})}),name$37="zeros",dependencies$37=["typed","config","matrix","BigNumber"],createZeros=factory(name$37,dependencies$37,s=>{var{typed:h,config:g,matrix:it,BigNumber:ut}=s;return h(name$37,{"":function(){return g.matrix==="Array"?ct([]):ct([],"default")},"...number | BigNumber | string":function(mt){var vt=mt[mt.length-1];if(typeof vt=="string"){var gt=mt.pop();return ct(mt,gt)}else return g.matrix==="Array"?ct(mt):ct(mt,"default")},Array:ct,Matrix:function(mt){var vt=mt.storage();return ct(mt.valueOf(),vt)},"Array | Matrix, string":function(mt,vt){return ct(mt.valueOf(),vt)}});function ct(pt,mt){var vt=dt(pt),gt=vt?new ut(0):0;if(ht(pt),mt){var yt=it(mt);return pt.length>0?yt.resize(pt,gt):yt}else{var bt=[];return pt.length>0?resize$1(bt,pt,gt):bt}}function dt(pt){var mt=!1;return pt.forEach(function(vt,gt,yt){isBigNumber(vt)&&(mt=!0,yt[gt]=vt.toNumber())}),mt}function ht(pt){pt.forEach(function(mt){if(typeof mt!="number"||!isInteger$1(mt)||mt<0)throw new Error("Parameters in function zeros must be positive integers")})}}),name$36="fft",dependencies$36=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],createFft=factory(name$36,dependencies$36,s=>{var{typed:h,matrix:g,addScalar:it,multiplyScalar:ut,divideScalar:ct,exp:dt,tau:ht,i:pt,dotDivide:mt,conj:vt,pow:gt,ceil:yt,log2:bt}=s;return h(name$36,{Array:wt,Matrix:function(_t){return _t.create(wt(_t.toArray()))}});function wt($t){var _t=arraySize($t);return _t.length===1?Dt($t,_t[0]):Et($t.map(Nt=>wt(Nt,_t.slice(1))),0)}function Et($t,_t){var Nt=arraySize($t);if(_t!==0)return new Array(Nt[0]).fill(0).map((At,Bt)=>Et($t[Bt],_t-1));if(Nt.length===1)return Dt($t);function kt(At){var Bt=arraySize(At);return new Array(Bt[1]).fill(0).map((Ft,Lt)=>new Array(Bt[0]).fill(0).map((Ot,It)=>At[It][Lt]))}return kt(Et(kt($t),1))}function Mt($t){for(var _t=$t.length,Nt=dt(ct(ut(-1,ut(pt,ht)),_t)),kt=[],At=1-_t;At<_t;At++)kt.push(gt(Nt,ct(gt(At,2),2)));for(var Bt=gt(2,yt(bt(_t+_t-1))),Ft=[...new Array(_t).fill(0).map((jt,qt)=>ut($t[qt],kt[_t-1+qt])),...new Array(Bt-_t).fill(0)],Lt=[...new Array(_t+_t-1).fill(0).map((jt,qt)=>ct(1,kt[qt])),...new Array(Bt-(_t+_t-1)).fill(0)],Ot=Dt(Ft),It=Dt(Lt),Rt=new Array(Bt).fill(0).map((jt,qt)=>ut(Ot[qt],It[qt])),Vt=mt(vt(wt(vt(Rt))),Bt),Xt=[],Wt=_t-1;Wt<_t+_t-1;Wt++)Xt.push(ut(Vt[Wt],kt[Wt]));return Xt}function Dt($t){var _t=$t.length;if(_t===1)return[$t[0]];if(_t%2===0){for(var Nt=[...Dt($t.filter((Ft,Lt)=>Lt%2===0)),...Dt($t.filter((Ft,Lt)=>Lt%2===1))],kt=0;kt<_t/2;kt++){var At=Nt[kt],Bt=ut(Nt[kt+_t/2],dt(ut(ut(ht,pt),ct(-kt,_t))));Nt[kt]=it(At,Bt),Nt[kt+_t/2]=it(At,ut(-1,Bt))}return Nt}else return Mt($t)}}),name$35="ifft",dependencies$35=["typed","fft","dotDivide","conj"],createIfft=factory(name$35,dependencies$35,s=>{var{typed:h,fft:g,dotDivide:it,conj:ut}=s;return h(name$35,{"Array | Matrix":function(dt){var ht=isMatrix(dt)?dt.size():arraySize(dt);return it(ut(g(ut(dt))),ht.reduce((pt,mt)=>pt*mt,1))}})});function _typeof(s){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},_typeof(s)}function _toPrimitive(s,h){if(_typeof(s)!=="object"||s===null)return s;var g=s[Symbol.toPrimitive];if(g!==void 0){var it=g.call(s,h||"default");if(_typeof(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(s)}function _toPropertyKey(s){var h=_toPrimitive(s,"string");return _typeof(h)==="symbol"?h:String(h)}function _defineProperty(s,h,g){return h=_toPropertyKey(h),h in s?Object.defineProperty(s,h,{value:g,enumerable:!0,configurable:!0,writable:!0}):s[h]=g,s}function ownKeys$3(s,h){var g=Object.keys(s);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(s);h&&(it=it.filter(function(ut){return Object.getOwnPropertyDescriptor(s,ut).enumerable})),g.push.apply(g,it)}return g}function _objectSpread$2(s){for(var h=1;h<arguments.length;h++){var g=arguments[h]!=null?arguments[h]:{};h%2?ownKeys$3(Object(g),!0).forEach(function(it){_defineProperty(s,it,g[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(g)):ownKeys$3(Object(g)).forEach(function(it){Object.defineProperty(s,it,Object.getOwnPropertyDescriptor(g,it))})}return s}var name$34="solveODE",dependencies$34=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],createSolveODE=factory(name$34,dependencies$34,s=>{var{typed:h,add:g,subtract:it,multiply:ut,divide:ct,max:dt,map:ht,abs:pt,isPositive:mt,isNegative:vt,larger:gt,smaller:yt,matrix:bt,bignumber:wt,unaryMinus:Et}=s;function Mt(Ft){return function(Lt,Ot,It,Rt){var Vt=!(Ot.length===2&&(Ot.every(At)||Ot.every(isUnit)));if(Vt)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var Xt=Ot[0],Wt=Ot[1],jt=gt(Wt,Xt),qt=Rt.firstStep;if(qt!==void 0&&!mt(qt))throw new Error('"firstStep" must be positive');var Zt=Rt.maxStep;if(Zt!==void 0&&!mt(Zt))throw new Error('"maxStep" must be positive');var Ut=Rt.minStep;if(Ut&&vt(Ut))throw new Error('"minStep" must be positive or zero');var Yt=[Xt,Wt,qt,Ut,Zt].filter(er=>er!==void 0);if(!(Yt.every(At)||Yt.every(isUnit)))throw new Error('Inconsistent type of "t" dependant variables');for(var lr=1,rr=Rt.tol?Rt.tol:1e-4,Qt=Rt.minDelta?Rt.minDelta:.2,ur=Rt.maxDelta?Rt.maxDelta:5,wr=Rt.maxIter?Rt.maxIter:1e4,vr=[Xt,Wt,...It,Zt,Ut].some(isBigNumber),[Dr,Or,Mr,dr]=vr?[wt(Ft.a),wt(Ft.c),wt(Ft.b),wt(Ft.bp)]:[Ft.a,Ft.c,Ft.b,Ft.bp],_r=qt?jt?qt:Et(qt):ct(it(Wt,Xt),lr),zr=[Xt],yr=[It],Lr=it(Mr,dr),tr=0,ir=0,br=Nt(jt),nr=kt(jt);br(zr[tr],Wt);){var cr=[];_r=nr(zr[tr],Wt,_r),cr.push(Lt(zr[tr],yr[tr]));for(var gr=1;gr<Or.length;++gr)cr.push(Lt(g(zr[tr],ut(Or[gr],_r)),g(yr[tr],ut(_r,Dr[gr],cr))));var Sr=dt(pt(ht(ut(Lr,cr),er=>isUnit(er)?er.value:er)));Sr<rr&&rr/Sr>1/4&&(zr.push(g(zr[tr],_r)),yr.push(g(yr[tr],ut(_r,Mr,cr))),tr++);var kr=.84*(rr/Sr)**(1/5);if(yt(kr,Qt)?kr=Qt:gt(kr,ur)&&(kr=ur),kr=vr?wt(kr):kr,_r=ut(_r,kr),Zt&&gt(pt(_r),Zt)?_r=jt?Zt:Et(Zt):Ut&&yt(pt(_r),Ut)&&(_r=jt?Ut:Et(Ut)),ir++,ir>wr)throw new Error("Maximum number of iterations reached, try changing options")}return{t:zr,y:yr}}}function Dt(Ft,Lt,Ot,It){var Rt=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],Vt=[null,1/2,3/4,1],Xt=[2/9,1/3,4/9,0],Wt=[7/24,1/4,1/3,1/8],jt={a:Rt,c:Vt,b:Xt,bp:Wt};return Mt(jt)(Ft,Lt,Ot,It)}function $t(Ft,Lt,Ot,It){var Rt=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],Vt=[null,1/5,3/10,4/5,8/9,1,1],Xt=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],Wt=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],jt={a:Rt,c:Vt,b:Xt,bp:Wt};return Mt(jt)(Ft,Lt,Ot,It)}function _t(Ft,Lt,Ot,It){var Rt=It.method?It.method:"RK45",Vt={RK23:Dt,RK45:$t};if(Rt.toUpperCase()in Vt){var Xt=_objectSpread$2({},It);return delete Xt.method,Vt[Rt.toUpperCase()](Ft,Lt,Ot,Xt)}else{var Wt=Object.keys(Vt).map(qt=>'"'.concat(qt,'"')),jt="".concat(Wt.slice(0,-1).join(", ")," and ").concat(Wt.slice(-1));throw new Error('Unavailable method "'.concat(Rt,'". Available methods are ').concat(jt))}}function Nt(Ft){return Ft?yt:gt}function kt(Ft){var Lt=Ft?gt:yt;return function(Ot,It,Rt){var Vt=g(Ot,Rt);return Lt(Vt,It)?it(It,Ot):Rt}}function At(Ft){return isBigNumber(Ft)||isNumber(Ft)}function Bt(Ft,Lt,Ot,It){var Rt=_t(Ft,Lt.toArray(),Ot.toArray(),It);return{t:bt(Rt.t),y:bt(Rt.y)}}return h("solveODE",{"function, Array, Array, Object":_t,"function, Matrix, Matrix, Object":Bt,"function, Array, Array":(Ft,Lt,Ot)=>_t(Ft,Lt,Ot,{}),"function, Matrix, Matrix":(Ft,Lt,Ot)=>Bt(Ft,Lt,Ot,{}),"function, Array, number | BigNumber | Unit":(Ft,Lt,Ot)=>{var It=_t(Ft,Lt,[Ot],{});return{t:It.t,y:It.y.map(Rt=>Rt[0])}},"function, Matrix, number | BigNumber | Unit":(Ft,Lt,Ot)=>{var It=_t(Ft,Lt.toArray(),[Ot],{});return{t:bt(It.t),y:bt(It.y.map(Rt=>Rt[0]))}},"function, Array, number | BigNumber | Unit, Object":(Ft,Lt,Ot,It)=>{var Rt=_t(Ft,Lt,[Ot],It);return{t:Rt.t,y:Rt.y.map(Vt=>Vt[0])}},"function, Matrix, number | BigNumber | Unit, Object":(Ft,Lt,Ot,It)=>{var Rt=_t(Ft,Lt.toArray(),[Ot],It);return{t:bt(Rt.t),y:bt(Rt.y.map(Vt=>Vt[0]))}}})}),name$33="erf",dependencies$33=["typed"],createErf=factory(name$33,dependencies$33,s=>{var{typed:h}=s;return h("name",{number:function(dt){var ht=Math.abs(dt);return ht>=MAX_NUM?sign$2(dt):ht<=THRESH?sign$2(dt)*g(ht):ht<=4?sign$2(dt)*(1-it(ht)):sign$2(dt)*(1-ut(ht))},"Array | Matrix":h.referToSelf(ct=>dt=>deepMap(dt,ct))});function g(ct){var dt=ct*ct,ht=P[0][4]*dt,pt=dt,mt;for(mt=0;mt<3;mt+=1)ht=(ht+P[0][mt])*dt,pt=(pt+Q[0][mt])*dt;return ct*(ht+P[0][3])/(pt+Q[0][3])}function it(ct){var dt=P[1][8]*ct,ht=ct,pt;for(pt=0;pt<7;pt+=1)dt=(dt+P[1][pt])*ct,ht=(ht+Q[1][pt])*ct;var mt=(dt+P[1][7])/(ht+Q[1][7]),vt=parseInt(ct*16)/16,gt=(ct-vt)*(ct+vt);return Math.exp(-vt*vt)*Math.exp(-gt)*mt}function ut(ct){var dt=1/(ct*ct),ht=P[2][5]*dt,pt=dt,mt;for(mt=0;mt<4;mt+=1)ht=(ht+P[2][mt])*dt,pt=(pt+Q[2][mt])*dt;var vt=dt*(ht+P[2][4])/(pt+Q[2][4]);vt=(SQRPI-vt)/ct,dt=parseInt(ct*16)/16;var gt=(ct-dt)*(ct+dt);return Math.exp(-dt*dt)*Math.exp(-gt)*vt}}),THRESH=.46875,SQRPI=.5641895835477563,P=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Q=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],MAX_NUM=Math.pow(2,53),name$32="zeta",dependencies$32=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],createZeta=factory(name$32,dependencies$32,s=>{var{typed:h,config:g,multiply:it,pow:ut,divide:ct,factorial:dt,equal:ht,smallerEq:pt,isNegative:mt,gamma:vt,sin:gt,subtract:yt,add:bt,Complex:wt,BigNumber:Et,pi:Mt}=s;return h(name$32,{number:At=>Dt(At,Bt=>Bt,()=>20),BigNumber:At=>Dt(At,Bt=>new Et(Bt),()=>Math.abs(Math.log10(g.epsilon))),Complex:$t});function Dt(At,Bt,Ft){return ht(At,0)?Bt(-.5):ht(At,1)?Bt(NaN):isFinite(At)?_t(At,Bt,Ft,Lt=>Lt):mt(At)?Bt(NaN):Bt(1)}function $t(At){return At.re===0&&At.im===0?new wt(-.5):At.re===1?new wt(NaN,NaN):At.re===1/0&&At.im===0?new wt(1):At.im===1/0||At.re===-1/0?new wt(NaN,NaN):_t(At,Bt=>Bt,Bt=>Math.round(1.3*15+.9*Math.abs(Bt.im)),Bt=>Bt.re)}function _t(At,Bt,Ft,Lt){var Ot=Ft(At);if(Lt(At)>-(Ot-1)/2)return kt(At,Bt(Ot),Bt);var It=it(ut(2,At),ut(Bt(Mt),yt(At,1)));return It=it(It,gt(it(ct(Bt(Mt),2),At))),It=it(It,vt(yt(1,At))),it(It,_t(yt(1,At),Bt,Ft,Lt))}function Nt(At,Bt){for(var Ft=At,Lt=At;pt(Lt,Bt);Lt=bt(Lt,1)){var Ot=ct(it(dt(bt(Bt,yt(Lt,1))),ut(4,Lt)),it(dt(yt(Bt,Lt)),dt(it(2,Lt))));Ft=bt(Ft,Ot)}return it(Bt,Ft)}function kt(At,Bt,Ft){for(var Lt=ct(1,it(Nt(Ft(0),Bt),yt(1,ut(2,yt(1,At))))),Ot=Ft(0),It=Ft(1);pt(It,Bt);It=bt(It,1))Ot=bt(Ot,ct(it((-1)**(It-1),Nt(It,Bt)),ut(It,At)));return it(Lt,Ot)}}),name$31="mode",dependencies$31=["typed","isNaN","isNumeric"],createMode=factory(name$31,dependencies$31,s=>{var{typed:h,isNaN:g,isNumeric:it}=s;return h(name$31,{"Array | Matrix":ut,"...":function(dt){return ut(dt)}});function ut(ct){ct=flatten$1(ct.valueOf());var dt=ct.length;if(dt===0)throw new Error("Cannot calculate mode of an empty array");for(var ht={},pt=[],mt=0,vt=0;vt<ct.length;vt++){var gt=ct[vt];if(it(gt)&&g(gt))throw new Error("Cannot calculate mode of an array containing NaN values");gt in ht||(ht[gt]=0),ht[gt]++,ht[gt]===mt?pt.push(gt):ht[gt]>mt&&(mt=ht[gt],pt=[gt])}return pt}});function improveErrorMessage(s,h,g){var it;return String(s).indexOf("Unexpected type")!==-1?(it=arguments.length>2?" (type: "+typeOf$1(g)+", value: "+JSON.stringify(g)+")":" (type: "+s.data.actual+")",new TypeError("Cannot calculate "+h+", unexpected type of argument"+it)):String(s).indexOf("complex numbers")!==-1?(it=arguments.length>2?" (type: "+typeOf$1(g)+", value: "+JSON.stringify(g)+")":"",new TypeError("Cannot calculate "+h+", no ordering relation is defined for complex numbers"+it)):s}var name$30="prod",dependencies$30=["typed","config","multiplyScalar","numeric"],createProd=factory(name$30,dependencies$30,s=>{var{typed:h,config:g,multiplyScalar:it,numeric:ut}=s;return h(name$30,{"Array | Matrix":ct,"Array | Matrix, number | BigNumber":function(ht,pt){throw new Error("prod(A, dim) is not yet supported")},"...":function(ht){return ct(ht)}});function ct(dt){var ht;if(deepForEach(dt,function(pt){try{ht=ht===void 0?pt:it(ht,pt)}catch(mt){throw improveErrorMessage(mt,"prod",pt)}}),typeof ht=="string"&&(ht=ut(ht,g.number)),ht===void 0)throw new Error("Cannot calculate prod of an empty array");return ht}}),name$2$="format",dependencies$2$=["typed"],createFormat=factory(name$2$,dependencies$2$,s=>{var{typed:h}=s;return h(name$2$,{any:format$1,"any, Object | function | number":format$1})}),name$2_="bin",dependencies$2_=["typed","format"],createBin=factory(name$2_,dependencies$2_,s=>{var{typed:h,format:g}=s;return h(name$2_,{"number | BigNumber":function(ut){return g(ut,{notation:"bin"})},"number | BigNumber, number":function(ut,ct){return g(ut,{notation:"bin",wordSize:ct})}})}),name$2Z="oct",dependencies$2Z=["typed","format"],createOct=factory(name$2Z,dependencies$2Z,s=>{var{typed:h,format:g}=s;return h(name$2Z,{"number | BigNumber":function(ut){return g(ut,{notation:"oct"})},"number | BigNumber, number":function(ut,ct){return g(ut,{notation:"oct",wordSize:ct})}})}),name$2Y="hex",dependencies$2Y=["typed","format"],createHex=factory(name$2Y,dependencies$2Y,s=>{var{typed:h,format:g}=s;return h(name$2Y,{"number | BigNumber":function(ut){return g(ut,{notation:"hex"})},"number | BigNumber, number":function(ut,ct){return g(ut,{notation:"hex",wordSize:ct})}})}),name$2X="print",dependencies$2X=["typed"],createPrint=factory(name$2X,dependencies$2X,s=>{var{typed:h}=s;return h(name$2X,{"string, Object | Array":_print,"string, Object | Array, number | Object":_print})});function _print(s,h,g){return s.replace(/\$([\w.]+)/g,function(it,ut){for(var ct=ut.split("."),dt=h[ct.shift()];ct.length&&dt!==void 0;){var ht=ct.shift();dt=ht?dt[ht]:dt+"."}return dt!==void 0?isString(dt)?dt:format$1(dt,g):it})}var name$2W="to",dependencies$2W=["typed","matrix","concat"],createTo=factory(name$2W,dependencies$2W,s=>{var{typed:h,matrix:g,concat:it}=s,ut=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:it});return h(name$2W,{"Unit, Unit | string":(ct,dt)=>ct.to(dt)},ut({Ds:!0}))}),name$2V="isPrime",dependencies$2V=["typed"],createIsPrime=factory(name$2V,dependencies$2V,s=>{var{typed:h}=s;return h(name$2V,{number:function(it){if(it*0!==0)return!1;if(it<=3)return it>1;if(it%2===0||it%3===0)return!1;for(var ut=5;ut*ut<=it;ut+=6)if(it%ut===0||it%(ut+2)===0)return!1;return!0},BigNumber:function(it){if(it.toNumber()*0!==0)return!1;if(it.lte(3))return it.gt(1);if(it.mod(2).eq(0)||it.mod(3).eq(0))return!1;if(it.lt(Math.pow(2,32))){for(var ut=it.toNumber(),ct=5;ct*ct<=ut;ct+=6)if(ut%ct===0||ut%(ct+2)===0)return!1;return!0}function dt($t,_t,Nt){for(var kt=1;!_t.eq(0);)_t.mod(2).eq(0)?(_t=_t.div(2),$t=$t.mul($t).mod(Nt)):(_t=_t.sub(1),kt=$t.mul(kt).mod(Nt));return kt}var ht=it.constructor.clone({precision:it.toFixed(0).length*2});it=new ht(it);for(var pt=0,mt=it.sub(1);mt.mod(2).eq(0);)mt=mt.div(2),pt+=1;var vt=null;if(it.lt("3317044064679887385961981"))vt=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter($t=>$t<it);else{var gt=Math.min(it.toNumber()-2,Math.floor(2*Math.pow(it.toFixed(0).length*Math.log(10),2)));vt=[];for(var yt=2;yt<=gt;yt+=1)vt.push(gt)}for(var bt=0;bt<vt.length;bt+=1){var wt=vt[bt],Et=dt(it.sub(it).add(wt),mt,it);if(!Et.eq(1)){for(var Mt=0,Dt=Et;!Dt.eq(it.sub(1));Mt+=1,Dt=Dt.mul(Dt).mod(it))if(Mt===pt-1)return!1}}return!0},"Array | Matrix":h.referToSelf(g=>it=>deepMap(it,g))})}),name$2U="numeric",dependencies$2U=["number","?bignumber","?fraction"],createNumeric=factory(name$2U,dependencies$2U,s=>{var{number:h,bignumber:g,fraction:it}=s,ut={string:!0,number:!0,BigNumber:!0,Fraction:!0},ct={number:dt=>h(dt),BigNumber:g?dt=>g(dt):noBignumber,Fraction:it?dt=>it(dt):noFraction};return function(ht){var pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",mt=arguments.length>2?arguments[2]:void 0;if(mt!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var vt=typeOf$1(ht);if(!(vt in ut))throw new TypeError("Cannot convert "+ht+' of type "'+vt+'"; valid input types are '+Object.keys(ut).join(", "));if(!(pt in ct))throw new TypeError("Cannot convert "+ht+' to type "'+pt+'"; valid output types are '+Object.keys(ct).join(", "));return pt===vt?ht:ct[pt](ht)}}),name$2T="divideScalar",dependencies$2T=["typed","numeric"],createDivideScalar=factory(name$2T,dependencies$2T,s=>{var{typed:h,numeric:g}=s;return h(name$2T,{"number, number":function(ut,ct){return ut/ct},"Complex, Complex":function(ut,ct){return ut.div(ct)},"BigNumber, BigNumber":function(ut,ct){return ut.div(ct)},"Fraction, Fraction":function(ut,ct){return ut.div(ct)},"Unit, number | Complex | Fraction | BigNumber | Unit":(it,ut)=>it.divide(ut),"number | Fraction | Complex | BigNumber, Unit":(it,ut)=>ut.divideInto(it)})}),name$2S="pow",dependencies$2S=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],createPow=factory(name$2S,dependencies$2S,s=>{var{typed:h,config:g,identity:it,multiply:ut,matrix:ct,inv:dt,number:ht,fraction:pt,Complex:mt}=s;return h(name$2S,{"number, number":vt,"Complex, Complex":function(wt,Et){return wt.pow(Et)},"BigNumber, BigNumber":function(wt,Et){return Et.isInteger()||wt>=0||g.predictable?wt.pow(Et):new mt(wt.toNumber(),0).pow(Et.toNumber(),0)},"Fraction, Fraction":function(wt,Et){var Mt=wt.pow(Et);if(Mt!=null)return Mt;if(g.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return vt(wt.valueOf(),Et.valueOf())},"Array, number":gt,"Array, BigNumber":function(wt,Et){return gt(wt,Et.toNumber())},"Matrix, number":yt,"Matrix, BigNumber":function(wt,Et){return yt(wt,Et.toNumber())},"Unit, number | BigNumber":function(wt,Et){return wt.pow(Et)}});function vt(bt,wt){if(g.predictable&&!isInteger$1(wt)&&bt<0)try{var Et=pt(wt),Mt=ht(Et);if((wt===Mt||Math.abs((wt-Mt)/wt)<1e-14)&&Et.d%2===1)return(Et.n%2===0?1:-1)*Math.pow(-bt,wt)}catch{}return g.predictable&&(bt<-1&&wt===1/0||bt>-1&&bt<0&&wt===-1/0)?NaN:isInteger$1(wt)||bt>=0||g.predictable?powNumber(bt,wt):bt*bt<1&&wt===1/0||bt*bt>1&&wt===-1/0?0:new mt(bt,0).pow(wt,0)}function gt(bt,wt){if(!isInteger$1(wt))throw new TypeError("For A^b, b must be an integer (value is "+wt+")");var Et=arraySize(bt);if(Et.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+Et.length+" dimensions)");if(Et[0]!==Et[1])throw new Error("For A^b, A must be square (size is "+Et[0]+"x"+Et[1]+")");if(wt<0)try{return gt(dt(bt),-wt)}catch($t){throw $t.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+wt+")"):$t}for(var Mt=it(Et[0]).valueOf(),Dt=bt;wt>=1;)(wt&1)===1&&(Mt=ut(Dt,Mt)),wt>>=1,Dt=ut(Dt,Dt);return Mt}function yt(bt,wt){return ct(gt(bt.valueOf(),wt))}}),NO_INT="Number of decimals in function round must be an integer",name$2R="round",dependencies$2R=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],createRound=factory(name$2R,dependencies$2R,s=>{var{typed:h,matrix:g,equalScalar:it,zeros:ut,BigNumber:ct,DenseMatrix:dt}=s,ht=createMatAlgo11xS0s({typed:h,equalScalar:it}),pt=createMatAlgo12xSfs({typed:h,DenseMatrix:dt}),mt=createMatAlgo14xDs({typed:h});return h(name$2R,{number:roundNumber,"number, number":roundNumber,"number, BigNumber":function(gt,yt){if(!yt.isInteger())throw new TypeError(NO_INT);return new ct(gt).toDecimalPlaces(yt.toNumber())},Complex:function(gt){return gt.round()},"Complex, number":function(gt,yt){if(yt%1)throw new TypeError(NO_INT);return gt.round(yt)},"Complex, BigNumber":function(gt,yt){if(!yt.isInteger())throw new TypeError(NO_INT);var bt=yt.toNumber();return gt.round(bt)},BigNumber:function(gt){return gt.toDecimalPlaces(0)},"BigNumber, BigNumber":function(gt,yt){if(!yt.isInteger())throw new TypeError(NO_INT);return gt.toDecimalPlaces(yt.toNumber())},Fraction:function(gt){return gt.round()},"Fraction, number":function(gt,yt){if(yt%1)throw new TypeError(NO_INT);return gt.round(yt)},"Fraction, BigNumber":function(gt,yt){if(!yt.isInteger())throw new TypeError(NO_INT);return gt.round(yt.toNumber())},"Array | Matrix":h.referToSelf(vt=>gt=>deepMap(gt,vt)),"SparseMatrix, number | BigNumber":h.referToSelf(vt=>(gt,yt)=>ht(gt,yt,vt,!1)),"DenseMatrix, number | BigNumber":h.referToSelf(vt=>(gt,yt)=>mt(gt,yt,vt,!1)),"Array, number | BigNumber":h.referToSelf(vt=>(gt,yt)=>mt(g(gt),yt,vt,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":h.referToSelf(vt=>(gt,yt)=>it(gt,0)?ut(yt.size(),yt.storage()):pt(yt,gt,vt,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":h.referToSelf(vt=>(gt,yt)=>it(gt,0)?ut(yt.size(),yt.storage()):mt(yt,gt,vt,!0)),"number | Complex | BigNumber | Fraction, Array":h.referToSelf(vt=>(gt,yt)=>mt(g(yt),gt,vt,!0).valueOf())})}),name$2Q="log",dependencies$2Q=["config","typed","divideScalar","Complex"],createLog=factory(name$2Q,dependencies$2Q,s=>{var{typed:h,config:g,divideScalar:it,Complex:ut}=s;return h(name$2Q,{number:function(dt){return dt>=0||g.predictable?logNumber(dt):new ut(dt,0).log()},Complex:function(dt){return dt.log()},BigNumber:function(dt){return!dt.isNegative()||g.predictable?dt.ln():new ut(dt.toNumber(),0).log()},"any, any":h.referToSelf(ct=>(dt,ht)=>it(ct(dt),ct(ht)))})}),name$2P="log1p",dependencies$2P=["typed","config","divideScalar","log","Complex"],createLog1p=factory(name$2P,dependencies$2P,s=>{var{typed:h,config:g,divideScalar:it,log:ut,Complex:ct}=s;return h(name$2P,{number:function(pt){return pt>=-1||g.predictable?log1p$1(pt):dt(new ct(pt,0))},Complex:dt,BigNumber:function(pt){var mt=pt.plus(1);return!mt.isNegative()||g.predictable?mt.ln():dt(new ct(pt.toNumber(),0))},"Array | Matrix":h.referToSelf(ht=>pt=>deepMap(pt,ht)),"any, any":h.referToSelf(ht=>(pt,mt)=>it(ht(pt),ut(mt)))});function dt(ht){var pt=ht.re+1;return new ct(Math.log(Math.sqrt(pt*pt+ht.im*ht.im)),Math.atan2(ht.im,pt))}}),name$2O="nthRoots",dependencies$2O=["config","typed","divideScalar","Complex"],createNthRoots=factory(name$2O,dependencies$2O,s=>{var{typed:h,config:g,divideScalar:it,Complex:ut}=s,ct=[function(pt){return new ut(pt,0)},function(pt){return new ut(0,pt)},function(pt){return new ut(-pt,0)},function(pt){return new ut(0,-pt)}];function dt(ht,pt){if(pt<0)throw new Error("Root must be greater than zero");if(pt===0)throw new Error("Root must be non-zero");if(pt%1!==0)throw new Error("Root must be an integer");if(ht===0||ht.abs()===0)return[new ut(0,0)];var mt=typeof ht=="number",vt;(mt||ht.re===0||ht.im===0)&&(mt?vt=2*+(ht<0):ht.im===0?vt=2*+(ht.re<0):vt=2*+(ht.im<0)+1);for(var gt=ht.arg(),yt=ht.abs(),bt=[],wt=Math.pow(yt,1/pt),Et=0;Et<pt;Et++){var Mt=(vt+4*Et)/pt;if(Mt===Math.round(Mt)){bt.push(ct[Mt%4](wt));continue}bt.push(new ut({r:wt,phi:(gt+2*Math.PI*Et)/pt}))}return bt}return h(name$2O,{Complex:function(pt){return dt(pt,2)},"Complex, number":dt})}),name$2N="dotPow",dependencies$2N=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],createDotPow=factory(name$2N,dependencies$2N,s=>{var{typed:h,equalScalar:g,matrix:it,pow:ut,DenseMatrix:ct,concat:dt}=s,ht=createMatAlgo03xDSf({typed:h}),pt=createMatAlgo07xSSf({typed:h,DenseMatrix:ct}),mt=createMatAlgo11xS0s({typed:h,equalScalar:g}),vt=createMatAlgo12xSfs({typed:h,DenseMatrix:ct}),gt=createMatrixAlgorithmSuite({typed:h,matrix:it,concat:dt}),yt={};for(var bt in ut.signatures)Object.prototype.hasOwnProperty.call(ut.signatures,bt)&&!bt.includes("Matrix")&&!bt.includes("Array")&&(yt[bt]=ut.signatures[bt]);var wt=h(yt);return h(name$2N,gt({elop:wt,SS:pt,DS:ht,Ss:mt,sS:vt}))}),name$2M="dotDivide",dependencies$2M=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],createDotDivide=factory(name$2M,dependencies$2M,s=>{var{typed:h,matrix:g,equalScalar:it,divideScalar:ut,DenseMatrix:ct,concat:dt}=s,ht=createMatAlgo02xDS0({typed:h,equalScalar:it}),pt=createMatAlgo03xDSf({typed:h}),mt=createMatAlgo07xSSf({typed:h,DenseMatrix:ct}),vt=createMatAlgo11xS0s({typed:h,equalScalar:it}),gt=createMatAlgo12xSfs({typed:h,DenseMatrix:ct}),yt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:dt});return h(name$2M,yt({elop:ut,SS:mt,DS:pt,SD:ht,Ss:vt,sS:gt}))});function createSolveValidation(s){var{DenseMatrix:h}=s;return function(it,ut,ct){var dt=it.size();if(dt.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+format$1(dt)+")");var ht=dt[0],pt=dt[1];if(ht!==pt)throw new RangeError("Matrix must be square (size: "+format$1(dt)+")");var mt=[];if(isMatrix(ut)){var vt=ut.size(),gt=ut._data;if(vt.length===1){if(vt[0]!==ht)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var yt=0;yt<ht;yt++)mt[yt]=[gt[yt]];return new h({data:mt,size:[ht,1],datatype:ut._datatype})}if(vt.length===2){if(vt[0]!==ht||vt[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(isDenseMatrix(ut)){if(ct){mt=[];for(var bt=0;bt<ht;bt++)mt[bt]=[gt[bt][0]];return new h({data:mt,size:[ht,1],datatype:ut._datatype})}return ut}if(isSparseMatrix(ut)){for(var wt=0;wt<ht;wt++)mt[wt]=[0];for(var Et=ut._values,Mt=ut._index,Dt=ut._ptr,$t=Dt[1],_t=Dt[0];_t<$t;_t++){var Nt=Mt[_t];mt[Nt][0]=Et[_t]}return new h({data:mt,size:[ht,1],datatype:ut._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(isArray(ut)){var kt=arraySize(ut);if(kt.length===1){if(kt[0]!==ht)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var At=0;At<ht;At++)mt[At]=[ut[At]];return new h({data:mt,size:[ht,1]})}if(kt.length===2){if(kt[0]!==ht||kt[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var Bt=0;Bt<ht;Bt++)mt[Bt]=[ut[Bt][0]];return new h({data:mt,size:[ht,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var name$2L="lsolve",dependencies$2L=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createLsolve=factory(name$2L,dependencies$2L,s=>{var{typed:h,matrix:g,divideScalar:it,multiplyScalar:ut,subtract:ct,equalScalar:dt,DenseMatrix:ht}=s,pt=createSolveValidation({DenseMatrix:ht});return h(name$2L,{"SparseMatrix, Array | Matrix":function(yt,bt){return vt(yt,bt)},"DenseMatrix, Array | Matrix":function(yt,bt){return mt(yt,bt)},"Array, Array | Matrix":function(yt,bt){var wt=g(yt),Et=mt(wt,bt);return Et.valueOf()}});function mt(gt,yt){yt=pt(gt,yt,!0);for(var bt=yt._data,wt=gt._size[0],Et=gt._size[1],Mt=[],Dt=gt._data,$t=0;$t<Et;$t++){var _t=bt[$t][0]||0,Nt=void 0;if(dt(_t,0))Nt=0;else{var kt=Dt[$t][$t];if(dt(kt,0))throw new Error("Linear system cannot be solved since matrix is singular");Nt=it(_t,kt);for(var At=$t+1;At<wt;At++)bt[At]=[ct(bt[At][0]||0,ut(Nt,Dt[At][$t]))]}Mt[$t]=[Nt]}return new ht({data:Mt,size:[wt,1]})}function vt(gt,yt){yt=pt(gt,yt,!0);for(var bt=yt._data,wt=gt._size[0],Et=gt._size[1],Mt=gt._values,Dt=gt._index,$t=gt._ptr,_t=[],Nt=0;Nt<Et;Nt++){var kt=bt[Nt][0]||0;if(dt(kt,0))_t[Nt]=[0];else{for(var At=0,Bt=[],Ft=[],Lt=$t[Nt],Ot=$t[Nt+1],It=Lt;It<Ot;It++){var Rt=Dt[It];Rt===Nt?At=Mt[It]:Rt>Nt&&(Bt.push(Mt[It]),Ft.push(Rt))}if(dt(At,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var Vt=it(kt,At),Xt=0,Wt=Ft.length;Xt<Wt;Xt++){var jt=Ft[Xt];bt[jt]=[ct(bt[jt][0]||0,ut(Vt,Bt[Xt]))]}_t[Nt]=[Vt]}}return new ht({data:_t,size:[wt,1]})}}),name$2K="usolve",dependencies$2K=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createUsolve=factory(name$2K,dependencies$2K,s=>{var{typed:h,matrix:g,divideScalar:it,multiplyScalar:ut,subtract:ct,equalScalar:dt,DenseMatrix:ht}=s,pt=createSolveValidation({DenseMatrix:ht});return h(name$2K,{"SparseMatrix, Array | Matrix":function(yt,bt){return vt(yt,bt)},"DenseMatrix, Array | Matrix":function(yt,bt){return mt(yt,bt)},"Array, Array | Matrix":function(yt,bt){var wt=g(yt),Et=mt(wt,bt);return Et.valueOf()}});function mt(gt,yt){yt=pt(gt,yt,!0);for(var bt=yt._data,wt=gt._size[0],Et=gt._size[1],Mt=[],Dt=gt._data,$t=Et-1;$t>=0;$t--){var _t=bt[$t][0]||0,Nt=void 0;if(dt(_t,0))Nt=0;else{var kt=Dt[$t][$t];if(dt(kt,0))throw new Error("Linear system cannot be solved since matrix is singular");Nt=it(_t,kt);for(var At=$t-1;At>=0;At--)bt[At]=[ct(bt[At][0]||0,ut(Nt,Dt[At][$t]))]}Mt[$t]=[Nt]}return new ht({data:Mt,size:[wt,1]})}function vt(gt,yt){yt=pt(gt,yt,!0);for(var bt=yt._data,wt=gt._size[0],Et=gt._size[1],Mt=gt._values,Dt=gt._index,$t=gt._ptr,_t=[],Nt=Et-1;Nt>=0;Nt--){var kt=bt[Nt][0]||0;if(dt(kt,0))_t[Nt]=[0];else{for(var At=0,Bt=[],Ft=[],Lt=$t[Nt],Ot=$t[Nt+1],It=Ot-1;It>=Lt;It--){var Rt=Dt[It];Rt===Nt?At=Mt[It]:Rt<Nt&&(Bt.push(Mt[It]),Ft.push(Rt))}if(dt(At,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var Vt=it(kt,At),Xt=0,Wt=Ft.length;Xt<Wt;Xt++){var jt=Ft[Xt];bt[jt]=[ct(bt[jt][0],ut(Vt,Bt[Xt]))]}_t[Nt]=[Vt]}}return new ht({data:_t,size:[wt,1]})}}),name$2J="lsolveAll",dependencies$2J=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createLsolveAll=factory(name$2J,dependencies$2J,s=>{var{typed:h,matrix:g,divideScalar:it,multiplyScalar:ut,subtract:ct,equalScalar:dt,DenseMatrix:ht}=s,pt=createSolveValidation({DenseMatrix:ht});return h(name$2J,{"SparseMatrix, Array | Matrix":function(yt,bt){return vt(yt,bt)},"DenseMatrix, Array | Matrix":function(yt,bt){return mt(yt,bt)},"Array, Array | Matrix":function(yt,bt){var wt=g(yt),Et=mt(wt,bt);return Et.map(Mt=>Mt.valueOf())}});function mt(gt,yt){for(var bt=[pt(gt,yt,!0)._data.map(Ft=>Ft[0])],wt=gt._data,Et=gt._size[0],Mt=gt._size[1],Dt=0;Dt<Mt;Dt++)for(var $t=bt.length,_t=0;_t<$t;_t++){var Nt=bt[_t];if(dt(wt[Dt][Dt],0))if(dt(Nt[Dt],0)){if(_t===0){var At=[...Nt];At[Dt]=1;for(var Bt=Dt+1;Bt<Mt;Bt++)At[Bt]=ct(At[Bt],wt[Bt][Dt]);bt.push(At)}}else{if(_t===0)return[];bt.splice(_t,1),_t-=1,$t-=1}else{Nt[Dt]=it(Nt[Dt],wt[Dt][Dt]);for(var kt=Dt+1;kt<Mt;kt++)Nt[kt]=ct(Nt[kt],ut(Nt[Dt],wt[kt][Dt]))}}return bt.map(Ft=>new ht({data:Ft.map(Lt=>[Lt]),size:[Et,1]}))}function vt(gt,yt){for(var bt=[pt(gt,yt,!0)._data.map(lr=>lr[0])],wt=gt._size[0],Et=gt._size[1],Mt=gt._values,Dt=gt._index,$t=gt._ptr,_t=0;_t<Et;_t++)for(var Nt=bt.length,kt=0;kt<Nt;kt++){for(var At=bt[kt],Bt=[],Ft=[],Lt=$t[_t],Ot=$t[_t+1],It=0,Rt=Lt;Rt<Ot;Rt++){var Vt=Dt[Rt];Vt===_t?It=Mt[Rt]:Vt>_t&&(Bt.push(Mt[Rt]),Ft.push(Vt))}if(dt(It,0))if(dt(At[_t],0)){if(kt===0){var qt=[...At];qt[_t]=1;for(var Zt=0,Ut=Ft.length;Zt<Ut;Zt++){var Yt=Ft[Zt];qt[Yt]=ct(qt[Yt],Bt[Zt])}bt.push(qt)}}else{if(kt===0)return[];bt.splice(kt,1),kt-=1,Nt-=1}else{At[_t]=it(At[_t],It);for(var Xt=0,Wt=Ft.length;Xt<Wt;Xt++){var jt=Ft[Xt];At[jt]=ct(At[jt],ut(At[_t],Bt[Xt]))}}}return bt.map(lr=>new ht({data:lr.map(rr=>[rr]),size:[wt,1]}))}}),name$2I="usolveAll",dependencies$2I=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createUsolveAll=factory(name$2I,dependencies$2I,s=>{var{typed:h,matrix:g,divideScalar:it,multiplyScalar:ut,subtract:ct,equalScalar:dt,DenseMatrix:ht}=s,pt=createSolveValidation({DenseMatrix:ht});return h(name$2I,{"SparseMatrix, Array | Matrix":function(yt,bt){return vt(yt,bt)},"DenseMatrix, Array | Matrix":function(yt,bt){return mt(yt,bt)},"Array, Array | Matrix":function(yt,bt){var wt=g(yt),Et=mt(wt,bt);return Et.map(Mt=>Mt.valueOf())}});function mt(gt,yt){for(var bt=[pt(gt,yt,!0)._data.map(Ft=>Ft[0])],wt=gt._data,Et=gt._size[0],Mt=gt._size[1],Dt=Mt-1;Dt>=0;Dt--)for(var $t=bt.length,_t=0;_t<$t;_t++){var Nt=bt[_t];if(dt(wt[Dt][Dt],0))if(dt(Nt[Dt],0)){if(_t===0){var At=[...Nt];At[Dt]=1;for(var Bt=Dt-1;Bt>=0;Bt--)At[Bt]=ct(At[Bt],wt[Bt][Dt]);bt.push(At)}}else{if(_t===0)return[];bt.splice(_t,1),_t-=1,$t-=1}else{Nt[Dt]=it(Nt[Dt],wt[Dt][Dt]);for(var kt=Dt-1;kt>=0;kt--)Nt[kt]=ct(Nt[kt],ut(Nt[Dt],wt[kt][Dt]))}}return bt.map(Ft=>new ht({data:Ft.map(Lt=>[Lt]),size:[Et,1]}))}function vt(gt,yt){for(var bt=[pt(gt,yt,!0)._data.map(lr=>lr[0])],wt=gt._size[0],Et=gt._size[1],Mt=gt._values,Dt=gt._index,$t=gt._ptr,_t=Et-1;_t>=0;_t--)for(var Nt=bt.length,kt=0;kt<Nt;kt++){for(var At=bt[kt],Bt=[],Ft=[],Lt=$t[_t],Ot=$t[_t+1],It=0,Rt=Ot-1;Rt>=Lt;Rt--){var Vt=Dt[Rt];Vt===_t?It=Mt[Rt]:Vt<_t&&(Bt.push(Mt[Rt]),Ft.push(Vt))}if(dt(It,0))if(dt(At[_t],0)){if(kt===0){var qt=[...At];qt[_t]=1;for(var Zt=0,Ut=Ft.length;Zt<Ut;Zt++){var Yt=Ft[Zt];qt[Yt]=ct(qt[Yt],Bt[Zt])}bt.push(qt)}}else{if(kt===0)return[];bt.splice(kt,1),kt-=1,Nt-=1}else{At[_t]=it(At[_t],It);for(var Xt=0,Wt=Ft.length;Xt<Wt;Xt++){var jt=Ft[Xt];At[jt]=ct(At[jt],ut(At[_t],Bt[Xt]))}}}return bt.map(lr=>new ht({data:lr.map(rr=>[rr]),size:[wt,1]}))}}),name$2H="matAlgo08xS0Sid",dependencies$2H=["typed","equalScalar"],createMatAlgo08xS0Sid=factory(name$2H,dependencies$2H,s=>{var{typed:h,equalScalar:g}=s;return function(ut,ct,dt){var ht=ut._values,pt=ut._index,mt=ut._ptr,vt=ut._size,gt=ut._datatype,yt=ct._values,bt=ct._index,wt=ct._ptr,Et=ct._size,Mt=ct._datatype;if(vt.length!==Et.length)throw new DimensionError(vt.length,Et.length);if(vt[0]!==Et[0]||vt[1]!==Et[1])throw new RangeError("Dimension mismatch. Matrix A ("+vt+") must match Matrix B ("+Et+")");if(!ht||!yt)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var Dt=vt[0],$t=vt[1],_t,Nt=g,kt=0,At=dt;typeof gt=="string"&&gt===Mt&&(_t=gt,Nt=h.find(g,[_t,_t]),kt=h.convert(0,_t),At=h.find(dt,[_t,_t]));for(var Bt=[],Ft=[],Lt=[],Ot=[],It=[],Rt,Vt,Xt,Wt,jt=0;jt<$t;jt++){Lt[jt]=Ft.length;var qt=jt+1;for(Vt=mt[jt],Xt=mt[jt+1],Rt=Vt;Rt<Xt;Rt++)Wt=pt[Rt],It[Wt]=qt,Ot[Wt]=ht[Rt],Ft.push(Wt);for(Vt=wt[jt],Xt=wt[jt+1],Rt=Vt;Rt<Xt;Rt++)Wt=bt[Rt],It[Wt]===qt&&(Ot[Wt]=At(Ot[Wt],yt[Rt]));for(Rt=Lt[jt];Rt<Ft.length;){Wt=Ft[Rt];var Zt=Ot[Wt];Nt(Zt,kt)?Ft.splice(Rt,1):(Bt.push(Zt),Rt++)}}return Lt[$t]=Ft.length,ut.createSparseMatrix({values:Bt,index:Ft,ptr:Lt,size:[Dt,$t],datatype:_t})}}),createUseMatrixForArrayScalar=factory("useMatrixForArrayScalar",["typed","matrix"],s=>{var{typed:h,matrix:g}=s;return{"Array, number":h.referTo("DenseMatrix, number",it=>(ut,ct)=>it(g(ut),ct).valueOf()),"Array, BigNumber":h.referTo("DenseMatrix, BigNumber",it=>(ut,ct)=>it(g(ut),ct).valueOf()),"number, Array":h.referTo("number, DenseMatrix",it=>(ut,ct)=>it(ut,g(ct)).valueOf()),"BigNumber, Array":h.referTo("BigNumber, DenseMatrix",it=>(ut,ct)=>it(ut,g(ct)).valueOf())}}),name$2G="leftShift",dependencies$2G=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],createLeftShift=factory(name$2G,dependencies$2G,s=>{var{typed:h,matrix:g,equalScalar:it,zeros:ut,DenseMatrix:ct,concat:dt}=s,ht=createMatAlgo01xDSid({typed:h}),pt=createMatAlgo02xDS0({typed:h,equalScalar:it}),mt=createMatAlgo08xS0Sid({typed:h,equalScalar:it}),vt=createMatAlgo10xSids({typed:h,DenseMatrix:ct}),gt=createMatAlgo11xS0s({typed:h,equalScalar:it}),yt=createMatAlgo14xDs({typed:h}),bt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:dt}),wt=createUseMatrixForArrayScalar({typed:h,matrix:g});return h(name$2G,{"number, number":leftShiftNumber,"BigNumber, BigNumber":leftShiftBigNumber,"SparseMatrix, number | BigNumber":h.referToSelf(Et=>(Mt,Dt)=>it(Dt,0)?Mt.clone():gt(Mt,Dt,Et,!1)),"DenseMatrix, number | BigNumber":h.referToSelf(Et=>(Mt,Dt)=>it(Dt,0)?Mt.clone():yt(Mt,Dt,Et,!1)),"number | BigNumber, SparseMatrix":h.referToSelf(Et=>(Mt,Dt)=>it(Mt,0)?ut(Dt.size(),Dt.storage()):vt(Dt,Mt,Et,!0)),"number | BigNumber, DenseMatrix":h.referToSelf(Et=>(Mt,Dt)=>it(Mt,0)?ut(Dt.size(),Dt.storage()):yt(Dt,Mt,Et,!0))},wt,bt({SS:mt,DS:ht,SD:pt}))}),name$2F="rightArithShift",dependencies$2F=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],createRightArithShift=factory(name$2F,dependencies$2F,s=>{var{typed:h,matrix:g,equalScalar:it,zeros:ut,DenseMatrix:ct,concat:dt}=s,ht=createMatAlgo01xDSid({typed:h}),pt=createMatAlgo02xDS0({typed:h,equalScalar:it}),mt=createMatAlgo08xS0Sid({typed:h,equalScalar:it}),vt=createMatAlgo10xSids({typed:h,DenseMatrix:ct}),gt=createMatAlgo11xS0s({typed:h,equalScalar:it}),yt=createMatAlgo14xDs({typed:h}),bt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:dt}),wt=createUseMatrixForArrayScalar({typed:h,matrix:g});return h(name$2F,{"number, number":rightArithShiftNumber,"BigNumber, BigNumber":rightArithShiftBigNumber,"SparseMatrix, number | BigNumber":h.referToSelf(Et=>(Mt,Dt)=>it(Dt,0)?Mt.clone():gt(Mt,Dt,Et,!1)),"DenseMatrix, number | BigNumber":h.referToSelf(Et=>(Mt,Dt)=>it(Dt,0)?Mt.clone():yt(Mt,Dt,Et,!1)),"number | BigNumber, SparseMatrix":h.referToSelf(Et=>(Mt,Dt)=>it(Mt,0)?ut(Dt.size(),Dt.storage()):vt(Dt,Mt,Et,!0)),"number | BigNumber, DenseMatrix":h.referToSelf(Et=>(Mt,Dt)=>it(Mt,0)?ut(Dt.size(),Dt.storage()):yt(Dt,Mt,Et,!0))},wt,bt({SS:mt,DS:ht,SD:pt}))}),name$2E="rightLogShift",dependencies$2E=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],createRightLogShift=factory(name$2E,dependencies$2E,s=>{var{typed:h,matrix:g,equalScalar:it,zeros:ut,DenseMatrix:ct,concat:dt}=s,ht=createMatAlgo01xDSid({typed:h}),pt=createMatAlgo02xDS0({typed:h,equalScalar:it}),mt=createMatAlgo08xS0Sid({typed:h,equalScalar:it}),vt=createMatAlgo10xSids({typed:h,DenseMatrix:ct}),gt=createMatAlgo11xS0s({typed:h,equalScalar:it}),yt=createMatAlgo14xDs({typed:h}),bt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:dt}),wt=createUseMatrixForArrayScalar({typed:h,matrix:g});return h(name$2E,{"number, number":rightLogShiftNumber,"SparseMatrix, number | BigNumber":h.referToSelf(Et=>(Mt,Dt)=>it(Dt,0)?Mt.clone():gt(Mt,Dt,Et,!1)),"DenseMatrix, number | BigNumber":h.referToSelf(Et=>(Mt,Dt)=>it(Dt,0)?Mt.clone():yt(Mt,Dt,Et,!1)),"number | BigNumber, SparseMatrix":h.referToSelf(Et=>(Mt,Dt)=>it(Mt,0)?ut(Dt.size(),Dt.storage()):vt(Dt,Mt,Et,!0)),"number | BigNumber, DenseMatrix":h.referToSelf(Et=>(Mt,Dt)=>it(Mt,0)?ut(Dt.size(),Dt.storage()):yt(Dt,Mt,Et,!0))},wt,bt({SS:mt,DS:ht,SD:pt}))}),name$2D="and",dependencies$2D=["typed","matrix","equalScalar","zeros","not","concat"],createAnd=factory(name$2D,dependencies$2D,s=>{var{typed:h,matrix:g,equalScalar:it,zeros:ut,not:ct,concat:dt}=s,ht=createMatAlgo02xDS0({typed:h,equalScalar:it}),pt=createMatAlgo06xS0S0({typed:h,equalScalar:it}),mt=createMatAlgo11xS0s({typed:h,equalScalar:it}),vt=createMatAlgo14xDs({typed:h}),gt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:dt});return h(name$2D,{"number, number":andNumber,"Complex, Complex":function(bt,wt){return(bt.re!==0||bt.im!==0)&&(wt.re!==0||wt.im!==0)},"BigNumber, BigNumber":function(bt,wt){return!bt.isZero()&&!wt.isZero()&&!bt.isNaN()&&!wt.isNaN()},"Unit, Unit":h.referToSelf(yt=>(bt,wt)=>yt(bt.value||0,wt.value||0)),"SparseMatrix, any":h.referToSelf(yt=>(bt,wt)=>ct(wt)?ut(bt.size(),bt.storage()):mt(bt,wt,yt,!1)),"DenseMatrix, any":h.referToSelf(yt=>(bt,wt)=>ct(wt)?ut(bt.size(),bt.storage()):vt(bt,wt,yt,!1)),"any, SparseMatrix":h.referToSelf(yt=>(bt,wt)=>ct(bt)?ut(bt.size(),bt.storage()):mt(wt,bt,yt,!0)),"any, DenseMatrix":h.referToSelf(yt=>(bt,wt)=>ct(bt)?ut(bt.size(),bt.storage()):vt(wt,bt,yt,!0)),"Array, any":h.referToSelf(yt=>(bt,wt)=>yt(g(bt),wt).valueOf()),"any, Array":h.referToSelf(yt=>(bt,wt)=>yt(bt,g(wt)).valueOf())},gt({SS:pt,DS:ht}))}),name$2C="compare",dependencies$2C=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],createCompare=factory(name$2C,dependencies$2C,s=>{var{typed:h,config:g,equalScalar:it,matrix:ut,BigNumber:ct,Fraction:dt,DenseMatrix:ht,concat:pt}=s,mt=createMatAlgo03xDSf({typed:h}),vt=createMatAlgo05xSfSf({typed:h,equalScalar:it}),gt=createMatAlgo12xSfs({typed:h,DenseMatrix:ht}),yt=createMatrixAlgorithmSuite({typed:h,matrix:ut,concat:pt}),bt=createCompareUnits({typed:h});return h(name$2C,createCompareNumber({typed:h,config:g}),{"boolean, boolean":function(Et,Mt){return Et===Mt?0:Et>Mt?1:-1},"BigNumber, BigNumber":function(Et,Mt){return nearlyEqual(Et,Mt,g.epsilon)?new ct(0):new ct(Et.cmp(Mt))},"Fraction, Fraction":function(Et,Mt){return new dt(Et.compare(Mt))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},bt,yt({SS:vt,DS:mt,Ss:gt}))}),createCompareNumber=factory(name$2C,["typed","config"],s=>{var{typed:h,config:g}=s;return h(name$2C,{"number, number":function(ut,ct){return nearlyEqual$1(ut,ct,g.epsilon)?0:ut>ct?1:-1}})}),naturalSort=function s(h,g){var it=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,ut=/(^[ ]*|[ ]*$)/g,ct=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,dt=/^0x[0-9a-f]+$/i,ht=/^0/,pt=function(_t){return s.insensitive&&(""+_t).toLowerCase()||""+_t},mt=pt(h).replace(ut,"")||"",vt=pt(g).replace(ut,"")||"",gt=mt.replace(it,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),yt=vt.replace(it,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),bt=parseInt(mt.match(dt),16)||gt.length!==1&&mt.match(ct)&&Date.parse(mt),wt=parseInt(vt.match(dt),16)||bt&&vt.match(ct)&&Date.parse(vt)||null,Et,Mt;if(wt){if(bt<wt)return-1;if(bt>wt)return 1}for(var Dt=0,$t=Math.max(gt.length,yt.length);Dt<$t;Dt++){if(Et=!(gt[Dt]||"").match(ht)&&parseFloat(gt[Dt])||gt[Dt]||0,Mt=!(yt[Dt]||"").match(ht)&&parseFloat(yt[Dt])||yt[Dt]||0,isNaN(Et)!==isNaN(Mt))return isNaN(Et)?1:-1;if(typeof Et!=typeof Mt&&(Et+="",Mt+=""),Et<Mt)return-1;if(Et>Mt)return 1}return 0};const naturalSort$1=getDefaultExportFromCjs(naturalSort);var name$2B="compareNatural",dependencies$2B=["typed","compare"],createCompareNatural=factory(name$2B,dependencies$2B,s=>{var{typed:h,compare:g}=s,it=g.signatures["boolean,boolean"];return h(name$2B,{"any, any":ut});function ut(pt,mt){var vt=typeOf$1(pt),gt=typeOf$1(mt),yt;if((vt==="number"||vt==="BigNumber"||vt==="Fraction")&&(gt==="number"||gt==="BigNumber"||gt==="Fraction"))return yt=g(pt,mt),yt.toString()!=="0"?yt>0?1:-1:naturalSort$1(vt,gt);var bt=["Array","DenseMatrix","SparseMatrix"];if(bt.includes(vt)||bt.includes(gt))return yt=ct(ut,pt,mt),yt!==0?yt:naturalSort$1(vt,gt);if(vt!==gt)return naturalSort$1(vt,gt);if(vt==="Complex")return compareComplexNumbers(pt,mt);if(vt==="Unit")return pt.equalBase(mt)?ut(pt.value,mt.value):dt(ut,pt.formatUnits(),mt.formatUnits());if(vt==="boolean")return it(pt,mt);if(vt==="string")return naturalSort$1(pt,mt);if(vt==="Object")return ht(ut,pt,mt);if(vt==="null"||vt==="undefined")return 0;throw new TypeError('Unsupported type of value "'+vt+'"')}function ct(pt,mt,vt){return isSparseMatrix(mt)&&isSparseMatrix(vt)?dt(pt,mt.toJSON().values,vt.toJSON().values):isSparseMatrix(mt)?ct(pt,mt.toArray(),vt):isSparseMatrix(vt)?ct(pt,mt,vt.toArray()):isDenseMatrix(mt)?ct(pt,mt.toJSON().data,vt):isDenseMatrix(vt)?ct(pt,mt,vt.toJSON().data):Array.isArray(mt)?Array.isArray(vt)?dt(pt,mt,vt):ct(pt,mt,[vt]):ct(pt,[mt],vt)}function dt(pt,mt,vt){for(var gt=0,yt=Math.min(mt.length,vt.length);gt<yt;gt++){var bt=pt(mt[gt],vt[gt]);if(bt!==0)return bt}return mt.length>vt.length?1:mt.length<vt.length?-1:0}function ht(pt,mt,vt){var gt=Object.keys(mt),yt=Object.keys(vt);gt.sort(naturalSort$1),yt.sort(naturalSort$1);var bt=dt(pt,gt,yt);if(bt!==0)return bt;for(var wt=0;wt<gt.length;wt++){var Et=pt(mt[gt[wt]],vt[yt[wt]]);if(Et!==0)return Et}return 0}});function compareComplexNumbers(s,h){return s.re>h.re?1:s.re<h.re?-1:s.im>h.im?1:s.im<h.im?-1:0}var name$2A="compareText",dependencies$2A=["typed","matrix","concat"];compareText$1.signature="any, any";var createCompareText=factory(name$2A,dependencies$2A,s=>{var{typed:h,matrix:g,concat:it}=s,ut=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:it});return h(name$2A,compareText$1,ut({elop:compareText$1,Ds:!0}))}),name$2z="equal",dependencies$2z=["typed","matrix","equalScalar","DenseMatrix","concat"],createEqual=factory(name$2z,dependencies$2z,s=>{var{typed:h,matrix:g,equalScalar:it,DenseMatrix:ut,concat:ct}=s,dt=createMatAlgo03xDSf({typed:h}),ht=createMatAlgo07xSSf({typed:h,DenseMatrix:ut}),pt=createMatAlgo12xSfs({typed:h,DenseMatrix:ut}),mt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:ct});return h(name$2z,createEqualNumber({typed:h,equalScalar:it}),mt({elop:it,SS:ht,DS:dt,Ss:pt}))}),createEqualNumber=factory(name$2z,["typed","equalScalar"],s=>{var{typed:h,equalScalar:g}=s;return h(name$2z,{"any, any":function(ut,ct){return ut===null?ct===null:ct===null?ut===null:ut===void 0?ct===void 0:ct===void 0?ut===void 0:g(ut,ct)}})}),name$2y="equalText",dependencies$2y=["typed","compareText","isZero"],createEqualText=factory(name$2y,dependencies$2y,s=>{var{typed:h,compareText:g,isZero:it}=s;return h(name$2y,{"any, any":function(ct,dt){return it(g(ct,dt))}})}),name$2x="smaller",dependencies$2x=["typed","config","matrix","DenseMatrix","concat"],createSmaller=factory(name$2x,dependencies$2x,s=>{var{typed:h,config:g,matrix:it,DenseMatrix:ut,concat:ct}=s,dt=createMatAlgo03xDSf({typed:h}),ht=createMatAlgo07xSSf({typed:h,DenseMatrix:ut}),pt=createMatAlgo12xSfs({typed:h,DenseMatrix:ut}),mt=createMatrixAlgorithmSuite({typed:h,matrix:it,concat:ct}),vt=createCompareUnits({typed:h});return h(name$2x,createSmallerNumber({typed:h,config:g}),{"boolean, boolean":(gt,yt)=>gt<yt,"BigNumber, BigNumber":function(yt,bt){return yt.lt(bt)&&!nearlyEqual(yt,bt,g.epsilon)},"Fraction, Fraction":(gt,yt)=>gt.compare(yt)===-1,"Complex, Complex":function(yt,bt){throw new TypeError("No ordering relation is defined for complex numbers")}},vt,mt({SS:ht,DS:dt,Ss:pt}))}),createSmallerNumber=factory(name$2x,["typed","config"],s=>{var{typed:h,config:g}=s;return h(name$2x,{"number, number":function(ut,ct){return ut<ct&&!nearlyEqual$1(ut,ct,g.epsilon)}})}),name$2w="smallerEq",dependencies$2w=["typed","config","matrix","DenseMatrix","concat"],createSmallerEq=factory(name$2w,dependencies$2w,s=>{var{typed:h,config:g,matrix:it,DenseMatrix:ut,concat:ct}=s,dt=createMatAlgo03xDSf({typed:h}),ht=createMatAlgo07xSSf({typed:h,DenseMatrix:ut}),pt=createMatAlgo12xSfs({typed:h,DenseMatrix:ut}),mt=createMatrixAlgorithmSuite({typed:h,matrix:it,concat:ct}),vt=createCompareUnits({typed:h});return h(name$2w,createSmallerEqNumber({typed:h,config:g}),{"boolean, boolean":(gt,yt)=>gt<=yt,"BigNumber, BigNumber":function(yt,bt){return yt.lte(bt)||nearlyEqual(yt,bt,g.epsilon)},"Fraction, Fraction":(gt,yt)=>gt.compare(yt)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},vt,mt({SS:ht,DS:dt,Ss:pt}))}),createSmallerEqNumber=factory(name$2w,["typed","config"],s=>{var{typed:h,config:g}=s;return h(name$2w,{"number, number":function(ut,ct){return ut<=ct||nearlyEqual$1(ut,ct,g.epsilon)}})}),name$2v="larger",dependencies$2v=["typed","config","matrix","DenseMatrix","concat"],createLarger=factory(name$2v,dependencies$2v,s=>{var{typed:h,config:g,matrix:it,DenseMatrix:ut,concat:ct}=s,dt=createMatAlgo03xDSf({typed:h}),ht=createMatAlgo07xSSf({typed:h,DenseMatrix:ut}),pt=createMatAlgo12xSfs({typed:h,DenseMatrix:ut}),mt=createMatrixAlgorithmSuite({typed:h,matrix:it,concat:ct}),vt=createCompareUnits({typed:h});return h(name$2v,createLargerNumber({typed:h,config:g}),{"boolean, boolean":(gt,yt)=>gt>yt,"BigNumber, BigNumber":function(yt,bt){return yt.gt(bt)&&!nearlyEqual(yt,bt,g.epsilon)},"Fraction, Fraction":(gt,yt)=>gt.compare(yt)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},vt,mt({SS:ht,DS:dt,Ss:pt}))}),createLargerNumber=factory(name$2v,["typed","config"],s=>{var{typed:h,config:g}=s;return h(name$2v,{"number, number":function(ut,ct){return ut>ct&&!nearlyEqual$1(ut,ct,g.epsilon)}})}),name$2u="largerEq",dependencies$2u=["typed","config","matrix","DenseMatrix","concat"],createLargerEq=factory(name$2u,dependencies$2u,s=>{var{typed:h,config:g,matrix:it,DenseMatrix:ut,concat:ct}=s,dt=createMatAlgo03xDSf({typed:h}),ht=createMatAlgo07xSSf({typed:h,DenseMatrix:ut}),pt=createMatAlgo12xSfs({typed:h,DenseMatrix:ut}),mt=createMatrixAlgorithmSuite({typed:h,matrix:it,concat:ct}),vt=createCompareUnits({typed:h});return h(name$2u,createLargerEqNumber({typed:h,config:g}),{"boolean, boolean":(gt,yt)=>gt>=yt,"BigNumber, BigNumber":function(yt,bt){return yt.gte(bt)||nearlyEqual(yt,bt,g.epsilon)},"Fraction, Fraction":(gt,yt)=>gt.compare(yt)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},vt,mt({SS:ht,DS:dt,Ss:pt}))}),createLargerEqNumber=factory(name$2u,["typed","config"],s=>{var{typed:h,config:g}=s;return h(name$2u,{"number, number":function(ut,ct){return ut>=ct||nearlyEqual$1(ut,ct,g.epsilon)}})}),name$2t="deepEqual",dependencies$2t=["typed","equal"],createDeepEqual=factory(name$2t,dependencies$2t,s=>{var{typed:h,equal:g}=s;return h(name$2t,{"any, any":function(ct,dt){return it(ct.valueOf(),dt.valueOf())}});function it(ut,ct){if(Array.isArray(ut))if(Array.isArray(ct)){var dt=ut.length;if(dt!==ct.length)return!1;for(var ht=0;ht<dt;ht++)if(!it(ut[ht],ct[ht]))return!1;return!0}else return!1;else return Array.isArray(ct)?!1:g(ut,ct)}}),name$2s="unequal",dependencies$2s=["typed","config","equalScalar","matrix","DenseMatrix","concat"],createUnequal=factory(name$2s,dependencies$2s,s=>{var{typed:h,config:g,equalScalar:it,matrix:ut,DenseMatrix:ct,concat:dt}=s,ht=createMatAlgo03xDSf({typed:h}),pt=createMatAlgo07xSSf({typed:h,DenseMatrix:ct}),mt=createMatAlgo12xSfs({typed:h,DenseMatrix:ct}),vt=createMatrixAlgorithmSuite({typed:h,matrix:ut,concat:dt});return h(name$2s,createUnequalNumber({typed:h,equalScalar:it}),vt({elop:gt,SS:pt,DS:ht,Ss:mt}));function gt(yt,bt){return!it(yt,bt)}}),createUnequalNumber=factory(name$2s,["typed","equalScalar"],s=>{var{typed:h,equalScalar:g}=s;return h(name$2s,{"any, any":function(ut,ct){return ut===null?ct!==null:ct===null?ut!==null:ut===void 0?ct!==void 0:ct===void 0?ut!==void 0:!g(ut,ct)}})}),name$2r="partitionSelect",dependencies$2r=["typed","isNumeric","isNaN","compare"],createPartitionSelect=factory(name$2r,dependencies$2r,s=>{var{typed:h,isNumeric:g,isNaN:it,compare:ut}=s,ct=ut,dt=(mt,vt)=>-ut(mt,vt);return h(name$2r,{"Array | Matrix, number":function(vt,gt){return ht(vt,gt,ct)},"Array | Matrix, number, string":function(vt,gt,yt){if(yt==="asc")return ht(vt,gt,ct);if(yt==="desc")return ht(vt,gt,dt);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":ht});function ht(mt,vt,gt){if(!isInteger$1(vt)||vt<0)throw new Error("k must be a non-negative integer");if(isMatrix(mt)){var yt=mt.size();if(yt.length>1)throw new Error("Only one dimensional matrices supported");return pt(mt.valueOf(),vt,gt)}if(Array.isArray(mt))return pt(mt,vt,gt)}function pt(mt,vt,gt){if(vt>=mt.length)throw new Error("k out of bounds");for(var yt=0;yt<mt.length;yt++)if(g(mt[yt])&&it(mt[yt]))return mt[yt];for(var bt=0,wt=mt.length-1;bt<wt;){for(var Et=bt,Mt=wt,Dt=mt[Math.floor(Math.random()*(wt-bt+1))+bt];Et<Mt;)if(gt(mt[Et],Dt)>=0){var $t=mt[Mt];mt[Mt]=mt[Et],mt[Et]=$t,--Mt}else++Et;gt(mt[Et],Dt)>0&&--Et,vt<=Et?wt=Et:bt=Et+1}return mt[vt]}}),name$2q="sort",dependencies$2q=["typed","matrix","compare","compareNatural"],createSort=factory(name$2q,dependencies$2q,s=>{var{typed:h,matrix:g,compare:it,compareNatural:ut}=s,ct=it,dt=(vt,gt)=>-it(vt,gt);return h(name$2q,{Array:function(gt){return pt(gt),gt.sort(ct)},Matrix:function(gt){return mt(gt),g(gt.toArray().sort(ct),gt.storage())},"Array, function":function(gt,yt){return pt(gt),gt.sort(yt)},"Matrix, function":function(gt,yt){return mt(gt),g(gt.toArray().sort(yt),gt.storage())},"Array, string":function(gt,yt){return pt(gt),gt.sort(ht(yt))},"Matrix, string":function(gt,yt){return mt(gt),g(gt.toArray().sort(ht(yt)),gt.storage())}});function ht(vt){if(vt==="asc")return ct;if(vt==="desc")return dt;if(vt==="natural")return ut;throw new Error('String "asc", "desc", or "natural" expected')}function pt(vt){if(arraySize(vt).length!==1)throw new Error("One dimensional array expected")}function mt(vt){if(vt.size().length!==1)throw new Error("One dimensional matrix expected")}}),name$2p="max",dependencies$2p=["typed","config","numeric","larger"],createMax=factory(name$2p,dependencies$2p,s=>{var{typed:h,config:g,numeric:it,larger:ut}=s;return h(name$2p,{"Array | Matrix":dt,"Array | Matrix, number | BigNumber":function(pt,mt){return reduce(pt,mt.valueOf(),ct)},"...":function(pt){if(containsCollections(pt))throw new TypeError("Scalar values expected in function max");return dt(pt)}});function ct(ht,pt){try{return ut(ht,pt)?ht:pt}catch(mt){throw improveErrorMessage(mt,"max",pt)}}function dt(ht){var pt;if(deepForEach(ht,function(mt){try{isNaN(mt)&&typeof mt=="number"?pt=NaN:(pt===void 0||ut(mt,pt))&&(pt=mt)}catch(vt){throw improveErrorMessage(vt,"max",mt)}}),pt===void 0)throw new Error("Cannot calculate max of an empty array");return typeof pt=="string"&&(pt=it(pt,g.number)),pt}}),name$2o="min",dependencies$2o=["typed","config","numeric","smaller"],createMin=factory(name$2o,dependencies$2o,s=>{var{typed:h,config:g,numeric:it,smaller:ut}=s;return h(name$2o,{"Array | Matrix":dt,"Array | Matrix, number | BigNumber":function(pt,mt){return reduce(pt,mt.valueOf(),ct)},"...":function(pt){if(containsCollections(pt))throw new TypeError("Scalar values expected in function min");return dt(pt)}});function ct(ht,pt){try{return ut(ht,pt)?ht:pt}catch(mt){throw improveErrorMessage(mt,"min",pt)}}function dt(ht){var pt;if(deepForEach(ht,function(mt){try{isNaN(mt)&&typeof mt=="number"?pt=NaN:(pt===void 0||ut(mt,pt))&&(pt=mt)}catch(vt){throw improveErrorMessage(vt,"min",mt)}}),pt===void 0)throw new Error("Cannot calculate min of an empty array");return typeof pt=="string"&&(pt=it(pt,g.number)),pt}}),name$2n="ImmutableDenseMatrix",dependencies$2n=["smaller","DenseMatrix"],createImmutableDenseMatrixClass=factory(name$2n,dependencies$2n,s=>{var{smaller:h,DenseMatrix:g}=s;function it(ut,ct){if(!(this instanceof it))throw new SyntaxError("Constructor must be called with the new operator");if(ct&&!isString(ct))throw new Error("Invalid datatype: "+ct);if(isMatrix(ut)||isArray(ut)){var dt=new g(ut,ct);this._data=dt._data,this._size=dt._size,this._datatype=dt._datatype,this._min=null,this._max=null}else if(ut&&isArray(ut.data)&&isArray(ut.size))this._data=ut.data,this._size=ut.size,this._datatype=ut.datatype,this._min=typeof ut.min<"u"?ut.min:null,this._max=typeof ut.max<"u"?ut.max:null;else{if(ut)throw new TypeError("Unsupported type of data ("+typeOf$1(ut)+")");this._data=[],this._size=[0],this._datatype=ct,this._min=null,this._max=null}}return it.prototype=new g,it.prototype.type="ImmutableDenseMatrix",it.prototype.isImmutableDenseMatrix=!0,it.prototype.subset=function(ut){switch(arguments.length){case 1:{var ct=g.prototype.subset.call(this,ut);return isMatrix(ct)?new it({data:ct._data,size:ct._size,datatype:ct._datatype}):ct}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},it.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},it.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},it.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},it.prototype.clone=function(){return new it({data:clone$3(this._data),size:clone$3(this._size),datatype:this._datatype})},it.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},it.fromJSON=function(ut){return new it(ut)},it.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},it.prototype.min=function(){if(this._min===null){var ut=null;this.forEach(function(ct){(ut===null||h(ct,ut))&&(ut=ct)}),this._min=ut!==null?ut:void 0}return this._min},it.prototype.max=function(){if(this._max===null){var ut=null;this.forEach(function(ct){(ut===null||h(ut,ct))&&(ut=ct)}),this._max=ut!==null?ut:void 0}return this._max},it},{isClass:!0}),name$2m="Index",dependencies$2m=["ImmutableDenseMatrix","getMatrixDataType"],createIndexClass=factory(name$2m,dependencies$2m,s=>{var{ImmutableDenseMatrix:h,getMatrixDataType:g}=s;function it(ct){if(!(this instanceof it))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var dt=0,ht=arguments.length;dt<ht;dt++){var pt=arguments[dt],mt=isArray(pt),vt=isMatrix(pt),gt=null;if(isRange(pt))this._dimensions.push(pt),this._isScalar=!1;else if(mt||vt){var yt=void 0;g(pt)==="boolean"?(mt&&(yt=ut(_booleansArrayToNumbersForIndex(pt).valueOf())),vt&&(yt=ut(_booleansArrayToNumbersForIndex(pt._data).valueOf())),gt=pt.valueOf().length):yt=ut(pt.valueOf()),this._dimensions.push(yt);var bt=yt.size();(bt.length!==1||bt[0]!==1||gt!==null)&&(this._isScalar=!1)}else if(typeof pt=="number")this._dimensions.push(ut([pt]));else if(typeof pt=="string")this._dimensions.push(pt);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(gt)}}it.prototype.type="Index",it.prototype.isIndex=!0;function ut(ct){for(var dt=0,ht=ct.length;dt<ht;dt++)if(typeof ct[dt]!="number"||!isInteger$1(ct[dt]))throw new TypeError("Index parameters must be positive integer numbers");return new h(ct)}return it.prototype.clone=function(){var ct=new it;return ct._dimensions=clone$3(this._dimensions),ct._isScalar=this._isScalar,ct._sourceSize=this._sourceSize,ct},it.create=function(ct){var dt=new it;return it.apply(dt,ct),dt},it.prototype.size=function(){for(var ct=[],dt=0,ht=this._dimensions.length;dt<ht;dt++){var pt=this._dimensions[dt];ct[dt]=typeof pt=="string"?1:pt.size()[0]}return ct},it.prototype.max=function(){for(var ct=[],dt=0,ht=this._dimensions.length;dt<ht;dt++){var pt=this._dimensions[dt];ct[dt]=typeof pt=="string"?pt:pt.max()}return ct},it.prototype.min=function(){for(var ct=[],dt=0,ht=this._dimensions.length;dt<ht;dt++){var pt=this._dimensions[dt];ct[dt]=typeof pt=="string"?pt:pt.min()}return ct},it.prototype.forEach=function(ct){for(var dt=0,ht=this._dimensions.length;dt<ht;dt++)ct(this._dimensions[dt],dt,this)},it.prototype.dimension=function(ct){return this._dimensions[ct]||null},it.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},it.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},it.prototype.isScalar=function(){return this._isScalar},it.prototype.toArray=function(){for(var ct=[],dt=0,ht=this._dimensions.length;dt<ht;dt++){var pt=this._dimensions[dt];ct.push(typeof pt=="string"?pt:pt.toArray())}return ct},it.prototype.valueOf=it.prototype.toArray,it.prototype.toString=function(){for(var ct=[],dt=0,ht=this._dimensions.length;dt<ht;dt++){var pt=this._dimensions[dt];typeof pt=="string"?ct.push(JSON.stringify(pt)):ct.push(pt.toString())}return"["+ct.join(", ")+"]"},it.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},it.fromJSON=function(ct){return it.create(ct.dimensions)},it},{isClass:!0});function _booleansArrayToNumbersForIndex(s){var h=[];return s.forEach((g,it)=>{g&&h.push(it)}),h}var name$2l="FibonacciHeap",dependencies$2l=["smaller","larger"],createFibonacciHeapClass=factory(name$2l,dependencies$2l,s=>{var{smaller:h,larger:g}=s,it=1/Math.log((1+Math.sqrt(5))/2);function ut(){if(!(this instanceof ut))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}ut.prototype.type="FibonacciHeap",ut.prototype.isFibonacciHeap=!0,ut.prototype.insert=function(vt,gt){var yt={key:vt,value:gt,degree:0};if(this._minimum){var bt=this._minimum;yt.left=bt,yt.right=bt.right,bt.right=yt,yt.right.left=yt,h(vt,bt.key)&&(this._minimum=yt)}else yt.left=yt,yt.right=yt,this._minimum=yt;return this._size++,yt},ut.prototype.size=function(){return this._size},ut.prototype.clear=function(){this._minimum=null,this._size=0},ut.prototype.isEmpty=function(){return this._size===0},ut.prototype.extractMinimum=function(){var vt=this._minimum;if(vt===null)return vt;for(var gt=this._minimum,yt=vt.degree,bt=vt.child;yt>0;){var wt=bt.right;bt.left.right=bt.right,bt.right.left=bt.left,bt.left=gt,bt.right=gt.right,gt.right=bt,bt.right.left=bt,bt.parent=null,bt=wt,yt--}return vt.left.right=vt.right,vt.right.left=vt.left,vt===vt.right?gt=null:(gt=vt.right,gt=mt(gt,this._size)),this._size--,this._minimum=gt,vt},ut.prototype.remove=function(vt){this._minimum=ct(this._minimum,vt,-1),this.extractMinimum()};function ct(vt,gt,yt){gt.key=yt;var bt=gt.parent;return bt&&h(gt.key,bt.key)&&(dt(vt,gt,bt),ht(vt,bt)),h(gt.key,vt.key)&&(vt=gt),vt}function dt(vt,gt,yt){gt.left.right=gt.right,gt.right.left=gt.left,yt.degree--,yt.child===gt&&(yt.child=gt.right),yt.degree===0&&(yt.child=null),gt.left=vt,gt.right=vt.right,vt.right=gt,gt.right.left=gt,gt.parent=null,gt.mark=!1}function ht(vt,gt){var yt=gt.parent;yt&&(gt.mark?(dt(vt,gt,yt),ht(yt)):gt.mark=!0)}var pt=function(gt,yt){gt.left.right=gt.right,gt.right.left=gt.left,gt.parent=yt,yt.child?(gt.left=yt.child,gt.right=yt.child.right,yt.child.right=gt,gt.right.left=gt):(yt.child=gt,gt.right=gt,gt.left=gt),yt.degree++,gt.mark=!1};function mt(vt,gt){var yt=Math.floor(Math.log(gt)*it)+1,bt=new Array(yt),wt=0,Et=vt;if(Et)for(wt++,Et=Et.right;Et!==vt;)wt++,Et=Et.right;for(var Mt;wt>0;){for(var Dt=Et.degree,$t=Et.right;Mt=bt[Dt],!!Mt;){if(g(Et.key,Mt.key)){var _t=Mt;Mt=Et,Et=_t}pt(Mt,Et),bt[Dt]=null,Dt++}bt[Dt]=Et,Et=$t,wt--}vt=null;for(var Nt=0;Nt<yt;Nt++)Mt=bt[Nt],Mt&&(vt?(Mt.left.right=Mt.right,Mt.right.left=Mt.left,Mt.left=vt,Mt.right=vt.right,vt.right=Mt,Mt.right.left=Mt,h(Mt.key,vt.key)&&(vt=Mt)):vt=Mt);return vt}return ut},{isClass:!0}),name$2k="Spa",dependencies$2k=["addScalar","equalScalar","FibonacciHeap"],createSpaClass=factory(name$2k,dependencies$2k,s=>{var{addScalar:h,equalScalar:g,FibonacciHeap:it}=s;function ut(){if(!(this instanceof ut))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new it}return ut.prototype.type="Spa",ut.prototype.isSpa=!0,ut.prototype.set=function(ct,dt){if(this._values[ct])this._values[ct].value=dt;else{var ht=this._heap.insert(ct,dt);this._values[ct]=ht}},ut.prototype.get=function(ct){var dt=this._values[ct];return dt?dt.value:0},ut.prototype.accumulate=function(ct,dt){var ht=this._values[ct];ht?ht.value=h(ht.value,dt):(ht=this._heap.insert(ct,dt),this._values[ct]=ht)},ut.prototype.forEach=function(ct,dt,ht){var pt=this._heap,mt=this._values,vt=[],gt=pt.extractMinimum();for(gt&&vt.push(gt);gt&&gt.key<=dt;)gt.key>=ct&&(g(gt.value,0)||ht(gt.key,gt.value,this)),gt=pt.extractMinimum(),gt&&vt.push(gt);for(var yt=0;yt<vt.length;yt++){var bt=vt[yt];gt=pt.insert(bt.key,bt.value),mt[gt.key]=gt}},ut.prototype.swap=function(ct,dt){var ht=this._values[ct],pt=this._values[dt];if(!ht&&pt)ht=this._heap.insert(ct,pt.value),this._heap.remove(pt),this._values[ct]=ht,this._values[dt]=void 0;else if(ht&&!pt)pt=this._heap.insert(dt,ht.value),this._heap.remove(ht),this._values[dt]=pt,this._values[ct]=void 0;else if(ht&&pt){var mt=ht.value;ht.value=pt.value,pt.value=mt}},ut},{isClass:!0}),createBigNumberE=memoize(function(s){return new s(1).exp()},{hasher}),createBigNumberPhi=memoize(function(s){return new s(1).plus(new s(5).sqrt()).div(2)},{hasher}),createBigNumberPi=memoize(function(s){return s.acos(-1)},{hasher}),createBigNumberTau=memoize(function(s){return createBigNumberPi(s).times(2)},{hasher});function hasher(s){return s[0].precision}function ownKeys$2(s,h){var g=Object.keys(s);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(s);h&&(it=it.filter(function(ut){return Object.getOwnPropertyDescriptor(s,ut).enumerable})),g.push.apply(g,it)}return g}function _objectSpread$1(s){for(var h=1;h<arguments.length;h++){var g=arguments[h]!=null?arguments[h]:{};h%2?ownKeys$2(Object(g),!0).forEach(function(it){_defineProperty(s,it,g[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(g)):ownKeys$2(Object(g)).forEach(function(it){Object.defineProperty(s,it,Object.getOwnPropertyDescriptor(g,it))})}return s}var name$2j="Unit",dependencies$2j=["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],createUnitClass=factory(name$2j,dependencies$2j,s=>{var{on:h,config:g,addScalar:it,subtract:ut,multiplyScalar:ct,divideScalar:dt,pow:ht,abs:pt,fix:mt,round:vt,equal:gt,isNumeric:yt,format:bt,number:wt,Complex:Et,BigNumber:Mt,Fraction:Dt}=s,$t=wt;function _t(tr,ir){if(!(this instanceof _t))throw new Error("Constructor must be called with the new operator");if(!(tr==null||yt(tr)||isComplex(tr)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,ir===void 0)this.units=[],this.dimensions=Zt.map(nr=>0);else if(typeof ir=="string"){var br=_t.parse(ir);this.units=br.units,this.dimensions=br.dimensions}else if(isUnit(ir)&&ir.value===null)this.fixPrefix=ir.fixPrefix,this.skipAutomaticSimplification=ir.skipAutomaticSimplification,this.dimensions=ir.dimensions.slice(0),this.units=ir.units.map(nr=>_extends$1({},nr));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(tr)}Object.defineProperty(_t,"name",{value:"Unit"}),_t.prototype.constructor=_t,_t.prototype.type="Unit",_t.prototype.isUnit=!0;var Nt,kt,At;function Bt(){for(;At===" "||At==="	";)Ot()}function Ft(tr){return tr>="0"&&tr<="9"||tr==="."}function Lt(tr){return tr>="0"&&tr<="9"}function Ot(){kt++,At=Nt.charAt(kt)}function It(tr){kt=tr,At=Nt.charAt(kt)}function Rt(){var tr="",ir=kt;if(At==="+"?Ot():At==="-"&&(tr+=At,Ot()),!Ft(At))return It(ir),null;if(At==="."){if(tr+=At,Ot(),!Lt(At))return It(ir),null}else{for(;Lt(At);)tr+=At,Ot();At==="."&&(tr+=At,Ot())}for(;Lt(At);)tr+=At,Ot();if(At==="E"||At==="e"){var br="",nr=kt;if(br+=At,Ot(),(At==="+"||At==="-")&&(br+=At,Ot()),!Lt(At))return It(nr),tr;for(tr=tr+br;Lt(At);)tr+=At,Ot()}return tr}function Vt(){for(var tr="";Lt(At)||_t.isValidAlpha(At);)tr+=At,Ot();var ir=tr.charAt(0);return _t.isValidAlpha(ir)?tr:null}function Xt(tr){return At===tr?(Ot(),tr):null}_t.parse=function(tr,ir){if(ir=ir||{},Nt=tr,kt=-1,At="",typeof Nt!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var br=new _t;br.units=[];var nr=1,cr=!1;Ot(),Bt();var gr=Rt(),Sr=null;if(gr){if(g.number==="BigNumber")Sr=new Mt(gr);else if(g.number==="Fraction")try{Sr=new Dt(gr)}catch{Sr=parseFloat(gr)}else Sr=parseFloat(gr);Bt(),Xt("*")?(nr=1,cr=!0):Xt("/")&&(nr=-1,cr=!0)}for(var kr=[],er=1;;){for(Bt();At==="(";)kr.push(nr),er*=nr,nr=1,Ot(),Bt();var ar=void 0;if(At){var xr=At;if(ar=Vt(),ar===null)throw new SyntaxError('Unexpected "'+xr+'" in "'+Nt+'" at index '+kt.toString())}else break;var Tr=Wt(ar);if(Tr===null)throw new SyntaxError('Unit "'+ar+'" not found.');var Fr=nr*er;if(Bt(),Xt("^")){Bt();var Er=Rt();if(Er===null)throw new SyntaxError('In "'+tr+'", "^" must be followed by a floating-point number');Fr*=Er}br.units.push({unit:Tr.unit,prefix:Tr.prefix,power:Fr});for(var jr=0;jr<Zt.length;jr++)br.dimensions[jr]+=(Tr.unit.dimensions[jr]||0)*Fr;for(Bt();At===")";){if(kr.length===0)throw new SyntaxError('Unmatched ")" in "'+Nt+'" at index '+kt.toString());er/=kr.pop(),Ot(),Bt()}if(cr=!1,Xt("*")?(nr=1,cr=!0):Xt("/")?(nr=-1,cr=!0):nr=1,Tr.unit.base){var Kr=Tr.unit.base.key;vr.auto[Kr]={unit:Tr.unit,prefix:Tr.prefix}}}if(Bt(),At)throw new SyntaxError('Could not parse: "'+tr+'"');if(cr)throw new SyntaxError('Trailing characters: "'+tr+'"');if(kr.length!==0)throw new SyntaxError('Unmatched "(" in "'+Nt+'"');if(br.units.length===0&&!ir.allowNoUnits)throw new SyntaxError('"'+tr+'" contains no units');return br.value=Sr!==void 0?br._normalize(Sr):null,br},_t.prototype.clone=function(){var tr=new _t;tr.fixPrefix=this.fixPrefix,tr.skipAutomaticSimplification=this.skipAutomaticSimplification,tr.value=clone$3(this.value),tr.dimensions=this.dimensions.slice(0),tr.units=[];for(var ir=0;ir<this.units.length;ir++){tr.units[ir]={};for(var br in this.units[ir])hasOwnProperty$1(this.units[ir],br)&&(tr.units[ir][br]=this.units[ir][br])}return tr},_t.prototype.valueType=function(){return typeOf$1(this.value)},_t.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},_t.prototype._normalize=function(tr){if(tr==null||this.units.length===0)return tr;for(var ir=tr,br=_t._getNumberConverter(typeOf$1(tr)),nr=0;nr<this.units.length;nr++){var cr=br(this.units[nr].unit.value),gr=br(this.units[nr].prefix.value),Sr=br(this.units[nr].power);ir=ct(ir,ht(ct(cr,gr),Sr))}return ir},_t.prototype._denormalize=function(tr,ir){if(tr==null||this.units.length===0)return tr;for(var br=tr,nr=_t._getNumberConverter(typeOf$1(tr)),cr=0;cr<this.units.length;cr++){var gr=nr(this.units[cr].unit.value),Sr=nr(this.units[cr].prefix.value),kr=nr(this.units[cr].power);br=dt(br,ht(ct(gr,Sr),kr))}return br};var Wt=memoize(tr=>{if(hasOwnProperty$1(Qt,tr)){var ir=Qt[tr],br=ir.prefixes[""];return{unit:ir,prefix:br}}for(var nr in Qt)if(hasOwnProperty$1(Qt,nr)&&endsWith(tr,nr)){var cr=Qt[nr],gr=tr.length-nr.length,Sr=tr.substring(0,gr),kr=hasOwnProperty$1(cr.prefixes,Sr)?cr.prefixes[Sr]:void 0;if(kr!==void 0)return{unit:cr,prefix:kr}}return null},{hasher:tr=>tr[0],limit:100});_t.isValuelessUnit=function(tr){return Wt(tr)!==null},_t.prototype.hasBase=function(tr){if(typeof tr=="string"&&(tr=Ut[tr]),!tr)return!1;for(var ir=0;ir<Zt.length;ir++)if(Math.abs((this.dimensions[ir]||0)-(tr.dimensions[ir]||0))>1e-12)return!1;return!0},_t.prototype.equalBase=function(tr){for(var ir=0;ir<Zt.length;ir++)if(Math.abs((this.dimensions[ir]||0)-(tr.dimensions[ir]||0))>1e-12)return!1;return!0},_t.prototype.equals=function(tr){return this.equalBase(tr)&&gt(this.value,tr.value)},_t.prototype.multiply=function(tr){for(var ir=this.clone(),br=isUnit(tr)?tr:new _t(tr),nr=0;nr<Zt.length;nr++)ir.dimensions[nr]=(this.dimensions[nr]||0)+(br.dimensions[nr]||0);for(var cr=0;cr<br.units.length;cr++){var gr=_objectSpread$1({},br.units[cr]);ir.units.push(gr)}if(this.value!==null||br.value!==null){var Sr=this.value===null?this._normalize(1):this.value,kr=br.value===null?br._normalize(1):br.value;ir.value=ct(Sr,kr)}else ir.value=null;return isUnit(tr)&&(ir.skipAutomaticSimplification=!1),jt(ir)},_t.prototype.divideInto=function(tr){return new _t(tr).divide(this)},_t.prototype.divide=function(tr){for(var ir=this.clone(),br=isUnit(tr)?tr:new _t(tr),nr=0;nr<Zt.length;nr++)ir.dimensions[nr]=(this.dimensions[nr]||0)-(br.dimensions[nr]||0);for(var cr=0;cr<br.units.length;cr++){var gr=_objectSpread$1(_objectSpread$1({},br.units[cr]),{},{power:-br.units[cr].power});ir.units.push(gr)}if(this.value!==null||br.value!==null){var Sr=this.value===null?this._normalize(1):this.value,kr=br.value===null?br._normalize(1):br.value;ir.value=dt(Sr,kr)}else ir.value=null;return isUnit(tr)&&(ir.skipAutomaticSimplification=!1),jt(ir)},_t.prototype.pow=function(tr){for(var ir=this.clone(),br=0;br<Zt.length;br++)ir.dimensions[br]=(this.dimensions[br]||0)*tr;for(var nr=0;nr<ir.units.length;nr++)ir.units[nr].power*=tr;return ir.value!==null?ir.value=ht(ir.value,tr):ir.value=null,ir.skipAutomaticSimplification=!1,jt(ir)};function jt(tr){return tr.equalBase(Ut.NONE)&&tr.value!==null&&!g.predictable?tr.value:tr}_t.prototype.abs=function(){var tr=this.clone();if(tr.value!==null)if(tr._isDerived()||tr.units[0].unit.offset===0)tr.value=pt(tr.value);else{var ir=tr._numberConverter(),br=ir(tr.units[0].unit.value),nr=ir(tr.units[0].unit.offset),cr=ct(br,nr);tr.value=ut(pt(it(tr.value,cr)),cr)}for(var gr in tr.units)(tr.units[gr].unit.name==="VA"||tr.units[gr].unit.name==="VAR")&&(tr.units[gr].unit=Qt.W);return tr},_t.prototype.to=function(tr){var ir=this.value===null?this._normalize(1):this.value,br;if(typeof tr=="string")br=_t.parse(tr);else if(isUnit(tr))br=tr.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(br))throw new Error("Units do not match ('".concat(br.toString(),"' != '").concat(this.toString(),"')"));if(br.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units[0].unit.offset===br.units[0].unit.offset)br.value=clone$3(ir);else{var nr=_t._getNumberConverter(typeOf$1(ir)),cr=this.units[0].unit.value,gr=this.units[0].unit.offset,Sr=ct(cr,gr),kr=br.units[0].unit.value,er=br.units[0].unit.offset,ar=ct(kr,er);br.value=it(ir,nr(ut(Sr,ar)))}return br.fixPrefix=!0,br.skipAutomaticSimplification=!0,br},_t.prototype.toNumber=function(tr){return $t(this.toNumeric(tr))},_t.prototype.toNumeric=function(tr){var ir;return tr?ir=this.to(tr):ir=this.clone(),ir._isDerived()||ir.units.length===0?ir._denormalize(ir.value):ir._denormalize(ir.value,ir.units[0].prefix.value)},_t.prototype.toString=function(){return this.format()},_t.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},_t.fromJSON=function(tr){var ir=new _t(tr.value,tr.unit);return ir.fixPrefix=tr.fixPrefix||!1,ir},_t.prototype.valueOf=_t.prototype.toString,_t.prototype.simplify=function(){var tr=this.clone(),ir=[],br;for(var nr in Dr)if(hasOwnProperty$1(Dr,nr)&&tr.hasBase(Ut[nr])){br=nr;break}if(br==="NONE")tr.units=[];else{var cr;if(br&&hasOwnProperty$1(Dr,br)&&(cr=Dr[br]),cr)tr.units=[{unit:cr.unit,prefix:cr.prefix,power:1}];else{for(var gr=!1,Sr=0;Sr<Zt.length;Sr++){var kr=Zt[Sr];Math.abs(tr.dimensions[Sr]||0)>1e-12&&(hasOwnProperty$1(Dr,kr)?ir.push({unit:Dr[kr].unit,prefix:Dr[kr].prefix,power:tr.dimensions[Sr]||0}):gr=!0)}ir.length<tr.units.length&&!gr&&(tr.units=ir)}}return tr},_t.prototype.toSI=function(){for(var tr=this.clone(),ir=[],br=0;br<Zt.length;br++){var nr=Zt[br];if(Math.abs(tr.dimensions[br]||0)>1e-12)if(hasOwnProperty$1(vr.si,nr))ir.push({unit:vr.si[nr].unit,prefix:vr.si[nr].prefix,power:tr.dimensions[br]||0});else throw new Error("Cannot express custom unit "+nr+" in SI units")}return tr.units=ir,tr.fixPrefix=!0,tr.skipAutomaticSimplification=!0,tr},_t.prototype.formatUnits=function(){for(var tr="",ir="",br=0,nr=0,cr=0;cr<this.units.length;cr++)this.units[cr].power>0?(br++,tr+=" "+this.units[cr].prefix.name+this.units[cr].unit.name,Math.abs(this.units[cr].power-1)>1e-15&&(tr+="^"+this.units[cr].power)):this.units[cr].power<0&&nr++;if(nr>0)for(var gr=0;gr<this.units.length;gr++)this.units[gr].power<0&&(br>0?(ir+=" "+this.units[gr].prefix.name+this.units[gr].unit.name,Math.abs(this.units[gr].power+1)>1e-15&&(ir+="^"+-this.units[gr].power)):(ir+=" "+this.units[gr].prefix.name+this.units[gr].unit.name,ir+="^"+this.units[gr].power));tr=tr.substr(1),ir=ir.substr(1),br>1&&nr>0&&(tr="("+tr+")"),nr>1&&br>0&&(ir="("+ir+")");var Sr=tr;return br>0&&nr>0&&(Sr+=" / "),Sr+=ir,Sr},_t.prototype.format=function(tr){var ir=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),br=!1;typeof ir.value<"u"&&ir.value!==null&&isComplex(ir.value)&&(br=Math.abs(ir.value.re)<1e-14);for(var nr in ir.units)hasOwnProperty$1(ir.units,nr)&&ir.units[nr].unit&&(ir.units[nr].unit.name==="VA"&&br?ir.units[nr].unit=Qt.VAR:ir.units[nr].unit.name==="VAR"&&!br&&(ir.units[nr].unit=Qt.VA));ir.units.length===1&&!ir.fixPrefix&&Math.abs(ir.units[0].power-Math.round(ir.units[0].power))<1e-14&&(ir.units[0].prefix=ir._bestPrefix());var cr=ir._denormalize(ir.value),gr=ir.value!==null?bt(cr,tr||{}):"",Sr=ir.formatUnits();return ir.value&&isComplex(ir.value)&&(gr="("+gr+")"),Sr.length>0&&gr.length>0&&(gr+=" "),gr+=Sr,gr},_t.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var tr=this.value!==null?pt(this.value):0,ir=pt(this.units[0].unit.value),br=this.units[0].prefix;if(tr===0)return br;var nr=this.units[0].power,cr=Math.log(tr/Math.pow(br.value*ir,nr))/Math.LN10-1.2;if(cr>-2.200001&&cr<1.800001)return br;cr=Math.abs(cr);var gr=this.units[0].unit.prefixes;for(var Sr in gr)if(hasOwnProperty$1(gr,Sr)){var kr=gr[Sr];if(kr.scientific){var er=Math.abs(Math.log(tr/Math.pow(kr.value*ir,nr))/Math.LN10-1.2);(er<cr||er===cr&&kr.name.length<br.name.length)&&(br=kr,cr=er)}}return br},_t.prototype.splitUnit=function(tr){for(var ir=this.clone(),br=[],nr=0;nr<tr.length&&(ir=ir.to(tr[nr]),nr!==tr.length-1);nr++){var cr=ir.toNumeric(),gr=vt(cr),Sr=void 0,kr=gt(gr,cr);kr?Sr=gr:Sr=mt(ir.toNumeric());var er=new _t(Sr,tr[nr].toString());br.push(er),ir=ut(ir,er)}for(var ar=0,xr=0;xr<br.length;xr++)ar=it(ar,br[xr].value);return gt(ar,this.value)&&(ir.value=0),br.push(ir),br};var qt={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};qt.SHORTLONG=_extends$1({},qt.SHORT,qt.LONG),qt.BINARY_SHORT=_extends$1({},qt.BINARY_SHORT_SI,qt.BINARY_SHORT_IEC),qt.BINARY_LONG=_extends$1({},qt.BINARY_LONG_SI,qt.BINARY_LONG_IEC);var Zt=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],Ut={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var Yt in Ut)hasOwnProperty$1(Ut,Yt)&&(Ut[Yt].key=Yt);var lr={},rr={name:"",base:lr,value:1,offset:0,dimensions:Zt.map(tr=>0)},Qt={meter:{name:"meter",base:Ut.LENGTH,prefixes:qt.LONG,value:1,offset:0},inch:{name:"inch",base:Ut.LENGTH,prefixes:qt.NONE,value:.0254,offset:0},foot:{name:"foot",base:Ut.LENGTH,prefixes:qt.NONE,value:.3048,offset:0},yard:{name:"yard",base:Ut.LENGTH,prefixes:qt.NONE,value:.9144,offset:0},mile:{name:"mile",base:Ut.LENGTH,prefixes:qt.NONE,value:1609.344,offset:0},link:{name:"link",base:Ut.LENGTH,prefixes:qt.NONE,value:.201168,offset:0},rod:{name:"rod",base:Ut.LENGTH,prefixes:qt.NONE,value:5.0292,offset:0},chain:{name:"chain",base:Ut.LENGTH,prefixes:qt.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:Ut.LENGTH,prefixes:qt.NONE,value:1e-10,offset:0},m:{name:"m",base:Ut.LENGTH,prefixes:qt.SHORT,value:1,offset:0},in:{name:"in",base:Ut.LENGTH,prefixes:qt.NONE,value:.0254,offset:0},ft:{name:"ft",base:Ut.LENGTH,prefixes:qt.NONE,value:.3048,offset:0},yd:{name:"yd",base:Ut.LENGTH,prefixes:qt.NONE,value:.9144,offset:0},mi:{name:"mi",base:Ut.LENGTH,prefixes:qt.NONE,value:1609.344,offset:0},li:{name:"li",base:Ut.LENGTH,prefixes:qt.NONE,value:.201168,offset:0},rd:{name:"rd",base:Ut.LENGTH,prefixes:qt.NONE,value:5.02921,offset:0},ch:{name:"ch",base:Ut.LENGTH,prefixes:qt.NONE,value:20.1168,offset:0},mil:{name:"mil",base:Ut.LENGTH,prefixes:qt.NONE,value:254e-7,offset:0},m2:{name:"m2",base:Ut.SURFACE,prefixes:qt.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:Ut.SURFACE,prefixes:qt.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:Ut.SURFACE,prefixes:qt.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:Ut.SURFACE,prefixes:qt.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:Ut.SURFACE,prefixes:qt.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:Ut.SURFACE,prefixes:qt.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:Ut.SURFACE,prefixes:qt.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:Ut.SURFACE,prefixes:qt.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:Ut.SURFACE,prefixes:qt.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:Ut.SURFACE,prefixes:qt.NONE,value:1e4,offset:0},m3:{name:"m3",base:Ut.VOLUME,prefixes:qt.CUBIC,value:1,offset:0},L:{name:"L",base:Ut.VOLUME,prefixes:qt.SHORT,value:.001,offset:0},l:{name:"l",base:Ut.VOLUME,prefixes:qt.SHORT,value:.001,offset:0},litre:{name:"litre",base:Ut.VOLUME,prefixes:qt.LONG,value:.001,offset:0},cuin:{name:"cuin",base:Ut.VOLUME,prefixes:qt.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:Ut.VOLUME,prefixes:qt.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:Ut.VOLUME,prefixes:qt.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:Ut.VOLUME,prefixes:qt.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:Ut.VOLUME,prefixes:qt.NONE,value:15e-6,offset:0},drop:{name:"drop",base:Ut.VOLUME,prefixes:qt.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:Ut.VOLUME,prefixes:qt.NONE,value:5e-8,offset:0},minim:{name:"minim",base:Ut.VOLUME,prefixes:qt.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:Ut.VOLUME,prefixes:qt.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:Ut.VOLUME,prefixes:qt.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:Ut.VOLUME,prefixes:qt.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:Ut.VOLUME,prefixes:qt.NONE,value:1e-6,offset:0},cup:{name:"cup",base:Ut.VOLUME,prefixes:qt.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:Ut.VOLUME,prefixes:qt.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:Ut.VOLUME,prefixes:qt.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:Ut.VOLUME,prefixes:qt.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:Ut.VOLUME,prefixes:qt.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:Ut.VOLUME,prefixes:qt.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:Ut.VOLUME,prefixes:qt.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:Ut.VOLUME,prefixes:qt.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:Ut.VOLUME,prefixes:qt.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:Ut.VOLUME,prefixes:qt.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:Ut.VOLUME,prefixes:qt.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:Ut.VOLUME,prefixes:qt.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:Ut.VOLUME,prefixes:qt.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:Ut.VOLUME,prefixes:qt.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:Ut.VOLUME,prefixes:qt.NONE,value:.1173478,offset:0},obl:{name:"obl",base:Ut.VOLUME,prefixes:qt.NONE,value:.1589873,offset:0},g:{name:"g",base:Ut.MASS,prefixes:qt.SHORT,value:.001,offset:0},gram:{name:"gram",base:Ut.MASS,prefixes:qt.LONG,value:.001,offset:0},ton:{name:"ton",base:Ut.MASS,prefixes:qt.SHORT,value:907.18474,offset:0},t:{name:"t",base:Ut.MASS,prefixes:qt.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:Ut.MASS,prefixes:qt.LONG,value:1e3,offset:0},grain:{name:"grain",base:Ut.MASS,prefixes:qt.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:Ut.MASS,prefixes:qt.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:Ut.MASS,prefixes:qt.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:Ut.MASS,prefixes:qt.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:Ut.MASS,prefixes:qt.NONE,value:45.359237,offset:0},stick:{name:"stick",base:Ut.MASS,prefixes:qt.NONE,value:.115,offset:0},stone:{name:"stone",base:Ut.MASS,prefixes:qt.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:Ut.MASS,prefixes:qt.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:Ut.MASS,prefixes:qt.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:Ut.MASS,prefixes:qt.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:Ut.MASS,prefixes:qt.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:Ut.MASS,prefixes:qt.NONE,value:45.359237,offset:0},s:{name:"s",base:Ut.TIME,prefixes:qt.SHORT,value:1,offset:0},min:{name:"min",base:Ut.TIME,prefixes:qt.NONE,value:60,offset:0},h:{name:"h",base:Ut.TIME,prefixes:qt.NONE,value:3600,offset:0},second:{name:"second",base:Ut.TIME,prefixes:qt.LONG,value:1,offset:0},sec:{name:"sec",base:Ut.TIME,prefixes:qt.LONG,value:1,offset:0},minute:{name:"minute",base:Ut.TIME,prefixes:qt.NONE,value:60,offset:0},hour:{name:"hour",base:Ut.TIME,prefixes:qt.NONE,value:3600,offset:0},day:{name:"day",base:Ut.TIME,prefixes:qt.NONE,value:86400,offset:0},week:{name:"week",base:Ut.TIME,prefixes:qt.NONE,value:7*86400,offset:0},month:{name:"month",base:Ut.TIME,prefixes:qt.NONE,value:2629800,offset:0},year:{name:"year",base:Ut.TIME,prefixes:qt.NONE,value:31557600,offset:0},decade:{name:"decade",base:Ut.TIME,prefixes:qt.NONE,value:315576e3,offset:0},century:{name:"century",base:Ut.TIME,prefixes:qt.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:Ut.TIME,prefixes:qt.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:Ut.FREQUENCY,prefixes:qt.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:Ut.FREQUENCY,prefixes:qt.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:Ut.ANGLE,prefixes:qt.SHORT,value:1,offset:0},radian:{name:"radian",base:Ut.ANGLE,prefixes:qt.LONG,value:1,offset:0},deg:{name:"deg",base:Ut.ANGLE,prefixes:qt.SHORT,value:null,offset:0},degree:{name:"degree",base:Ut.ANGLE,prefixes:qt.LONG,value:null,offset:0},grad:{name:"grad",base:Ut.ANGLE,prefixes:qt.SHORT,value:null,offset:0},gradian:{name:"gradian",base:Ut.ANGLE,prefixes:qt.LONG,value:null,offset:0},cycle:{name:"cycle",base:Ut.ANGLE,prefixes:qt.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:Ut.ANGLE,prefixes:qt.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:Ut.ANGLE,prefixes:qt.NONE,value:null,offset:0},A:{name:"A",base:Ut.CURRENT,prefixes:qt.SHORT,value:1,offset:0},ampere:{name:"ampere",base:Ut.CURRENT,prefixes:qt.LONG,value:1,offset:0},K:{name:"K",base:Ut.TEMPERATURE,prefixes:qt.SHORT,value:1,offset:0},degC:{name:"degC",base:Ut.TEMPERATURE,prefixes:qt.SHORT,value:1,offset:273.15},degF:{name:"degF",base:Ut.TEMPERATURE,prefixes:qt.SHORT,value:new Dt(5,9),offset:459.67},degR:{name:"degR",base:Ut.TEMPERATURE,prefixes:qt.SHORT,value:new Dt(5,9),offset:0},kelvin:{name:"kelvin",base:Ut.TEMPERATURE,prefixes:qt.LONG,value:1,offset:0},celsius:{name:"celsius",base:Ut.TEMPERATURE,prefixes:qt.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:Ut.TEMPERATURE,prefixes:qt.LONG,value:new Dt(5,9),offset:459.67},rankine:{name:"rankine",base:Ut.TEMPERATURE,prefixes:qt.LONG,value:new Dt(5,9),offset:0},mol:{name:"mol",base:Ut.AMOUNT_OF_SUBSTANCE,prefixes:qt.SHORT,value:1,offset:0},mole:{name:"mole",base:Ut.AMOUNT_OF_SUBSTANCE,prefixes:qt.LONG,value:1,offset:0},cd:{name:"cd",base:Ut.LUMINOUS_INTENSITY,prefixes:qt.SHORT,value:1,offset:0},candela:{name:"candela",base:Ut.LUMINOUS_INTENSITY,prefixes:qt.LONG,value:1,offset:0},N:{name:"N",base:Ut.FORCE,prefixes:qt.SHORT,value:1,offset:0},newton:{name:"newton",base:Ut.FORCE,prefixes:qt.LONG,value:1,offset:0},dyn:{name:"dyn",base:Ut.FORCE,prefixes:qt.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:Ut.FORCE,prefixes:qt.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:Ut.FORCE,prefixes:qt.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:Ut.FORCE,prefixes:qt.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:Ut.FORCE,prefixes:qt.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:Ut.FORCE,prefixes:qt.NONE,value:9.80665,offset:0},J:{name:"J",base:Ut.ENERGY,prefixes:qt.SHORT,value:1,offset:0},joule:{name:"joule",base:Ut.ENERGY,prefixes:qt.LONG,value:1,offset:0},erg:{name:"erg",base:Ut.ENERGY,prefixes:qt.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:Ut.ENERGY,prefixes:qt.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:Ut.ENERGY,prefixes:qt.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:Ut.ENERGY,prefixes:qt.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:Ut.ENERGY,prefixes:qt.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:Ut.POWER,prefixes:qt.SHORT,value:1,offset:0},watt:{name:"watt",base:Ut.POWER,prefixes:qt.LONG,value:1,offset:0},hp:{name:"hp",base:Ut.POWER,prefixes:qt.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:Ut.POWER,prefixes:qt.SHORT,value:Et.I,offset:0},VA:{name:"VA",base:Ut.POWER,prefixes:qt.SHORT,value:1,offset:0},Pa:{name:"Pa",base:Ut.PRESSURE,prefixes:qt.SHORT,value:1,offset:0},psi:{name:"psi",base:Ut.PRESSURE,prefixes:qt.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:Ut.PRESSURE,prefixes:qt.NONE,value:101325,offset:0},bar:{name:"bar",base:Ut.PRESSURE,prefixes:qt.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:Ut.PRESSURE,prefixes:qt.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:Ut.PRESSURE,prefixes:qt.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:Ut.PRESSURE,prefixes:qt.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:Ut.PRESSURE,prefixes:qt.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:Ut.ELECTRIC_CHARGE,prefixes:qt.LONG,value:1,offset:0},C:{name:"C",base:Ut.ELECTRIC_CHARGE,prefixes:qt.SHORT,value:1,offset:0},farad:{name:"farad",base:Ut.ELECTRIC_CAPACITANCE,prefixes:qt.LONG,value:1,offset:0},F:{name:"F",base:Ut.ELECTRIC_CAPACITANCE,prefixes:qt.SHORT,value:1,offset:0},volt:{name:"volt",base:Ut.ELECTRIC_POTENTIAL,prefixes:qt.LONG,value:1,offset:0},V:{name:"V",base:Ut.ELECTRIC_POTENTIAL,prefixes:qt.SHORT,value:1,offset:0},ohm:{name:"ohm",base:Ut.ELECTRIC_RESISTANCE,prefixes:qt.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:Ut.ELECTRIC_INDUCTANCE,prefixes:qt.LONG,value:1,offset:0},H:{name:"H",base:Ut.ELECTRIC_INDUCTANCE,prefixes:qt.SHORT,value:1,offset:0},siemens:{name:"siemens",base:Ut.ELECTRIC_CONDUCTANCE,prefixes:qt.LONG,value:1,offset:0},S:{name:"S",base:Ut.ELECTRIC_CONDUCTANCE,prefixes:qt.SHORT,value:1,offset:0},weber:{name:"weber",base:Ut.MAGNETIC_FLUX,prefixes:qt.LONG,value:1,offset:0},Wb:{name:"Wb",base:Ut.MAGNETIC_FLUX,prefixes:qt.SHORT,value:1,offset:0},tesla:{name:"tesla",base:Ut.MAGNETIC_FLUX_DENSITY,prefixes:qt.LONG,value:1,offset:0},T:{name:"T",base:Ut.MAGNETIC_FLUX_DENSITY,prefixes:qt.SHORT,value:1,offset:0},b:{name:"b",base:Ut.BIT,prefixes:qt.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:Ut.BIT,prefixes:qt.BINARY_LONG,value:1,offset:0},B:{name:"B",base:Ut.BIT,prefixes:qt.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:Ut.BIT,prefixes:qt.BINARY_LONG,value:8,offset:0}},ur={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function wr(tr){if(tr.number==="BigNumber"){var ir=createBigNumberPi(Mt);Qt.rad.value=new Mt(1),Qt.deg.value=ir.div(180),Qt.grad.value=ir.div(200),Qt.cycle.value=ir.times(2),Qt.arcsec.value=ir.div(648e3),Qt.arcmin.value=ir.div(10800)}else Qt.rad.value=1,Qt.deg.value=Math.PI/180,Qt.grad.value=Math.PI/200,Qt.cycle.value=Math.PI*2,Qt.arcsec.value=Math.PI/648e3,Qt.arcmin.value=Math.PI/10800;Qt.radian.value=Qt.rad.value,Qt.degree.value=Qt.deg.value,Qt.gradian.value=Qt.grad.value}wr(g),h&&h("config",function(tr,ir){tr.number!==ir.number&&wr(tr)});var vr={si:{NONE:{unit:rr,prefix:qt.NONE[""]},LENGTH:{unit:Qt.m,prefix:qt.SHORT[""]},MASS:{unit:Qt.g,prefix:qt.SHORT.k},TIME:{unit:Qt.s,prefix:qt.SHORT[""]},CURRENT:{unit:Qt.A,prefix:qt.SHORT[""]},TEMPERATURE:{unit:Qt.K,prefix:qt.SHORT[""]},LUMINOUS_INTENSITY:{unit:Qt.cd,prefix:qt.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:Qt.mol,prefix:qt.SHORT[""]},ANGLE:{unit:Qt.rad,prefix:qt.SHORT[""]},BIT:{unit:Qt.bits,prefix:qt.SHORT[""]},FORCE:{unit:Qt.N,prefix:qt.SHORT[""]},ENERGY:{unit:Qt.J,prefix:qt.SHORT[""]},POWER:{unit:Qt.W,prefix:qt.SHORT[""]},PRESSURE:{unit:Qt.Pa,prefix:qt.SHORT[""]},ELECTRIC_CHARGE:{unit:Qt.C,prefix:qt.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:Qt.F,prefix:qt.SHORT[""]},ELECTRIC_POTENTIAL:{unit:Qt.V,prefix:qt.SHORT[""]},ELECTRIC_RESISTANCE:{unit:Qt.ohm,prefix:qt.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:Qt.H,prefix:qt.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:Qt.S,prefix:qt.SHORT[""]},MAGNETIC_FLUX:{unit:Qt.Wb,prefix:qt.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:Qt.T,prefix:qt.SHORT[""]},FREQUENCY:{unit:Qt.Hz,prefix:qt.SHORT[""]}}};vr.cgs=JSON.parse(JSON.stringify(vr.si)),vr.cgs.LENGTH={unit:Qt.m,prefix:qt.SHORT.c},vr.cgs.MASS={unit:Qt.g,prefix:qt.SHORT[""]},vr.cgs.FORCE={unit:Qt.dyn,prefix:qt.SHORT[""]},vr.cgs.ENERGY={unit:Qt.erg,prefix:qt.NONE[""]},vr.us=JSON.parse(JSON.stringify(vr.si)),vr.us.LENGTH={unit:Qt.ft,prefix:qt.NONE[""]},vr.us.MASS={unit:Qt.lbm,prefix:qt.NONE[""]},vr.us.TEMPERATURE={unit:Qt.degF,prefix:qt.NONE[""]},vr.us.FORCE={unit:Qt.lbf,prefix:qt.NONE[""]},vr.us.ENERGY={unit:Qt.BTU,prefix:qt.BTU[""]},vr.us.POWER={unit:Qt.hp,prefix:qt.NONE[""]},vr.us.PRESSURE={unit:Qt.psi,prefix:qt.NONE[""]},vr.auto=JSON.parse(JSON.stringify(vr.si));var Dr=vr.auto;_t.setUnitSystem=function(tr){if(hasOwnProperty$1(vr,tr))Dr=vr[tr];else throw new Error("Unit system "+tr+" does not exist. Choices are: "+Object.keys(vr).join(", "))},_t.getUnitSystem=function(){for(var tr in vr)if(hasOwnProperty$1(vr,tr)&&vr[tr]===Dr)return tr},_t.typeConverters={BigNumber:function(ir){return ir!=null&&ir.isFraction?new Mt(ir.n).div(ir.d).times(ir.s):new Mt(ir+"")},Fraction:function(ir){return new Dt(ir)},Complex:function(ir){return ir},number:function(ir){return ir!=null&&ir.isFraction?wt(ir):ir}},_t.prototype._numberConverter=function(){var tr=_t.typeConverters[this.valueType()];if(tr)return tr;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},_t._getNumberConverter=function(tr){if(!_t.typeConverters[tr])throw new TypeError('Unsupported type "'+tr+'"');return _t.typeConverters[tr]};for(var Or in Qt)if(hasOwnProperty$1(Qt,Or)){var Mr=Qt[Or];Mr.dimensions=Mr.base.dimensions}for(var dr in ur)if(hasOwnProperty$1(ur,dr)){var _r=Qt[ur[dr]],zr={};for(var yr in _r)hasOwnProperty$1(_r,yr)&&(zr[yr]=_r[yr]);zr.name=dr,Qt[dr]=zr}_t.isValidAlpha=function(ir){return/^[a-zA-Z]$/.test(ir)};function Lr(tr){for(var ir=0;ir<tr.length;ir++){if(At=tr.charAt(ir),ir===0&&!_t.isValidAlpha(At))throw new Error('Invalid unit name (must begin with alpha character): "'+tr+'"');if(ir>0&&!(_t.isValidAlpha(At)||Lt(At)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+tr+'"')}}return _t.createUnit=function(tr,ir){if(typeof tr!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(ir&&ir.override){for(var br in tr)if(hasOwnProperty$1(tr,br)&&_t.deleteUnit(br),tr[br].aliases)for(var nr=0;nr<tr[br].aliases.length;nr++)_t.deleteUnit(tr[br].aliases[nr])}var cr;for(var gr in tr)hasOwnProperty$1(tr,gr)&&(cr=_t.createUnitSingle(gr,tr[gr]));return cr},_t.createUnitSingle=function(tr,ir){if((typeof ir>"u"||ir===null)&&(ir={}),typeof tr!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(hasOwnProperty$1(Qt,tr))throw new Error('Cannot create unit "'+tr+'": a unit with that name already exists');Lr(tr);var br=null,nr=[],cr=0,gr,Sr,kr;if(ir&&ir.type==="Unit")br=ir.clone();else if(typeof ir=="string")ir!==""&&(gr=ir);else if(typeof ir=="object")gr=ir.definition,Sr=ir.prefixes,cr=ir.offset,kr=ir.baseName,ir.aliases&&(nr=ir.aliases.valueOf());else throw new TypeError('Cannot create unit "'+tr+'" from "'+ir.toString()+'": expecting "string" or "Unit" or "Object"');if(nr){for(var er=0;er<nr.length;er++)if(hasOwnProperty$1(Qt,nr[er]))throw new Error('Cannot create alias "'+nr[er]+'": a unit with that name already exists')}if(gr&&typeof gr=="string"&&!br)try{br=_t.parse(gr,{allowNoUnits:!0})}catch(_n){throw _n.message='Could not create unit "'+tr+'" from "'+gr+'": '+_n.message,_n}else gr&&gr.type==="Unit"&&(br=gr.clone());nr=nr||[],cr=cr||0,Sr&&Sr.toUpperCase?Sr=qt[Sr.toUpperCase()]||qt.NONE:Sr=qt.NONE;var ar={};if(br){ar={name:tr,value:br.value,dimensions:br.dimensions.slice(0),prefixes:Sr,offset:cr};var Er=!1;for(var jr in Ut)if(hasOwnProperty$1(Ut,jr)){for(var Kr=!0,Xr=0;Xr<Zt.length;Xr++)if(Math.abs((ar.dimensions[Xr]||0)-(Ut[jr].dimensions[Xr]||0))>1e-12){Kr=!1;break}if(Kr){Er=!0,ar.base=Ut[jr];break}}if(!Er){kr=kr||tr+"_STUFF";var Hr={dimensions:br.dimensions.slice(0)};Hr.key=kr,Ut[kr]=Hr,Dr[kr]={unit:ar,prefix:qt.NONE[""]},ar.base=Ut[kr]}}else{if(kr=kr||tr+"_STUFF",Zt.indexOf(kr)>=0)throw new Error('Cannot create new base unit "'+tr+'": a base unit with that name already exists (and cannot be overridden)');Zt.push(kr);for(var xr in Ut)hasOwnProperty$1(Ut,xr)&&(Ut[xr].dimensions[Zt.length-1]=0);for(var Tr={dimensions:[]},Fr=0;Fr<Zt.length;Fr++)Tr.dimensions[Fr]=0;Tr.dimensions[Zt.length-1]=1,Tr.key=kr,Ut[kr]=Tr,ar={name:tr,value:1,dimensions:Ut[kr].dimensions.slice(0),prefixes:Sr,offset:cr,base:Ut[kr]},Dr[kr]={unit:ar,prefix:qt.NONE[""]}}_t.UNITS[tr]=ar;for(var gn=0;gn<nr.length;gn++){var xn=nr[gn],hn={};for(var Ar in ar)hasOwnProperty$1(ar,Ar)&&(hn[Ar]=ar[Ar]);hn.name=xn,_t.UNITS[xn]=hn}return delete Wt.cache,new _t(null,tr)},_t.deleteUnit=function(tr){delete _t.UNITS[tr]},_t.PREFIXES=qt,_t.BASE_DIMENSIONS=Zt,_t.BASE_UNITS=Ut,_t.UNIT_SYSTEMS=vr,_t.UNITS=Qt,_t},{isClass:!0}),name$2i="unit",dependencies$2i=["typed","Unit"],createUnitFunction=factory(name$2i,dependencies$2i,s=>{var{typed:h,Unit:g}=s;return h(name$2i,{Unit:function(ut){return ut.clone()},string:function(ut){return g.isValuelessUnit(ut)?new g(null,ut):g.parse(ut,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(ut,ct){return new g(ut,ct)},"number | BigNumber | Fraction":function(ut){return new g(ut)},"Array | Matrix":h.referToSelf(it=>ut=>deepMap(ut,it))})}),name$2h="sparse",dependencies$2h=["typed","SparseMatrix"],createSparse=factory(name$2h,dependencies$2h,s=>{var{typed:h,SparseMatrix:g}=s;return h(name$2h,{"":function(){return new g([])},string:function(ut){return new g([],ut)},"Array | Matrix":function(ut){return new g(ut)},"Array | Matrix, string":function(ut,ct){return new g(ut,ct)}})}),name$2g="createUnit",dependencies$2g=["typed","Unit"],createCreateUnit=factory(name$2g,dependencies$2g,s=>{var{typed:h,Unit:g}=s;return h(name$2g,{"Object, Object":function(ut,ct){return g.createUnit(ut,ct)},Object:function(ut){return g.createUnit(ut,{})},"string, Unit | string | Object, Object":function(ut,ct,dt){var ht={};return ht[ut]=ct,g.createUnit(ht,dt)},"string, Unit | string | Object":function(ut,ct){var dt={};return dt[ut]=ct,g.createUnit(dt,{})},string:function(ut){var ct={};return ct[ut]={},g.createUnit(ct,{})}})}),name$2f="acos",dependencies$2f=["typed","config","Complex"],createAcos=factory(name$2f,dependencies$2f,s=>{var{typed:h,config:g,Complex:it}=s;return h(name$2f,{number:function(ct){return ct>=-1&&ct<=1||g.predictable?Math.acos(ct):new it(ct,0).acos()},Complex:function(ct){return ct.acos()},BigNumber:function(ct){return ct.acos()}})}),name$2e="acosh",dependencies$2e=["typed","config","Complex"],createAcosh=factory(name$2e,dependencies$2e,s=>{var{typed:h,config:g,Complex:it}=s;return h(name$2e,{number:function(ct){return ct>=1||g.predictable?acoshNumber(ct):ct<=-1?new it(Math.log(Math.sqrt(ct*ct-1)-ct),Math.PI):new it(ct,0).acosh()},Complex:function(ct){return ct.acosh()},BigNumber:function(ct){return ct.acosh()}})}),name$2d="acot",dependencies$2d=["typed","BigNumber"],createAcot=factory(name$2d,dependencies$2d,s=>{var{typed:h,BigNumber:g}=s;return h(name$2d,{number:acotNumber,Complex:function(ut){return ut.acot()},BigNumber:function(ut){return new g(1).div(ut).atan()}})}),name$2c="acoth",dependencies$2c=["typed","config","Complex","BigNumber"],createAcoth=factory(name$2c,dependencies$2c,s=>{var{typed:h,config:g,Complex:it,BigNumber:ut}=s;return h(name$2c,{number:function(dt){return dt>=1||dt<=-1||g.predictable?acothNumber(dt):new it(dt,0).acoth()},Complex:function(dt){return dt.acoth()},BigNumber:function(dt){return new ut(1).div(dt).atanh()}})}),name$2b="acsc",dependencies$2b=["typed","config","Complex","BigNumber"],createAcsc=factory(name$2b,dependencies$2b,s=>{var{typed:h,config:g,Complex:it,BigNumber:ut}=s;return h(name$2b,{number:function(dt){return dt<=-1||dt>=1||g.predictable?acscNumber(dt):new it(dt,0).acsc()},Complex:function(dt){return dt.acsc()},BigNumber:function(dt){return new ut(1).div(dt).asin()}})}),name$2a="acsch",dependencies$2a=["typed","BigNumber"],createAcsch=factory(name$2a,dependencies$2a,s=>{var{typed:h,BigNumber:g}=s;return h(name$2a,{number:acschNumber,Complex:function(ut){return ut.acsch()},BigNumber:function(ut){return new g(1).div(ut).asinh()}})}),name$29="asec",dependencies$29=["typed","config","Complex","BigNumber"],createAsec=factory(name$29,dependencies$29,s=>{var{typed:h,config:g,Complex:it,BigNumber:ut}=s;return h(name$29,{number:function(dt){return dt<=-1||dt>=1||g.predictable?asecNumber(dt):new it(dt,0).asec()},Complex:function(dt){return dt.asec()},BigNumber:function(dt){return new ut(1).div(dt).acos()}})}),name$28="asech",dependencies$28=["typed","config","Complex","BigNumber"],createAsech=factory(name$28,dependencies$28,s=>{var{typed:h,config:g,Complex:it,BigNumber:ut}=s;return h(name$28,{number:function(dt){if(dt<=1&&dt>=-1||g.predictable){var ht=1/dt;if(ht>0||g.predictable)return asechNumber(dt);var pt=Math.sqrt(ht*ht-1);return new it(Math.log(pt-ht),Math.PI)}return new it(dt,0).asech()},Complex:function(dt){return dt.asech()},BigNumber:function(dt){return new ut(1).div(dt).acosh()}})}),name$27="asin",dependencies$27=["typed","config","Complex"],createAsin=factory(name$27,dependencies$27,s=>{var{typed:h,config:g,Complex:it}=s;return h(name$27,{number:function(ct){return ct>=-1&&ct<=1||g.predictable?Math.asin(ct):new it(ct,0).asin()},Complex:function(ct){return ct.asin()},BigNumber:function(ct){return ct.asin()}})}),name$26="asinh",dependencies$26=["typed"],createAsinh=factory(name$26,dependencies$26,s=>{var{typed:h}=s;return h("asinh",{number:asinhNumber,Complex:function(it){return it.asinh()},BigNumber:function(it){return it.asinh()}})}),name$25="atan",dependencies$25=["typed"],createAtan=factory(name$25,dependencies$25,s=>{var{typed:h}=s;return h("atan",{number:function(it){return Math.atan(it)},Complex:function(it){return it.atan()},BigNumber:function(it){return it.atan()}})}),name$24="atan2",dependencies$24=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],createAtan2=factory(name$24,dependencies$24,s=>{var{typed:h,matrix:g,equalScalar:it,BigNumber:ut,DenseMatrix:ct,concat:dt}=s,ht=createMatAlgo02xDS0({typed:h,equalScalar:it}),pt=createMatAlgo03xDSf({typed:h}),mt=createMatAlgo09xS0Sf({typed:h,equalScalar:it}),vt=createMatAlgo11xS0s({typed:h,equalScalar:it}),gt=createMatAlgo12xSfs({typed:h,DenseMatrix:ct}),yt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:dt});return h(name$24,{"number, number":Math.atan2,"BigNumber, BigNumber":(bt,wt)=>ut.atan2(bt,wt)},yt({scalar:"number | BigNumber",SS:mt,DS:pt,SD:ht,Ss:vt,sS:gt}))}),name$23="atanh",dependencies$23=["typed","config","Complex"],createAtanh=factory(name$23,dependencies$23,s=>{var{typed:h,config:g,Complex:it}=s;return h(name$23,{number:function(ct){return ct<=1&&ct>=-1||g.predictable?atanhNumber(ct):new it(ct,0).atanh()},Complex:function(ct){return ct.atanh()},BigNumber:function(ct){return ct.atanh()}})}),createTrigUnit=factory("trigUnit",["typed"],s=>{var{typed:h}=s;return{Unit:h.referToSelf(g=>it=>{if(!it.hasBase(it.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return h.find(g,it.valueType())(it.value)})}}),name$22="cos",dependencies$22=["typed"],createCos=factory(name$22,dependencies$22,s=>{var{typed:h}=s,g=createTrigUnit({typed:h});return h(name$22,{number:Math.cos,"Complex | BigNumber":it=>it.cos()},g)}),name$21="cosh",dependencies$21=["typed"],createCosh=factory(name$21,dependencies$21,s=>{var{typed:h}=s;return h(name$21,{number:cosh$2,"Complex | BigNumber":g=>g.cosh()})}),name$20="cot",dependencies$20=["typed","BigNumber"],createCot=factory(name$20,dependencies$20,s=>{var{typed:h,BigNumber:g}=s,it=createTrigUnit({typed:h});return h(name$20,{number:cotNumber,Complex:ut=>ut.cot(),BigNumber:ut=>new g(1).div(ut.tan())},it)}),name$1$="coth",dependencies$1$=["typed","BigNumber"],createCoth=factory(name$1$,dependencies$1$,s=>{var{typed:h,BigNumber:g}=s;return h(name$1$,{number:cothNumber,Complex:it=>it.coth(),BigNumber:it=>new g(1).div(it.tanh())})}),name$1_="csc",dependencies$1_=["typed","BigNumber"],createCsc=factory(name$1_,dependencies$1_,s=>{var{typed:h,BigNumber:g}=s,it=createTrigUnit({typed:h});return h(name$1_,{number:cscNumber,Complex:ut=>ut.csc(),BigNumber:ut=>new g(1).div(ut.sin())},it)}),name$1Z="csch",dependencies$1Z=["typed","BigNumber"],createCsch=factory(name$1Z,dependencies$1Z,s=>{var{typed:h,BigNumber:g}=s;return h(name$1Z,{number:cschNumber,Complex:it=>it.csch(),BigNumber:it=>new g(1).div(it.sinh())})}),name$1Y="sec",dependencies$1Y=["typed","BigNumber"],createSec=factory(name$1Y,dependencies$1Y,s=>{var{typed:h,BigNumber:g}=s,it=createTrigUnit({typed:h});return h(name$1Y,{number:secNumber,Complex:ut=>ut.sec(),BigNumber:ut=>new g(1).div(ut.cos())},it)}),name$1X="sech",dependencies$1X=["typed","BigNumber"],createSech=factory(name$1X,dependencies$1X,s=>{var{typed:h,BigNumber:g}=s;return h(name$1X,{number:sechNumber,Complex:it=>it.sech(),BigNumber:it=>new g(1).div(it.cosh())})}),name$1W="sin",dependencies$1W=["typed"],createSin=factory(name$1W,dependencies$1W,s=>{var{typed:h}=s,g=createTrigUnit({typed:h});return h(name$1W,{number:Math.sin,"Complex | BigNumber":it=>it.sin()},g)}),name$1V="sinh",dependencies$1V=["typed"],createSinh=factory(name$1V,dependencies$1V,s=>{var{typed:h}=s;return h(name$1V,{number:sinhNumber,"Complex | BigNumber":g=>g.sinh()})}),name$1U="tan",dependencies$1U=["typed"],createTan=factory(name$1U,dependencies$1U,s=>{var{typed:h}=s,g=createTrigUnit({typed:h});return h(name$1U,{number:Math.tan,"Complex | BigNumber":it=>it.tan()},g)}),name$1T="tanh",dependencies$1T=["typed"],createTanh=factory(name$1T,dependencies$1T,s=>{var{typed:h}=s;return h("tanh",{number:tanh$2,"Complex | BigNumber":g=>g.tanh()})}),name$1S="setCartesian",dependencies$1S=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetCartesian=factory(name$1S,dependencies$1S,s=>{var{typed:h,size:g,subset:it,compareNatural:ut,Index:ct,DenseMatrix:dt}=s;return h(name$1S,{"Array | Matrix, Array | Matrix":function(pt,mt){var vt=[];if(it(g(pt),new ct(0))!==0&&it(g(mt),new ct(0))!==0){var gt=flatten$1(Array.isArray(pt)?pt:pt.toArray()).sort(ut),yt=flatten$1(Array.isArray(mt)?mt:mt.toArray()).sort(ut);vt=[];for(var bt=0;bt<gt.length;bt++)for(var wt=0;wt<yt.length;wt++)vt.push([gt[bt],yt[wt]])}return Array.isArray(pt)&&Array.isArray(mt)?vt:new dt(vt)}})}),name$1R="setDifference",dependencies$1R=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetDifference=factory(name$1R,dependencies$1R,s=>{var{typed:h,size:g,subset:it,compareNatural:ut,Index:ct,DenseMatrix:dt}=s;return h(name$1R,{"Array | Matrix, Array | Matrix":function(pt,mt){var vt;if(it(g(pt),new ct(0))===0)vt=[];else{if(it(g(mt),new ct(0))===0)return flatten$1(pt.toArray());var gt=identify(flatten$1(Array.isArray(pt)?pt:pt.toArray()).sort(ut)),yt=identify(flatten$1(Array.isArray(mt)?mt:mt.toArray()).sort(ut));vt=[];for(var bt,wt=0;wt<gt.length;wt++){bt=!1;for(var Et=0;Et<yt.length;Et++)if(ut(gt[wt].value,yt[Et].value)===0&&gt[wt].identifier===yt[Et].identifier){bt=!0;break}bt||vt.push(gt[wt])}}return Array.isArray(pt)&&Array.isArray(mt)?generalize(vt):new dt(generalize(vt))}})}),name$1Q="setDistinct",dependencies$1Q=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetDistinct=factory(name$1Q,dependencies$1Q,s=>{var{typed:h,size:g,subset:it,compareNatural:ut,Index:ct,DenseMatrix:dt}=s;return h(name$1Q,{"Array | Matrix":function(pt){var mt;if(it(g(pt),new ct(0))===0)mt=[];else{var vt=flatten$1(Array.isArray(pt)?pt:pt.toArray()).sort(ut);mt=[],mt.push(vt[0]);for(var gt=1;gt<vt.length;gt++)ut(vt[gt],vt[gt-1])!==0&&mt.push(vt[gt])}return Array.isArray(pt)?mt:new dt(mt)}})}),name$1P="setIntersect",dependencies$1P=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetIntersect=factory(name$1P,dependencies$1P,s=>{var{typed:h,size:g,subset:it,compareNatural:ut,Index:ct,DenseMatrix:dt}=s;return h(name$1P,{"Array | Matrix, Array | Matrix":function(pt,mt){var vt;if(it(g(pt),new ct(0))===0||it(g(mt),new ct(0))===0)vt=[];else{var gt=identify(flatten$1(Array.isArray(pt)?pt:pt.toArray()).sort(ut)),yt=identify(flatten$1(Array.isArray(mt)?mt:mt.toArray()).sort(ut));vt=[];for(var bt=0;bt<gt.length;bt++)for(var wt=0;wt<yt.length;wt++)if(ut(gt[bt].value,yt[wt].value)===0&&gt[bt].identifier===yt[wt].identifier){vt.push(gt[bt]);break}}return Array.isArray(pt)&&Array.isArray(mt)?generalize(vt):new dt(generalize(vt))}})}),name$1O="setIsSubset",dependencies$1O=["typed","size","subset","compareNatural","Index"],createSetIsSubset=factory(name$1O,dependencies$1O,s=>{var{typed:h,size:g,subset:it,compareNatural:ut,Index:ct}=s;return h(name$1O,{"Array | Matrix, Array | Matrix":function(ht,pt){if(it(g(ht),new ct(0))===0)return!0;if(it(g(pt),new ct(0))===0)return!1;for(var mt=identify(flatten$1(Array.isArray(ht)?ht:ht.toArray()).sort(ut)),vt=identify(flatten$1(Array.isArray(pt)?pt:pt.toArray()).sort(ut)),gt,yt=0;yt<mt.length;yt++){gt=!1;for(var bt=0;bt<vt.length;bt++)if(ut(mt[yt].value,vt[bt].value)===0&&mt[yt].identifier===vt[bt].identifier){gt=!0;break}if(gt===!1)return!1}return!0}})}),name$1N="setMultiplicity",dependencies$1N=["typed","size","subset","compareNatural","Index"],createSetMultiplicity=factory(name$1N,dependencies$1N,s=>{var{typed:h,size:g,subset:it,compareNatural:ut,Index:ct}=s;return h(name$1N,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(ht,pt){if(it(g(pt),new ct(0))===0)return 0;for(var mt=flatten$1(Array.isArray(pt)?pt:pt.toArray()),vt=0,gt=0;gt<mt.length;gt++)ut(mt[gt],ht)===0&&vt++;return vt}})}),name$1M="setPowerset",dependencies$1M=["typed","size","subset","compareNatural","Index"],createSetPowerset=factory(name$1M,dependencies$1M,s=>{var{typed:h,size:g,subset:it,compareNatural:ut,Index:ct}=s;return h(name$1M,{"Array | Matrix":function(mt){if(it(g(mt),new ct(0))===0)return[];for(var vt=flatten$1(Array.isArray(mt)?mt:mt.toArray()).sort(ut),gt=[],yt=0;yt.toString(2).length<=vt.length;)gt.push(dt(vt,yt.toString(2).split("").reverse())),yt++;return ht(gt)}});function dt(pt,mt){for(var vt=[],gt=0;gt<mt.length;gt++)mt[gt]==="1"&&vt.push(pt[gt]);return vt}function ht(pt){for(var mt=[],vt=pt.length-1;vt>0;vt--)for(var gt=0;gt<vt;gt++)pt[gt].length>pt[gt+1].length&&(mt=pt[gt],pt[gt]=pt[gt+1],pt[gt+1]=mt);return pt}}),name$1L="setSize",dependencies$1L=["typed","compareNatural"],createSetSize=factory(name$1L,dependencies$1L,s=>{var{typed:h,compareNatural:g}=s;return h(name$1L,{"Array | Matrix":function(ut){return Array.isArray(ut)?flatten$1(ut).length:flatten$1(ut.toArray()).length},"Array | Matrix, boolean":function(ut,ct){if(ct===!1||ut.length===0)return Array.isArray(ut)?flatten$1(ut).length:flatten$1(ut.toArray()).length;for(var dt=flatten$1(Array.isArray(ut)?ut:ut.toArray()).sort(g),ht=1,pt=1;pt<dt.length;pt++)g(dt[pt],dt[pt-1])!==0&&ht++;return ht}})}),name$1K="setSymDifference",dependencies$1K=["typed","size","concat","subset","setDifference","Index"],createSetSymDifference=factory(name$1K,dependencies$1K,s=>{var{typed:h,size:g,concat:it,subset:ut,setDifference:ct,Index:dt}=s;return h(name$1K,{"Array | Matrix, Array | Matrix":function(pt,mt){if(ut(g(pt),new dt(0))===0)return flatten$1(mt);if(ut(g(mt),new dt(0))===0)return flatten$1(pt);var vt=flatten$1(pt),gt=flatten$1(mt);return it(ct(vt,gt),ct(gt,vt))}})}),name$1J="setUnion",dependencies$1J=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],createSetUnion=factory(name$1J,dependencies$1J,s=>{var{typed:h,size:g,concat:it,subset:ut,setIntersect:ct,setSymDifference:dt,Index:ht}=s;return h(name$1J,{"Array | Matrix, Array | Matrix":function(mt,vt){if(ut(g(mt),new ht(0))===0)return flatten$1(vt);if(ut(g(vt),new ht(0))===0)return flatten$1(mt);var gt=flatten$1(mt),yt=flatten$1(vt);return it(dt(gt,yt),ct(gt,yt))}})}),name$1I="add",dependencies$1I=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],createAdd=factory(name$1I,dependencies$1I,s=>{var{typed:h,matrix:g,addScalar:it,equalScalar:ut,DenseMatrix:ct,SparseMatrix:dt,concat:ht}=s,pt=createMatAlgo01xDSid({typed:h}),mt=createMatAlgo04xSidSid({typed:h,equalScalar:ut}),vt=createMatAlgo10xSids({typed:h,DenseMatrix:ct}),gt=createMatrixAlgorithmSuite({typed:h,matrix:g,concat:ht});return h(name$1I,{"any, any":it,"any, any, ...any":h.referToSelf(yt=>(bt,wt,Et)=>{for(var Mt=yt(bt,wt),Dt=0;Dt<Et.length;Dt++)Mt=yt(Mt,Et[Dt]);return Mt})},gt({elop:it,DS:pt,SS:mt,Ss:vt}))}),name$1H="hypot",dependencies$1H=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],createHypot=factory(name$1H,dependencies$1H,s=>{var{typed:h,abs:g,addScalar:it,divideScalar:ut,multiplyScalar:ct,sqrt:dt,smaller:ht,isPositive:pt}=s;return h(name$1H,{"... number | BigNumber":mt,Array:mt,Matrix:vt=>mt(flatten$1(vt.toArray()))});function mt(vt){for(var gt=0,yt=0,bt=0;bt<vt.length;bt++){if(isComplex(vt[bt]))throw new TypeError("Unexpected type of argument to hypot");var wt=g(vt[bt]);ht(yt,wt)?(gt=ct(gt,ct(ut(yt,wt),ut(yt,wt))),gt=it(gt,1),yt=wt):gt=it(gt,pt(wt)?ct(ut(wt,yt),ut(wt,yt)):wt)}return ct(yt,dt(gt))}}),name$1G="norm",dependencies$1G=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],createNorm=factory(name$1G,dependencies$1G,s=>{var{typed:h,abs:g,add:it,pow:ut,conj:ct,sqrt:dt,multiply:ht,equalScalar:pt,larger:mt,smaller:vt,matrix:gt,ctranspose:yt,eigs:bt}=s;return h(name$1G,{number:Math.abs,Complex:function(Ft){return Ft.abs()},BigNumber:function(Ft){return Ft.abs()},boolean:function(Ft){return Math.abs(Ft)},Array:function(Ft){return At(gt(Ft),2)},Matrix:function(Ft){return At(Ft,2)},"Array, number | BigNumber | string":function(Ft,Lt){return At(gt(Ft),Lt)},"Matrix, number | BigNumber | string":function(Ft,Lt){return At(Ft,Lt)}});function wt(Bt){var Ft=0;return Bt.forEach(function(Lt){var Ot=g(Lt);mt(Ot,Ft)&&(Ft=Ot)},!0),Ft}function Et(Bt){var Ft;return Bt.forEach(function(Lt){var Ot=g(Lt);(!Ft||vt(Ot,Ft))&&(Ft=Ot)},!0),Ft||0}function Mt(Bt,Ft){if(Ft===Number.POSITIVE_INFINITY||Ft==="inf")return wt(Bt);if(Ft===Number.NEGATIVE_INFINITY||Ft==="-inf")return Et(Bt);if(Ft==="fro")return At(Bt,2);if(typeof Ft=="number"&&!isNaN(Ft)){if(!pt(Ft,0)){var Lt=0;return Bt.forEach(function(Ot){Lt=it(ut(g(Ot),Ft),Lt)},!0),ut(Lt,1/Ft)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function Dt(Bt){var Ft=0;return Bt.forEach(function(Lt,Ot){Ft=it(Ft,ht(Lt,ct(Lt)))}),g(dt(Ft))}function $t(Bt){var Ft=[],Lt=0;return Bt.forEach(function(Ot,It){var Rt=It[1],Vt=it(Ft[Rt]||0,g(Ot));mt(Vt,Lt)&&(Lt=Vt),Ft[Rt]=Vt},!0),Lt}function _t(Bt){var Ft=Bt.size();if(Ft[0]!==Ft[1])throw new RangeError("Invalid matrix dimensions");var Lt=yt(Bt),Ot=ht(Lt,Bt),It=bt(Ot).values.toArray(),Rt=It[It.length-1];return g(dt(Rt))}function Nt(Bt){var Ft=[],Lt=0;return Bt.forEach(function(Ot,It){var Rt=It[0],Vt=it(Ft[Rt]||0,g(Ot));mt(Vt,Lt)&&(Lt=Vt),Ft[Rt]=Vt},!0),Lt}function kt(Bt,Ft){if(Ft===1)return $t(Bt);if(Ft===Number.POSITIVE_INFINITY||Ft==="inf")return Nt(Bt);if(Ft==="fro")return Dt(Bt);if(Ft===2)return _t(Bt);throw new Error("Unsupported parameter value "+Ft)}function At(Bt,Ft){var Lt=Bt.size();if(Lt.length===1)return Mt(Bt,Ft);if(Lt.length===2){if(Lt[0]&&Lt[1])return kt(Bt,Ft);throw new RangeError("Invalid matrix dimensions")}}}),name$1F="dot",dependencies$1F=["typed","addScalar","multiplyScalar","conj","size"],createDot=factory(name$1F,dependencies$1F,s=>{var{typed:h,addScalar:g,multiplyScalar:it,conj:ut,size:ct}=s;return h(name$1F,{"Array | DenseMatrix, Array | DenseMatrix":ht,"SparseMatrix, SparseMatrix":pt});function dt(vt,gt){var yt=mt(vt),bt=mt(gt),wt,Et;if(yt.length===1)wt=yt[0];else if(yt.length===2&&yt[1]===1)wt=yt[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+yt.join(", ")+")");if(bt.length===1)Et=bt[0];else if(bt.length===2&&bt[1]===1)Et=bt[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+bt.join(", ")+")");if(wt!==Et)throw new RangeError("Vectors must have equal length ("+wt+" != "+Et+")");if(wt===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return wt}function ht(vt,gt){var yt=dt(vt,gt),bt=isMatrix(vt)?vt._data:vt,wt=isMatrix(vt)?vt._datatype:void 0,Et=isMatrix(gt)?gt._data:gt,Mt=isMatrix(gt)?gt._datatype:void 0,Dt=mt(vt).length===2,$t=mt(gt).length===2,_t=g,Nt=it;if(wt&&Mt&&wt===Mt&&typeof wt=="string"){var kt=wt;_t=h.find(g,[kt,kt]),Nt=h.find(it,[kt,kt])}if(!Dt&&!$t){for(var At=Nt(ut(bt[0]),Et[0]),Bt=1;Bt<yt;Bt++)At=_t(At,Nt(ut(bt[Bt]),Et[Bt]));return At}if(!Dt&&$t){for(var Ft=Nt(ut(bt[0]),Et[0][0]),Lt=1;Lt<yt;Lt++)Ft=_t(Ft,Nt(ut(bt[Lt]),Et[Lt][0]));return Ft}if(Dt&&!$t){for(var Ot=Nt(ut(bt[0][0]),Et[0]),It=1;It<yt;It++)Ot=_t(Ot,Nt(ut(bt[It][0]),Et[It]));return Ot}if(Dt&&$t){for(var Rt=Nt(ut(bt[0][0]),Et[0][0]),Vt=1;Vt<yt;Vt++)Rt=_t(Rt,Nt(ut(bt[Vt][0]),Et[Vt][0]));return Rt}}function pt(vt,gt){dt(vt,gt);for(var yt=vt._index,bt=vt._values,wt=gt._index,Et=gt._values,Mt=0,Dt=g,$t=it,_t=0,Nt=0;_t<yt.length&&Nt<wt.length;){var kt=yt[_t],At=wt[Nt];if(kt<At){_t++;continue}if(kt>At){Nt++;continue}kt===At&&(Mt=Dt(Mt,$t(bt[_t],Et[Nt])),_t++,Nt++)}return Mt}function mt(vt){return isMatrix(vt)?vt.size():ct(vt)}}),name$1E="trace",dependencies$1E=["typed","matrix","add"],createTrace=factory(name$1E,dependencies$1E,s=>{var{typed:h,matrix:g,add:it}=s;return h("trace",{Array:function(ht){return ut(g(ht))},SparseMatrix:ct,DenseMatrix:ut,any:clone$3});function ut(dt){var ht=dt._size,pt=dt._data;switch(ht.length){case 1:if(ht[0]===1)return clone$3(pt[0]);throw new RangeError("Matrix must be square (size: "+format$1(ht)+")");case 2:{var mt=ht[0],vt=ht[1];if(mt===vt){for(var gt=0,yt=0;yt<mt;yt++)gt=it(gt,pt[yt][yt]);return gt}else throw new RangeError("Matrix must be square (size: "+format$1(ht)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+format$1(ht)+")")}}function ct(dt){var ht=dt._values,pt=dt._index,mt=dt._ptr,vt=dt._size,gt=vt[0],yt=vt[1];if(gt===yt){var bt=0;if(ht.length>0)for(var wt=0;wt<yt;wt++)for(var Et=mt[wt],Mt=mt[wt+1],Dt=Et;Dt<Mt;Dt++){var $t=pt[Dt];if($t===wt){bt=it(bt,ht[Dt]);break}if($t>wt)break}return bt}throw new RangeError("Matrix must be square (size: "+format$1(vt)+")")}}),name$1D="index",dependencies$1D=["typed","Index"],createIndex=factory(name$1D,dependencies$1D,s=>{var{typed:h,Index:g}=s;return h(name$1D,{"...number | string | BigNumber | Range | Array | Matrix":function(ut){var ct=ut.map(function(ht){return isBigNumber(ht)?ht.toNumber():isArray(ht)||isMatrix(ht)?ht.map(function(pt){return isBigNumber(pt)?pt.toNumber():pt}):ht}),dt=new g;return g.apply(dt,ct),dt}})}),keywords=new Set(["end"]),name$1C="Node",dependencies$1C=["mathWithTransform"],createNode=factory(name$1C,dependencies$1C,s=>{var{mathWithTransform:h}=s;function g(ut){for(var ct of[...keywords])if(ut.has(ct))throw new Error('Scope contains an illegal symbol, "'+ct+'" is a reserved keyword')}class it{get type(){return"Node"}get isNode(){return!0}evaluate(ct){return this.compile().evaluate(ct)}compile(){var ct=this._compile(h,{}),dt={},ht=null;function pt(mt){var vt=createMap$1(mt);return g(vt),ct(vt,dt,ht)}return{evaluate:pt}}_compile(ct,dt){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(ct){throw new Error("Cannot run forEach on a Node interface")}map(ct){throw new Error("Cannot run map on a Node interface")}_ifNode(ct){if(!isNode(ct))throw new TypeError("Callback function must return a Node");return ct}traverse(ct){ct(this,null,null);function dt(ht,pt){ht.forEach(function(mt,vt,gt){pt(mt,vt,gt),dt(mt,pt)})}dt(this,ct)}transform(ct){function dt(ht,pt,mt){var vt=ct(ht,pt,mt);return vt!==ht?vt:ht.map(dt)}return dt(this,null,null)}filter(ct){var dt=[];return this.traverse(function(ht,pt,mt){ct(ht,pt,mt)&&dt.push(ht)}),dt}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(ct){return ct.cloneDeep()})}equals(ct){return ct?this.type===ct.type&&deepStrictEqual(this,ct):!1}toString(ct){var dt=this._getCustomString(ct);return typeof dt<"u"?dt:this._toString(ct)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(ct){var dt=this._getCustomString(ct);return typeof dt<"u"?dt:this.toHTML(ct)}_toString(){throw new Error("_toString not implemented for "+this.type)}toTex(ct){var dt=this._getCustomString(ct);return typeof dt<"u"?dt:this._toTex(ct)}_toTex(ct){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(ct){if(ct&&typeof ct=="object")switch(typeof ct.handler){case"object":case"undefined":return;case"function":return ct.handler(this,ct);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return it},{isClass:!0,isNode:!0});function errorTransform(s){return s&&s.isIndexError?new IndexError(s.index+1,s.min+1,s.max!==void 0?s.max+1:void 0):s}function accessFactory(s){var{subset:h}=s;return function(it,ut){try{if(Array.isArray(it))return h(it,ut);if(it&&typeof it.subset=="function")return it.subset(ut);if(typeof it=="string")return h(it,ut);if(typeof it=="object"){if(!ut.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return getSafeProperty(it,ut.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(ct){throw errorTransform(ct)}}}var name$1B="AccessorNode",dependencies$1B=["subset","Node"],createAccessorNode=factory(name$1B,dependencies$1B,s=>{var{subset:h,Node:g}=s,it=accessFactory({subset:h});function ut(dt){return!(isAccessorNode(dt)||isArrayNode(dt)||isConstantNode(dt)||isFunctionNode(dt)||isObjectNode(dt)||isParenthesisNode(dt)||isSymbolNode(dt))}class ct extends g{constructor(ht,pt){if(super(),!isNode(ht))throw new TypeError('Node expected for parameter "object"');if(!isIndexNode(pt))throw new TypeError('IndexNode expected for parameter "index"');this.object=ht,this.index=pt}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return name$1B}get isAccessorNode(){return!0}_compile(ht,pt){var mt=this.object._compile(ht,pt),vt=this.index._compile(ht,pt);if(this.index.isObjectProperty()){var gt=this.index.getObjectProperty();return function(bt,wt,Et){return getSafeProperty(mt(bt,wt,Et),gt)}}else return function(bt,wt,Et){var Mt=mt(bt,wt,Et),Dt=vt(bt,wt,Mt);return it(Mt,Dt)}}forEach(ht){ht(this.object,"object",this),ht(this.index,"index",this)}map(ht){return new ct(this._ifNode(ht(this.object,"object",this)),this._ifNode(ht(this.index,"index",this)))}clone(){return new ct(this.object,this.index)}_toString(ht){var pt=this.object.toString(ht);return ut(this.object)&&(pt="("+pt+")"),pt+this.index.toString(ht)}toHTML(ht){var pt=this.object.toHTML(ht);return ut(this.object)&&(pt='<span class="math-parenthesis math-round-parenthesis">(</span>'+pt+'<span class="math-parenthesis math-round-parenthesis">)</span>'),pt+this.index.toHTML(ht)}_toTex(ht){var pt=this.object.toTex(ht);return ut(this.object)&&(pt="\\left(' + object + '\\right)"),pt+this.index.toTex(ht)}toJSON(){return{mathjs:name$1B,object:this.object,index:this.index}}static fromJSON(ht){return new ct(ht.object,ht.index)}}return _defineProperty(ct,"name",name$1B),ct},{isClass:!0,isNode:!0}),name$1A="ArrayNode",dependencies$1A=["Node"],createArrayNode=factory(name$1A,dependencies$1A,s=>{var{Node:h}=s;class g extends h{constructor(ut){if(super(),this.items=ut||[],!Array.isArray(this.items)||!this.items.every(isNode))throw new TypeError("Array containing Nodes expected")}get type(){return name$1A}get isArrayNode(){return!0}_compile(ut,ct){var dt=map$1(this.items,function(mt){return mt._compile(ut,ct)}),ht=ut.config.matrix!=="Array";if(ht){var pt=ut.matrix;return function(vt,gt,yt){return pt(map$1(dt,function(bt){return bt(vt,gt,yt)}))}}else return function(vt,gt,yt){return map$1(dt,function(bt){return bt(vt,gt,yt)})}}forEach(ut){for(var ct=0;ct<this.items.length;ct++){var dt=this.items[ct];ut(dt,"items["+ct+"]",this)}}map(ut){for(var ct=[],dt=0;dt<this.items.length;dt++)ct[dt]=this._ifNode(ut(this.items[dt],"items["+dt+"]",this));return new g(ct)}clone(){return new g(this.items.slice(0))}_toString(ut){var ct=this.items.map(function(dt){return dt.toString(ut)});return"["+ct.join(", ")+"]"}toJSON(){return{mathjs:name$1A,items:this.items}}static fromJSON(ut){return new g(ut.items)}toHTML(ut){var ct=this.items.map(function(dt){return dt.toHTML(ut)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+ct.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(ut){function ct(dt,ht){var pt=dt.some(isArrayNode)&&!dt.every(isArrayNode),mt=ht||pt,vt=mt?"&":"\\\\",gt=dt.map(function(yt){return yt.items?ct(yt.items,!ht):yt.toTex(ut)}).join(vt);return pt||!mt||mt&&!ht?"\\begin{bmatrix}"+gt+"\\end{bmatrix}":gt}return ct(this.items,!1)}}return _defineProperty(g,"name",name$1A),g},{isClass:!0,isNode:!0});function assignFactory(s){var{subset:h,matrix:g}=s;return function(ut,ct,dt){try{if(Array.isArray(ut)){var ht=g(ut).subset(ct,dt).valueOf();return ht.forEach((pt,mt)=>{ut[mt]=pt}),ut}else{if(ut&&typeof ut.subset=="function")return ut.subset(ct,dt);if(typeof ut=="string")return h(ut,ct,dt);if(typeof ut=="object"){if(!ct.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return setSafeProperty(ut,ct.getObjectProperty(),dt),ut}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(pt){throw errorTransform(pt)}}}var properties=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function unwrapParen(s,h){if(!h||h!=="auto")return s;for(var g=s;isParenthesisNode(g);)g=g.content;return g}function getPrecedence(s,h,g,it){var ut=s;h!=="keep"&&(ut=s.getContent());for(var ct=ut.getIdentifier(),dt=null,ht=0;ht<properties.length;ht++)if(ct in properties[ht]){dt=ht;break}if(ct==="OperatorNode:multiply"&&ut.implicit&&g!=="show"){var pt=unwrapParen(ut.args[0],h);!(isConstantNode(pt)&&it&&it.getIdentifier()==="OperatorNode:divide"&&rule2Node(unwrapParen(it.args[0],h)))&&!(pt.getIdentifier()==="OperatorNode:divide"&&rule2Node(unwrapParen(pt.args[0],h))&&isConstantNode(unwrapParen(pt.args[1])))&&(dt+=1)}return dt}function getAssociativity(s,h){var g=s;h!=="keep"&&(g=s.getContent());var it=g.getIdentifier(),ut=getPrecedence(g,h);if(ut===null)return null;var ct=properties[ut][it];if(hasOwnProperty$1(ct,"associativity")){if(ct.associativity==="left")return"left";if(ct.associativity==="right")return"right";throw Error("'"+it+"' has the invalid associativity '"+ct.associativity+"'.")}return null}function isAssociativeWith(s,h,g){var it=g!=="keep"?s.getContent():s,ut=g!=="keep"?s.getContent():h,ct=it.getIdentifier(),dt=ut.getIdentifier(),ht=getPrecedence(it,g);if(ht===null)return null;var pt=properties[ht][ct];if(hasOwnProperty$1(pt,"associativeWith")&&pt.associativeWith instanceof Array){for(var mt=0;mt<pt.associativeWith.length;mt++)if(pt.associativeWith[mt]===dt)return!0;return!1}return null}function getOperator(s){var h="OperatorNode:"+s;for(var g of properties)if(h in g)return g[h].op;return null}var name$1z="AssignmentNode",dependencies$1z=["subset","?matrix","Node"],createAssignmentNode=factory(name$1z,dependencies$1z,s=>{var{subset:h,matrix:g,Node:it}=s,ut=accessFactory({subset:h}),ct=assignFactory({subset:h,matrix:g});function dt(pt,mt,vt){mt||(mt="keep");var gt=getPrecedence(pt,mt,vt),yt=getPrecedence(pt.value,mt,vt);return mt==="all"||yt!==null&&yt<=gt}class ht extends it{constructor(mt,vt,gt){if(super(),this.object=mt,this.index=gt?vt:null,this.value=gt||vt,!isSymbolNode(mt)&&!isAccessorNode(mt))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(isSymbolNode(mt)&&mt.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!isIndexNode(this.index))throw new TypeError('IndexNode expected as "index"');if(!isNode(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return name$1z}get isAssignmentNode(){return!0}_compile(mt,vt){var gt=this.object._compile(mt,vt),yt=this.index?this.index._compile(mt,vt):null,bt=this.value._compile(mt,vt),wt=this.object.name;if(this.index)if(this.index.isObjectProperty()){var Et=this.index.getObjectProperty();return function(Nt,kt,At){var Bt=gt(Nt,kt,At),Ft=bt(Nt,kt,At);return setSafeProperty(Bt,Et,Ft),Ft}}else{if(isSymbolNode(this.object))return function(Nt,kt,At){var Bt=gt(Nt,kt,At),Ft=bt(Nt,kt,At),Lt=yt(Nt,kt,Bt);return Nt.set(wt,ct(Bt,Lt,Ft)),Ft};var Mt=this.object.object._compile(mt,vt);if(this.object.index.isObjectProperty()){var Dt=this.object.index.getObjectProperty();return function(Nt,kt,At){var Bt=Mt(Nt,kt,At),Ft=getSafeProperty(Bt,Dt),Lt=yt(Nt,kt,Ft),Ot=bt(Nt,kt,At);return setSafeProperty(Bt,Dt,ct(Ft,Lt,Ot)),Ot}}else{var $t=this.object.index._compile(mt,vt);return function(Nt,kt,At){var Bt=Mt(Nt,kt,At),Ft=$t(Nt,kt,Bt),Lt=ut(Bt,Ft),Ot=yt(Nt,kt,Lt),It=bt(Nt,kt,At);return ct(Bt,Ft,ct(Lt,Ot,It)),It}}}else{if(!isSymbolNode(this.object))throw new TypeError("SymbolNode expected as object");return function(Nt,kt,At){var Bt=bt(Nt,kt,At);return Nt.set(wt,Bt),Bt}}}forEach(mt){mt(this.object,"object",this),this.index&&mt(this.index,"index",this),mt(this.value,"value",this)}map(mt){var vt=this._ifNode(mt(this.object,"object",this)),gt=this.index?this._ifNode(mt(this.index,"index",this)):null,yt=this._ifNode(mt(this.value,"value",this));return new ht(vt,gt,yt)}clone(){return new ht(this.object,this.index,this.value)}_toString(mt){var vt=this.object.toString(mt),gt=this.index?this.index.toString(mt):"",yt=this.value.toString(mt);return dt(this,mt&&mt.parenthesis,mt&&mt.implicit)&&(yt="("+yt+")"),vt+gt+" = "+yt}toJSON(){return{mathjs:name$1z,object:this.object,index:this.index,value:this.value}}static fromJSON(mt){return new ht(mt.object,mt.index,mt.value)}toHTML(mt){var vt=this.object.toHTML(mt),gt=this.index?this.index.toHTML(mt):"",yt=this.value.toHTML(mt);return dt(this,mt&&mt.parenthesis,mt&&mt.implicit)&&(yt='<span class="math-paranthesis math-round-parenthesis">(</span>'+yt+'<span class="math-paranthesis math-round-parenthesis">)</span>'),vt+gt+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+yt}_toTex(mt){var vt=this.object.toTex(mt),gt=this.index?this.index.toTex(mt):"",yt=this.value.toTex(mt);return dt(this,mt&&mt.parenthesis,mt&&mt.implicit)&&(yt="\\left(".concat(yt,"\\right)")),vt+gt+":="+yt}}return _defineProperty(ht,"name",name$1z),ht},{isClass:!0,isNode:!0}),name$1y="BlockNode",dependencies$1y=["ResultSet","Node"],createBlockNode=factory(name$1y,dependencies$1y,s=>{var{ResultSet:h,Node:g}=s;class it extends g{constructor(ct){if(super(),!Array.isArray(ct))throw new Error("Array expected");this.blocks=ct.map(function(dt){var ht=dt&&dt.node,pt=dt&&dt.visible!==void 0?dt.visible:!0;if(!isNode(ht))throw new TypeError('Property "node" must be a Node');if(typeof pt!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:ht,visible:pt}})}get type(){return name$1y}get isBlockNode(){return!0}_compile(ct,dt){var ht=map$1(this.blocks,function(pt){return{evaluate:pt.node._compile(ct,dt),visible:pt.visible}});return function(mt,vt,gt){var yt=[];return forEach$1(ht,function(wt){var Et=wt.evaluate(mt,vt,gt);wt.visible&&yt.push(Et)}),new h(yt)}}forEach(ct){for(var dt=0;dt<this.blocks.length;dt++)ct(this.blocks[dt].node,"blocks["+dt+"].node",this)}map(ct){for(var dt=[],ht=0;ht<this.blocks.length;ht++){var pt=this.blocks[ht],mt=this._ifNode(ct(pt.node,"blocks["+ht+"].node",this));dt[ht]={node:mt,visible:pt.visible}}return new it(dt)}clone(){var ct=this.blocks.map(function(dt){return{node:dt.node,visible:dt.visible}});return new it(ct)}_toString(ct){return this.blocks.map(function(dt){return dt.node.toString(ct)+(dt.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:name$1y,blocks:this.blocks}}static fromJSON(ct){return new it(ct.blocks)}toHTML(ct){return this.blocks.map(function(dt){return dt.node.toHTML(ct)+(dt.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(ct){return this.blocks.map(function(dt){return dt.node.toTex(ct)+(dt.visible?"":";")}).join(`\\;\\;
`)}}return _defineProperty(it,"name",name$1y),it},{isClass:!0,isNode:!0}),name$1x="ConditionalNode",dependencies$1x=["Node"],createConditionalNode=factory(name$1x,dependencies$1x,s=>{var{Node:h}=s;function g(ut){if(typeof ut=="number"||typeof ut=="boolean"||typeof ut=="string")return!!ut;if(ut){if(isBigNumber(ut))return!ut.isZero();if(isComplex(ut))return!!(ut.re||ut.im);if(isUnit(ut))return!!ut.value}if(ut==null)return!1;throw new TypeError('Unsupported type of condition "'+typeOf$1(ut)+'"')}class it extends h{constructor(ct,dt,ht){if(super(),!isNode(ct))throw new TypeError("Parameter condition must be a Node");if(!isNode(dt))throw new TypeError("Parameter trueExpr must be a Node");if(!isNode(ht))throw new TypeError("Parameter falseExpr must be a Node");this.condition=ct,this.trueExpr=dt,this.falseExpr=ht}get type(){return name$1x}get isConditionalNode(){return!0}_compile(ct,dt){var ht=this.condition._compile(ct,dt),pt=this.trueExpr._compile(ct,dt),mt=this.falseExpr._compile(ct,dt);return function(gt,yt,bt){return g(ht(gt,yt,bt))?pt(gt,yt,bt):mt(gt,yt,bt)}}forEach(ct){ct(this.condition,"condition",this),ct(this.trueExpr,"trueExpr",this),ct(this.falseExpr,"falseExpr",this)}map(ct){return new it(this._ifNode(ct(this.condition,"condition",this)),this._ifNode(ct(this.trueExpr,"trueExpr",this)),this._ifNode(ct(this.falseExpr,"falseExpr",this)))}clone(){return new it(this.condition,this.trueExpr,this.falseExpr)}_toString(ct){var dt=ct&&ct.parenthesis?ct.parenthesis:"keep",ht=getPrecedence(this,dt,ct&&ct.implicit),pt=this.condition.toString(ct),mt=getPrecedence(this.condition,dt,ct&&ct.implicit);(dt==="all"||this.condition.type==="OperatorNode"||mt!==null&&mt<=ht)&&(pt="("+pt+")");var vt=this.trueExpr.toString(ct),gt=getPrecedence(this.trueExpr,dt,ct&&ct.implicit);(dt==="all"||this.trueExpr.type==="OperatorNode"||gt!==null&&gt<=ht)&&(vt="("+vt+")");var yt=this.falseExpr.toString(ct),bt=getPrecedence(this.falseExpr,dt,ct&&ct.implicit);return(dt==="all"||this.falseExpr.type==="OperatorNode"||bt!==null&&bt<=ht)&&(yt="("+yt+")"),pt+" ? "+vt+" : "+yt}toJSON(){return{mathjs:name$1x,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(ct){return new it(ct.condition,ct.trueExpr,ct.falseExpr)}toHTML(ct){var dt=ct&&ct.parenthesis?ct.parenthesis:"keep",ht=getPrecedence(this,dt,ct&&ct.implicit),pt=this.condition.toHTML(ct),mt=getPrecedence(this.condition,dt,ct&&ct.implicit);(dt==="all"||this.condition.type==="OperatorNode"||mt!==null&&mt<=ht)&&(pt='<span class="math-parenthesis math-round-parenthesis">(</span>'+pt+'<span class="math-parenthesis math-round-parenthesis">)</span>');var vt=this.trueExpr.toHTML(ct),gt=getPrecedence(this.trueExpr,dt,ct&&ct.implicit);(dt==="all"||this.trueExpr.type==="OperatorNode"||gt!==null&&gt<=ht)&&(vt='<span class="math-parenthesis math-round-parenthesis">(</span>'+vt+'<span class="math-parenthesis math-round-parenthesis">)</span>');var yt=this.falseExpr.toHTML(ct),bt=getPrecedence(this.falseExpr,dt,ct&&ct.implicit);return(dt==="all"||this.falseExpr.type==="OperatorNode"||bt!==null&&bt<=ht)&&(yt='<span class="math-parenthesis math-round-parenthesis">(</span>'+yt+'<span class="math-parenthesis math-round-parenthesis">)</span>'),pt+'<span class="math-operator math-conditional-operator">?</span>'+vt+'<span class="math-operator math-conditional-operator">:</span>'+yt}_toTex(ct){return"\\begin{cases} {"+this.trueExpr.toTex(ct)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(ct)+"}\\\\{"+this.falseExpr.toTex(ct)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return _defineProperty(it,"name",name$1x),it},{isClass:!0,isNode:!0}),_extends=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var g=arguments[h];for(var it in g)Object.prototype.hasOwnProperty.call(g,it)&&(s[it]=g[it])}return s},defaultEscapes={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},formatEscapes={"–":"\\--","—":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},defaultEscapeMapFn=function(h,g){return _extends({},h,g)},dist$2=function(s){for(var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=h.preserveFormatting,it=g===void 0?!1:g,ut=h.escapeMapFn,ct=ut===void 0?defaultEscapeMapFn:ut,dt=String(s),ht="",pt=ct(_extends({},defaultEscapes),it?_extends({},formatEscapes):{}),mt=Object.keys(pt),vt=function(){var yt=!1;mt.forEach(function(bt,wt){yt||dt.length>=bt.length&&dt.slice(0,bt.length)===bt&&(ht+=pt[mt[wt]],dt=dt.slice(bt.length,dt.length),yt=!0)}),yt||(ht+=dt.slice(0,1),dt=dt.slice(1,dt.length))};dt;)vt();return ht};const escapeLatexLib=getDefaultExportFromCjs(dist$2);var latexSymbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},latexOperators={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},latexFunctions={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(latexOperators.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(latexOperators.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(latexOperators.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(latexOperators.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(latexOperators.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(latexOperators.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(latexOperators.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(latexOperators.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(latexOperators.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(latexOperators.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(latexOperators.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(latexOperators.bitAnd,"${args[1]}\\right)")},bitNot:{1:latexOperators.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(latexOperators.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(latexOperators.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(latexOperators.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(latexOperators.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(latexOperators.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(latexOperators.and,"${args[1]}\\right)")},not:{1:latexOperators.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(latexOperators.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(latexOperators.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(latexOperators.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(latexOperators.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(latexOperators.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(latexOperators.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(latexOperators.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(latexOperators.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(latexOperators.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(latexOperators.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(latexOperators.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(latexOperators.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(latexOperators.to,"${args[1]}\\right)")},numeric:function(h,g){return h.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(latexSymbols.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)",latexUnits={deg:"^\\circ"};function escapeLatex(s){return escapeLatexLib(s,{preserveFormatting:!0})}function toSymbol(s,h){return h=typeof h>"u"?!1:h,h?hasOwnProperty$1(latexUnits,s)?latexUnits[s]:"\\mathrm{"+escapeLatex(s)+"}":hasOwnProperty$1(latexSymbols,s)?latexSymbols[s]:escapeLatex(s)}var name$1w="ConstantNode",dependencies$1w=["Node"],createConstantNode=factory(name$1w,dependencies$1w,s=>{var{Node:h}=s;class g extends h{constructor(ut){super(),this.value=ut}get type(){return name$1w}get isConstantNode(){return!0}_compile(ut,ct){var dt=this.value;return function(){return dt}}forEach(ut){}map(ut){return this.clone()}clone(){return new g(this.value)}_toString(ut){return format$1(this.value,ut)}toHTML(ut){var ct=this._toString(ut);switch(typeOf$1(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+ct+"</span>";case"string":return'<span class="math-string">'+ct+"</span>";case"boolean":return'<span class="math-boolean">'+ct+"</span>";case"null":return'<span class="math-null-symbol">'+ct+"</span>";case"undefined":return'<span class="math-undefined">'+ct+"</span>";default:return'<span class="math-symbol">'+ct+"</span>"}}toJSON(){return{mathjs:name$1w,value:this.value}}static fromJSON(ut){return new g(ut.value)}_toTex(ut){var ct=this._toString(ut);switch(typeOf$1(this.value)){case"string":return"\\mathtt{"+escapeLatex(ct)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var dt=ct.toLowerCase().indexOf("e");if(dt!==-1)return ct.substring(0,dt)+"\\cdot10^{"+ct.substring(dt+1)+"}"}return ct;case"Fraction":return this.value.toLatex();default:return ct}}}return _defineProperty(g,"name",name$1w),g},{isClass:!0,isNode:!0}),name$1v="FunctionAssignmentNode",dependencies$1v=["typed","Node"],createFunctionAssignmentNode=factory(name$1v,dependencies$1v,s=>{var{typed:h,Node:g}=s;function it(ct,dt,ht){var pt=getPrecedence(ct,dt,ht),mt=getPrecedence(ct.expr,dt,ht);return dt==="all"||mt!==null&&mt<=pt}class ut extends g{constructor(dt,ht,pt){if(super(),typeof dt!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(ht))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!isNode(pt))throw new TypeError('Node expected for parameter "expr"');if(keywords.has(dt))throw new Error('Illegal function name, "'+dt+'" is a reserved keyword');var mt=new Set;for(var vt of ht){var gt=typeof vt=="string"?vt:vt.name;if(mt.has(gt))throw new Error('Duplicate parameter name "'.concat(gt,'"'));mt.add(gt)}this.name=dt,this.params=ht.map(function(yt){return yt&&yt.name||yt}),this.types=ht.map(function(yt){return yt&&yt.type||"any"}),this.expr=pt}get type(){return name$1v}get isFunctionAssignmentNode(){return!0}_compile(dt,ht){var pt=Object.create(ht);forEach$1(this.params,function(wt){pt[wt]=!0});var mt=this.expr._compile(dt,pt),vt=this.name,gt=this.params,yt=join(this.types,","),bt=vt+"("+join(this.params,", ")+")";return function(Et,Mt,Dt){var $t={};$t[yt]=function(){for(var Nt=Object.create(Mt),kt=0;kt<gt.length;kt++)Nt[gt[kt]]=arguments[kt];return mt(Et,Nt,Dt)};var _t=h(vt,$t);return _t.syntax=bt,Et.set(vt,_t),_t}}forEach(dt){dt(this.expr,"expr",this)}map(dt){var ht=this._ifNode(dt(this.expr,"expr",this));return new ut(this.name,this.params.slice(0),ht)}clone(){return new ut(this.name,this.params.slice(0),this.expr)}_toString(dt){var ht=dt&&dt.parenthesis?dt.parenthesis:"keep",pt=this.expr.toString(dt);return it(this,ht,dt&&dt.implicit)&&(pt="("+pt+")"),this.name+"("+this.params.join(", ")+") = "+pt}toJSON(){var dt=this.types;return{mathjs:name$1v,name:this.name,params:this.params.map(function(ht,pt){return{name:ht,type:dt[pt]}}),expr:this.expr}}static fromJSON(dt){return new ut(dt.name,dt.params,dt.expr)}toHTML(dt){for(var ht=dt&&dt.parenthesis?dt.parenthesis:"keep",pt=[],mt=0;mt<this.params.length;mt++)pt.push('<span class="math-symbol math-parameter">'+escape(this.params[mt])+"</span>");var vt=this.expr.toHTML(dt);return it(this,ht,dt&&dt.implicit)&&(vt='<span class="math-parenthesis math-round-parenthesis">(</span>'+vt+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+escape(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+pt.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+vt}_toTex(dt){var ht=dt&&dt.parenthesis?dt.parenthesis:"keep",pt=this.expr.toTex(dt);return it(this,ht,dt&&dt.implicit)&&(pt="\\left(".concat(pt,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(toSymbol).join(",")+"\\right):="+pt}}return _defineProperty(ut,"name",name$1v),ut},{isClass:!0,isNode:!0}),name$1u="IndexNode",dependencies$1u=["Node","size"],createIndexNode=factory(name$1u,dependencies$1u,s=>{var{Node:h,size:g}=s;class it extends h{constructor(ct,dt){if(super(),this.dimensions=ct,this.dotNotation=dt||!1,!Array.isArray(ct)||!ct.every(isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return name$1u}get isIndexNode(){return!0}_compile(ct,dt){var ht=map$1(this.dimensions,function(mt,vt){var gt=mt.filter(wt=>wt.isSymbolNode&&wt.name==="end").length>0;if(gt){var yt=Object.create(dt);yt.end=!0;var bt=mt._compile(ct,yt);return function(Et,Mt,Dt){if(!isMatrix(Dt)&&!isArray(Dt)&&!isString(Dt))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+typeOf$1(Dt));var $t=g(Dt).valueOf(),_t=Object.create(Mt);return _t.end=$t[vt],bt(Et,_t,Dt)}}else return mt._compile(ct,dt)}),pt=getSafeProperty(ct,"index");return function(vt,gt,yt){var bt=map$1(ht,function(wt){return wt(vt,gt,yt)});return pt(...bt)}}forEach(ct){for(var dt=0;dt<this.dimensions.length;dt++)ct(this.dimensions[dt],"dimensions["+dt+"]",this)}map(ct){for(var dt=[],ht=0;ht<this.dimensions.length;ht++)dt[ht]=this._ifNode(ct(this.dimensions[ht],"dimensions["+ht+"]",this));return new it(dt,this.dotNotation)}clone(){return new it(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&isConstantNode(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(ct){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:name$1u,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(ct){return new it(ct.dimensions,ct.dotNotation)}toHTML(ct){for(var dt=[],ht=0;ht<this.dimensions.length;ht++)dt[ht]=this.dimensions[ht].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+escape(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+dt.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(ct){var dt=this.dimensions.map(function(ht){return ht.toTex(ct)});return this.dotNotation?"."+this.getObjectProperty():"_{"+dt.join(",")+"}"}}return _defineProperty(it,"name",name$1u),it},{isClass:!0,isNode:!0}),name$1t="ObjectNode",dependencies$1t=["Node"],createObjectNode=factory(name$1t,dependencies$1t,s=>{var{Node:h}=s;class g extends h{constructor(ut){if(super(),this.properties=ut||{},ut&&(typeof ut!="object"||!Object.keys(ut).every(function(ct){return isNode(ut[ct])})))throw new TypeError("Object containing Nodes expected")}get type(){return name$1t}get isObjectNode(){return!0}_compile(ut,ct){var dt={};for(var ht in this.properties)if(hasOwnProperty$1(this.properties,ht)){var pt=stringify(ht),mt=JSON.parse(pt),vt=getSafeProperty(this.properties,ht);dt[mt]=vt._compile(ut,ct)}return function(yt,bt,wt){var Et={};for(var Mt in dt)hasOwnProperty$1(dt,Mt)&&(Et[Mt]=dt[Mt](yt,bt,wt));return Et}}forEach(ut){for(var ct in this.properties)hasOwnProperty$1(this.properties,ct)&&ut(this.properties[ct],"properties["+stringify(ct)+"]",this)}map(ut){var ct={};for(var dt in this.properties)hasOwnProperty$1(this.properties,dt)&&(ct[dt]=this._ifNode(ut(this.properties[dt],"properties["+stringify(dt)+"]",this)));return new g(ct)}clone(){var ut={};for(var ct in this.properties)hasOwnProperty$1(this.properties,ct)&&(ut[ct]=this.properties[ct]);return new g(ut)}_toString(ut){var ct=[];for(var dt in this.properties)hasOwnProperty$1(this.properties,dt)&&ct.push(stringify(dt)+": "+this.properties[dt].toString(ut));return"{"+ct.join(", ")+"}"}toJSON(){return{mathjs:name$1t,properties:this.properties}}static fromJSON(ut){return new g(ut.properties)}toHTML(ut){var ct=[];for(var dt in this.properties)hasOwnProperty$1(this.properties,dt)&&ct.push('<span class="math-symbol math-property">'+escape(dt)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[dt].toHTML(ut));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+ct.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(ut){var ct=[];for(var dt in this.properties)hasOwnProperty$1(this.properties,dt)&&ct.push("\\mathbf{"+dt+":} & "+this.properties[dt].toTex(ut)+"\\\\");var ht="\\left\\{\\begin{array}{ll}"+ct.join(`
`)+"\\end{array}\\right\\}";return ht}}return _defineProperty(g,"name",name$1t),g},{isClass:!0,isNode:!0}),name$1s="OperatorNode",dependencies$1s=["Node"],createOperatorNode=factory(name$1s,dependencies$1s,s=>{var{Node:h}=s;function g(ct,dt){var ht=ct;if(dt==="auto")for(;isParenthesisNode(ht);)ht=ht.content;return isConstantNode(ht)?!0:isOperatorNode(ht)?g(ht.args[0],dt):!1}function it(ct,dt,ht,pt,mt){var vt=getPrecedence(ct,dt,ht),gt=getAssociativity(ct,dt);if(dt==="all"||pt.length>2&&ct.getIdentifier()!=="OperatorNode:add"&&ct.getIdentifier()!=="OperatorNode:multiply")return pt.map(function(Ot){switch(Ot.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var yt;switch(pt.length){case 0:yt=[];break;case 1:{var bt=getPrecedence(pt[0],dt,ht,ct);if(mt&&bt!==null){var wt,Et;if(dt==="keep"?(wt=pt[0].getIdentifier(),Et=ct.getIdentifier()):(wt=pt[0].getContent().getIdentifier(),Et=ct.getContent().getIdentifier()),properties[vt][Et].latexLeftParens===!1){yt=[!1];break}if(properties[bt][wt].latexParens===!1){yt=[!1];break}}if(bt===null){yt=[!1];break}if(bt<=vt){yt=[!0];break}yt=[!1]}break;case 2:{var Mt,Dt=getPrecedence(pt[0],dt,ht,ct),$t=isAssociativeWith(ct,pt[0],dt);Dt===null?Mt=!1:Dt===vt&&gt==="right"&&!$t||Dt<vt?Mt=!0:Mt=!1;var _t,Nt=getPrecedence(pt[1],dt,ht,ct),kt=isAssociativeWith(ct,pt[1],dt);if(Nt===null?_t=!1:Nt===vt&&gt==="left"&&!kt||Nt<vt?_t=!0:_t=!1,mt){var At,Bt,Ft;dt==="keep"?(At=ct.getIdentifier(),Bt=ct.args[0].getIdentifier(),Ft=ct.args[1].getIdentifier()):(At=ct.getContent().getIdentifier(),Bt=ct.args[0].getContent().getIdentifier(),Ft=ct.args[1].getContent().getIdentifier()),Dt!==null&&(properties[vt][At].latexLeftParens===!1&&(Mt=!1),properties[Dt][Bt].latexParens===!1&&(Mt=!1)),Nt!==null&&(properties[vt][At].latexRightParens===!1&&(_t=!1),properties[Nt][Ft].latexParens===!1&&(_t=!1))}yt=[Mt,_t]}break;default:(ct.getIdentifier()==="OperatorNode:add"||ct.getIdentifier()==="OperatorNode:multiply")&&(yt=pt.map(function(Ot){var It=getPrecedence(Ot,dt,ht,ct),Rt=isAssociativeWith(ct,Ot,dt),Vt=getAssociativity(Ot,dt);return It===null?!1:vt===It&&gt===Vt&&!Rt?!0:It<vt}));break}if(pt.length>=2&&ct.getIdentifier()==="OperatorNode:multiply"&&ct.implicit&&dt!=="all"&&ht==="hide")for(var Lt=1;Lt<yt.length;++Lt)g(pt[Lt],dt)&&!yt[Lt-1]&&(dt!=="keep"||!isParenthesisNode(pt[Lt-1]))&&(yt[Lt]=!0);return yt}class ut extends h{constructor(dt,ht,pt,mt,vt){if(super(),typeof dt!="string")throw new TypeError('string expected for parameter "op"');if(typeof ht!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(pt)||!pt.every(isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=mt===!0,this.isPercentage=vt===!0,this.op=dt,this.fn=ht,this.args=pt||[]}get type(){return name$1s}get isOperatorNode(){return!0}_compile(dt,ht){if(typeof this.fn!="string"||!isSafeMethod(dt,this.fn))throw dt[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var pt=getSafeProperty(dt,this.fn),mt=map$1(this.args,function(bt){return bt._compile(dt,ht)});if(mt.length===1){var vt=mt[0];return function(wt,Et,Mt){return pt(vt(wt,Et,Mt))}}else if(mt.length===2){var gt=mt[0],yt=mt[1];return function(wt,Et,Mt){return pt(gt(wt,Et,Mt),yt(wt,Et,Mt))}}else return function(wt,Et,Mt){return pt.apply(null,map$1(mt,function(Dt){return Dt(wt,Et,Mt)}))}}forEach(dt){for(var ht=0;ht<this.args.length;ht++)dt(this.args[ht],"args["+ht+"]",this)}map(dt){for(var ht=[],pt=0;pt<this.args.length;pt++)ht[pt]=this._ifNode(dt(this.args[pt],"args["+pt+"]",this));return new ut(this.op,this.fn,ht,this.implicit,this.isPercentage)}clone(){return new ut(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(dt){var ht=dt&&dt.parenthesis?dt.parenthesis:"keep",pt=dt&&dt.implicit?dt.implicit:"hide",mt=this.args,vt=it(this,ht,pt,mt,!1);if(mt.length===1){var gt=getAssociativity(this,ht),yt=mt[0].toString(dt);vt[0]&&(yt="("+yt+")");var bt=/[a-zA-Z]+/.test(this.op);return gt==="right"?this.op+(bt?" ":"")+yt:gt==="left"?yt+(bt?" ":"")+this.op:yt+this.op}else if(mt.length===2){var wt=mt[0].toString(dt),Et=mt[1].toString(dt);return vt[0]&&(wt="("+wt+")"),vt[1]&&(Et="("+Et+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&pt==="hide"?wt+" "+Et:wt+" "+this.op+" "+Et}else if(mt.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var Mt=mt.map(function(Dt,$t){return Dt=Dt.toString(dt),vt[$t]&&(Dt="("+Dt+")"),Dt});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&pt==="hide"?Mt.join(" "):Mt.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:name$1s,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(dt){return new ut(dt.op,dt.fn,dt.args,dt.implicit,dt.isPercentage)}toHTML(dt){var ht=dt&&dt.parenthesis?dt.parenthesis:"keep",pt=dt&&dt.implicit?dt.implicit:"hide",mt=this.args,vt=it(this,ht,pt,mt,!1);if(mt.length===1){var gt=getAssociativity(this,ht),yt=mt[0].toHTML(dt);return vt[0]&&(yt='<span class="math-parenthesis math-round-parenthesis">(</span>'+yt+'<span class="math-parenthesis math-round-parenthesis">)</span>'),gt==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+escape(this.op)+"</span>"+yt:yt+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+escape(this.op)+"</span>"}else if(mt.length===2){var bt=mt[0].toHTML(dt),wt=mt[1].toHTML(dt);return vt[0]&&(bt='<span class="math-parenthesis math-round-parenthesis">(</span>'+bt+'<span class="math-parenthesis math-round-parenthesis">)</span>'),vt[1]&&(wt='<span class="math-parenthesis math-round-parenthesis">(</span>'+wt+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&pt==="hide"?bt+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+wt:bt+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+escape(this.op)+"</span>"+wt}else{var Et=mt.map(function(Mt,Dt){return Mt=Mt.toHTML(dt),vt[Dt]&&(Mt='<span class="math-parenthesis math-round-parenthesis">(</span>'+Mt+'<span class="math-parenthesis math-round-parenthesis">)</span>'),Mt});return mt.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&pt==="hide"?Et.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):Et.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+escape(this.op)+"</span>"):'<span class="math-function">'+escape(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+Et.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(dt){var ht=dt&&dt.parenthesis?dt.parenthesis:"keep",pt=dt&&dt.implicit?dt.implicit:"hide",mt=this.args,vt=it(this,ht,pt,mt,!0),gt=latexOperators[this.fn];if(gt=typeof gt>"u"?this.op:gt,mt.length===1){var yt=getAssociativity(this,ht),bt=mt[0].toTex(dt);return vt[0]&&(bt="\\left(".concat(bt,"\\right)")),yt==="right"?gt+bt:bt+gt}else if(mt.length===2){var wt=mt[0],Et=wt.toTex(dt);vt[0]&&(Et="\\left(".concat(Et,"\\right)"));var Mt=mt[1],Dt=Mt.toTex(dt);vt[1]&&(Dt="\\left(".concat(Dt,"\\right)"));var $t;switch(ht==="keep"?$t=wt.getIdentifier():$t=wt.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return gt+"{"+Et+"}{"+Dt+"}";case"OperatorNode:pow":switch(Et="{"+Et+"}",Dt="{"+Dt+"}",$t){case"ConditionalNode":case"OperatorNode:divide":Et="\\left(".concat(Et,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&pt==="hide")return Et+"~"+Dt}return Et+gt+Dt}else if(mt.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var _t=mt.map(function(Nt,kt){return Nt=Nt.toTex(dt),vt[kt]&&(Nt="\\left(".concat(Nt,"\\right)")),Nt});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&pt==="hide"?_t.join("~"):_t.join(gt)}else return"\\mathrm{"+this.fn+"}\\left("+mt.map(function(Nt){return Nt.toTex(dt)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return _defineProperty(ut,"name",name$1s),ut},{isClass:!0,isNode:!0}),name$1r="ParenthesisNode",dependencies$1r=["Node"],createParenthesisNode=factory(name$1r,dependencies$1r,s=>{var{Node:h}=s;class g extends h{constructor(ut){if(super(),!isNode(ut))throw new TypeError('Node expected for parameter "content"');this.content=ut}get type(){return name$1r}get isParenthesisNode(){return!0}_compile(ut,ct){return this.content._compile(ut,ct)}getContent(){return this.content.getContent()}forEach(ut){ut(this.content,"content",this)}map(ut){var ct=ut(this.content,"content",this);return new g(ct)}clone(){return new g(this.content)}_toString(ut){return!ut||ut&&!ut.parenthesis||ut&&ut.parenthesis==="keep"?"("+this.content.toString(ut)+")":this.content.toString(ut)}toJSON(){return{mathjs:name$1r,content:this.content}}static fromJSON(ut){return new g(ut.content)}toHTML(ut){return!ut||ut&&!ut.parenthesis||ut&&ut.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(ut)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(ut)}_toTex(ut){return!ut||ut&&!ut.parenthesis||ut&&ut.parenthesis==="keep"?"\\left(".concat(this.content.toTex(ut),"\\right)"):this.content.toTex(ut)}}return _defineProperty(g,"name",name$1r),g},{isClass:!0,isNode:!0}),name$1q="RangeNode",dependencies$1q=["Node"],createRangeNode=factory(name$1q,dependencies$1q,s=>{var{Node:h}=s;function g(ut,ct,dt){var ht=getPrecedence(ut,ct,dt),pt={},mt=getPrecedence(ut.start,ct,dt);if(pt.start=mt!==null&&mt<=ht||ct==="all",ut.step){var vt=getPrecedence(ut.step,ct,dt);pt.step=vt!==null&&vt<=ht||ct==="all"}var gt=getPrecedence(ut.end,ct,dt);return pt.end=gt!==null&&gt<=ht||ct==="all",pt}class it extends h{constructor(ct,dt,ht){if(super(),!isNode(ct))throw new TypeError("Node expected");if(!isNode(dt))throw new TypeError("Node expected");if(ht&&!isNode(ht))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=ct,this.end=dt,this.step=ht||null}get type(){return name$1q}get isRangeNode(){return!0}needsEnd(){var ct=this.filter(function(dt){return isSymbolNode(dt)&&dt.name==="end"});return ct.length>0}_compile(ct,dt){var ht=ct.range,pt=this.start._compile(ct,dt),mt=this.end._compile(ct,dt);if(this.step){var vt=this.step._compile(ct,dt);return function(yt,bt,wt){return ht(pt(yt,bt,wt),mt(yt,bt,wt),vt(yt,bt,wt))}}else return function(yt,bt,wt){return ht(pt(yt,bt,wt),mt(yt,bt,wt))}}forEach(ct){ct(this.start,"start",this),ct(this.end,"end",this),this.step&&ct(this.step,"step",this)}map(ct){return new it(this._ifNode(ct(this.start,"start",this)),this._ifNode(ct(this.end,"end",this)),this.step&&this._ifNode(ct(this.step,"step",this)))}clone(){return new it(this.start,this.end,this.step&&this.step)}_toString(ct){var dt=ct&&ct.parenthesis?ct.parenthesis:"keep",ht=g(this,dt,ct&&ct.implicit),pt,mt=this.start.toString(ct);if(ht.start&&(mt="("+mt+")"),pt=mt,this.step){var vt=this.step.toString(ct);ht.step&&(vt="("+vt+")"),pt+=":"+vt}var gt=this.end.toString(ct);return ht.end&&(gt="("+gt+")"),pt+=":"+gt,pt}toJSON(){return{mathjs:name$1q,start:this.start,end:this.end,step:this.step}}static fromJSON(ct){return new it(ct.start,ct.end,ct.step)}toHTML(ct){var dt=ct&&ct.parenthesis?ct.parenthesis:"keep",ht=g(this,dt,ct&&ct.implicit),pt,mt=this.start.toHTML(ct);if(ht.start&&(mt='<span class="math-parenthesis math-round-parenthesis">(</span>'+mt+'<span class="math-parenthesis math-round-parenthesis">)</span>'),pt=mt,this.step){var vt=this.step.toHTML(ct);ht.step&&(vt='<span class="math-parenthesis math-round-parenthesis">(</span>'+vt+'<span class="math-parenthesis math-round-parenthesis">)</span>'),pt+='<span class="math-operator math-range-operator">:</span>'+vt}var gt=this.end.toHTML(ct);return ht.end&&(gt='<span class="math-parenthesis math-round-parenthesis">(</span>'+gt+'<span class="math-parenthesis math-round-parenthesis">)</span>'),pt+='<span class="math-operator math-range-operator">:</span>'+gt,pt}_toTex(ct){var dt=ct&&ct.parenthesis?ct.parenthesis:"keep",ht=g(this,dt,ct&&ct.implicit),pt=this.start.toTex(ct);if(ht.start&&(pt="\\left(".concat(pt,"\\right)")),this.step){var mt=this.step.toTex(ct);ht.step&&(mt="\\left(".concat(mt,"\\right)")),pt+=":"+mt}var vt=this.end.toTex(ct);return ht.end&&(vt="\\left(".concat(vt,"\\right)")),pt+=":"+vt,pt}}return _defineProperty(it,"name",name$1q),it},{isClass:!0,isNode:!0}),name$1p="RelationalNode",dependencies$1p=["Node"],createRelationalNode=factory(name$1p,dependencies$1p,s=>{var{Node:h}=s,g={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class it extends h{constructor(ct,dt){if(super(),!Array.isArray(ct))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(dt))throw new TypeError("Parameter params must be an array");if(ct.length!==dt.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=ct,this.params=dt}get type(){return name$1p}get isRelationalNode(){return!0}_compile(ct,dt){var ht=this,pt=this.params.map(mt=>mt._compile(ct,dt));return function(vt,gt,yt){for(var bt,wt=pt[0](vt,gt,yt),Et=0;Et<ht.conditionals.length;Et++){bt=wt,wt=pt[Et+1](vt,gt,yt);var Mt=getSafeProperty(ct,ht.conditionals[Et]);if(!Mt(bt,wt))return!1}return!0}}forEach(ct){this.params.forEach((dt,ht)=>ct(dt,"params["+ht+"]",this),this)}map(ct){return new it(this.conditionals.slice(),this.params.map((dt,ht)=>this._ifNode(ct(dt,"params["+ht+"]",this)),this))}clone(){return new it(this.conditionals,this.params)}_toString(ct){for(var dt=ct&&ct.parenthesis?ct.parenthesis:"keep",ht=getPrecedence(this,dt,ct&&ct.implicit),pt=this.params.map(function(gt,yt){var bt=getPrecedence(gt,dt,ct&&ct.implicit);return dt==="all"||bt!==null&&bt<=ht?"("+gt.toString(ct)+")":gt.toString(ct)}),mt=pt[0],vt=0;vt<this.conditionals.length;vt++)mt+=" "+g[this.conditionals[vt]],mt+=" "+pt[vt+1];return mt}toJSON(){return{mathjs:name$1p,conditionals:this.conditionals,params:this.params}}static fromJSON(ct){return new it(ct.conditionals,ct.params)}toHTML(ct){for(var dt=ct&&ct.parenthesis?ct.parenthesis:"keep",ht=getPrecedence(this,dt,ct&&ct.implicit),pt=this.params.map(function(gt,yt){var bt=getPrecedence(gt,dt,ct&&ct.implicit);return dt==="all"||bt!==null&&bt<=ht?'<span class="math-parenthesis math-round-parenthesis">(</span>'+gt.toHTML(ct)+'<span class="math-parenthesis math-round-parenthesis">)</span>':gt.toHTML(ct)}),mt=pt[0],vt=0;vt<this.conditionals.length;vt++)mt+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+escape(g[this.conditionals[vt]])+"</span>"+pt[vt+1];return mt}_toTex(ct){for(var dt=ct&&ct.parenthesis?ct.parenthesis:"keep",ht=getPrecedence(this,dt,ct&&ct.implicit),pt=this.params.map(function(gt,yt){var bt=getPrecedence(gt,dt,ct&&ct.implicit);return dt==="all"||bt!==null&&bt<=ht?"\\left("+gt.toTex(ct)+"\right)":gt.toTex(ct)}),mt=pt[0],vt=0;vt<this.conditionals.length;vt++)mt+=latexOperators[this.conditionals[vt]]+pt[vt+1];return mt}}return _defineProperty(it,"name",name$1p),it},{isClass:!0,isNode:!0}),name$1o="SymbolNode",dependencies$1o=["math","?Unit","Node"],createSymbolNode=factory(name$1o,dependencies$1o,s=>{var{math:h,Unit:g,Node:it}=s;function ut(dt){return g?g.isValuelessUnit(dt):!1}class ct extends it{constructor(ht){if(super(),typeof ht!="string")throw new TypeError('String expected for parameter "name"');this.name=ht}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(ht,pt){var mt=this.name;if(pt[mt]===!0)return function(gt,yt,bt){return getSafeProperty(yt,mt)};if(mt in ht)return function(gt,yt,bt){return gt.has(mt)?gt.get(mt):getSafeProperty(ht,mt)};var vt=ut(mt);return function(gt,yt,bt){return gt.has(mt)?gt.get(mt):vt?new g(null,mt):ct.onUndefinedSymbol(mt)}}forEach(ht){}map(ht){return this.clone()}static onUndefinedSymbol(ht){throw new Error("Undefined symbol "+ht)}clone(){return new ct(this.name)}_toString(ht){return this.name}toHTML(ht){var pt=escape(this.name);return pt==="true"||pt==="false"?'<span class="math-symbol math-boolean">'+pt+"</span>":pt==="i"?'<span class="math-symbol math-imaginary-symbol">'+pt+"</span>":pt==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+pt+"</span>":pt==="NaN"?'<span class="math-symbol math-nan-symbol">'+pt+"</span>":pt==="null"?'<span class="math-symbol math-null-symbol">'+pt+"</span>":pt==="undefined"?'<span class="math-symbol math-undefined-symbol">'+pt+"</span>":'<span class="math-symbol">'+pt+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(ht){return new ct(ht.name)}_toTex(ht){var pt=!1;typeof h[this.name]>"u"&&ut(this.name)&&(pt=!0);var mt=toSymbol(this.name,pt);return mt[0]==="\\"?mt:" "+mt}}return ct},{isClass:!0,isNode:!0});function createSubScope(s){for(var h=arguments.length,g=new Array(h>1?h-1:0),it=1;it<h;it++)g[it-1]=arguments[it];return typeof s.createSubScope=="function"?assign(s.createSubScope(),...g):assign(createEmptyMap(),s,...g)}var name$1n="FunctionNode",dependencies$1n=["math","Node","SymbolNode"],createFunctionNode=factory(name$1n,dependencies$1n,s=>{var{math:h,Node:g,SymbolNode:it}=s,ut=ht=>format$1(ht,{truncate:78});function ct(ht,pt,mt){for(var vt="",gt=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,yt=0,bt;(bt=gt.exec(ht))!==null;)if(vt+=ht.substring(yt,bt.index),yt=bt.index,bt[0]==="$$")vt+="$",yt++;else{yt+=bt[0].length;var wt=pt[bt[1]];if(!wt)throw new ReferenceError("Template: Property "+bt[1]+" does not exist.");if(bt[2]===void 0)switch(typeof wt){case"string":vt+=wt;break;case"object":if(isNode(wt))vt+=wt.toTex(mt);else if(Array.isArray(wt))vt+=wt.map(function(Et,Mt){if(isNode(Et))return Et.toTex(mt);throw new TypeError("Template: "+bt[1]+"["+Mt+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+bt[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+bt[1]+" has to be a Node, String or array of Nodes")}else if(isNode(wt[bt[2]]&&wt[bt[2]]))vt+=wt[bt[2]].toTex(mt);else throw new TypeError("Template: "+bt[1]+"["+bt[2]+"] is not a Node.")}return vt+=ht.slice(yt),vt}class dt extends g{constructor(pt,mt){if(super(),typeof pt=="string"&&(pt=new it(pt)),!isNode(pt))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(mt)||!mt.every(isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=pt,this.args=mt||[]}get name(){return this.fn.name||""}get type(){return name$1n}get isFunctionNode(){return!0}_compile(pt,mt){var vt=this.args.map(Bt=>Bt._compile(pt,mt));if(isSymbolNode(this.fn)){var gt=this.fn.name;if(mt[gt]){var Mt=this.args;return function(Ft,Lt,Ot){var It=getSafeProperty(Lt,gt);if(typeof It!="function")throw new TypeError("Argument '".concat(gt,"' was not a function; received: ").concat(ut(It)));if(It.rawArgs)return It(Mt,pt,createSubScope(Ft,Lt),Ft);var Rt=vt.map(Vt=>Vt(Ft,Lt,Ot));return It.apply(It,Rt)}}else{var yt=gt in pt?getSafeProperty(pt,gt):void 0,bt=typeof yt=="function"&&yt.rawArgs===!0,wt=Bt=>{var Ft;if(Bt.has(gt))Ft=Bt.get(gt);else if(gt in pt)Ft=getSafeProperty(pt,gt);else return dt.onUndefinedFunction(gt);if(typeof Ft=="function")return Ft;throw new TypeError("'".concat(gt,`' is not a function; its value is:
  `).concat(ut(Ft)))};if(bt){var Et=this.args;return function(Ft,Lt,Ot){var It=wt(Ft);return It(Et,pt,createSubScope(Ft,Lt),Ft)}}else switch(vt.length){case 0:return function(Ft,Lt,Ot){var It=wt(Ft);return It()};case 1:return function(Ft,Lt,Ot){var It=wt(Ft),Rt=vt[0];return It(Rt(Ft,Lt,Ot))};case 2:return function(Ft,Lt,Ot){var It=wt(Ft),Rt=vt[0],Vt=vt[1];return It(Rt(Ft,Lt,Ot),Vt(Ft,Lt,Ot))};default:return function(Ft,Lt,Ot){var It=wt(Ft),Rt=vt.map(Vt=>Vt(Ft,Lt,Ot));return It(...Rt)}}}}else if(isAccessorNode(this.fn)&&isIndexNode(this.fn.index)&&this.fn.index.isObjectProperty()){var Dt=this.fn.object._compile(pt,mt),$t=this.fn.index.getObjectProperty(),_t=this.args;return function(Ft,Lt,Ot){var It=Dt(Ft,Lt,Ot),Rt=getSafeMethod(It,$t);if(Rt!=null&&Rt.rawArgs)return Rt(_t,pt,createSubScope(Ft,Lt),Ft);var Vt=vt.map(Xt=>Xt(Ft,Lt,Ot));return Rt.apply(It,Vt)}}else{var Nt=this.fn.toString(),kt=this.fn._compile(pt,mt),At=this.args;return function(Ft,Lt,Ot){var It=kt(Ft,Lt,Ot);if(typeof It!="function")throw new TypeError("Expression '".concat(Nt,"' did not evaluate to a function; value is:")+`
  `.concat(ut(It)));if(It.rawArgs)return It(At,pt,createSubScope(Ft,Lt),Ft);var Rt=vt.map(Vt=>Vt(Ft,Lt,Ot));return It.apply(It,Rt)}}}forEach(pt){pt(this.fn,"fn",this);for(var mt=0;mt<this.args.length;mt++)pt(this.args[mt],"args["+mt+"]",this)}map(pt){for(var mt=this._ifNode(pt(this.fn,"fn",this)),vt=[],gt=0;gt<this.args.length;gt++)vt[gt]=this._ifNode(pt(this.args[gt],"args["+gt+"]",this));return new dt(mt,vt)}clone(){return new dt(this.fn,this.args.slice(0))}toString(pt){var mt,vt=this.fn.toString(pt);return pt&&typeof pt.handler=="object"&&hasOwnProperty$1(pt.handler,vt)&&(mt=pt.handler[vt](this,pt)),typeof mt<"u"?mt:super.toString(pt)}_toString(pt){var mt=this.args.map(function(gt){return gt.toString(pt)}),vt=isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(pt)+")":this.fn.toString(pt);return vt+"("+mt.join(", ")+")"}toJSON(){return{mathjs:name$1n,fn:this.fn,args:this.args}}toHTML(pt){var mt=this.args.map(function(vt){return vt.toHTML(pt)});return'<span class="math-function">'+escape(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+mt.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(pt){var mt;return pt&&typeof pt.handler=="object"&&hasOwnProperty$1(pt.handler,this.name)&&(mt=pt.handler[this.name](this,pt)),typeof mt<"u"?mt:super.toTex(pt)}_toTex(pt){var mt=this.args.map(function(yt){return yt.toTex(pt)}),vt;latexFunctions[this.name]&&(vt=latexFunctions[this.name]),h[this.name]&&(typeof h[this.name].toTex=="function"||typeof h[this.name].toTex=="object"||typeof h[this.name].toTex=="string")&&(vt=h[this.name].toTex);var gt;switch(typeof vt){case"function":gt=vt(this,pt);break;case"string":gt=ct(vt,this,pt);break;case"object":switch(typeof vt[mt.length]){case"function":gt=vt[mt.length](this,pt);break;case"string":gt=ct(vt[mt.length],this,pt);break}}return typeof gt<"u"?gt:ct(defaultTemplate,this,pt)}getIdentifier(){return this.type+":"+this.name}}return _defineProperty(dt,"name",name$1n),_defineProperty(dt,"onUndefinedFunction",function(ht){throw new Error("Undefined function "+ht)}),_defineProperty(dt,"fromJSON",function(ht){return new dt(ht.fn,ht.args)}),dt},{isClass:!0,isNode:!0}),name$1m="parse",dependencies$1m=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],createParse=factory(name$1m,dependencies$1m,s=>{var{typed:h,numeric:g,config:it,AccessorNode:ut,ArrayNode:ct,AssignmentNode:dt,BlockNode:ht,ConditionalNode:pt,ConstantNode:mt,FunctionAssignmentNode:vt,FunctionNode:gt,IndexNode:yt,ObjectNode:bt,OperatorNode:wt,ParenthesisNode:Et,RangeNode:Mt,RelationalNode:Dt,SymbolNode:$t}=s,_t=h(name$1m,{string:function(pr){return Yt(pr,{})},"Array | Matrix":function(pr){return Nt(pr,{})},"string, Object":function(pr,Br){var Vr=Br.nodes!==void 0?Br.nodes:{};return Yt(pr,Vr)},"Array | Matrix, Object":Nt});function Nt(Gt){var pr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Br=pr.nodes!==void 0?pr.nodes:{};return deepMap(Gt,function(Vr){if(typeof Vr!="string")throw new TypeError("String expected");return Yt(Vr,Br)})}var kt={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},At={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},Bt={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},Ft={true:!0,false:!1,null:null,undefined:void 0},Lt=["NaN","Infinity"];function Ot(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:kt.NULL,nestingLevel:0,conditionalLevel:null}}function It(Gt,pr){return Gt.expression.substr(Gt.index,pr)}function Rt(Gt){return It(Gt,1)}function Vt(Gt){Gt.index++}function Xt(Gt){return Gt.expression.charAt(Gt.index-1)}function Wt(Gt){return Gt.expression.charAt(Gt.index+1)}function jt(Gt){for(Gt.tokenType=kt.NULL,Gt.token="",Gt.comment="";;){if(Rt(Gt)==="#")for(;Rt(Gt)!==`
`&&Rt(Gt)!=="";)Gt.comment+=Rt(Gt),Vt(Gt);if(_t.isWhitespace(Rt(Gt),Gt.nestingLevel))Vt(Gt);else break}if(Rt(Gt)===""){Gt.tokenType=kt.DELIMITER;return}if(Rt(Gt)===`
`&&!Gt.nestingLevel){Gt.tokenType=kt.DELIMITER,Gt.token=Rt(Gt),Vt(Gt);return}var pr=Rt(Gt),Br=It(Gt,2),Vr=It(Gt,3);if(Vr.length===3&&At[Vr]){Gt.tokenType=kt.DELIMITER,Gt.token=Vr,Vt(Gt),Vt(Gt),Vt(Gt);return}if(Br.length===2&&At[Br]){Gt.tokenType=kt.DELIMITER,Gt.token=Br,Vt(Gt),Vt(Gt);return}if(At[pr]){Gt.tokenType=kt.DELIMITER,Gt.token=pr,Vt(Gt);return}if(_t.isDigitDot(pr)){Gt.tokenType=kt.NUMBER;var vn=It(Gt,2);if(vn==="0b"||vn==="0o"||vn==="0x"){for(Gt.token+=Rt(Gt),Vt(Gt),Gt.token+=Rt(Gt),Vt(Gt);_t.isHexDigit(Rt(Gt));)Gt.token+=Rt(Gt),Vt(Gt);if(Rt(Gt)===".")for(Gt.token+=".",Vt(Gt);_t.isHexDigit(Rt(Gt));)Gt.token+=Rt(Gt),Vt(Gt);else if(Rt(Gt)==="i")for(Gt.token+="i",Vt(Gt);_t.isDigit(Rt(Gt));)Gt.token+=Rt(Gt),Vt(Gt);return}if(Rt(Gt)==="."){if(Gt.token+=Rt(Gt),Vt(Gt),!_t.isDigit(Rt(Gt))){Gt.tokenType=kt.DELIMITER;return}}else{for(;_t.isDigit(Rt(Gt));)Gt.token+=Rt(Gt),Vt(Gt);_t.isDecimalMark(Rt(Gt),Wt(Gt))&&(Gt.token+=Rt(Gt),Vt(Gt))}for(;_t.isDigit(Rt(Gt));)Gt.token+=Rt(Gt),Vt(Gt);if(Rt(Gt)==="E"||Rt(Gt)==="e"){if(_t.isDigit(Wt(Gt))||Wt(Gt)==="-"||Wt(Gt)==="+"){if(Gt.token+=Rt(Gt),Vt(Gt),(Rt(Gt)==="+"||Rt(Gt)==="-")&&(Gt.token+=Rt(Gt),Vt(Gt)),!_t.isDigit(Rt(Gt)))throw Ar(Gt,'Digit expected, got "'+Rt(Gt)+'"');for(;_t.isDigit(Rt(Gt));)Gt.token+=Rt(Gt),Vt(Gt);if(_t.isDecimalMark(Rt(Gt),Wt(Gt)))throw Ar(Gt,'Digit expected, got "'+Rt(Gt)+'"')}else if(Wt(Gt)===".")throw Vt(Gt),Ar(Gt,'Digit expected, got "'+Rt(Gt)+'"')}return}if(_t.isAlpha(Rt(Gt),Xt(Gt),Wt(Gt))){for(;_t.isAlpha(Rt(Gt),Xt(Gt),Wt(Gt))||_t.isDigit(Rt(Gt));)Gt.token+=Rt(Gt),Vt(Gt);hasOwnProperty$1(Bt,Gt.token)?Gt.tokenType=kt.DELIMITER:Gt.tokenType=kt.SYMBOL;return}for(Gt.tokenType=kt.UNKNOWN;Rt(Gt)!=="";)Gt.token+=Rt(Gt),Vt(Gt);throw Ar(Gt,'Syntax error in part "'+Gt.token+'"')}function qt(Gt){do jt(Gt);while(Gt.token===`
`)}function Zt(Gt){Gt.nestingLevel++}function Ut(Gt){Gt.nestingLevel--}_t.isAlpha=function(pr,Br,Vr){return _t.isValidLatinOrGreek(pr)||_t.isValidMathSymbol(pr,Vr)||_t.isValidMathSymbol(Br,pr)},_t.isValidLatinOrGreek=function(pr){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(pr)},_t.isValidMathSymbol=function(pr,Br){return/^[\uD835]$/.test(pr)&&/^[\uDC00-\uDFFF]$/.test(Br)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Br)},_t.isWhitespace=function(pr,Br){return pr===" "||pr==="	"||pr===`
`&&Br>0},_t.isDecimalMark=function(pr,Br){return pr==="."&&Br!=="/"&&Br!=="*"&&Br!=="^"},_t.isDigitDot=function(pr){return pr>="0"&&pr<="9"||pr==="."},_t.isDigit=function(pr){return pr>="0"&&pr<="9"},_t.isHexDigit=function(pr){return pr>="0"&&pr<="9"||pr>="a"&&pr<="f"||pr>="A"&&pr<="F"};function Yt(Gt,pr){var Br=Ot();_extends$1(Br,{expression:Gt,extraNodes:pr}),jt(Br);var Vr=lr(Br);if(Br.token!=="")throw Br.tokenType===kt.DELIMITER?_n(Br,"Unexpected operator "+Br.token):Ar(Br,'Unexpected part "'+Br.token+'"');return Vr}function lr(Gt){var pr,Br=[],Vr;for(Gt.token!==""&&Gt.token!==`
`&&Gt.token!==";"&&(pr=rr(Gt),Gt.comment&&(pr.comment=Gt.comment));Gt.token===`
`||Gt.token===";";)Br.length===0&&pr&&(Vr=Gt.token!==";",Br.push({node:pr,visible:Vr})),jt(Gt),Gt.token!==`
`&&Gt.token!==";"&&Gt.token!==""&&(pr=rr(Gt),Gt.comment&&(pr.comment=Gt.comment),Vr=Gt.token!==";",Br.push({node:pr,visible:Vr}));return Br.length>0?new ht(Br):(pr||(pr=new mt(void 0),Gt.comment&&(pr.comment=Gt.comment)),pr)}function rr(Gt){var pr,Br,Vr,vn,wn=Qt(Gt);if(Gt.token==="="){if(isSymbolNode(wn))return pr=wn.name,qt(Gt),Vr=rr(Gt),new dt(new $t(pr),Vr);if(isAccessorNode(wn))return qt(Gt),Vr=rr(Gt),new dt(wn.object,wn.index,Vr);if(isFunctionNode(wn)&&isSymbolNode(wn.fn)&&(vn=!0,Br=[],pr=wn.name,wn.args.forEach(function(Wn,Nn){isSymbolNode(Wn)?Br[Nn]=Wn.name:vn=!1}),vn))return qt(Gt),Vr=rr(Gt),new vt(pr,Br,Vr);throw Ar(Gt,"Invalid left hand side of assignment operator =")}return wn}function Qt(Gt){for(var pr=ur(Gt);Gt.token==="?";){var Br=Gt.conditionalLevel;Gt.conditionalLevel=Gt.nestingLevel,qt(Gt);var Vr=pr,vn=rr(Gt);if(Gt.token!==":")throw Ar(Gt,"False part of conditional expression expected");Gt.conditionalLevel=null,qt(Gt);var wn=rr(Gt);pr=new pt(Vr,vn,wn),Gt.conditionalLevel=Br}return pr}function ur(Gt){for(var pr=wr(Gt);Gt.token==="or";)qt(Gt),pr=new wt("or","or",[pr,wr(Gt)]);return pr}function wr(Gt){for(var pr=vr(Gt);Gt.token==="xor";)qt(Gt),pr=new wt("xor","xor",[pr,vr(Gt)]);return pr}function vr(Gt){for(var pr=Dr(Gt);Gt.token==="and";)qt(Gt),pr=new wt("and","and",[pr,Dr(Gt)]);return pr}function Dr(Gt){for(var pr=Or(Gt);Gt.token==="|";)qt(Gt),pr=new wt("|","bitOr",[pr,Or(Gt)]);return pr}function Or(Gt){for(var pr=Mr(Gt);Gt.token==="^|";)qt(Gt),pr=new wt("^|","bitXor",[pr,Mr(Gt)]);return pr}function Mr(Gt){for(var pr=dr(Gt);Gt.token==="&";)qt(Gt),pr=new wt("&","bitAnd",[pr,dr(Gt)]);return pr}function dr(Gt){for(var pr=[_r(Gt)],Br=[],Vr={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};hasOwnProperty$1(Vr,Gt.token);){var vn={name:Gt.token,fn:Vr[Gt.token]};Br.push(vn),qt(Gt),pr.push(_r(Gt))}return pr.length===1?pr[0]:pr.length===2?new wt(Br[0].name,Br[0].fn,pr):new Dt(Br.map(wn=>wn.fn),pr)}function _r(Gt){var pr,Br,Vr,vn;pr=zr(Gt);for(var wn={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};hasOwnProperty$1(wn,Gt.token);)Br=Gt.token,Vr=wn[Br],qt(Gt),vn=[pr,zr(Gt)],pr=new wt(Br,Vr,vn);return pr}function zr(Gt){var pr,Br,Vr,vn;pr=yr(Gt);for(var wn={to:"to",in:"to"};hasOwnProperty$1(wn,Gt.token);)Br=Gt.token,Vr=wn[Br],qt(Gt),Br==="in"&&Gt.token===""?pr=new wt("*","multiply",[pr,new $t("in")],!0):(vn=[pr,yr(Gt)],pr=new wt(Br,Vr,vn));return pr}function yr(Gt){var pr,Br=[];if(Gt.token===":"?pr=new mt(1):pr=Lr(Gt),Gt.token===":"&&Gt.conditionalLevel!==Gt.nestingLevel){for(Br.push(pr);Gt.token===":"&&Br.length<3;)qt(Gt),Gt.token===")"||Gt.token==="]"||Gt.token===","||Gt.token===""?Br.push(new $t("end")):Br.push(Lr(Gt));Br.length===3?pr=new Mt(Br[0],Br[2],Br[1]):pr=new Mt(Br[0],Br[1])}return pr}function Lr(Gt){var pr,Br,Vr,vn;pr=tr(Gt);for(var wn={"+":"add","-":"subtract"};hasOwnProperty$1(wn,Gt.token);){Br=Gt.token,Vr=wn[Br],qt(Gt);var Wn=tr(Gt);Wn.isPercentage?vn=[pr,new wt("*","multiply",[pr,Wn])]:vn=[pr,Wn],pr=new wt(Br,Vr,vn)}return pr}function tr(Gt){var pr,Br,Vr,vn;pr=ir(Gt),Br=pr;for(var wn={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};hasOwnProperty$1(wn,Gt.token);)Vr=Gt.token,vn=wn[Vr],qt(Gt),Br=ir(Gt),pr=new wt(Vr,vn,[pr,Br]);return pr}function ir(Gt){var pr,Br;for(pr=br(Gt),Br=pr;Gt.tokenType===kt.SYMBOL||Gt.token==="in"&&isConstantNode(pr)||Gt.tokenType===kt.NUMBER&&!isConstantNode(Br)&&(!isOperatorNode(Br)||Br.op==="!")||Gt.token==="(";)Br=br(Gt),pr=new wt("*","multiply",[pr,Br],!0);return pr}function br(Gt){for(var pr=nr(Gt),Br=pr,Vr=[];Gt.token==="/"&&rule2Node(Br);)if(Vr.push(_extends$1({},Gt)),qt(Gt),Gt.tokenType===kt.NUMBER)if(Vr.push(_extends$1({},Gt)),qt(Gt),Gt.tokenType===kt.SYMBOL||Gt.token==="(")_extends$1(Gt,Vr.pop()),Vr.pop(),Br=nr(Gt),pr=new wt("/","divide",[pr,Br]);else{Vr.pop(),_extends$1(Gt,Vr.pop());break}else{_extends$1(Gt,Vr.pop());break}return pr}function nr(Gt){var pr,Br,Vr,vn;pr=cr(Gt);for(var wn={"%":"mod",mod:"mod"};hasOwnProperty$1(wn,Gt.token);)Br=Gt.token,Vr=wn[Br],qt(Gt),Br==="%"&&Gt.tokenType===kt.DELIMITER&&Gt.token!=="("?pr=new wt("/","divide",[pr,new mt(100)],!1,!0):(vn=[pr,cr(Gt)],pr=new wt(Br,Vr,vn));return pr}function cr(Gt){var pr,Br,Vr,vn={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return hasOwnProperty$1(vn,Gt.token)?(Vr=vn[Gt.token],pr=Gt.token,qt(Gt),Br=[cr(Gt)],new wt(pr,Vr,Br)):gr(Gt)}function gr(Gt){var pr,Br,Vr,vn;return pr=Sr(Gt),(Gt.token==="^"||Gt.token===".^")&&(Br=Gt.token,Vr=Br==="^"?"pow":"dotPow",qt(Gt),vn=[pr,cr(Gt)],pr=new wt(Br,Vr,vn)),pr}function Sr(Gt){var pr,Br,Vr,vn;pr=kr(Gt);for(var wn={"!":"factorial","'":"ctranspose"};hasOwnProperty$1(wn,Gt.token);)Br=Gt.token,Vr=wn[Br],jt(Gt),vn=[pr],pr=new wt(Br,Vr,vn),pr=ar(Gt,pr);return pr}function kr(Gt){var pr=[];if(Gt.tokenType===kt.SYMBOL&&hasOwnProperty$1(Gt.extraNodes,Gt.token)){var Br=Gt.extraNodes[Gt.token];if(jt(Gt),Gt.token==="("){if(pr=[],Zt(Gt),jt(Gt),Gt.token!==")")for(pr.push(rr(Gt));Gt.token===",";)jt(Gt),pr.push(rr(Gt));if(Gt.token!==")")throw Ar(Gt,"Parenthesis ) expected");Ut(Gt),jt(Gt)}return new Br(pr)}return er(Gt)}function er(Gt){var pr,Br;return Gt.tokenType===kt.SYMBOL||Gt.tokenType===kt.DELIMITER&&Gt.token in Bt?(Br=Gt.token,jt(Gt),hasOwnProperty$1(Ft,Br)?pr=new mt(Ft[Br]):Lt.indexOf(Br)!==-1?pr=new mt(g(Br,"number")):pr=new $t(Br),pr=ar(Gt,pr),pr):xr(Gt)}function ar(Gt,pr,Br){for(var Vr;(Gt.token==="("||Gt.token==="["||Gt.token===".")&&(!Br||Br.indexOf(Gt.token)!==-1);)if(Vr=[],Gt.token==="(")if(isSymbolNode(pr)||isAccessorNode(pr)){if(Zt(Gt),jt(Gt),Gt.token!==")")for(Vr.push(rr(Gt));Gt.token===",";)jt(Gt),Vr.push(rr(Gt));if(Gt.token!==")")throw Ar(Gt,"Parenthesis ) expected");Ut(Gt),jt(Gt),pr=new gt(pr,Vr)}else return pr;else if(Gt.token==="["){if(Zt(Gt),jt(Gt),Gt.token!=="]")for(Vr.push(rr(Gt));Gt.token===",";)jt(Gt),Vr.push(rr(Gt));if(Gt.token!=="]")throw Ar(Gt,"Parenthesis ] expected");Ut(Gt),jt(Gt),pr=new ut(pr,new yt(Vr))}else{if(jt(Gt),Gt.tokenType!==kt.SYMBOL)throw Ar(Gt,"Property name expected after dot");Vr.push(new mt(Gt.token)),jt(Gt);var vn=!0;pr=new ut(pr,new yt(Vr,vn))}return pr}function xr(Gt){var pr,Br;return Gt.token==='"'?(Br=Tr(Gt),pr=new mt(Br),pr=ar(Gt,pr),pr):Fr(Gt)}function Tr(Gt){for(var pr="";Rt(Gt)!==""&&Rt(Gt)!=='"';)Rt(Gt)==="\\"&&(pr+=Rt(Gt),Vt(Gt)),pr+=Rt(Gt),Vt(Gt);if(jt(Gt),Gt.token!=='"')throw Ar(Gt,'End of string " expected');return jt(Gt),JSON.parse('"'+pr+'"')}function Fr(Gt){var pr,Br;return Gt.token==="'"?(Br=Er(Gt),pr=new mt(Br),pr=ar(Gt,pr),pr):jr(Gt)}function Er(Gt){for(var pr="";Rt(Gt)!==""&&Rt(Gt)!=="'";)Rt(Gt)==="\\"&&(pr+=Rt(Gt),Vt(Gt)),pr+=Rt(Gt),Vt(Gt);if(jt(Gt),Gt.token!=="'")throw Ar(Gt,"End of string ' expected");return jt(Gt),JSON.parse('"'+pr+'"')}function jr(Gt){var pr,Br,Vr,vn;if(Gt.token==="["){if(Zt(Gt),jt(Gt),Gt.token!=="]"){var wn=Kr(Gt);if(Gt.token===";"){for(Vr=1,Br=[wn];Gt.token===";";)jt(Gt),Br[Vr]=Kr(Gt),Vr++;if(Gt.token!=="]")throw Ar(Gt,"End of matrix ] expected");Ut(Gt),jt(Gt),vn=Br[0].items.length;for(var Wn=1;Wn<Vr;Wn++)if(Br[Wn].items.length!==vn)throw _n(Gt,"Column dimensions mismatch ("+Br[Wn].items.length+" !== "+vn+")");pr=new ct(Br)}else{if(Gt.token!=="]")throw Ar(Gt,"End of matrix ] expected");Ut(Gt),jt(Gt),pr=wn}}else Ut(Gt),jt(Gt),pr=new ct([]);return ar(Gt,pr)}return Xr(Gt)}function Kr(Gt){for(var pr=[rr(Gt)],Br=1;Gt.token===",";)jt(Gt),pr[Br]=rr(Gt),Br++;return new ct(pr)}function Xr(Gt){if(Gt.token==="{"){Zt(Gt);var pr,Br={};do if(jt(Gt),Gt.token!=="}"){if(Gt.token==='"')pr=Tr(Gt);else if(Gt.token==="'")pr=Er(Gt);else if(Gt.tokenType===kt.SYMBOL||Gt.tokenType===kt.DELIMITER&&Gt.token in Bt)pr=Gt.token,jt(Gt);else throw Ar(Gt,"Symbol or string expected as object key");if(Gt.token!==":")throw Ar(Gt,"Colon : expected after object key");jt(Gt),Br[pr]=rr(Gt)}while(Gt.token===",");if(Gt.token!=="}")throw Ar(Gt,"Comma , or bracket } expected after object value");Ut(Gt),jt(Gt);var Vr=new bt(Br);return Vr=ar(Gt,Vr),Vr}return Hr(Gt)}function Hr(Gt){var pr;return Gt.tokenType===kt.NUMBER?(pr=Gt.token,jt(Gt),new mt(g(pr,it.number))):gn(Gt)}function gn(Gt){var pr;if(Gt.token==="("){if(Zt(Gt),jt(Gt),pr=rr(Gt),Gt.token!==")")throw Ar(Gt,"Parenthesis ) expected");return Ut(Gt),jt(Gt),pr=new Et(pr),pr=ar(Gt,pr),pr}return xn(Gt)}function xn(Gt){throw Gt.token===""?Ar(Gt,"Unexpected end of expression"):Ar(Gt,"Value expected")}function hn(Gt){return Gt.index-Gt.token.length+1}function Ar(Gt,pr){var Br=hn(Gt),Vr=new SyntaxError(pr+" (char "+Br+")");return Vr.char=Br,Vr}function _n(Gt,pr){var Br=hn(Gt),Vr=new SyntaxError(pr+" (char "+Br+")");return Vr.char=Br,Vr}return h.addConversion({from:"string",to:"Node",convert:_t}),_t}),name$1l="compile",dependencies$1l=["typed","parse"],createCompile=factory(name$1l,dependencies$1l,s=>{var{typed:h,parse:g}=s;return h(name$1l,{string:function(ut){return g(ut).compile()},"Array | Matrix":function(ut){return deepMap(ut,function(ct){return g(ct).compile()})}})}),name$1k="evaluate",dependencies$1k=["typed","parse"],createEvaluate=factory(name$1k,dependencies$1k,s=>{var{typed:h,parse:g}=s;return h(name$1k,{string:function(ut){var ct=createEmptyMap();return g(ut).compile().evaluate(ct)},"string, Map | Object":function(ut,ct){return g(ut).compile().evaluate(ct)},"Array | Matrix":function(ut){var ct=createEmptyMap();return deepMap(ut,function(dt){return g(dt).compile().evaluate(ct)})},"Array | Matrix, Map | Object":function(ut,ct){return deepMap(ut,function(dt){return g(dt).compile().evaluate(ct)})}})}),name$1j="Parser",dependencies$1j=["evaluate"],createParserClass=factory(name$1j,dependencies$1j,s=>{var{evaluate:h}=s;function g(){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:createEmptyMap(),writable:!1})}return g.prototype.type="Parser",g.prototype.isParser=!0,g.prototype.evaluate=function(it){return h(it,this.scope)},g.prototype.get=function(it){if(this.scope.has(it))return this.scope.get(it)},g.prototype.getAll=function(){return toObject(this.scope)},g.prototype.getAllAsMap=function(){return this.scope},g.prototype.set=function(it,ut){return this.scope.set(it,ut),ut},g.prototype.remove=function(it){this.scope.delete(it)},g.prototype.clear=function(){this.scope.clear()},g},{isClass:!0}),name$1i="parser",dependencies$1i=["typed","Parser"],createParser=factory(name$1i,dependencies$1i,s=>{var{typed:h,Parser:g}=s;return h(name$1i,{"":function(){return new g}})}),name$1h="lup",dependencies$1h=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],createLup=factory(name$1h,dependencies$1h,s=>{var{typed:h,matrix:g,abs:it,addScalar:ut,divideScalar:ct,multiplyScalar:dt,subtract:ht,larger:pt,equalScalar:mt,unaryMinus:vt,DenseMatrix:gt,SparseMatrix:yt,Spa:bt}=s;return h(name$1h,{DenseMatrix:function(Dt){return wt(Dt)},SparseMatrix:function(Dt){return Et(Dt)},Array:function(Dt){var $t=g(Dt),_t=wt($t);return{L:_t.L.valueOf(),U:_t.U.valueOf(),p:_t.p}}});function wt(Mt){var Dt=Mt._size[0],$t=Mt._size[1],_t=Math.min(Dt,$t),Nt=clone$3(Mt._data),kt=[],At=[Dt,_t],Bt=[],Ft=[_t,$t],Lt,Ot,It,Rt=[];for(Lt=0;Lt<Dt;Lt++)Rt[Lt]=Lt;for(Ot=0;Ot<$t;Ot++){if(Ot>0)for(Lt=0;Lt<Dt;Lt++){var Vt=Math.min(Lt,Ot),Xt=0;for(It=0;It<Vt;It++)Xt=ut(Xt,dt(Nt[Lt][It],Nt[It][Ot]));Nt[Lt][Ot]=ht(Nt[Lt][Ot],Xt)}var Wt=Ot,jt=0,qt=0;for(Lt=Ot;Lt<Dt;Lt++){var Zt=Nt[Lt][Ot],Ut=it(Zt);pt(Ut,jt)&&(Wt=Lt,jt=Ut,qt=Zt)}if(Ot!==Wt&&(Rt[Ot]=[Rt[Wt],Rt[Wt]=Rt[Ot]][0],gt._swapRows(Ot,Wt,Nt)),Ot<Dt)for(Lt=Ot+1;Lt<Dt;Lt++){var Yt=Nt[Lt][Ot];mt(Yt,0)||(Nt[Lt][Ot]=ct(Nt[Lt][Ot],qt))}}for(Ot=0;Ot<$t;Ot++)for(Lt=0;Lt<Dt;Lt++){if(Ot===0&&(Lt<$t&&(Bt[Lt]=[]),kt[Lt]=[]),Lt<Ot){Lt<$t&&(Bt[Lt][Ot]=Nt[Lt][Ot]),Ot<Dt&&(kt[Lt][Ot]=0);continue}if(Lt===Ot){Lt<$t&&(Bt[Lt][Ot]=Nt[Lt][Ot]),Ot<Dt&&(kt[Lt][Ot]=1);continue}Lt<$t&&(Bt[Lt][Ot]=0),Ot<Dt&&(kt[Lt][Ot]=Nt[Lt][Ot])}var lr=new gt({data:kt,size:At}),rr=new gt({data:Bt,size:Ft}),Qt=[];for(Lt=0,_t=Rt.length;Lt<_t;Lt++)Qt[Rt[Lt]]=Lt;return{L:lr,U:rr,p:Qt,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function Et(Mt){var Dt=Mt._size[0],$t=Mt._size[1],_t=Math.min(Dt,$t),Nt=Mt._values,kt=Mt._index,At=Mt._ptr,Bt=[],Ft=[],Lt=[],Ot=[Dt,_t],It=[],Rt=[],Vt=[],Xt=[_t,$t],Wt,jt,qt,Zt=[],Ut=[];for(Wt=0;Wt<Dt;Wt++)Zt[Wt]=Wt,Ut[Wt]=Wt;var Yt=function(Qt,ur){var wr=Ut[Qt],vr=Ut[ur];Zt[wr]=ur,Zt[vr]=Qt,Ut[Qt]=vr,Ut[ur]=wr},lr=function(){var Qt=new bt;jt<Dt&&(Lt.push(Bt.length),Bt.push(1),Ft.push(jt)),Vt.push(It.length);var ur=At[jt],wr=At[jt+1];for(qt=ur;qt<wr;qt++)Wt=kt[qt],Qt.set(Zt[Wt],Nt[qt]);jt>0&&Qt.forEach(0,jt-1,function(Mr,dr){yt._forEachRow(Mr,Bt,Ft,Lt,function(_r,zr){_r>Mr&&Qt.accumulate(_r,vt(dt(zr,dr)))})});var vr=jt,Dr=Qt.get(jt),Or=it(Dr);Qt.forEach(jt+1,Dt-1,function(Mr,dr){var _r=it(dr);pt(_r,Or)&&(vr=Mr,Or=_r,Dr=dr)}),jt!==vr&&(yt._swapRows(jt,vr,Ot[1],Bt,Ft,Lt),yt._swapRows(jt,vr,Xt[1],It,Rt,Vt),Qt.swap(jt,vr),Yt(jt,vr)),Qt.forEach(0,Dt-1,function(Mr,dr){Mr<=jt?(It.push(dr),Rt.push(Mr)):(dr=ct(dr,Dr),mt(dr,0)||(Bt.push(dr),Ft.push(Mr)))})};for(jt=0;jt<$t;jt++)lr();return Vt.push(It.length),Lt.push(Bt.length),{L:new yt({values:Bt,index:Ft,ptr:Lt,size:Ot}),U:new yt({values:It,index:Rt,ptr:Vt,size:Xt}),p:Zt,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),name$1g="qr",dependencies$1g=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],createQr=factory(name$1g,dependencies$1g,s=>{var{typed:h,matrix:g,zeros:it,identity:ut,isZero:ct,equal:dt,sign:ht,sqrt:pt,conj:mt,unaryMinus:vt,addScalar:gt,divideScalar:yt,multiplyScalar:bt,subtract:wt,complex:Et}=s;return _extends$1(h(name$1g,{DenseMatrix:function(Nt){return Dt(Nt)},SparseMatrix:function(Nt){return $t()},Array:function(Nt){var kt=g(Nt),At=Dt(kt);return{Q:At.Q.valueOf(),R:At.R.valueOf()}}}),{_denseQRimpl:Mt});function Mt(_t){var Nt=_t._size[0],kt=_t._size[1],At=ut([Nt],"dense"),Bt=At._data,Ft=_t.clone(),Lt=Ft._data,Ot,It,Rt,Vt=it([Nt],"");for(Rt=0;Rt<Math.min(kt,Nt);++Rt){var Xt=Lt[Rt][Rt],Wt=vt(dt(Xt,0)?1:ht(Xt)),jt=mt(Wt),qt=0;for(Ot=Rt;Ot<Nt;Ot++)qt=gt(qt,bt(Lt[Ot][Rt],mt(Lt[Ot][Rt])));var Zt=bt(Wt,pt(qt));if(!ct(Zt)){var Ut=wt(Xt,Zt);for(Vt[Rt]=1,Ot=Rt+1;Ot<Nt;Ot++)Vt[Ot]=yt(Lt[Ot][Rt],Ut);var Yt=vt(mt(yt(Ut,Zt))),lr=void 0;for(It=Rt;It<kt;It++){for(lr=0,Ot=Rt;Ot<Nt;Ot++)lr=gt(lr,bt(mt(Vt[Ot]),Lt[Ot][It]));for(lr=bt(lr,Yt),Ot=Rt;Ot<Nt;Ot++)Lt[Ot][It]=bt(wt(Lt[Ot][It],bt(Vt[Ot],lr)),jt)}for(Ot=0;Ot<Nt;Ot++){for(lr=0,It=Rt;It<Nt;It++)lr=gt(lr,bt(Bt[Ot][It],Vt[It]));for(lr=bt(lr,Yt),It=Rt;It<Nt;++It)Bt[Ot][It]=yt(wt(Bt[Ot][It],bt(lr,mt(Vt[It]))),jt)}}}return{Q:At,R:Ft,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function Dt(_t){var Nt=Mt(_t),kt=Nt.R._data;if(_t._data.length>0)for(var At=kt[0][0].type==="Complex"?Et(0):0,Bt=0;Bt<kt.length;++Bt)for(var Ft=0;Ft<Bt&&Ft<(kt[0]||[]).length;++Ft)kt[Bt][Ft]=At;return Nt}function $t(_t){throw new Error("qr not implemented for sparse matrices yet")}});function csPermute(s,h,g,it){for(var ut=s._values,ct=s._index,dt=s._ptr,ht=s._size,pt=s._datatype,mt=ht[0],vt=ht[1],gt=it&&s._values?[]:null,yt=[],bt=[],wt=0,Et=0;Et<vt;Et++){bt[Et]=wt;for(var Mt=g?g[Et]:Et,Dt=dt[Mt],$t=dt[Mt+1],_t=Dt;_t<$t;_t++){var Nt=h?h[ct[_t]]:ct[_t];yt[wt]=Nt,gt&&(gt[wt]=ut[_t]),wt++}}return bt[vt]=wt,s.createSparseMatrix({values:gt,index:yt,ptr:bt,size:[mt,vt],datatype:pt})}function csTdfs(s,h,g,it,ut,ct,dt){var ht=0;for(g[dt]=s;ht>=0;){var pt=g[dt+ht],mt=g[it+pt];mt===-1?(ht--,ct[h++]=pt):(g[it+pt]=g[ut+mt],++ht,g[dt+ht]=mt)}return h}function csPost(s,h){if(!s)return null;var g=0,it,ut=[],ct=[],dt=0,ht=h,pt=2*h;for(it=0;it<h;it++)ct[dt+it]=-1;for(it=h-1;it>=0;it--)s[it]!==-1&&(ct[ht+it]=ct[dt+s[it]],ct[dt+s[it]]=it);for(it=0;it<h;it++)s[it]===-1&&(g=csTdfs(it,g,ct,dt,ht,ut,pt));return ut}function csEtree(s,h){if(!s)return null;var g=s._index,it=s._ptr,ut=s._size,ct=ut[0],dt=ut[1],ht=[],pt=[],mt=0,vt=dt,gt,yt;if(h)for(gt=0;gt<ct;gt++)pt[vt+gt]=-1;for(var bt=0;bt<dt;bt++){ht[bt]=-1,pt[mt+bt]=-1;for(var wt=it[bt],Et=it[bt+1],Mt=wt;Mt<Et;Mt++){var Dt=g[Mt];for(gt=h?pt[vt+Dt]:Dt;gt!==-1&&gt<bt;gt=yt)yt=pt[mt+gt],pt[mt+gt]=bt,yt===-1&&(ht[gt]=bt);h&&(pt[vt+Dt]=bt)}}return ht}function csFkeep(s,h,g){for(var it=s._values,ut=s._index,ct=s._ptr,dt=s._size,ht=dt[1],pt=0,mt=0;mt<ht;mt++){var vt=ct[mt];for(ct[mt]=pt;vt<ct[mt+1];vt++)h(ut[vt],mt,it?it[vt]:1,g)&&(ut[pt]=ut[vt],it&&(it[pt]=it[vt]),pt++)}return ct[ht]=pt,ut.splice(pt,ut.length-pt),it&&it.splice(pt,it.length-pt),pt}function csFlip(s){return-s-2}var name$1f="csAmd",dependencies$1f=["add","multiply","transpose"],createCsAmd=factory(name$1f,dependencies$1f,s=>{var{add:h,multiply:g,transpose:it}=s;return function(vt,gt){if(!gt||vt<=0||vt>3)return null;var yt=gt._size,bt=yt[0],wt=yt[1],Et=0,Mt=Math.max(16,10*Math.sqrt(wt));Mt=Math.min(wt-2,Mt);var Dt=ut(vt,gt,bt,wt,Mt);csFkeep(Dt,pt,null);for(var $t=Dt._index,_t=Dt._ptr,Nt=_t[wt],kt=[],At=[],Bt=0,Ft=wt+1,Lt=2*(wt+1),Ot=3*(wt+1),It=4*(wt+1),Rt=5*(wt+1),Vt=6*(wt+1),Xt=7*(wt+1),Wt=kt,jt=ct(wt,_t,At,Bt,Ot,Wt,Lt,Xt,Ft,Vt,It,Rt),qt=dt(wt,_t,At,Rt,It,Vt,Mt,Ft,Ot,Wt,Lt),Zt=0,Ut,Yt,lr,rr,Qt,ur,wr,vr,Dr,Or,Mr,dr,_r,zr,yr,Lr;qt<wt;){for(lr=-1;Zt<wt&&(lr=At[Ot+Zt])===-1;Zt++);At[Lt+lr]!==-1&&(Wt[At[Lt+lr]]=-1),At[Ot+Zt]=At[Lt+lr];var tr=At[It+lr],ir=At[Ft+lr];qt+=ir;var br=0;At[Ft+lr]=-ir;var nr=_t[lr],cr=tr===0?nr:Nt,gr=cr;for(rr=1;rr<=tr+1;rr++){for(rr>tr?(ur=lr,wr=nr,vr=At[Bt+lr]-tr):(ur=$t[nr++],wr=_t[ur],vr=At[Bt+ur]),Qt=1;Qt<=vr;Qt++)Ut=$t[wr++],!((Dr=At[Ft+Ut])<=0)&&(br+=Dr,At[Ft+Ut]=-Dr,$t[gr++]=Ut,At[Lt+Ut]!==-1&&(Wt[At[Lt+Ut]]=Wt[Ut]),Wt[Ut]!==-1?At[Lt+Wt[Ut]]=At[Lt+Ut]:At[Ot+At[Rt+Ut]]=At[Lt+Ut]);ur!==lr&&(_t[ur]=csFlip(lr),At[Vt+ur]=0)}for(tr!==0&&(Nt=gr),At[Rt+lr]=br,_t[lr]=cr,At[Bt+lr]=gr-cr,At[It+lr]=-2,jt=ht(jt,Et,At,Vt,wt),Or=cr;Or<gr;Or++)if(Ut=$t[Or],!((Mr=At[It+Ut])<=0)){Dr=-At[Ft+Ut];var Sr=jt-Dr;for(nr=_t[Ut],dr=_t[Ut]+Mr-1;nr<=dr;nr++)ur=$t[nr],At[Vt+ur]>=jt?At[Vt+ur]-=Dr:At[Vt+ur]!==0&&(At[Vt+ur]=At[Rt+ur]+Sr)}for(Or=cr;Or<gr;Or++){for(Ut=$t[Or],dr=_t[Ut],_r=dr+At[It+Ut]-1,zr=dr,yr=0,Lr=0,nr=dr;nr<=_r;nr++)if(ur=$t[nr],At[Vt+ur]!==0){var kr=At[Vt+ur]-jt;kr>0?(Lr+=kr,$t[zr++]=ur,yr+=ur):(_t[ur]=csFlip(lr),At[Vt+ur]=0)}At[It+Ut]=zr-dr+1;var er=zr,ar=dr+At[Bt+Ut];for(nr=_r+1;nr<ar;nr++){Yt=$t[nr];var xr=At[Ft+Yt];xr<=0||(Lr+=xr,$t[zr++]=Yt,yr+=Yt)}Lr===0?(_t[Ut]=csFlip(lr),Dr=-At[Ft+Ut],br-=Dr,ir+=Dr,qt+=Dr,At[Ft+Ut]=0,At[It+Ut]=-1):(At[Rt+Ut]=Math.min(At[Rt+Ut],Lr),$t[zr]=$t[er],$t[er]=$t[dr],$t[dr]=lr,At[Bt+Ut]=zr-dr+1,yr=(yr<0?-yr:yr)%wt,At[Lt+Ut]=At[Xt+yr],At[Xt+yr]=Ut,Wt[Ut]=yr)}for(At[Rt+lr]=br,Et=Math.max(Et,br),jt=ht(jt+Et,Et,At,Vt,wt),Or=cr;Or<gr;Or++)if(Ut=$t[Or],!(At[Ft+Ut]>=0))for(yr=Wt[Ut],Ut=At[Xt+yr],At[Xt+yr]=-1;Ut!==-1&&At[Lt+Ut]!==-1;Ut=At[Lt+Ut],jt++){for(vr=At[Bt+Ut],Mr=At[It+Ut],nr=_t[Ut]+1;nr<=_t[Ut]+vr-1;nr++)At[Vt+$t[nr]]=jt;var Tr=Ut;for(Yt=At[Lt+Ut];Yt!==-1;){var Fr=At[Bt+Yt]===vr&&At[It+Yt]===Mr;for(nr=_t[Yt]+1;Fr&&nr<=_t[Yt]+vr-1;nr++)At[Vt+$t[nr]]!==jt&&(Fr=0);Fr?(_t[Yt]=csFlip(Ut),At[Ft+Ut]+=At[Ft+Yt],At[Ft+Yt]=0,At[It+Yt]=-1,Yt=At[Lt+Yt],At[Lt+Tr]=Yt):(Tr=Yt,Yt=At[Lt+Yt])}}for(nr=cr,Or=cr;Or<gr;Or++)Ut=$t[Or],!((Dr=-At[Ft+Ut])<=0)&&(At[Ft+Ut]=Dr,Lr=At[Rt+Ut]+br-Dr,Lr=Math.min(Lr,wt-qt-Dr),At[Ot+Lr]!==-1&&(Wt[At[Ot+Lr]]=Ut),At[Lt+Ut]=At[Ot+Lr],Wt[Ut]=-1,At[Ot+Lr]=Ut,Zt=Math.min(Zt,Lr),At[Rt+Ut]=Lr,$t[nr++]=Ut);At[Ft+lr]=ir,(At[Bt+lr]=nr-cr)===0&&(_t[lr]=-1,At[Vt+lr]=0),tr!==0&&(Nt=nr)}for(Ut=0;Ut<wt;Ut++)_t[Ut]=csFlip(_t[Ut]);for(Yt=0;Yt<=wt;Yt++)At[Ot+Yt]=-1;for(Yt=wt;Yt>=0;Yt--)At[Ft+Yt]>0||(At[Lt+Yt]=At[Ot+_t[Yt]],At[Ot+_t[Yt]]=Yt);for(ur=wt;ur>=0;ur--)At[Ft+ur]<=0||_t[ur]!==-1&&(At[Lt+ur]=At[Ot+_t[ur]],At[Ot+_t[ur]]=ur);for(lr=0,Ut=0;Ut<=wt;Ut++)_t[Ut]===-1&&(lr=csTdfs(Ut,lr,At,Ot,Lt,kt,Vt));return kt.splice(kt.length-1,1),kt};function ut(mt,vt,gt,yt,bt){var wt=it(vt);if(mt===1&&yt===gt)return h(vt,wt);if(mt===2){for(var Et=wt._index,Mt=wt._ptr,Dt=0,$t=0;$t<gt;$t++){var _t=Mt[$t];if(Mt[$t]=Dt,!(Mt[$t+1]-_t>bt))for(var Nt=Mt[$t+1];_t<Nt;_t++)Et[Dt++]=Et[_t]}return Mt[gt]=Dt,vt=it(wt),g(wt,vt)}return g(wt,vt)}function ct(mt,vt,gt,yt,bt,wt,Et,Mt,Dt,$t,_t,Nt){for(var kt=0;kt<mt;kt++)gt[yt+kt]=vt[kt+1]-vt[kt];gt[yt+mt]=0;for(var At=0;At<=mt;At++)gt[bt+At]=-1,wt[At]=-1,gt[Et+At]=-1,gt[Mt+At]=-1,gt[Dt+At]=1,gt[$t+At]=1,gt[_t+At]=0,gt[Nt+At]=gt[yt+At];var Bt=ht(0,0,gt,$t,mt);return gt[_t+mt]=-2,vt[mt]=-1,gt[$t+mt]=0,Bt}function dt(mt,vt,gt,yt,bt,wt,Et,Mt,Dt,$t,_t){for(var Nt=0,kt=0;kt<mt;kt++){var At=gt[yt+kt];if(At===0)gt[bt+kt]=-2,Nt++,vt[kt]=-1,gt[wt+kt]=0;else if(At>Et)gt[Mt+kt]=0,gt[bt+kt]=-1,Nt++,vt[kt]=csFlip(mt),gt[Mt+mt]++;else{var Bt=gt[Dt+At];Bt!==-1&&($t[Bt]=kt),gt[_t+kt]=gt[Dt+At],gt[Dt+At]=kt}}return Nt}function ht(mt,vt,gt,yt,bt){if(mt<2||mt+vt<0){for(var wt=0;wt<bt;wt++)gt[yt+wt]!==0&&(gt[yt+wt]=1);mt=2}return mt}function pt(mt,vt){return mt!==vt}});function csLeaf(s,h,g,it,ut,ct,dt){var ht,pt,mt=0,vt;if(s<=h||g[it+h]<=g[ut+s])return-1;g[ut+s]=g[it+h];var gt=g[ct+s];if(g[ct+s]=h,gt===-1)mt=1,vt=s;else{for(mt=2,vt=gt;vt!==g[dt+vt];vt=g[dt+vt]);for(ht=gt;ht!==vt;ht=pt)pt=g[dt+ht],g[dt+ht]=vt}return{jleaf:mt,q:vt}}var name$1e="csCounts",dependencies$1e=["transpose"],createCsCounts=factory(name$1e,dependencies$1e,s=>{var{transpose:h}=s;return function(g,it,ut,ct){if(!g||!it||!ut)return null;var dt=g._size,ht=dt[0],pt=dt[1],mt,vt,gt,yt,bt,wt,Et,Mt=4*pt+(ct?pt+ht+1:0),Dt=[],$t=0,_t=pt,Nt=2*pt,kt=3*pt,At=4*pt,Bt=5*pt+1;for(gt=0;gt<Mt;gt++)Dt[gt]=-1;var Ft=[],Lt=h(g),Ot=Lt._index,It=Lt._ptr;for(gt=0;gt<pt;gt++)for(vt=ut[gt],Ft[vt]=Dt[kt+vt]===-1?1:0;vt!==-1&&Dt[kt+vt]===-1;vt=it[vt])Dt[kt+vt]=gt;if(ct){for(gt=0;gt<pt;gt++)Dt[ut[gt]]=gt;for(mt=0;mt<ht;mt++){for(gt=pt,wt=It[mt],Et=It[mt+1],bt=wt;bt<Et;bt++)gt=Math.min(gt,Dt[Ot[bt]]);Dt[Bt+mt]=Dt[At+gt],Dt[At+gt]=mt}}for(mt=0;mt<pt;mt++)Dt[$t+mt]=mt;for(gt=0;gt<pt;gt++){for(vt=ut[gt],it[vt]!==-1&&Ft[it[vt]]--,yt=ct?Dt[At+gt]:vt;yt!==-1;yt=ct?Dt[Bt+yt]:-1)for(bt=It[yt];bt<It[yt+1];bt++){mt=Ot[bt];var Rt=csLeaf(mt,vt,Dt,kt,_t,Nt,$t);Rt.jleaf>=1&&Ft[vt]++,Rt.jleaf===2&&Ft[Rt.q]--}it[vt]!==-1&&(Dt[$t+vt]=it[vt])}for(vt=0;vt<pt;vt++)it[vt]!==-1&&(Ft[it[vt]]+=Ft[vt]);return Ft}}),name$1d="csSqr",dependencies$1d=["add","multiply","transpose"],createCsSqr=factory(name$1d,dependencies$1d,s=>{var{add:h,multiply:g,transpose:it}=s,ut=createCsAmd({add:h,multiply:g,transpose:it}),ct=createCsCounts({transpose:it});return function(pt,mt,vt){var gt=mt._ptr,yt=mt._size,bt=yt[1],wt,Et={};if(Et.q=ut(pt,mt),pt&&!Et.q)return null;if(vt){var Mt=pt?csPermute(mt,null,Et.q,0):mt;Et.parent=csEtree(Mt,1);var Dt=csPost(Et.parent,bt);if(Et.cp=ct(Mt,Et.parent,Dt,1),Mt&&Et.parent&&Et.cp&&dt(Mt,Et))for(Et.unz=0,wt=0;wt<bt;wt++)Et.unz+=Et.cp[wt]}else Et.unz=4*gt[bt]+bt,Et.lnz=Et.unz;return Et};function dt(ht,pt){var mt=ht._ptr,vt=ht._index,gt=ht._size,yt=gt[0],bt=gt[1];pt.pinv=[],pt.leftmost=[];var wt=pt.parent,Et=pt.pinv,Mt=pt.leftmost,Dt=[],$t=0,_t=yt,Nt=yt+bt,kt=yt+2*bt,At,Bt,Ft,Lt,Ot;for(Bt=0;Bt<bt;Bt++)Dt[_t+Bt]=-1,Dt[Nt+Bt]=-1,Dt[kt+Bt]=0;for(At=0;At<yt;At++)Mt[At]=-1;for(Bt=bt-1;Bt>=0;Bt--)for(Lt=mt[Bt],Ot=mt[Bt+1],Ft=Lt;Ft<Ot;Ft++)Mt[vt[Ft]]=Bt;for(At=yt-1;At>=0;At--)Et[At]=-1,Bt=Mt[At],Bt!==-1&&(Dt[kt+Bt]++===0&&(Dt[Nt+Bt]=At),Dt[$t+At]=Dt[_t+Bt],Dt[_t+Bt]=At);for(pt.lnz=0,pt.m2=yt,Bt=0;Bt<bt;Bt++)if(At=Dt[_t+Bt],pt.lnz++,At<0&&(At=pt.m2++),Et[At]=Bt,!(--kt[Bt]<=0)){pt.lnz+=Dt[kt+Bt];var It=wt[Bt];It!==-1&&(Dt[kt+It]===0&&(Dt[Nt+It]=Dt[Nt+Bt]),Dt[$t+Dt[Nt+Bt]]=Dt[_t+It],Dt[_t+It]=Dt[$t+At],Dt[kt+It]+=Dt[kt+Bt])}for(At=0;At<yt;At++)Et[At]<0&&(Et[At]=Bt++);return!0}});function csMarked(s,h){return s[h]<0}function csMark(s,h){s[h]=csFlip(s[h])}function csUnflip(s){return s<0?csFlip(s):s}function csDfs(s,h,g,it,ut){var ct=h._index,dt=h._ptr,ht=h._size,pt=ht[1],mt,vt,gt,yt=0;for(it[0]=s;yt>=0;){s=it[yt];var bt=ut?ut[s]:s;csMarked(dt,s)||(csMark(dt,s),it[pt+yt]=bt<0?0:csUnflip(dt[bt]));var wt=1;for(vt=it[pt+yt],gt=bt<0?0:csUnflip(dt[bt+1]);vt<gt;vt++)if(mt=ct[vt],!csMarked(dt,mt)){it[pt+yt]=vt,it[++yt]=mt,wt=0;break}wt&&(yt--,it[--g]=s)}return g}function csReach(s,h,g,it,ut){var ct=s._ptr,dt=s._size,ht=h._index,pt=h._ptr,mt=dt[1],vt,gt,yt,bt=mt;for(gt=pt[g],yt=pt[g+1],vt=gt;vt<yt;vt++){var wt=ht[vt];csMarked(ct,wt)||(bt=csDfs(wt,s,bt,it,ut))}for(vt=bt;vt<mt;vt++)csMark(ct,it[vt]);return bt}var name$1c="csSpsolve",dependencies$1c=["divideScalar","multiply","subtract"],createCsSpsolve=factory(name$1c,dependencies$1c,s=>{var{divideScalar:h,multiply:g,subtract:it}=s;return function(ct,dt,ht,pt,mt,vt,gt){var yt=ct._values,bt=ct._index,wt=ct._ptr,Et=ct._size,Mt=Et[1],Dt=dt._values,$t=dt._index,_t=dt._ptr,Nt,kt,At,Bt,Ft=csReach(ct,dt,ht,pt,vt);for(Nt=Ft;Nt<Mt;Nt++)mt[pt[Nt]]=0;for(kt=_t[ht],At=_t[ht+1],Nt=kt;Nt<At;Nt++)mt[$t[Nt]]=Dt[Nt];for(var Lt=Ft;Lt<Mt;Lt++){var Ot=pt[Lt],It=vt?vt[Ot]:Ot;if(!(It<0))for(kt=wt[It],At=wt[It+1],mt[Ot]=h(mt[Ot],yt[gt?kt:At-1]),Nt=gt?kt+1:kt,Bt=gt?At:At-1;Nt<Bt;Nt++){var Rt=bt[Nt];mt[Rt]=it(mt[Rt],g(yt[Nt],mt[Ot]))}}return Ft}}),name$1b="csLu",dependencies$1b=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],createCsLu=factory(name$1b,dependencies$1b,s=>{var{abs:h,divideScalar:g,multiply:it,subtract:ut,larger:ct,largerEq:dt,SparseMatrix:ht}=s,pt=createCsSpsolve({divideScalar:g,multiply:it,subtract:ut});return function(vt,gt,yt){if(!vt)return null;var bt=vt._size,wt=bt[1],Et,Mt=100,Dt=100;gt&&(Et=gt.q,Mt=gt.lnz||Mt,Dt=gt.unz||Dt);var $t=[],_t=[],Nt=[],kt=new ht({values:$t,index:_t,ptr:Nt,size:[wt,wt]}),At=[],Bt=[],Ft=[],Lt=new ht({values:At,index:Bt,ptr:Ft,size:[wt,wt]}),Ot=[],It,Rt,Vt=[],Xt=[];for(It=0;It<wt;It++)Vt[It]=0,Ot[It]=-1,Nt[It+1]=0;Mt=0,Dt=0;for(var Wt=0;Wt<wt;Wt++){Nt[Wt]=Mt,Ft[Wt]=Dt;var jt=Et?Et[Wt]:Wt,qt=pt(kt,vt,jt,Xt,Vt,Ot,1),Zt=-1,Ut=-1;for(Rt=qt;Rt<wt;Rt++)if(It=Xt[Rt],Ot[It]<0){var Yt=h(Vt[It]);ct(Yt,Ut)&&(Ut=Yt,Zt=It)}else Bt[Dt]=Ot[It],At[Dt++]=Vt[It];if(Zt===-1||Ut<=0)return null;Ot[jt]<0&&dt(h(Vt[jt]),it(Ut,yt))&&(Zt=jt);var lr=Vt[Zt];for(Bt[Dt]=Wt,At[Dt++]=lr,Ot[Zt]=Wt,_t[Mt]=Zt,$t[Mt++]=1,Rt=qt;Rt<wt;Rt++)It=Xt[Rt],Ot[It]<0&&(_t[Mt]=It,$t[Mt++]=g(Vt[It],lr)),Vt[It]=0}for(Nt[wt]=Mt,Ft[wt]=Dt,Rt=0;Rt<Mt;Rt++)_t[Rt]=Ot[_t[Rt]];return $t.splice(Mt,$t.length-Mt),_t.splice(Mt,_t.length-Mt),At.splice(Dt,At.length-Dt),Bt.splice(Dt,Bt.length-Dt),{L:kt,U:Lt,pinv:Ot}}}),name$1a="slu",dependencies$1a=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],createSlu=factory(name$1a,dependencies$1a,s=>{var{typed:h,abs:g,add:it,multiply:ut,transpose:ct,divideScalar:dt,subtract:ht,larger:pt,largerEq:mt,SparseMatrix:vt}=s,gt=createCsSqr({add:it,multiply:ut,transpose:ct}),yt=createCsLu({abs:g,divideScalar:dt,multiply:ut,subtract:ht,larger:pt,largerEq:mt,SparseMatrix:vt});return h(name$1a,{"SparseMatrix, number, number":function(wt,Et,Mt){if(!isInteger$1(Et)||Et<0||Et>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(Mt<0||Mt>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var Dt=gt(Et,wt,!1),$t=yt(wt,Dt,Mt);return{L:$t.L,U:$t.U,p:$t.pinv,q:Dt.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function csIpvec(s,h){var g,it=h.length,ut=[];if(s)for(g=0;g<it;g++)ut[s[g]]=h[g];else for(g=0;g<it;g++)ut[g]=h[g];return ut}var name$19="lusolve",dependencies$19=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],createLusolve=factory(name$19,dependencies$19,s=>{var{typed:h,matrix:g,lup:it,slu:ut,usolve:ct,lsolve:dt,DenseMatrix:ht}=s,pt=createSolveValidation({DenseMatrix:ht});return h(name$19,{"Array, Array | Matrix":function(yt,bt){yt=g(yt);var wt=it(yt),Et=vt(wt.L,wt.U,wt.p,null,bt);return Et.valueOf()},"DenseMatrix, Array | Matrix":function(yt,bt){var wt=it(yt);return vt(wt.L,wt.U,wt.p,null,bt)},"SparseMatrix, Array | Matrix":function(yt,bt){var wt=it(yt);return vt(wt.L,wt.U,wt.p,null,bt)},"SparseMatrix, Array | Matrix, number, number":function(yt,bt,wt,Et){var Mt=ut(yt,wt,Et);return vt(Mt.L,Mt.U,Mt.p,Mt.q,bt)},"Object, Array | Matrix":function(yt,bt){return vt(yt.L,yt.U,yt.p,yt.q,bt)}});function mt(gt){if(isMatrix(gt))return gt;if(isArray(gt))return g(gt);throw new TypeError("Invalid Matrix LU decomposition")}function vt(gt,yt,bt,wt,Et){gt=mt(gt),yt=mt(yt),bt&&(Et=pt(gt,Et,!0),Et._data=csIpvec(bt,Et._data));var Mt=dt(gt,Et),Dt=ct(yt,Mt);return wt&&(Dt._data=csIpvec(wt,Dt._data)),Dt}}),name$18="polynomialRoot",dependencies$18=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],createPolynomialRoot=factory(name$18,dependencies$18,s=>{var{typed:h,isZero:g,equalScalar:it,add:ut,subtract:ct,multiply:dt,divide:ht,sqrt:pt,unaryMinus:mt,cbrt:vt,typeOf:gt,im:yt,re:bt}=s;return h(name$18,{"number|Complex, ...number|Complex":(wt,Et)=>{for(var Mt=[wt,...Et];Mt.length>0&&g(Mt[Mt.length-1]);)Mt.pop();if(Mt.length<2)throw new RangeError("Polynomial [".concat(wt,", ").concat(Et,"] must have a non-zero non-constant coefficient"));switch(Mt.length){case 2:return[mt(ht(Mt[0],Mt[1]))];case 3:{var[Dt,$t,_t]=Mt,Nt=dt(2,_t),kt=dt($t,$t),At=dt(4,_t,Dt);if(it(kt,At))return[ht(mt($t),Nt)];var Bt=pt(ct(kt,At));return[ht(ct(Bt,$t),Nt),ht(ct(mt(Bt),$t),Nt)]}case 4:{var[Ft,Lt,Ot,It]=Mt,Rt=mt(dt(3,It)),Vt=dt(Ot,Ot),Xt=dt(3,It,Lt),Wt=ut(dt(2,Ot,Ot,Ot),dt(27,It,It,Ft)),jt=dt(9,It,Ot,Lt);if(it(Vt,Xt)&&it(Wt,jt))return[ht(Ot,Rt)];var qt=ct(Vt,Xt),Zt=ct(Wt,jt),Ut=ut(dt(18,It,Ot,Lt,Ft),dt(Ot,Ot,Lt,Lt)),Yt=ut(dt(4,Ot,Ot,Ot,Ft),dt(4,It,Lt,Lt,Lt),dt(27,It,It,Ft,Ft));if(it(Ut,Yt))return[ht(ct(dt(4,It,Ot,Lt),ut(dt(9,It,It,Ft),dt(Ot,Ot,Ot))),dt(It,qt)),ht(ct(dt(9,It,Ft),dt(Ot,Lt)),dt(2,qt))];var lr;it(Vt,Xt)?lr=Zt:lr=ht(ut(Zt,pt(ct(dt(Zt,Zt),dt(4,qt,qt,qt)))),2);var rr=!0,Qt=vt(lr,rr).toArray().map(ur=>ht(ut(Ot,ur,ht(qt,ur)),Rt));return Qt.map(ur=>gt(ur)==="Complex"&&it(bt(ur),bt(ur)+yt(ur))?bt(ur):ur)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(Mt))}}})}),name$17="Help",dependencies$17=["parse"],createHelpClass=factory(name$17,dependencies$17,s=>{var{parse:h}=s;function g(it){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");if(!it)throw new Error('Argument "doc" missing');this.doc=it}return g.prototype.type="Help",g.prototype.isHelp=!0,g.prototype.toString=function(){var it=this.doc||{},ut=`
`;if(it.name&&(ut+="Name: "+it.name+`

`),it.category&&(ut+="Category: "+it.category+`

`),it.description&&(ut+=`Description:
    `+it.description+`

`),it.syntax&&(ut+=`Syntax:
    `+it.syntax.join(`
    `)+`

`),it.examples){ut+=`Examples:
`;for(var ct={},dt=0;dt<it.examples.length;dt++){var ht=it.examples[dt];ut+="    "+ht+`
`;var pt=void 0;try{pt=h(ht).compile().evaluate(ct)}catch(mt){pt=mt}pt!==void 0&&!isHelp(pt)&&(ut+="        "+format$1(pt,{precision:14})+`
`)}ut+=`
`}return it.mayThrow&&it.mayThrow.length&&(ut+="Throws: "+it.mayThrow.join(", ")+`

`),it.seealso&&it.seealso.length&&(ut+="See also: "+it.seealso.join(", ")+`
`),ut},g.prototype.toJSON=function(){var it=clone$3(this.doc);return it.mathjs="Help",it},g.fromJSON=function(it){var ut={};return Object.keys(it).filter(ct=>ct!=="mathjs").forEach(ct=>{ut[ct]=it[ct]}),new g(ut)},g.prototype.valueOf=g.prototype.toString,g},{isClass:!0}),name$16="Chain",dependencies$16=["?on","math","typed"],createChainClass=factory(name$16,dependencies$16,s=>{var{on:h,math:g,typed:it}=s;function ut(mt){if(!(this instanceof ut))throw new SyntaxError("Constructor must be called with the new operator");isChain(mt)?this.value=mt.value:this.value=mt}ut.prototype.type="Chain",ut.prototype.isChain=!0,ut.prototype.done=function(){return this.value},ut.prototype.valueOf=function(){return this.value},ut.prototype.toString=function(){return format$1(this.value)},ut.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},ut.fromJSON=function(mt){return new ut(mt.value)};function ct(mt,vt){typeof vt=="function"&&(ut.prototype[mt]=ht(vt))}function dt(mt,vt){lazy(ut.prototype,mt,function(){var yt=vt();if(typeof yt=="function")return ht(yt)})}function ht(mt){return function(){if(arguments.length===0)return new ut(mt(this.value));for(var vt=[this.value],gt=0;gt<arguments.length;gt++)vt[gt+1]=arguments[gt];if(it.isTypedFunction(mt)){var yt=it.resolve(mt,vt);if(yt.params.length===1)throw new Error("chain function "+mt.name+" cannot match rest parameter between chain value and additional arguments.");return new ut(yt.implementation.apply(mt,vt))}return new ut(mt.apply(mt,vt))}}ut.createProxy=function(mt,vt){if(typeof mt=="string")ct(mt,vt);else{var gt=function(wt){hasOwnProperty$1(mt,wt)&&pt[wt]===void 0&&dt(wt,()=>mt[wt])};for(var yt in mt)gt(yt)}};var pt={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return ut.createProxy(g),h&&h("import",function(mt,vt,gt){gt||dt(mt,vt)}),ut},{isClass:!0}),eDocs={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},falseDocs={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},iDocs={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},InfinityDocs={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN10Docs={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LN2Docs={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LOG10EDocs={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},LOG2EDocs={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},NaNDocs={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},nullDocs={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},phiDocs={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},piDocs={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},SQRT12Docs={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2Docs={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tauDocs={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},trueDocs={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},versionDocs={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},bignumberDocs={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},booleanDocs={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complexDocs={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnitDocs={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fractionDocs={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},indexDocs={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrixDocs={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},numberDocs={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparseDocs={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnitDocs={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},stringDocs={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unitDocs={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},configDocs={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},importDocs={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typedDocs={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},derivativeDocs={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},leafCountDocs={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},lsolveDocs={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAllDocs={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lupDocs={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolveDocs={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},polynomialRootDocs={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},qrDocs={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},rationalizeDocs={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},resolveDocs={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplifyDocs={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstantDocs={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCoreDocs={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},sluDocs={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},symbolicEqualDocs={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},usolveDocs={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAllDocs={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},absDocs={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},addDocs={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrtDocs={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceilDocs={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cubeDocs={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divideDocs={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivideDocs={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiplyDocs={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPowDocs={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},expDocs={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expmDocs={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1Docs={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fixDocs={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floorDocs={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcdDocs={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypotDocs={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},invmodDocs={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax ≣ 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},lcmDocs={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},logDocs={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log10Docs={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},log1pDocs={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log2Docs={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},modDocs={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiplyDocs={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},normDocs={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRootDocs={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRootsDocs={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},powDocs={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},roundDocs={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},signDocs={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrtDocs={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtmDocs={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},sylvesterDocs={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},schurDocs={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},lyapDocs={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},squareDocs={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtractDocs={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinusDocs={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlusDocs={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcdDocs={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},bitAndDocs={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNotDocs={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOrDocs={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXorDocs={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShiftDocs={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShiftDocs={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShiftDocs={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbersDocs={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalanDocs={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},compositionDocs={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2Docs={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},argDocs={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conjDocs={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},imDocs={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},reDocs={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},evaluateDocs={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]},helpDocs={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distanceDocs={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersectDocs={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},andDocs={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},notDocs={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},orDocs={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xorDocs={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},columnDocs={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},concatDocs={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},countDocs={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},crossDocs={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},ctransposeDocs={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},detDocs={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diagDocs={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diffDocs={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},dotDocs={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},eigsDocs={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},filterDocs={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flattenDocs={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEachDocs={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},getMatrixDataTypeDocs={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identityDocs={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},invDocs={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinvDocs={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore–Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},kronDocs={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},mapDocs={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},matrixFromColumnsDocs={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},matrixFromFunctionDocs={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRowsDocs={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},onesDocs={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelectDocs={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},rangeDocs={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},reshapeDocs={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},resizeDocs={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},rotateDocs={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrixDocs={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},rowDocs={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},sizeDocs={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sortDocs={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeezeDocs={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subsetDocs={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},traceDocs={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transposeDocs={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zerosDocs={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fftDocs={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifftDocs={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},combinationsDocs={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRepDocs={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorialDocs={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gammaDocs={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},lgammaDocs={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},kldivergenceDocs={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},multinomialDocs={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutationsDocs={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandomDocs={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},randomDocs={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomIntDocs={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compareDocs={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNaturalDocs={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareTextDocs={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqualDocs={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equalDocs={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalTextDocs={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},largerDocs={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEqDocs={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smallerDocs={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEqDocs={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequalDocs={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesianDocs={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifferenceDocs={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinctDocs={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersectDocs={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubsetDocs={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicityDocs={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowersetDocs={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSizeDocs={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifferenceDocs={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnionDocs={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zpk2tfDocs={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},freqzDocs={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},erfDocs={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},zetaDocs={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},madDocs={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},maxDocs={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},meanDocs={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},medianDocs={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},minDocs={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},modeDocs={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prodDocs={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeqDocs={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},stdDocs={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},cumSumDocs={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},sumDocs={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},varianceDocs={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},corrDocs={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},acosDocs={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acoshDocs={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acotDocs={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acothDocs={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acscDocs={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acschDocs={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asecDocs={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asechDocs={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asinDocs={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinhDocs={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atanDocs={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atan2Docs={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},atanhDocs={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},cosDocs={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},coshDocs={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cotDocs={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},cothDocs={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},cscDocs={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},cschDocs={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},secDocs={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sechDocs={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sinDocs={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinhDocs={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tanDocs={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanhDocs={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},toDocs={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},binDocs={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},cloneDocs={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},formatDocs={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},hasNumericValueDocs={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},hexDocs={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isIntegerDocs={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNaNDocs={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegativeDocs={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumericDocs={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},isPositiveDocs={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrimeDocs={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZeroDocs={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},numericDocs={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]},octDocs={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},printDocs={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $0, $1, $2", [6, 9, 4])'],seealso:["format"]},typeOfDocs={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},solveODEDocs={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},embeddedDocs={bignumber:bignumberDocs,boolean:booleanDocs,complex:complexDocs,createUnit:createUnitDocs,fraction:fractionDocs,index:indexDocs,matrix:matrixDocs,number:numberDocs,sparse:sparseDocs,splitUnit:splitUnitDocs,string:stringDocs,unit:unitDocs,e:eDocs,E:eDocs,false:falseDocs,i:iDocs,Infinity:InfinityDocs,LN2:LN2Docs,LN10:LN10Docs,LOG2E:LOG2EDocs,LOG10E:LOG10EDocs,NaN:NaNDocs,null:nullDocs,pi:piDocs,PI:piDocs,phi:phiDocs,SQRT1_2:SQRT12Docs,SQRT2:SQRT2Docs,tau:tauDocs,true:trueDocs,version:versionDocs,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:derivativeDocs,lsolve:lsolveDocs,lsolveAll:lsolveAllDocs,lup:lupDocs,lusolve:lusolveDocs,leafCount:leafCountDocs,polynomialRoot:polynomialRootDocs,resolve:resolveDocs,simplify:simplifyDocs,simplifyConstant:simplifyConstantDocs,simplifyCore:simplifyCoreDocs,symbolicEqual:symbolicEqualDocs,rationalize:rationalizeDocs,slu:sluDocs,usolve:usolveDocs,usolveAll:usolveAllDocs,qr:qrDocs,abs:absDocs,add:addDocs,cbrt:cbrtDocs,ceil:ceilDocs,cube:cubeDocs,divide:divideDocs,dotDivide:dotDivideDocs,dotMultiply:dotMultiplyDocs,dotPow:dotPowDocs,exp:expDocs,expm:expmDocs,expm1:expm1Docs,fix:fixDocs,floor:floorDocs,gcd:gcdDocs,hypot:hypotDocs,lcm:lcmDocs,log:logDocs,log2:log2Docs,log1p:log1pDocs,log10:log10Docs,mod:modDocs,multiply:multiplyDocs,norm:normDocs,nthRoot:nthRootDocs,nthRoots:nthRootsDocs,pow:powDocs,round:roundDocs,sign:signDocs,sqrt:sqrtDocs,sqrtm:sqrtmDocs,square:squareDocs,subtract:subtractDocs,unaryMinus:unaryMinusDocs,unaryPlus:unaryPlusDocs,xgcd:xgcdDocs,invmod:invmodDocs,bitAnd:bitAndDocs,bitNot:bitNotDocs,bitOr:bitOrDocs,bitXor:bitXorDocs,leftShift:leftShiftDocs,rightArithShift:rightArithShiftDocs,rightLogShift:rightLogShiftDocs,bellNumbers:bellNumbersDocs,catalan:catalanDocs,composition:compositionDocs,stirlingS2:stirlingS2Docs,config:configDocs,import:importDocs,typed:typedDocs,arg:argDocs,conj:conjDocs,re:reDocs,im:imDocs,evaluate:evaluateDocs,help:helpDocs,distance:distanceDocs,intersect:intersectDocs,and:andDocs,not:notDocs,or:orDocs,xor:xorDocs,concat:concatDocs,count:countDocs,cross:crossDocs,column:columnDocs,ctranspose:ctransposeDocs,det:detDocs,diag:diagDocs,diff:diffDocs,dot:dotDocs,getMatrixDataType:getMatrixDataTypeDocs,identity:identityDocs,filter:filterDocs,flatten:flattenDocs,forEach:forEachDocs,inv:invDocs,pinv:pinvDocs,eigs:eigsDocs,kron:kronDocs,matrixFromFunction:matrixFromFunctionDocs,matrixFromRows:matrixFromRowsDocs,matrixFromColumns:matrixFromColumnsDocs,map:mapDocs,ones:onesDocs,partitionSelect:partitionSelectDocs,range:rangeDocs,resize:resizeDocs,reshape:reshapeDocs,rotate:rotateDocs,rotationMatrix:rotationMatrixDocs,row:rowDocs,size:sizeDocs,sort:sortDocs,squeeze:squeezeDocs,subset:subsetDocs,trace:traceDocs,transpose:transposeDocs,zeros:zerosDocs,fft:fftDocs,ifft:ifftDocs,sylvester:sylvesterDocs,schur:schurDocs,lyap:lyapDocs,solveODE:solveODEDocs,combinations:combinationsDocs,combinationsWithRep:combinationsWithRepDocs,factorial:factorialDocs,gamma:gammaDocs,kldivergence:kldivergenceDocs,lgamma:lgammaDocs,multinomial:multinomialDocs,permutations:permutationsDocs,pickRandom:pickRandomDocs,random:randomDocs,randomInt:randomIntDocs,compare:compareDocs,compareNatural:compareNaturalDocs,compareText:compareTextDocs,deepEqual:deepEqualDocs,equal:equalDocs,equalText:equalTextDocs,larger:largerDocs,largerEq:largerEqDocs,smaller:smallerDocs,smallerEq:smallerEqDocs,unequal:unequalDocs,setCartesian:setCartesianDocs,setDifference:setDifferenceDocs,setDistinct:setDistinctDocs,setIntersect:setIntersectDocs,setIsSubset:setIsSubsetDocs,setMultiplicity:setMultiplicityDocs,setPowerset:setPowersetDocs,setSize:setSizeDocs,setSymDifference:setSymDifferenceDocs,setUnion:setUnionDocs,zpk2tf:zpk2tfDocs,freqz:freqzDocs,erf:erfDocs,zeta:zetaDocs,cumsum:cumSumDocs,mad:madDocs,max:maxDocs,mean:meanDocs,median:medianDocs,min:minDocs,mode:modeDocs,prod:prodDocs,quantileSeq:quantileSeqDocs,std:stdDocs,sum:sumDocs,variance:varianceDocs,corr:corrDocs,acos:acosDocs,acosh:acoshDocs,acot:acotDocs,acoth:acothDocs,acsc:acscDocs,acsch:acschDocs,asec:asecDocs,asech:asechDocs,asin:asinDocs,asinh:asinhDocs,atan:atanDocs,atanh:atanhDocs,atan2:atan2Docs,cos:cosDocs,cosh:coshDocs,cot:cotDocs,coth:cothDocs,csc:cscDocs,csch:cschDocs,sec:secDocs,sech:sechDocs,sin:sinDocs,sinh:sinhDocs,tan:tanDocs,tanh:tanhDocs,to:toDocs,clone:cloneDocs,format:formatDocs,bin:binDocs,oct:octDocs,hex:hexDocs,isNaN:isNaNDocs,isInteger:isIntegerDocs,isNegative:isNegativeDocs,isNumeric:isNumericDocs,hasNumericValue:hasNumericValueDocs,isPositive:isPositiveDocs,isPrime:isPrimeDocs,isZero:isZeroDocs,print:printDocs,typeOf:typeOfDocs,numeric:numericDocs},name$15="help",dependencies$15=["typed","mathWithTransform","Help"],createHelp=factory(name$15,dependencies$15,s=>{var{typed:h,mathWithTransform:g,Help:it}=s;return h(name$15,{any:function(ct){var dt,ht=ct;if(typeof ct!="string"){for(dt in g)if(hasOwnProperty$1(g,dt)&&ct===g[dt]){ht=dt;break}}var pt=getSafeProperty(embeddedDocs,ht);if(!pt){var mt=typeof ht=="function"?ht.name:ht;throw new Error('No documentation found on "'+mt+'"')}return new it(pt)}})}),name$14="chain",dependencies$14=["typed","Chain"],createChain=factory(name$14,dependencies$14,s=>{var{typed:h,Chain:g}=s;return h(name$14,{"":function(){return new g},any:function(ut){return new g(ut)}})}),name$13="det",dependencies$13=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],createDet=factory(name$13,dependencies$13,s=>{var{typed:h,matrix:g,subtract:it,multiply:ut,divideScalar:ct,isZero:dt,unaryMinus:ht}=s;return h(name$13,{any:function(vt){return clone$3(vt)},"Array | Matrix":function(vt){var gt;switch(isMatrix(vt)?gt=vt.size():Array.isArray(vt)?(vt=g(vt),gt=vt.size()):gt=[],gt.length){case 0:return clone$3(vt);case 1:if(gt[0]===1)return clone$3(vt.valueOf()[0]);if(gt[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+format$1(gt)+")");case 2:{var yt=gt[0],bt=gt[1];if(yt===bt)return pt(vt.clone().valueOf(),yt);if(bt===0)return 1;throw new RangeError("Matrix must be square (size: "+format$1(gt)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+format$1(gt)+")")}}});function pt(mt,vt,gt){if(vt===1)return clone$3(mt[0][0]);if(vt===2)return it(ut(mt[0][0],mt[1][1]),ut(mt[1][0],mt[0][1]));for(var yt=!1,bt=new Array(vt).fill(0).map((Bt,Ft)=>Ft),wt=0;wt<vt;wt++){var Et=bt[wt];if(dt(mt[Et][wt])){var Mt=void 0;for(Mt=wt+1;Mt<vt;Mt++)if(!dt(mt[bt[Mt]][wt])){Et=bt[Mt],bt[Mt]=bt[wt],bt[wt]=Et,yt=!yt;break}if(Mt===vt)return mt[Et][wt]}for(var Dt=mt[Et][wt],$t=wt===0?1:mt[bt[wt-1]][wt-1],_t=wt+1;_t<vt;_t++)for(var Nt=bt[_t],kt=wt+1;kt<vt;kt++)mt[Nt][kt]=ct(it(ut(mt[Nt][kt],Dt),ut(mt[Nt][wt],mt[Et][kt])),$t)}var At=mt[bt[vt-1]][vt-1];return yt?ht(At):At}}),name$12="inv",dependencies$12=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],createInv=factory(name$12,dependencies$12,s=>{var{typed:h,matrix:g,divideScalar:it,addScalar:ut,multiply:ct,unaryMinus:dt,det:ht,identity:pt,abs:mt}=s;return h(name$12,{"Array | Matrix":function(yt){var bt=isMatrix(yt)?yt.size():arraySize(yt);switch(bt.length){case 1:if(bt[0]===1)return isMatrix(yt)?g([it(1,yt.valueOf()[0])]):[it(1,yt[0])];throw new RangeError("Matrix must be square (size: "+format$1(bt)+")");case 2:{var wt=bt[0],Et=bt[1];if(wt===Et)return isMatrix(yt)?g(vt(yt.valueOf(),wt,Et),yt.storage()):vt(yt,wt,Et);throw new RangeError("Matrix must be square (size: "+format$1(bt)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+format$1(bt)+")")}},any:function(yt){return it(1,yt)}});function vt(gt,yt,bt){var wt,Et,Mt,Dt,$t;if(yt===1){if(Dt=gt[0][0],Dt===0)throw Error("Cannot calculate inverse, determinant is zero");return[[it(1,Dt)]]}else if(yt===2){var _t=ht(gt);if(_t===0)throw Error("Cannot calculate inverse, determinant is zero");return[[it(gt[1][1],_t),it(dt(gt[0][1]),_t)],[it(dt(gt[1][0]),_t),it(gt[0][0],_t)]]}else{var Nt=gt.concat();for(wt=0;wt<yt;wt++)Nt[wt]=Nt[wt].concat();for(var kt=pt(yt).valueOf(),At=0;At<bt;At++){var Bt=mt(Nt[At][At]),Ft=At;for(wt=At+1;wt<yt;)mt(Nt[wt][At])>Bt&&(Bt=mt(Nt[wt][At]),Ft=wt),wt++;if(Bt===0)throw Error("Cannot calculate inverse, determinant is zero");wt=Ft,wt!==At&&($t=Nt[At],Nt[At]=Nt[wt],Nt[wt]=$t,$t=kt[At],kt[At]=kt[wt],kt[wt]=$t);var Lt=Nt[At],Ot=kt[At];for(wt=0;wt<yt;wt++){var It=Nt[wt],Rt=kt[wt];if(wt!==At){if(It[At]!==0){for(Mt=it(dt(It[At]),Lt[At]),Et=At;Et<bt;Et++)It[Et]=ut(It[Et],ct(Mt,Lt[Et]));for(Et=0;Et<bt;Et++)Rt[Et]=ut(Rt[Et],ct(Mt,Ot[Et]))}}else{for(Mt=Lt[At],Et=At;Et<bt;Et++)It[Et]=it(It[Et],Mt);for(Et=0;Et<bt;Et++)Rt[Et]=it(Rt[Et],Mt)}}}return kt}}}),name$11="pinv",dependencies$11=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],createPinv=factory(name$11,dependencies$11,s=>{var{typed:h,matrix:g,inv:it,deepEqual:ut,equal:ct,dotDivide:dt,dot:ht,ctranspose:pt,divideScalar:mt,multiply:vt,add:gt,Complex:yt}=s;return h(name$11,{"Array | Matrix":function(_t){var Nt=isMatrix(_t)?_t.size():arraySize(_t);switch(Nt.length){case 1:return Dt(_t)?pt(_t):Nt[0]===1?it(_t):dt(pt(_t),ht(_t,_t));case 2:{if(Dt(_t))return pt(_t);var kt=Nt[0],At=Nt[1];if(kt===At)try{return it(_t)}catch(Bt){if(!(Bt instanceof Error&&Bt.message.match(/Cannot calculate inverse, determinant is zero/)))throw Bt}return isMatrix(_t)?g(bt(_t.valueOf(),kt,At),_t.storage()):bt(_t,kt,At)}default:throw new RangeError("Matrix must be two dimensional (size: "+format$1(Nt)+")")}},any:function(_t){return ct(_t,0)?clone$3(_t):mt(1,_t)}});function bt($t,_t,Nt){var{C:kt,F:At}=Et($t,_t,Nt),Bt=vt(it(vt(pt(kt),kt)),pt(kt)),Ft=vt(pt(At),it(vt(At,pt(At))));return vt(Ft,Bt)}function wt($t,_t,Nt){for(var kt=clone$3($t),At=0,Bt=0;Bt<_t;Bt++){if(Nt<=At)return kt;for(var Ft=Bt;Mt(kt[Ft][At]);)if(Ft++,_t===Ft&&(Ft=Bt,At++,Nt===At))return kt;[kt[Ft],kt[Bt]]=[kt[Bt],kt[Ft]];for(var Lt=kt[Bt][At],Ot=0;Ot<Nt;Ot++)kt[Bt][Ot]=dt(kt[Bt][Ot],Lt);for(var It=0;It<_t;It++)if(It!==Bt){Lt=kt[It][At];for(var Rt=0;Rt<Nt;Rt++)kt[It][Rt]=gt(kt[It][Rt],vt(-1,vt(Lt,kt[Bt][Rt])))}At++}return kt}function Et($t,_t,Nt){var kt=wt($t,_t,Nt),At=$t.map((Ft,Lt)=>Ft.filter((Ot,It)=>It<_t&&!Mt(ht(kt[It],kt[It])))),Bt=kt.filter((Ft,Lt)=>!Mt(ht(kt[Lt],kt[Lt])));return{C:At,F:Bt}}function Mt($t){return ct(gt($t,yt(1,1)),gt(0,yt(1,1)))}function Dt($t){return ut(gt($t,yt(1,1)),gt(vt($t,0),yt(1,1)))}});function createComplexEigs(s){var{addScalar:h,subtract:g,flatten:it,multiply:ut,multiplyScalar:ct,divideScalar:dt,sqrt:ht,abs:pt,bignumber:mt,diag:vt,inv:gt,qr:yt,usolve:bt,usolveAll:wt,equal:Et,complex:Mt,larger:Dt,smaller:$t,matrixFromColumns:_t,dot:Nt}=s;function kt(Yt,lr,rr,Qt,ur){ur===void 0&&(ur=!0);var wr=At(Yt,lr,rr,Qt,ur);Bt(Yt,lr,rr,Qt,ur,wr);var{values:vr,C:Dr}=Ft(Yt,lr,rr,Qt,ur),Or;return ur&&(Or=Lt(Yt,lr,Dr,wr,vr,rr,Qt),Or=_t(...Or)),{values:vr,vectors:Or}}function At(Yt,lr,rr,Qt,ur){var wr=Qt==="BigNumber",vr=Qt==="Complex",Dr=wr?mt(0):0,Or=wr?mt(1):vr?Mt(1):1,Mr=wr?mt(1):1,dr=wr?mt(10):2,_r=ct(dr,dr),zr;ur&&(zr=Array(lr).fill(Or));for(var yr=!1;!yr;){yr=!0;for(var Lr=0;Lr<lr;Lr++){for(var tr=Dr,ir=Dr,br=0;br<lr;br++)if(Lr!==br){var nr=pt(Yt[Lr][br]);tr=h(tr,nr),ir=h(ir,nr)}if(!Et(tr,0)&&!Et(ir,0)){for(var cr=Mr,gr=tr,Sr=dt(ir,dr),kr=ct(ir,dr);$t(gr,Sr);)gr=ct(gr,_r),cr=ct(cr,dr);for(;Dt(gr,kr);)gr=dt(gr,_r),cr=dt(cr,dr);var er=$t(dt(h(gr,ir),cr),ct(h(tr,ir),.95));if(er){yr=!1;for(var ar=dt(1,cr),xr=0;xr<lr;xr++)Lr!==xr&&(Yt[Lr][xr]=ct(Yt[Lr][xr],cr),Yt[xr][Lr]=ct(Yt[xr][Lr],ar));ur&&(zr[Lr]=ct(zr[Lr],cr))}}}}return vt(zr)}function Bt(Yt,lr,rr,Qt,ur,wr){var vr=Qt==="BigNumber",Dr=Qt==="Complex",Or=vr?mt(0):Dr?Mt(0):0;vr&&(rr=mt(rr));for(var Mr=0;Mr<lr-2;Mr++){for(var dr=0,_r=Or,zr=Mr+1;zr<lr;zr++){var yr=Yt[zr][Mr];$t(pt(_r),pt(yr))&&(_r=yr,dr=zr)}if(!$t(pt(_r),rr)){if(dr!==Mr+1){var Lr=Yt[dr];Yt[dr]=Yt[Mr+1],Yt[Mr+1]=Lr;for(var tr=0;tr<lr;tr++){var ir=Yt[tr][dr];Yt[tr][dr]=Yt[tr][Mr+1],Yt[tr][Mr+1]=ir}if(ur){var br=wr[dr];wr[dr]=wr[Mr+1],wr[Mr+1]=br}}for(var nr=Mr+2;nr<lr;nr++){var cr=dt(Yt[nr][Mr],_r);if(cr!==0){for(var gr=0;gr<lr;gr++)Yt[nr][gr]=g(Yt[nr][gr],ct(cr,Yt[Mr+1][gr]));for(var Sr=0;Sr<lr;Sr++)Yt[Sr][Mr+1]=h(Yt[Sr][Mr+1],ct(cr,Yt[Sr][nr]));if(ur)for(var kr=0;kr<lr;kr++)wr[nr][kr]=g(wr[nr][kr],ct(cr,wr[Mr+1][kr]))}}}}return wr}function Ft(Yt,lr,rr,Qt,ur){var wr=Qt==="BigNumber",vr=Qt==="Complex",Dr=wr?mt(1):vr?Mt(1):1;wr&&(rr=mt(rr));for(var Or=clone$3(Yt),Mr=[],dr=lr,_r=[],zr=ur?vt(Array(lr).fill(Dr)):void 0,yr=ur?vt(Array(dr).fill(Dr)):void 0,Lr=0;Lr<=100;){Lr+=1;for(var tr=0,ir=0;ir<dr;ir++)Or[ir][ir]=g(Or[ir][ir],tr);var{Q:br,R:nr}=yt(Or);Or=ut(nr,br);for(var cr=0;cr<dr;cr++)Or[cr][cr]=h(Or[cr][cr],tr);if(ur&&(yr=ut(yr,br)),dr===1||$t(pt(Or[dr-1][dr-2]),rr)){Lr=0,Mr.push(Or[dr-1][dr-1]),ur&&(_r.unshift([[1]]),Rt(yr,lr),zr=ut(zr,yr),dr>1&&(yr=vt(Array(dr-1).fill(Dr)))),dr-=1,Or.pop();for(var gr=0;gr<dr;gr++)Or[gr].pop()}else if(dr===2||$t(pt(Or[dr-2][dr-3]),rr)){Lr=0;var Sr=Ot(Or[dr-2][dr-2],Or[dr-2][dr-1],Or[dr-1][dr-2],Or[dr-1][dr-1]);Mr.push(...Sr),ur&&(_r.unshift(It(Or[dr-2][dr-2],Or[dr-2][dr-1],Or[dr-1][dr-2],Or[dr-1][dr-1],Sr[0],Sr[1],rr,Qt)),Rt(yr,lr),zr=ut(zr,yr),dr>2&&(yr=vt(Array(dr-2).fill(Dr)))),dr-=2,Or.pop(),Or.pop();for(var kr=0;kr<dr;kr++)Or[kr].pop(),Or[kr].pop()}if(dr===0)break}if(Mr.sort((xr,Tr)=>+g(pt(xr),pt(Tr))),Lr>100){var er=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+Mr.join(", "));throw er.values=Mr,er.vectors=[],er}var ar=ur?ut(zr,Vt(_r,lr)):void 0;return{values:Mr,C:ar}}function Lt(Yt,lr,rr,Qt,ur,wr,vr){var Dr=gt(rr),Or=ut(Dr,Yt,rr),Mr=vr==="BigNumber",dr=vr==="Complex",_r=Mr?mt(0):dr?Mt(0):0,zr=Mr?mt(1):dr?Mt(1):1,yr=[],Lr=[];for(var tr of ur){var ir=Xt(yr,tr,Et);ir===-1?(yr.push(tr),Lr.push(1)):Lr[ir]+=1}for(var br=[],nr=yr.length,cr=Array(lr).fill(_r),gr=vt(Array(lr).fill(zr)),Sr=[],kr=function(){var Tr=yr[er],Fr=g(Or,ut(Tr,gr)),Er=wt(Fr,cr);for(Er.shift();Er.length<Lr[er];){var jr=Wt(Fr,lr,Er,wr,vr);if(jr==null){Sr.push(Tr);break}Er.push(jr)}var Kr=ut(gt(Qt),rr);Er=Er.map(Xr=>ut(Kr,Xr)),br.push(...Er.map(Xr=>it(Xr)))},er=0;er<nr;er++)kr();if(Sr.length!==0){var ar=new Error("Failed to find eigenvectors for the following eigenvalues: "+Sr.join(", "));throw ar.values=ur,ar.vectors=br,ar}return br}function Ot(Yt,lr,rr,Qt){var ur=h(Yt,Qt),wr=g(ct(Yt,Qt),ct(lr,rr)),vr=ct(ur,.5),Dr=ct(ht(g(ct(ur,ur),ct(4,wr))),.5);return[h(vr,Dr),g(vr,Dr)]}function It(Yt,lr,rr,Qt,ur,wr,vr,Dr){var Or=Dr==="BigNumber",Mr=Dr==="Complex",dr=Or?mt(0):Mr?Mt(0):0,_r=Or?mt(1):Mr?Mt(1):1;if($t(pt(rr),vr))return[[_r,dr],[dr,_r]];if(Dt(pt(g(ur,wr)),vr))return[[g(ur,Qt),g(wr,Qt)],[rr,rr]];var zr=g(Yt,ur),yr=g(lr,ur),Lr=g(rr,ur),tr=g(Qt,ur);return $t(pt(yr),vr)?[[zr,_r],[Lr,dr]]:[[yr,dr],[tr,_r]]}function Rt(Yt,lr){for(var rr=0;rr<Yt.length;rr++)Yt[rr].push(...Array(lr-Yt[rr].length).fill(0));for(var Qt=Yt.length;Qt<lr;Qt++)Yt.push(Array(lr).fill(0)),Yt[Qt][Qt]=1;return Yt}function Vt(Yt,lr){for(var rr=[],Qt=0;Qt<lr;Qt++)rr[Qt]=Array(lr).fill(0);var ur=0;for(var wr of Yt){for(var vr=wr.length,Dr=0;Dr<vr;Dr++)for(var Or=0;Or<vr;Or++)rr[ur+Dr][ur+Or]=wr[Dr][Or];ur+=vr}return rr}function Xt(Yt,lr,rr){for(var Qt=0;Qt<Yt.length;Qt++)if(rr(Yt[Qt],lr))return Qt;return-1}function Wt(Yt,lr,rr,Qt,ur){for(var wr=ur==="BigNumber"?mt(1e3):1e3,vr,Dr=0;vr=jt(lr,rr,ur),vr=bt(Yt,vr),!Dt(Zt(vr),wr);)if(++Dr>=5)return null;for(Dr=0;;){var Or=bt(Yt,vr);if($t(Zt(qt(vr,[Or])),Qt))break;if(++Dr>=10)return null;vr=Ut(Or)}return vr}function jt(Yt,lr,rr){var Qt=rr==="BigNumber",ur=rr==="Complex",wr=Array(Yt).fill(0).map(vr=>2*Math.random()-1);return Qt&&(wr=wr.map(vr=>mt(vr))),ur&&(wr=wr.map(vr=>Mt(vr))),wr=qt(wr,lr),Ut(wr,rr)}function qt(Yt,lr){for(var rr of lr)Yt=g(Yt,ut(dt(Nt(rr,Yt),Nt(rr,rr)),rr));return Yt}function Zt(Yt){return pt(ht(Nt(Yt,Yt)))}function Ut(Yt,lr){var rr=lr==="BigNumber",Qt=lr==="Complex",ur=rr?mt(1):Qt?Mt(1):1;return ut(dt(ur,Zt(Yt)),Yt)}return kt}function createRealSymmetric(s){var{config:h,addScalar:g,subtract:it,abs:ut,atan:ct,cos:dt,sin:ht,multiplyScalar:pt,inv:mt,bignumber:vt,multiply:gt,add:yt}=s;function bt(Ot,It){var Rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.epsilon,Vt=arguments.length>3?arguments[3]:void 0;if(Vt==="number")return wt(Ot,Rt);if(Vt==="BigNumber")return Et(Ot,Rt);throw TypeError("Unsupported data type: "+Vt)}function wt(Ot,It){for(var Rt=Ot.length,Vt=Math.abs(It/Rt),Xt,Wt=new Array(Rt),jt=0;jt<Rt;jt++)Wt[jt]=Lt(Rt,0),Wt[jt][jt]=1;for(var qt=At(Ot);Math.abs(qt[1])>=Math.abs(Vt);){var Zt=qt[0][0],Ut=qt[0][1];Xt=Mt(Ot[Zt][Zt],Ot[Ut][Ut],Ot[Zt][Ut]),Ot=kt(Ot,Xt,Zt,Ut),Wt=$t(Wt,Xt,Zt,Ut),qt=At(Ot)}for(var Yt=Lt(Rt,0),lr=0;lr<Rt;lr++)Yt[lr]=Ot[lr][lr];return Ft(clone$3(Yt),clone$3(Wt))}function Et(Ot,It){for(var Rt=Ot.length,Vt=ut(It/Rt),Xt,Wt=new Array(Rt),jt=0;jt<Rt;jt++)Wt[jt]=Lt(Rt,0),Wt[jt][jt]=1;for(var qt=Bt(Ot);ut(qt[1])>=ut(Vt);){var Zt=qt[0][0],Ut=qt[0][1];Xt=Dt(Ot[Zt][Zt],Ot[Ut][Ut],Ot[Zt][Ut]),Ot=Nt(Ot,Xt,Zt,Ut),Wt=_t(Wt,Xt,Zt,Ut),qt=Bt(Ot)}for(var Yt=Lt(Rt,0),lr=0;lr<Rt;lr++)Yt[lr]=Ot[lr][lr];return Ft(clone$3(Yt),clone$3(Wt))}function Mt(Ot,It,Rt){var Vt=It-Ot;return Math.abs(Vt)<=h.epsilon?Math.PI/4:.5*Math.atan(2*Rt/(It-Ot))}function Dt(Ot,It,Rt){var Vt=it(It,Ot);return ut(Vt)<=h.epsilon?vt(-1).acos().div(4):pt(.5,ct(gt(2,Rt,mt(Vt))))}function $t(Ot,It,Rt,Vt){for(var Xt=Ot.length,Wt=Math.cos(It),jt=Math.sin(It),qt=Lt(Xt,0),Zt=Lt(Xt,0),Ut=0;Ut<Xt;Ut++)qt[Ut]=Wt*Ot[Ut][Rt]-jt*Ot[Ut][Vt],Zt[Ut]=jt*Ot[Ut][Rt]+Wt*Ot[Ut][Vt];for(var Yt=0;Yt<Xt;Yt++)Ot[Yt][Rt]=qt[Yt],Ot[Yt][Vt]=Zt[Yt];return Ot}function _t(Ot,It,Rt,Vt){for(var Xt=Ot.length,Wt=dt(It),jt=ht(It),qt=Lt(Xt,vt(0)),Zt=Lt(Xt,vt(0)),Ut=0;Ut<Xt;Ut++)qt[Ut]=it(pt(Wt,Ot[Ut][Rt]),pt(jt,Ot[Ut][Vt])),Zt[Ut]=g(pt(jt,Ot[Ut][Rt]),pt(Wt,Ot[Ut][Vt]));for(var Yt=0;Yt<Xt;Yt++)Ot[Yt][Rt]=qt[Yt],Ot[Yt][Vt]=Zt[Yt];return Ot}function Nt(Ot,It,Rt,Vt){for(var Xt=Ot.length,Wt=vt(dt(It)),jt=vt(ht(It)),qt=pt(Wt,Wt),Zt=pt(jt,jt),Ut=Lt(Xt,vt(0)),Yt=Lt(Xt,vt(0)),lr=gt(vt(2),Wt,jt,Ot[Rt][Vt]),rr=g(it(pt(qt,Ot[Rt][Rt]),lr),pt(Zt,Ot[Vt][Vt])),Qt=yt(pt(Zt,Ot[Rt][Rt]),lr,pt(qt,Ot[Vt][Vt])),ur=0;ur<Xt;ur++)Ut[ur]=it(pt(Wt,Ot[Rt][ur]),pt(jt,Ot[Vt][ur])),Yt[ur]=g(pt(jt,Ot[Rt][ur]),pt(Wt,Ot[Vt][ur]));Ot[Rt][Rt]=rr,Ot[Vt][Vt]=Qt,Ot[Rt][Vt]=vt(0),Ot[Vt][Rt]=vt(0);for(var wr=0;wr<Xt;wr++)wr!==Rt&&wr!==Vt&&(Ot[Rt][wr]=Ut[wr],Ot[wr][Rt]=Ut[wr],Ot[Vt][wr]=Yt[wr],Ot[wr][Vt]=Yt[wr]);return Ot}function kt(Ot,It,Rt,Vt){for(var Xt=Ot.length,Wt=Math.cos(It),jt=Math.sin(It),qt=Wt*Wt,Zt=jt*jt,Ut=Lt(Xt,0),Yt=Lt(Xt,0),lr=qt*Ot[Rt][Rt]-2*Wt*jt*Ot[Rt][Vt]+Zt*Ot[Vt][Vt],rr=Zt*Ot[Rt][Rt]+2*Wt*jt*Ot[Rt][Vt]+qt*Ot[Vt][Vt],Qt=0;Qt<Xt;Qt++)Ut[Qt]=Wt*Ot[Rt][Qt]-jt*Ot[Vt][Qt],Yt[Qt]=jt*Ot[Rt][Qt]+Wt*Ot[Vt][Qt];Ot[Rt][Rt]=lr,Ot[Vt][Vt]=rr,Ot[Rt][Vt]=0,Ot[Vt][Rt]=0;for(var ur=0;ur<Xt;ur++)ur!==Rt&&ur!==Vt&&(Ot[Rt][ur]=Ut[ur],Ot[ur][Rt]=Ut[ur],Ot[Vt][ur]=Yt[ur],Ot[ur][Vt]=Yt[ur]);return Ot}function At(Ot){for(var It=Ot.length,Rt=0,Vt=[0,1],Xt=0;Xt<It;Xt++)for(var Wt=Xt+1;Wt<It;Wt++)Math.abs(Rt)<Math.abs(Ot[Xt][Wt])&&(Rt=Math.abs(Ot[Xt][Wt]),Vt=[Xt,Wt]);return[Vt,Rt]}function Bt(Ot){for(var It=Ot.length,Rt=0,Vt=[0,1],Xt=0;Xt<It;Xt++)for(var Wt=Xt+1;Wt<It;Wt++)ut(Rt)<ut(Ot[Xt][Wt])&&(Rt=ut(Ot[Xt][Wt]),Vt=[Xt,Wt]);return[Vt,Rt]}function Ft(Ot,It){for(var Rt=Ot.length,Vt=Array(Rt),Xt=Array(Rt),Wt=0;Wt<Rt;Wt++)Xt[Wt]=Array(Rt);for(var jt=0;jt<Rt;jt++){for(var qt=0,Zt=Ot[0],Ut=0;Ut<Ot.length;Ut++)ut(Ot[Ut])<ut(Zt)&&(qt=Ut,Zt=Ot[qt]);Vt[jt]=Ot.splice(qt,1)[0];for(var Yt=0;Yt<Rt;Yt++)Xt[Yt][jt]=It[Yt][qt],It[Yt].splice(qt,1)}return{values:Vt,vectors:Xt}}function Lt(Ot,It){for(var Rt=new Array(Ot),Vt=0;Vt<Ot;Vt++)Rt[Vt]=It;return Rt}return bt}var name$10="eigs",dependencies$10=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],createEigs=factory(name$10,dependencies$10,s=>{var{config:h,typed:g,matrix:it,addScalar:ut,subtract:ct,equal:dt,abs:ht,atan:pt,cos:mt,sin:vt,multiplyScalar:gt,divideScalar:yt,inv:bt,bignumber:wt,multiply:Et,add:Mt,larger:Dt,column:$t,flatten:_t,number:Nt,complex:kt,sqrt:At,diag:Bt,qr:Ft,usolve:Lt,usolveAll:Ot,im:It,re:Rt,smaller:Vt,matrixFromColumns:Xt,dot:Wt}=s,jt=createRealSymmetric({config:h,addScalar:ut,subtract:ct,column:$t,flatten:_t,equal:dt,abs:ht,atan:pt,cos:mt,sin:vt,multiplyScalar:gt,inv:bt,bignumber:wt,complex:kt,multiply:Et,add:Mt}),qt=createComplexEigs({config:h,addScalar:ut,subtract:ct,multiply:Et,multiplyScalar:gt,flatten:_t,divideScalar:yt,sqrt:At,abs:ht,bignumber:wt,diag:Bt,qr:Ft,inv:bt,usolve:Lt,usolveAll:Ot,equal:dt,complex:kt,larger:Dt,smaller:Vt,matrixFromColumns:Xt,dot:Wt});return g("eigs",{Array:function(ur){var wr=it(ur);return Zt(wr)},"Array, number|BigNumber":function(ur,wr){var vr=it(ur);return Zt(vr,wr)},Matrix:function(ur){var{values:wr,vectors:vr}=Zt(ur);return{values:it(wr),vectors:it(vr)}},"Matrix, number|BigNumber":function(ur,wr){var{values:vr,vectors:Dr}=Zt(ur,wr);return{values:it(vr),vectors:it(Dr)}}});function Zt(Qt,ur){ur===void 0&&(ur=h.epsilon);var wr=Qt.size();if(wr.length!==2||wr[0]!==wr[1])throw new RangeError("Matrix must be square (size: "+format$1(wr)+")");var vr=Qt.toArray(),Dr=wr[0];if(Yt(vr,Dr,ur)&&(lr(vr,Dr),Ut(vr,Dr,ur))){var Or=rr(Qt,vr,Dr);return jt(vr,Dr,ur,Or)}var Mr=rr(Qt,vr,Dr);return qt(vr,Dr,ur,Mr)}function Ut(Qt,ur,wr){for(var vr=0;vr<ur;vr++)for(var Dr=vr;Dr<ur;Dr++)if(Dt(wt(ht(ct(Qt[vr][Dr],Qt[Dr][vr]))),wr))return!1;return!0}function Yt(Qt,ur,wr){for(var vr=0;vr<ur;vr++)for(var Dr=0;Dr<ur;Dr++)if(Dt(wt(ht(It(Qt[vr][Dr]))),wr))return!1;return!0}function lr(Qt,ur){for(var wr=0;wr<ur;wr++)for(var vr=0;vr<ur;vr++)Qt[wr][vr]=Rt(Qt[wr][vr])}function rr(Qt,ur,wr){var vr=Qt.datatype();if(vr==="number"||vr==="BigNumber"||vr==="Complex")return vr;for(var Dr=!1,Or=!1,Mr=!1,dr=0;dr<wr;dr++)for(var _r=0;_r<wr;_r++){var zr=ur[dr][_r];if(isNumber(zr)||isFraction(zr))Dr=!0;else if(isBigNumber(zr))Or=!0;else if(isComplex(zr))Mr=!0;else throw TypeError("Unsupported type in Matrix: "+typeOf$1(zr))}if(Or&&Mr&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),Mr){for(var yr=0;yr<wr;yr++)for(var Lr=0;Lr<wr;Lr++)ur[yr][Lr]=kt(ur[yr][Lr]);return"Complex"}if(Or){for(var tr=0;tr<wr;tr++)for(var ir=0;ir<wr;ir++)ur[tr][ir]=wt(ur[tr][ir]);return"BigNumber"}if(Dr){for(var br=0;br<wr;br++)for(var nr=0;nr<wr;nr++)ur[br][nr]=Nt(ur[br][nr]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),name$$="expm",dependencies$$=["typed","abs","add","identity","inv","multiply"],createExpm=factory(name$$,dependencies$$,s=>{var{typed:h,abs:g,add:it,identity:ut,inv:ct,multiply:dt}=s;return h(name$$,{Matrix:function(gt){var yt=gt.size();if(yt.length!==2||yt[0]!==yt[1])throw new RangeError("Matrix must be square (size: "+format$1(yt)+")");for(var bt=yt[0],wt=1e-15,Et=ht(gt),Mt=pt(Et,wt),Dt=Mt.q,$t=Mt.j,_t=dt(gt,Math.pow(2,-$t)),Nt=ut(bt),kt=ut(bt),At=1,Bt=_t,Ft=-1,Lt=1;Lt<=Dt;Lt++)Lt>1&&(Bt=dt(Bt,_t),Ft=-Ft),At=At*(Dt-Lt+1)/((2*Dt-Lt+1)*Lt),Nt=it(Nt,dt(At,Bt)),kt=it(kt,dt(At*Ft,Bt));for(var Ot=dt(ct(kt),Nt),It=0;It<$t;It++)Ot=dt(Ot,Ot);return isSparseMatrix(gt)?gt.createSparseMatrix(Ot):Ot}});function ht(vt){for(var gt=vt.size()[0],yt=0,bt=0;bt<gt;bt++){for(var wt=0,Et=0;Et<gt;Et++)wt+=g(vt.get([bt,Et]));yt=Math.max(wt,yt)}return yt}function pt(vt,gt){for(var yt=30,bt=0;bt<yt;bt++)for(var wt=0;wt<=bt;wt++){var Et=bt-wt;if(mt(vt,wt,Et)<gt)return{q:wt,j:Et}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function mt(vt,gt,yt){for(var bt=1,wt=2;wt<=gt;wt++)bt*=wt;for(var Et=bt,Mt=gt+1;Mt<=2*gt;Mt++)Et*=Mt;var Dt=Et*(2*gt+1);return 8*Math.pow(vt/Math.pow(2,yt),2*gt)*bt*bt/(Et*Dt)}}),name$_="sqrtm",dependencies$_=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],createSqrtm=factory(name$_,dependencies$_,s=>{var{typed:h,abs:g,add:it,multiply:ut,map:ct,sqrt:dt,subtract:ht,inv:pt,size:mt,max:vt,identity:gt}=s,yt=1e3,bt=1e-6;function wt(Et){var Mt,Dt=0,$t=Et,_t=gt(mt(Et));do{var Nt=$t;if($t=ut(.5,it(Nt,pt(_t))),_t=ut(.5,it(_t,pt(Nt))),Mt=vt(g(ht($t,Nt))),Mt>bt&&++Dt>yt)throw new Error("computing square root of matrix: iterative method could not converge")}while(Mt>bt);return $t}return h(name$_,{"Array | Matrix":function(Mt){var Dt=isMatrix(Mt)?Mt.size():arraySize(Mt);switch(Dt.length){case 1:if(Dt[0]===1)return ct(Mt,dt);throw new RangeError("Matrix must be square (size: "+format$1(Dt)+")");case 2:{var $t=Dt[0],_t=Dt[1];if($t===_t)return wt(Mt);throw new RangeError("Matrix must be square (size: "+format$1(Dt)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+format$1(Dt)+")")}}})}),name$Z="sylvester",dependencies$Z=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],createSylvester=factory(name$Z,dependencies$Z,s=>{var{typed:h,schur:g,matrixFromColumns:it,matrix:ut,multiply:ct,range:dt,concat:ht,transpose:pt,index:mt,subset:vt,add:gt,subtract:yt,identity:bt,lusolve:wt,abs:Et}=s;return h(name$Z,{"Matrix, Matrix, Matrix":Mt,"Array, Matrix, Matrix":function($t,_t,Nt){return Mt(ut($t),_t,Nt)},"Array, Array, Matrix":function($t,_t,Nt){return Mt(ut($t),ut(_t),Nt)},"Array, Matrix, Array":function($t,_t,Nt){return Mt(ut($t),_t,ut(Nt))},"Matrix, Array, Matrix":function($t,_t,Nt){return Mt($t,ut(_t),Nt)},"Matrix, Array, Array":function($t,_t,Nt){return Mt($t,ut(_t),ut(Nt))},"Matrix, Matrix, Array":function($t,_t,Nt){return Mt($t,_t,ut(Nt))},"Array, Array, Array":function($t,_t,Nt){return Mt(ut($t),ut(_t),ut(Nt)).toArray()}});function Mt(Dt,$t,_t){for(var Nt=$t.size()[0],kt=Dt.size()[0],At=g(Dt),Bt=At.T,Ft=At.U,Lt=g(ct(-1,$t)),Ot=Lt.T,It=Lt.U,Rt=ct(ct(pt(Ft),_t),It),Vt=dt(0,kt),Xt=[],Wt=(zr,yr)=>ht(zr,yr,1),jt=(zr,yr)=>ht(zr,yr,0),qt=0;qt<Nt;qt++)if(qt<Nt-1&&Et(vt(Ot,mt(qt+1,qt)))>1e-5){for(var Zt=jt(vt(Rt,mt(Vt,qt)),vt(Rt,mt(Vt,qt+1))),Ut=0;Ut<qt;Ut++)Zt=gt(Zt,jt(ct(Xt[Ut],vt(Ot,mt(Ut,qt))),ct(Xt[Ut],vt(Ot,mt(Ut,qt+1)))));var Yt=ct(bt(kt),ct(-1,vt(Ot,mt(qt,qt)))),lr=ct(bt(kt),ct(-1,vt(Ot,mt(qt+1,qt)))),rr=ct(bt(kt),ct(-1,vt(Ot,mt(qt,qt+1)))),Qt=ct(bt(kt),ct(-1,vt(Ot,mt(qt+1,qt+1)))),ur=jt(Wt(gt(Bt,Yt),lr),Wt(rr,gt(Bt,Qt))),wr=wt(ur,Zt);Xt[qt]=wr.subset(mt(dt(0,kt),0)),Xt[qt+1]=wr.subset(mt(dt(kt,2*kt),0)),qt++}else{for(var vr=vt(Rt,mt(Vt,qt)),Dr=0;Dr<qt;Dr++)vr=gt(vr,ct(Xt[Dr],vt(Ot,mt(Dr,qt))));var Or=vt(Ot,mt(qt,qt)),Mr=yt(Bt,ct(Or,bt(kt)));Xt[qt]=wt(Mr,vr)}var dr=ut(it(...Xt)),_r=ct(Ft,ct(dr,pt(It)));return _r}}),name$Y="schur",dependencies$Y=["typed","matrix","identity","multiply","qr","norm","subtract"],createSchur=factory(name$Y,dependencies$Y,s=>{var{typed:h,matrix:g,identity:it,multiply:ut,qr:ct,norm:dt,subtract:ht}=s;return h(name$Y,{Array:function(vt){var gt=pt(g(vt));return{U:gt.U.valueOf(),T:gt.T.valueOf()}},Matrix:function(vt){return pt(vt)}});function pt(mt){var vt=mt.size()[0],gt=mt,yt=it(vt),bt=0,wt;do{wt=gt;var Et=ct(gt),Mt=Et.Q,Dt=Et.R;if(gt=ut(Dt,Mt),yt=ut(yt,Mt),bt++>100)break}while(dt(ht(gt,wt))>1e-4);return{U:yt,T:gt}}}),name$X="lyap",dependencies$X=["typed","matrix","sylvester","multiply","transpose"],createLyap=factory(name$X,dependencies$X,s=>{var{typed:h,matrix:g,sylvester:it,multiply:ut,transpose:ct}=s;return h(name$X,{"Matrix, Matrix":function(ht,pt){return it(ht,ct(ht),ut(-1,pt))},"Array, Matrix":function(ht,pt){return it(g(ht),ct(g(ht)),ut(-1,pt))},"Matrix, Array":function(ht,pt){return it(ht,ct(g(ht)),g(ut(-1,pt)))},"Array, Array":function(ht,pt){return it(g(ht),ct(g(ht)),g(ut(-1,pt))).toArray()}})}),name$W="divide",dependencies$W=["typed","matrix","multiply","equalScalar","divideScalar","inv"],createDivide=factory(name$W,dependencies$W,s=>{var{typed:h,matrix:g,multiply:it,equalScalar:ut,divideScalar:ct,inv:dt}=s,ht=createMatAlgo11xS0s({typed:h,equalScalar:ut}),pt=createMatAlgo14xDs({typed:h});return h("divide",extend({"Array | Matrix, Array | Matrix":function(vt,gt){return it(vt,dt(gt))},"DenseMatrix, any":function(vt,gt){return pt(vt,gt,ct,!1)},"SparseMatrix, any":function(vt,gt){return ht(vt,gt,ct,!1)},"Array, any":function(vt,gt){return pt(g(vt),gt,ct,!1).valueOf()},"any, Array | Matrix":function(vt,gt){return it(vt,dt(gt))}},ct.signatures))}),name$V="distance",dependencies$V=["typed","addScalar","subtract","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],createDistance=factory(name$V,dependencies$V,s=>{var{typed:h,addScalar:g,subtract:it,multiplyScalar:ut,divideScalar:ct,deepEqual:dt,sqrt:ht,abs:pt}=s;return h(name$V,{"Array, Array, Array":function(kt,At,Bt){if(kt.length===2&&At.length===2&&Bt.length===2){if(!vt(kt))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!vt(At))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!vt(Bt))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(dt(At,Bt))throw new TypeError("LinePoint1 should not be same with LinePoint2");var Ft=it(Bt[1],At[1]),Lt=it(At[0],Bt[0]),Ot=it(ut(Bt[0],At[1]),ut(At[0],Bt[1]));return Mt(kt[0],kt[1],Ft,Lt,Ot)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(kt,At,Bt){if(Object.keys(kt).length===2&&Object.keys(At).length===2&&Object.keys(Bt).length===2){if(!vt(kt))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!vt(At))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!vt(Bt))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(dt(wt(At),wt(Bt)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in kt&&"pointY"in kt&&"lineOnePtX"in At&&"lineOnePtY"in At&&"lineTwoPtX"in Bt&&"lineTwoPtY"in Bt){var Ft=it(Bt.lineTwoPtY,At.lineOnePtY),Lt=it(At.lineOnePtX,Bt.lineTwoPtX),Ot=it(ut(Bt.lineTwoPtX,At.lineOnePtY),ut(At.lineOnePtX,Bt.lineTwoPtY));return Mt(kt.pointX,kt.pointY,Ft,Lt,Ot)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(kt,At){if(kt.length===2&&At.length===3){if(!vt(kt))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!gt(At))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return Mt(kt[0],kt[1],At[0],At[1],At[2])}else if(kt.length===3&&At.length===6){if(!gt(kt))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!bt(At))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return Dt(kt[0],kt[1],kt[2],At[0],At[1],At[2],At[3],At[4],At[5])}else if(kt.length===At.length&&kt.length>0){if(!yt(kt))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!yt(At))throw new TypeError("All values of an array should be numbers or BigNumbers");return $t(kt,At)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(kt,At){if(Object.keys(kt).length===2&&Object.keys(At).length===3){if(!vt(kt))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!gt(At))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in kt&&"pointY"in kt&&"xCoeffLine"in At&&"yCoeffLine"in At&&"constant"in At)return Mt(kt.pointX,kt.pointY,At.xCoeffLine,At.yCoeffLine,At.constant);throw new TypeError("Key names do not match")}else if(Object.keys(kt).length===3&&Object.keys(At).length===6){if(!gt(kt))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!bt(At))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in kt&&"pointY"in kt&&"x0"in At&&"y0"in At&&"z0"in At&&"a"in At&&"b"in At&&"c"in At)return Dt(kt.pointX,kt.pointY,kt.pointZ,At.x0,At.y0,At.z0,At.a,At.b,At.c);throw new TypeError("Key names do not match")}else if(Object.keys(kt).length===2&&Object.keys(At).length===2){if(!vt(kt))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!vt(At))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in kt&&"pointOneY"in kt&&"pointTwoX"in At&&"pointTwoY"in At)return $t([kt.pointOneX,kt.pointOneY],[At.pointTwoX,At.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(kt).length===3&&Object.keys(At).length===3){if(!gt(kt))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!gt(At))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in kt&&"pointOneY"in kt&&"pointOneZ"in kt&&"pointTwoX"in At&&"pointTwoY"in At&&"pointTwoZ"in At)return $t([kt.pointOneX,kt.pointOneY,kt.pointOneZ],[At.pointTwoX,At.pointTwoY,At.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(kt){if(!Et(kt))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return _t(kt)}});function mt(Nt){return typeof Nt=="number"||isBigNumber(Nt)}function vt(Nt){return Nt.constructor!==Array&&(Nt=wt(Nt)),mt(Nt[0])&&mt(Nt[1])}function gt(Nt){return Nt.constructor!==Array&&(Nt=wt(Nt)),mt(Nt[0])&&mt(Nt[1])&&mt(Nt[2])}function yt(Nt){return Array.isArray(Nt)||(Nt=wt(Nt)),Nt.every(mt)}function bt(Nt){return Nt.constructor!==Array&&(Nt=wt(Nt)),mt(Nt[0])&&mt(Nt[1])&&mt(Nt[2])&&mt(Nt[3])&&mt(Nt[4])&&mt(Nt[5])}function wt(Nt){for(var kt=Object.keys(Nt),At=[],Bt=0;Bt<kt.length;Bt++)At.push(Nt[kt[Bt]]);return At}function Et(Nt){if(Nt[0].length===2&&mt(Nt[0][0])&&mt(Nt[0][1])){if(Nt.some(kt=>kt.length!==2||!mt(kt[0])||!mt(kt[1])))return!1}else if(Nt[0].length===3&&mt(Nt[0][0])&&mt(Nt[0][1])&&mt(Nt[0][2])){if(Nt.some(kt=>kt.length!==3||!mt(kt[0])||!mt(kt[1])||!mt(kt[2])))return!1}else return!1;return!0}function Mt(Nt,kt,At,Bt,Ft){var Lt=pt(g(g(ut(At,Nt),ut(Bt,kt)),Ft)),Ot=ht(g(ut(At,At),ut(Bt,Bt)));return ct(Lt,Ot)}function Dt(Nt,kt,At,Bt,Ft,Lt,Ot,It,Rt){var Vt=[it(ut(it(Ft,kt),Rt),ut(it(Lt,At),It)),it(ut(it(Lt,At),Ot),ut(it(Bt,Nt),Rt)),it(ut(it(Bt,Nt),It),ut(it(Ft,kt),Ot))];Vt=ht(g(g(ut(Vt[0],Vt[0]),ut(Vt[1],Vt[1])),ut(Vt[2],Vt[2])));var Xt=ht(g(g(ut(Ot,Ot),ut(It,It)),ut(Rt,Rt)));return ct(Vt,Xt)}function $t(Nt,kt){for(var At=Nt.length,Bt=0,Ft=0,Lt=0;Lt<At;Lt++)Ft=it(Nt[Lt],kt[Lt]),Bt=g(ut(Ft,Ft),Bt);return ht(Bt)}function _t(Nt){for(var kt=[],At=[],Bt=[],Ft=0;Ft<Nt.length-1;Ft++)for(var Lt=Ft+1;Lt<Nt.length;Lt++)Nt[0].length===2?(At=[Nt[Ft][0],Nt[Ft][1]],Bt=[Nt[Lt][0],Nt[Lt][1]]):Nt[0].length===3&&(At=[Nt[Ft][0],Nt[Ft][1],Nt[Ft][2]],Bt=[Nt[Lt][0],Nt[Lt][1],Nt[Lt][2]]),kt.push($t(At,Bt));return kt}}),name$U="intersect",dependencies$U=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],createIntersect=factory(name$U,dependencies$U,s=>{var{typed:h,config:g,abs:it,add:ut,addScalar:ct,matrix:dt,multiply:ht,multiplyScalar:pt,divideScalar:mt,subtract:vt,smaller:gt,equalScalar:yt,flatten:bt,isZero:wt,isNumeric:Et}=s;return h("intersect",{"Array, Array, Array":Mt,"Array, Array, Array, Array":Dt,"Matrix, Matrix, Matrix":function(It,Rt,Vt){var Xt=Mt(It.valueOf(),Rt.valueOf(),Vt.valueOf());return Xt===null?null:dt(Xt)},"Matrix, Matrix, Matrix, Matrix":function(It,Rt,Vt,Xt){var Wt=Dt(It.valueOf(),Rt.valueOf(),Vt.valueOf(),Xt.valueOf());return Wt===null?null:dt(Wt)}});function Mt(Ot,It,Rt){if(Ot=$t(Ot),It=$t(It),Rt=$t(Rt),!Nt(Ot))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!Nt(It))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!kt(Rt))throw new TypeError("Array with 4 numbers expected as third argument");return Lt(Ot[0],Ot[1],Ot[2],It[0],It[1],It[2],Rt[0],Rt[1],Rt[2],Rt[3])}function Dt(Ot,It,Rt,Vt){if(Ot=$t(Ot),It=$t(It),Rt=$t(Rt),Vt=$t(Vt),Ot.length===2){if(!_t(Ot))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!_t(It))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!_t(Rt))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!_t(Vt))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return At(Ot,It,Rt,Vt)}else if(Ot.length===3){if(!Nt(Ot))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!Nt(It))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!Nt(Rt))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!Nt(Vt))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return Ft(Ot[0],Ot[1],Ot[2],It[0],It[1],It[2],Rt[0],Rt[1],Rt[2],Vt[0],Vt[1],Vt[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function $t(Ot){return Ot.length===1?Ot[0]:Ot.length>1&&Array.isArray(Ot[0])&&Ot.every(It=>Array.isArray(It)&&It.length===1)?bt(Ot):Ot}function _t(Ot){return Ot.length===2&&Et(Ot[0])&&Et(Ot[1])}function Nt(Ot){return Ot.length===3&&Et(Ot[0])&&Et(Ot[1])&&Et(Ot[2])}function kt(Ot){return Ot.length===4&&Et(Ot[0])&&Et(Ot[1])&&Et(Ot[2])&&Et(Ot[3])}function At(Ot,It,Rt,Vt){var Xt=Ot,Wt=Rt,jt=vt(Xt,It),qt=vt(Wt,Vt),Zt=vt(pt(jt[0],qt[1]),pt(qt[0],jt[1]));if(wt(Zt)||gt(it(Zt),g.epsilon))return null;var Ut=pt(qt[0],Xt[1]),Yt=pt(qt[1],Xt[0]),lr=pt(qt[0],Wt[1]),rr=pt(qt[1],Wt[0]),Qt=mt(ct(vt(vt(Ut,Yt),lr),rr),Zt);return ut(ht(jt,Qt),Xt)}function Bt(Ot,It,Rt,Vt,Xt,Wt,jt,qt,Zt,Ut,Yt,lr){var rr=pt(vt(Ot,It),vt(Rt,Vt)),Qt=pt(vt(Xt,Wt),vt(jt,qt)),ur=pt(vt(Zt,Ut),vt(Yt,lr));return ct(ct(rr,Qt),ur)}function Ft(Ot,It,Rt,Vt,Xt,Wt,jt,qt,Zt,Ut,Yt,lr){var rr=Bt(Ot,jt,Ut,jt,It,qt,Yt,qt,Rt,Zt,lr,Zt),Qt=Bt(Ut,jt,Vt,Ot,Yt,qt,Xt,It,lr,Zt,Wt,Rt),ur=Bt(Ot,jt,Vt,Ot,It,qt,Xt,It,Rt,Zt,Wt,Rt),wr=Bt(Ut,jt,Ut,jt,Yt,qt,Yt,qt,lr,Zt,lr,Zt),vr=Bt(Vt,Ot,Vt,Ot,Xt,It,Xt,It,Wt,Rt,Wt,Rt),Dr=vt(pt(rr,Qt),pt(ur,wr)),Or=vt(pt(vr,wr),pt(Qt,Qt));if(wt(Or))return null;var Mr=mt(Dr,Or),dr=mt(ct(rr,pt(Mr,Qt)),wr),_r=ct(Ot,pt(Mr,vt(Vt,Ot))),zr=ct(It,pt(Mr,vt(Xt,It))),yr=ct(Rt,pt(Mr,vt(Wt,Rt))),Lr=ct(jt,pt(dr,vt(Ut,jt))),tr=ct(qt,pt(dr,vt(Yt,qt))),ir=ct(Zt,pt(dr,vt(lr,Zt)));return yt(_r,Lr)&&yt(zr,tr)&&yt(yr,ir)?[_r,zr,yr]:null}function Lt(Ot,It,Rt,Vt,Xt,Wt,jt,qt,Zt,Ut){var Yt=pt(Ot,jt),lr=pt(Vt,jt),rr=pt(It,qt),Qt=pt(Xt,qt),ur=pt(Rt,Zt),wr=pt(Wt,Zt),vr=vt(vt(vt(Ut,Yt),rr),ur),Dr=vt(vt(vt(ct(ct(lr,Qt),wr),Yt),rr),ur),Or=mt(vr,Dr),Mr=ct(Ot,pt(Or,vt(Vt,Ot))),dr=ct(It,pt(Or,vt(Xt,It))),_r=ct(Rt,pt(Or,vt(Wt,Rt)));return[Mr,dr,_r]}}),name$T="sum",dependencies$T=["typed","config","add","numeric"],createSum=factory(name$T,dependencies$T,s=>{var{typed:h,config:g,add:it,numeric:ut}=s;return h(name$T,{"Array | Matrix":ct,"Array | Matrix, number | BigNumber":dt,"...":function(pt){if(containsCollections(pt))throw new TypeError("Scalar values expected in function sum");return ct(pt)}});function ct(ht){var pt;return deepForEach(ht,function(mt){try{pt=pt===void 0?mt:it(pt,mt)}catch(vt){throw improveErrorMessage(vt,"sum",mt)}}),pt===void 0&&(pt=ut(0,g.number)),typeof pt=="string"&&(pt=ut(pt,g.number)),pt}function dt(ht,pt){try{var mt=reduce(ht,pt,it);return mt}catch(vt){throw improveErrorMessage(vt,"sum")}}}),name$S="cumsum",dependencies$S=["typed","add","unaryPlus"],createCumSum=factory(name$S,dependencies$S,s=>{var{typed:h,add:g,unaryPlus:it}=s;return h(name$S,{Array:ut,Matrix:function(mt){return mt.create(ut(mt.valueOf()))},"Array, number | BigNumber":dt,"Matrix, number | BigNumber":function(mt,vt){return mt.create(dt(mt.valueOf(),vt))},"...":function(mt){if(containsCollections(mt))throw new TypeError("All values expected to be scalar in function cumsum");return ut(mt)}});function ut(pt){try{return ct(pt)}catch(mt){throw improveErrorMessage(mt,name$S)}}function ct(pt){if(pt.length===0)return[];for(var mt=[it(pt[0])],vt=1;vt<pt.length;++vt)mt.push(g(mt[vt-1],pt[vt]));return mt}function dt(pt,mt){var vt=arraySize(pt);if(mt<0||mt>=vt.length)throw new IndexError(mt,vt.length);try{return ht(pt,mt)}catch(gt){throw improveErrorMessage(gt,name$S)}}function ht(pt,mt){var vt,gt,yt;if(mt<=0){var bt=pt[0][0];if(Array.isArray(bt)){for(yt=_switch$1(pt),gt=[],vt=0;vt<yt.length;vt++)gt[vt]=ht(yt[vt],mt-1);return gt}else return ct(pt)}else{for(gt=[],vt=0;vt<pt.length;vt++)gt[vt]=ht(pt[vt],mt-1);return gt}}}),name$R="mean",dependencies$R=["typed","add","divide"],createMean=factory(name$R,dependencies$R,s=>{var{typed:h,add:g,divide:it}=s;return h(name$R,{"Array | Matrix":ct,"Array | Matrix, number | BigNumber":ut,"...":function(ht){if(containsCollections(ht))throw new TypeError("Scalar values expected in function mean");return ct(ht)}});function ut(dt,ht){try{var pt=reduce(dt,ht,g),mt=Array.isArray(dt)?arraySize(dt):dt.size();return it(pt,mt[ht])}catch(vt){throw improveErrorMessage(vt,"mean")}}function ct(dt){var ht,pt=0;if(deepForEach(dt,function(mt){try{ht=ht===void 0?mt:g(ht,mt),pt++}catch(vt){throw improveErrorMessage(vt,"mean",mt)}}),pt===0)throw new Error("Cannot calculate the mean of an empty array");return it(ht,pt)}}),name$Q="median",dependencies$Q=["typed","add","divide","compare","partitionSelect"],createMedian=factory(name$Q,dependencies$Q,s=>{var{typed:h,add:g,divide:it,compare:ut,partitionSelect:ct}=s;function dt(mt){try{mt=flatten$1(mt.valueOf());var vt=mt.length;if(vt===0)throw new Error("Cannot calculate median of an empty array");if(vt%2===0){for(var gt=vt/2-1,yt=ct(mt,gt+1),bt=mt[gt],wt=0;wt<gt;++wt)ut(mt[wt],bt)>0&&(bt=mt[wt]);return pt(bt,yt)}else{var Et=ct(mt,(vt-1)/2);return ht(Et)}}catch(Mt){throw improveErrorMessage(Mt,"median")}}var ht=h({"number | BigNumber | Complex | Unit":function(vt){return vt}}),pt=h({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(vt,gt){return it(g(vt,gt),2)}});return h(name$Q,{"Array | Matrix":dt,"Array | Matrix, number | BigNumber":function(vt,gt){throw new Error("median(A, dim) is not yet supported")},"...":function(vt){if(containsCollections(vt))throw new TypeError("Scalar values expected in function median");return dt(vt)}})}),name$P="mad",dependencies$P=["typed","abs","map","median","subtract"],createMad=factory(name$P,dependencies$P,s=>{var{typed:h,abs:g,map:it,median:ut,subtract:ct}=s;return h(name$P,{"Array | Matrix":dt,"...":function(pt){return dt(pt)}});function dt(ht){if(ht=flatten$1(ht.valueOf()),ht.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var pt=ut(ht);return ut(it(ht,function(mt){return g(ct(mt,pt))}))}catch(mt){throw mt instanceof TypeError&&mt.message.indexOf("median")!==-1?new TypeError(mt.message.replace("median","mad")):improveErrorMessage(mt,"mad")}}}),DEFAULT_NORMALIZATION="unbiased",name$O="variance",dependencies$O=["typed","add","subtract","multiply","divide","apply","isNaN"],createVariance=factory(name$O,dependencies$O,s=>{var{typed:h,add:g,subtract:it,multiply:ut,divide:ct,apply:dt,isNaN:ht}=s;return h(name$O,{"Array | Matrix":function(gt){return pt(gt,DEFAULT_NORMALIZATION)},"Array | Matrix, string":pt,"Array | Matrix, number | BigNumber":function(gt,yt){return mt(gt,yt,DEFAULT_NORMALIZATION)},"Array | Matrix, number | BigNumber, string":mt,"...":function(gt){return pt(gt,DEFAULT_NORMALIZATION)}});function pt(vt,gt){var yt,bt=0;if(vt.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(deepForEach(vt,function(Mt){try{yt=yt===void 0?Mt:g(yt,Mt),bt++}catch(Dt){throw improveErrorMessage(Dt,"variance",Mt)}}),bt===0)throw new Error("Cannot calculate variance of an empty array");var wt=ct(yt,bt);if(yt=void 0,deepForEach(vt,function(Mt){var Dt=it(Mt,wt);yt=yt===void 0?ut(Dt,Dt):g(yt,ut(Dt,Dt))}),ht(yt))return yt;switch(gt){case"uncorrected":return ct(yt,bt);case"biased":return ct(yt,bt+1);case"unbiased":{var Et=isBigNumber(yt)?yt.mul(0):0;return bt===1?Et:ct(yt,bt-1)}default:throw new Error('Unknown normalization "'+gt+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function mt(vt,gt,yt){try{if(vt.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return dt(vt,gt,bt=>pt(bt,yt))}catch(bt){throw improveErrorMessage(bt,"variance")}}}),name$N="quantileSeq",dependencies$N=["typed","add","multiply","partitionSelect","compare","isInteger"],createQuantileSeq=factory(name$N,dependencies$N,s=>{var{typed:h,add:g,multiply:it,partitionSelect:ut,compare:ct,isInteger:dt}=s,ht=createApply({typed:h,isInteger:dt}),pt=h({"number | BigNumber | Unit":function(bt){return bt}});return h(name$N,{"Array|Matrix, number|BigNumber|Array":(yt,bt)=>vt(yt,bt,!1),"Array|Matrix, number|BigNumber|Array, boolean":vt,"Array|Matrix, number|BigNumber|Array, number":(yt,bt,wt)=>mt(yt,bt,!1,wt),"Array|Matrix, number|BigNumber|Array, boolean, number":(yt,bt,wt,Et)=>mt(yt,bt,wt,Et)});function mt(yt,bt,wt,Et){return ht(yt,Et,Mt=>vt(Mt,bt,wt))}function vt(yt,bt,wt){var Et,Mt,Dt;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(isCollection(yt)){if(wt=wt||!1,typeof wt=="boolean"){if(Mt=yt.valueOf(),isNumber(bt)){if(bt<0)throw new Error("N/prob must be non-negative");if(bt<=1)return gt(Mt,bt,wt);if(bt>1){if(!dt(bt))throw new Error("N must be a positive integer");var $t=bt+1;Et=new Array(bt);for(var _t=0;_t<bt;)Et[_t]=gt(Mt,++_t/$t,wt);return Et}}if(isBigNumber(bt)){var Nt=bt.constructor;if(bt.isNegative())throw new Error("N/prob must be non-negative");if(Dt=new Nt(1),bt.lte(Dt))return new Nt(gt(Mt,bt,wt));if(bt.gt(Dt)){if(!bt.isInteger())throw new Error("N must be a positive integer");var kt=bt.toNumber();if(kt>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var At=new Nt(kt+1);Et=new Array(kt);for(var Bt=0;Bt<kt;)Et[Bt]=new Nt(gt(Mt,new Nt(++Bt).div(At),wt));return Et}}if(isCollection(bt)){var Ft=bt.valueOf();Et=new Array(Ft.length);for(var Lt=0;Lt<Et.length;++Lt){var Ot=Ft[Lt];if(isNumber(Ot)){if(Ot<0||Ot>1)throw new Error("Probability must be between 0 and 1, inclusive")}else if(isBigNumber(Ot)){if(Dt=new Ot.constructor(1),Ot.isNegative()||Ot.gt(Dt))throw new Error("Probability must be between 0 and 1, inclusive")}else throw new TypeError("Unexpected type of argument in function quantileSeq");Et[Lt]=gt(Mt,Ot,wt)}return Et}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}function gt(yt,bt,wt){var Et=flatten$1(yt),Mt=Et.length;if(Mt===0)throw new Error("Cannot calculate quantile of an empty sequence");if(isNumber(bt)){var Dt=bt*(Mt-1),$t=Dt%1;if($t===0){var _t=wt?Et[Dt]:ut(Et,Dt);return pt(_t),_t}var Nt=Math.floor(Dt),kt,At;if(wt)kt=Et[Nt],At=Et[Nt+1];else{At=ut(Et,Nt+1),kt=Et[Nt];for(var Bt=0;Bt<Nt;++Bt)ct(Et[Bt],kt)>0&&(kt=Et[Bt])}return pt(kt),pt(At),g(it(kt,1-$t),it(At,$t))}var Ft=bt.times(Mt-1);if(Ft.isInteger()){Ft=Ft.toNumber();var Lt=wt?Et[Ft]:ut(Et,Ft);return pt(Lt),Lt}var Ot=Ft.floor(),It=Ft.minus(Ot),Rt=Ot.toNumber(),Vt,Xt;if(wt)Vt=Et[Rt],Xt=Et[Rt+1];else{Xt=ut(Et,Rt+1),Vt=Et[Rt];for(var Wt=0;Wt<Rt;++Wt)ct(Et[Wt],Vt)>0&&(Vt=Et[Wt])}pt(Vt),pt(Xt);var jt=new It.constructor(1);return g(it(Vt,jt.minus(It)),it(Xt,It))}}),name$M="std",dependencies$M=["typed","map","sqrt","variance"],createStd=factory(name$M,dependencies$M,s=>{var{typed:h,map:g,sqrt:it,variance:ut}=s;return h(name$M,{"Array | Matrix":ct,"Array | Matrix, string":ct,"Array | Matrix, number | BigNumber":ct,"Array | Matrix, number | BigNumber, string":ct,"...":function(ht){return ct(ht)}});function ct(dt,ht){if(dt.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var pt=ut.apply(null,arguments);return isCollection(pt)?g(pt,it):it(pt)}catch(mt){throw mt instanceof TypeError&&mt.message.indexOf(" variance")!==-1?new TypeError(mt.message.replace(" variance"," std")):mt}}}),name$L="corr",dependencies$L=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],createCorr=factory(name$L,dependencies$L,s=>{var{typed:h,matrix:g,sqrt:it,sum:ut,add:ct,subtract:dt,multiply:ht,pow:pt,divide:mt}=s;return h(name$L,{"Array, Array":function(bt,wt){return vt(bt,wt)},"Matrix, Matrix":function(bt,wt){return g(vt(bt.toArray(),wt.toArray()))}});function vt(yt,bt){if(Array.isArray(yt[0])&&Array.isArray(bt[0])){for(var wt=[],Et=0;Et<yt.length;Et++)wt.push(gt(yt[Et],bt[Et]));return wt}else return gt(yt,bt)}function gt(yt,bt){var wt=yt.length,Et=ut(yt),Mt=ut(bt),Dt=yt.reduce((At,Bt,Ft)=>ct(At,ht(Bt,bt[Ft])),0),$t=ut(yt.map(At=>pt(At,2))),_t=ut(bt.map(At=>pt(At,2))),Nt=dt(ht(wt,Dt),ht(Et,Mt)),kt=it(ht(dt(ht(wt,$t),pt(Et,2)),dt(ht(wt,_t),pt(Mt,2))));return mt(Nt,kt)}}),name$K="combinations",dependencies$K=["typed"],createCombinations=factory(name$K,dependencies$K,s=>{var{typed:h}=s;return h(name$K,{"number, number":combinationsNumber,"BigNumber, BigNumber":function(it,ut){var ct=it.constructor,dt,ht,pt=it.minus(ut),mt=new ct(1);if(!isPositiveInteger$2(it)||!isPositiveInteger$2(ut))throw new TypeError("Positive integer value expected in function combinations");if(ut.gt(it))throw new TypeError("k must be less than n in function combinations");if(dt=mt,ut.lt(pt))for(ht=mt;ht.lte(pt);ht=ht.plus(mt))dt=dt.times(ut.plus(ht)).dividedBy(ht);else for(ht=mt;ht.lte(ut);ht=ht.plus(mt))dt=dt.times(pt.plus(ht)).dividedBy(ht);return dt}})});function isPositiveInteger$2(s){return s.isInteger()&&s.gte(0)}var name$J="combinationsWithRep",dependencies$J=["typed"],createCombinationsWithRep=factory(name$J,dependencies$J,s=>{var{typed:h}=s;return h(name$J,{"number, number":function(it,ut){if(!isInteger$1(it)||it<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!isInteger$1(ut)||ut<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(it<1)throw new TypeError("k must be less than or equal to n + k - 1");if(ut<it-1){var ct=product(it,it+ut-1);return ct/product(1,ut)}var dt=product(ut+1,it+ut-1);return dt/product(1,it-1)},"BigNumber, BigNumber":function(it,ut){var ct=it.constructor,dt,ht,pt=new ct(1),mt=it.minus(pt);if(!isPositiveInteger$1(it)||!isPositiveInteger$1(ut))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(it.lt(pt))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(dt=pt,ut.lt(mt))for(ht=pt;ht.lte(mt);ht=ht.plus(pt))dt=dt.times(ut.plus(ht)).dividedBy(ht);else for(ht=pt;ht.lte(ut);ht=ht.plus(pt))dt=dt.times(mt.plus(ht)).dividedBy(ht);return dt}})});function isPositiveInteger$1(s){return s.isInteger()&&s.gte(0)}var name$I="gamma",dependencies$I=["typed","config","multiplyScalar","pow","BigNumber","Complex"],createGamma=factory(name$I,dependencies$I,s=>{var{typed:h,config:g,multiplyScalar:it,pow:ut,BigNumber:ct,Complex:dt}=s;function ht(mt){if(mt.im===0)return gammaNumber(mt.re);if(mt.re<.5){var vt=new dt(1-mt.re,-mt.im),gt=new dt(Math.PI*mt.re,Math.PI*mt.im);return new dt(Math.PI).div(gt.sin()).div(ht(vt))}mt=new dt(mt.re-1,mt.im);for(var yt=new dt(gammaP[0],0),bt=1;bt<gammaP.length;++bt){var wt=new dt(gammaP[bt],0);yt=yt.add(wt.div(mt.add(bt)))}var Et=new dt(mt.re+gammaG+.5,mt.im),Mt=Math.sqrt(2*Math.PI),Dt=Et.pow(mt.add(.5)),$t=Et.neg().exp();return yt.mul(Mt).mul(Dt).mul($t)}return h(name$I,{number:gammaNumber,Complex:ht,BigNumber:function(vt){if(vt.isInteger())return vt.isNegative()||vt.isZero()?new ct(1/0):pt(vt.minus(1));if(!vt.isFinite())return new ct(vt.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function pt(mt){if(mt<8)return new ct([1,1,2,6,24,120,720,5040][mt]);var vt=g.precision+(Math.log(mt.toNumber())|0),gt=ct.clone({precision:vt});if(mt%2===1)return mt.times(pt(new ct(mt-1)));for(var yt=mt,bt=new gt(mt),wt=mt.toNumber();yt>2;)yt-=2,wt+=yt,bt=bt.times(wt);return new ct(bt.toPrecision(ct.precision))}}),name$H="lgamma",dependencies$H=["Complex","typed"],createLgamma=factory(name$H,dependencies$H,s=>{var{Complex:h,typed:g}=s,it=7,ut=7,ct=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return g(name$H,{number:lgammaNumber,Complex:dt,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function dt(mt){var vt=6.283185307179586,gt=1.1447298858494002,yt=.1;if(mt.isNaN())return new h(NaN,NaN);if(mt.im===0)return new h(lgammaNumber(mt.re),0);if(mt.re>=it||Math.abs(mt.im)>=ut)return ht(mt);if(mt.re<=yt){var bt=copysign(vt,mt.im)*Math.floor(.5*mt.re+.25),wt=mt.mul(Math.PI).sin().log(),Et=dt(new h(1-mt.re,-mt.im));return new h(gt,bt).sub(wt).sub(Et)}else return mt.im>=0?pt(mt):pt(mt.conjugate()).conjugate()}function ht(mt){for(var vt=mt.sub(.5).mul(mt.log()).sub(mt).add(lnSqrt2PI),gt=new h(1,0).div(mt),yt=gt.div(mt),bt=ct[0],wt=ct[1],Et=2*yt.re,Mt=yt.re*yt.re+yt.im*yt.im,Dt=2;Dt<8;Dt++){var $t=wt;wt=-Mt*bt+ct[Dt],bt=Et*bt+$t}var _t=gt.mul(yt.mul(bt).add(wt));return vt.add(_t)}function pt(mt){var vt=0,gt=0,yt=mt;for(mt=mt.add(1);mt.re<=it;){yt=yt.mul(mt);var bt=yt.im<0?1:0;bt!==0&&gt===0&&vt++,gt=bt,mt=mt.add(1)}return ht(mt).sub(yt.log()).sub(new h(0,vt*2*Math.PI*1))}}),name$G="factorial",dependencies$G=["typed","gamma"],createFactorial=factory(name$G,dependencies$G,s=>{var{typed:h,gamma:g}=s;return h(name$G,{number:function(ut){if(ut<0)throw new Error("Value must be non-negative");return g(ut+1)},BigNumber:function(ut){if(ut.isNegative())throw new Error("Value must be non-negative");return g(ut.plus(1))},"Array | Matrix":h.referToSelf(it=>ut=>deepMap(ut,it))})}),name$F="kldivergence",dependencies$F=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],createKldivergence=factory(name$F,dependencies$F,s=>{var{typed:h,matrix:g,divide:it,sum:ut,multiply:ct,map:dt,dotDivide:ht,log:pt,isNumeric:mt}=s;return h(name$F,{"Array, Array":function(yt,bt){return vt(g(yt),g(bt))},"Matrix, Array":function(yt,bt){return vt(yt,g(bt))},"Array, Matrix":function(yt,bt){return vt(g(yt),bt)},"Matrix, Matrix":function(yt,bt){return vt(yt,bt)}});function vt(gt,yt){var bt=yt.size().length,wt=gt.size().length;if(bt>1)throw new Error("first object must be one dimensional");if(wt>1)throw new Error("second object must be one dimensional");if(bt!==wt)throw new Error("Length of two vectors must be equal");var Et=ut(gt);if(Et===0)throw new Error("Sum of elements in first object must be non zero");var Mt=ut(yt);if(Mt===0)throw new Error("Sum of elements in second object must be non zero");var Dt=it(gt,ut(gt)),$t=it(yt,ut(yt)),_t=ut(ct(Dt,dt(ht(Dt,$t),Nt=>pt(Nt))));return mt(_t)?_t:Number.NaN}}),name$E="multinomial",dependencies$E=["typed","add","divide","multiply","factorial","isInteger","isPositive"],createMultinomial=factory(name$E,dependencies$E,s=>{var{typed:h,add:g,divide:it,multiply:ut,factorial:ct,isInteger:dt,isPositive:ht}=s;return h(name$E,{"Array | Matrix":function(mt){var vt=0,gt=1;return deepForEach(mt,function(yt){if(!dt(yt)||!ht(yt))throw new TypeError("Positive integer value expected in function multinomial");vt=g(vt,yt),gt=ut(gt,ct(yt))}),it(ct(vt),gt)}})}),name$D="permutations",dependencies$D=["typed","factorial"],createPermutations=factory(name$D,dependencies$D,s=>{var{typed:h,factorial:g}=s;return h(name$D,{"number | BigNumber":g,"number, number":function(ut,ct){if(!isInteger$1(ut)||ut<0)throw new TypeError("Positive integer value expected in function permutations");if(!isInteger$1(ct)||ct<0)throw new TypeError("Positive integer value expected in function permutations");if(ct>ut)throw new TypeError("second argument k must be less than or equal to first argument n");return product(ut-ct+1,ut)},"BigNumber, BigNumber":function(ut,ct){var dt,ht;if(!isPositiveInteger(ut)||!isPositiveInteger(ct))throw new TypeError("Positive integer value expected in function permutations");if(ct.gt(ut))throw new TypeError("second argument k must be less than or equal to first argument n");var pt=ut.mul(0).add(1);for(dt=pt,ht=ut.minus(ct).plus(1);ht.lte(ut);ht=ht.plus(1))dt=dt.times(ht);return dt}})});function isPositiveInteger(s){return s.isInteger()&&s.gte(0)}var alea$1={exports:{}};alea$1.exports;(function(s){(function(h,g,it){function ut(pt){var mt=this,vt=ht();mt.next=function(){var gt=2091639*mt.s0+mt.c*23283064365386963e-26;return mt.s0=mt.s1,mt.s1=mt.s2,mt.s2=gt-(mt.c=gt|0)},mt.c=1,mt.s0=vt(" "),mt.s1=vt(" "),mt.s2=vt(" "),mt.s0-=vt(pt),mt.s0<0&&(mt.s0+=1),mt.s1-=vt(pt),mt.s1<0&&(mt.s1+=1),mt.s2-=vt(pt),mt.s2<0&&(mt.s2+=1),vt=null}function ct(pt,mt){return mt.c=pt.c,mt.s0=pt.s0,mt.s1=pt.s1,mt.s2=pt.s2,mt}function dt(pt,mt){var vt=new ut(pt),gt=mt&&mt.state,yt=vt.next;return yt.int32=function(){return vt.next()*4294967296|0},yt.double=function(){return yt()+(yt()*2097152|0)*11102230246251565e-32},yt.quick=yt,gt&&(typeof gt=="object"&&ct(gt,vt),yt.state=function(){return ct(vt,{})}),yt}function ht(){var pt=4022871197,mt=function(vt){vt=String(vt);for(var gt=0;gt<vt.length;gt++){pt+=vt.charCodeAt(gt);var yt=.02519603282416938*pt;pt=yt>>>0,yt-=pt,yt*=pt,pt=yt>>>0,yt-=pt,pt+=yt*4294967296}return(pt>>>0)*23283064365386963e-26};return mt}g&&g.exports?g.exports=dt:it&&it.amd?it(function(){return dt}):this.alea=dt})(commonjsGlobal$1,s,!1)})(alea$1);var aleaExports=alea$1.exports,xor128$1={exports:{}};xor128$1.exports;(function(s){(function(h,g,it){function ut(ht){var pt=this,mt="";pt.x=0,pt.y=0,pt.z=0,pt.w=0,pt.next=function(){var gt=pt.x^pt.x<<11;return pt.x=pt.y,pt.y=pt.z,pt.z=pt.w,pt.w^=pt.w>>>19^gt^gt>>>8},ht===(ht|0)?pt.x=ht:mt+=ht;for(var vt=0;vt<mt.length+64;vt++)pt.x^=mt.charCodeAt(vt)|0,pt.next()}function ct(ht,pt){return pt.x=ht.x,pt.y=ht.y,pt.z=ht.z,pt.w=ht.w,pt}function dt(ht,pt){var mt=new ut(ht),vt=pt&&pt.state,gt=function(){return(mt.next()>>>0)/4294967296};return gt.double=function(){do var yt=mt.next()>>>11,bt=(mt.next()>>>0)/4294967296,wt=(yt+bt)/(1<<21);while(wt===0);return wt},gt.int32=mt.next,gt.quick=gt,vt&&(typeof vt=="object"&&ct(vt,mt),gt.state=function(){return ct(mt,{})}),gt}g&&g.exports?g.exports=dt:it&&it.amd?it(function(){return dt}):this.xor128=dt})(commonjsGlobal$1,s,!1)})(xor128$1);var xor128Exports=xor128$1.exports,xorwow$1={exports:{}};xorwow$1.exports;(function(s){(function(h,g,it){function ut(ht){var pt=this,mt="";pt.next=function(){var gt=pt.x^pt.x>>>2;return pt.x=pt.y,pt.y=pt.z,pt.z=pt.w,pt.w=pt.v,(pt.d=pt.d+362437|0)+(pt.v=pt.v^pt.v<<4^(gt^gt<<1))|0},pt.x=0,pt.y=0,pt.z=0,pt.w=0,pt.v=0,ht===(ht|0)?pt.x=ht:mt+=ht;for(var vt=0;vt<mt.length+64;vt++)pt.x^=mt.charCodeAt(vt)|0,vt==mt.length&&(pt.d=pt.x<<10^pt.x>>>4),pt.next()}function ct(ht,pt){return pt.x=ht.x,pt.y=ht.y,pt.z=ht.z,pt.w=ht.w,pt.v=ht.v,pt.d=ht.d,pt}function dt(ht,pt){var mt=new ut(ht),vt=pt&&pt.state,gt=function(){return(mt.next()>>>0)/4294967296};return gt.double=function(){do var yt=mt.next()>>>11,bt=(mt.next()>>>0)/4294967296,wt=(yt+bt)/(1<<21);while(wt===0);return wt},gt.int32=mt.next,gt.quick=gt,vt&&(typeof vt=="object"&&ct(vt,mt),gt.state=function(){return ct(mt,{})}),gt}g&&g.exports?g.exports=dt:it&&it.amd?it(function(){return dt}):this.xorwow=dt})(commonjsGlobal$1,s,!1)})(xorwow$1);var xorwowExports=xorwow$1.exports,xorshift7$1={exports:{}};xorshift7$1.exports;(function(s){(function(h,g,it){function ut(ht){var pt=this;pt.next=function(){var vt=pt.x,gt=pt.i,yt,bt;return yt=vt[gt],yt^=yt>>>7,bt=yt^yt<<24,yt=vt[gt+1&7],bt^=yt^yt>>>10,yt=vt[gt+3&7],bt^=yt^yt>>>3,yt=vt[gt+4&7],bt^=yt^yt<<7,yt=vt[gt+7&7],yt=yt^yt<<13,bt^=yt^yt<<9,vt[gt]=bt,pt.i=gt+1&7,bt};function mt(vt,gt){var yt,bt=[];if(gt===(gt|0))bt[0]=gt;else for(gt=""+gt,yt=0;yt<gt.length;++yt)bt[yt&7]=bt[yt&7]<<15^gt.charCodeAt(yt)+bt[yt+1&7]<<13;for(;bt.length<8;)bt.push(0);for(yt=0;yt<8&&bt[yt]===0;++yt);for(yt==8?bt[7]=-1:bt[yt],vt.x=bt,vt.i=0,yt=256;yt>0;--yt)vt.next()}mt(pt,ht)}function ct(ht,pt){return pt.x=ht.x.slice(),pt.i=ht.i,pt}function dt(ht,pt){ht==null&&(ht=+new Date);var mt=new ut(ht),vt=pt&&pt.state,gt=function(){return(mt.next()>>>0)/4294967296};return gt.double=function(){do var yt=mt.next()>>>11,bt=(mt.next()>>>0)/4294967296,wt=(yt+bt)/(1<<21);while(wt===0);return wt},gt.int32=mt.next,gt.quick=gt,vt&&(vt.x&&ct(vt,mt),gt.state=function(){return ct(mt,{})}),gt}g&&g.exports?g.exports=dt:it&&it.amd?it(function(){return dt}):this.xorshift7=dt})(commonjsGlobal$1,s,!1)})(xorshift7$1);var xorshift7Exports=xorshift7$1.exports,xor4096$1={exports:{}};xor4096$1.exports;(function(s){(function(h,g,it){function ut(ht){var pt=this;pt.next=function(){var vt=pt.w,gt=pt.X,yt=pt.i,bt,wt;return pt.w=vt=vt+1640531527|0,wt=gt[yt+34&127],bt=gt[yt=yt+1&127],wt^=wt<<13,bt^=bt<<17,wt^=wt>>>15,bt^=bt>>>12,wt=gt[yt]=wt^bt,pt.i=yt,wt+(vt^vt>>>16)|0};function mt(vt,gt){var yt,bt,wt,Et,Mt,Dt=[],$t=128;for(gt===(gt|0)?(bt=gt,gt=null):(gt=gt+"\0",bt=0,$t=Math.max($t,gt.length)),wt=0,Et=-32;Et<$t;++Et)gt&&(bt^=gt.charCodeAt((Et+32)%gt.length)),Et===0&&(Mt=bt),bt^=bt<<10,bt^=bt>>>15,bt^=bt<<4,bt^=bt>>>13,Et>=0&&(Mt=Mt+1640531527|0,yt=Dt[Et&127]^=bt+Mt,wt=yt==0?wt+1:0);for(wt>=128&&(Dt[(gt&&gt.length||0)&127]=-1),wt=127,Et=4*128;Et>0;--Et)bt=Dt[wt+34&127],yt=Dt[wt=wt+1&127],bt^=bt<<13,yt^=yt<<17,bt^=bt>>>15,yt^=yt>>>12,Dt[wt]=bt^yt;vt.w=Mt,vt.X=Dt,vt.i=wt}mt(pt,ht)}function ct(ht,pt){return pt.i=ht.i,pt.w=ht.w,pt.X=ht.X.slice(),pt}function dt(ht,pt){ht==null&&(ht=+new Date);var mt=new ut(ht),vt=pt&&pt.state,gt=function(){return(mt.next()>>>0)/4294967296};return gt.double=function(){do var yt=mt.next()>>>11,bt=(mt.next()>>>0)/4294967296,wt=(yt+bt)/(1<<21);while(wt===0);return wt},gt.int32=mt.next,gt.quick=gt,vt&&(vt.X&&ct(vt,mt),gt.state=function(){return ct(mt,{})}),gt}g&&g.exports?g.exports=dt:it&&it.amd?it(function(){return dt}):this.xor4096=dt})(commonjsGlobal$1,s,!1)})(xor4096$1);var xor4096Exports=xor4096$1.exports,tychei$1={exports:{}};tychei$1.exports;(function(s){(function(h,g,it){function ut(ht){var pt=this,mt="";pt.next=function(){var gt=pt.b,yt=pt.c,bt=pt.d,wt=pt.a;return gt=gt<<25^gt>>>7^yt,yt=yt-bt|0,bt=bt<<24^bt>>>8^wt,wt=wt-gt|0,pt.b=gt=gt<<20^gt>>>12^yt,pt.c=yt=yt-bt|0,pt.d=bt<<16^yt>>>16^wt,pt.a=wt-gt|0},pt.a=0,pt.b=0,pt.c=-1640531527,pt.d=1367130551,ht===Math.floor(ht)?(pt.a=ht/4294967296|0,pt.b=ht|0):mt+=ht;for(var vt=0;vt<mt.length+20;vt++)pt.b^=mt.charCodeAt(vt)|0,pt.next()}function ct(ht,pt){return pt.a=ht.a,pt.b=ht.b,pt.c=ht.c,pt.d=ht.d,pt}function dt(ht,pt){var mt=new ut(ht),vt=pt&&pt.state,gt=function(){return(mt.next()>>>0)/4294967296};return gt.double=function(){do var yt=mt.next()>>>11,bt=(mt.next()>>>0)/4294967296,wt=(yt+bt)/(1<<21);while(wt===0);return wt},gt.int32=mt.next,gt.quick=gt,vt&&(typeof vt=="object"&&ct(vt,mt),gt.state=function(){return ct(mt,{})}),gt}g&&g.exports?g.exports=dt:it&&it.amd?it(function(){return dt}):this.tychei=dt})(commonjsGlobal$1,s,!1)})(tychei$1);var tycheiExports=tychei$1.exports,seedrandom$2={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);(function(s){(function(h,g,it){var ut=256,ct=6,dt=52,ht="random",pt=it.pow(ut,ct),mt=it.pow(2,dt),vt=mt*2,gt=ut-1,yt;function bt(Nt,kt,At){var Bt=[];kt=kt==!0?{entropy:!0}:kt||{};var Ft=Dt(Mt(kt.entropy?[Nt,_t(g)]:Nt??$t(),3),Bt),Lt=new wt(Bt),Ot=function(){for(var It=Lt.g(ct),Rt=pt,Vt=0;It<mt;)It=(It+Vt)*ut,Rt*=ut,Vt=Lt.g(1);for(;It>=vt;)It/=2,Rt/=2,Vt>>>=1;return(It+Vt)/Rt};return Ot.int32=function(){return Lt.g(4)|0},Ot.quick=function(){return Lt.g(4)/4294967296},Ot.double=Ot,Dt(_t(Lt.S),g),(kt.pass||At||function(It,Rt,Vt,Xt){return Xt&&(Xt.S&&Et(Xt,Lt),It.state=function(){return Et(Lt,{})}),Vt?(it[ht]=It,Rt):It})(Ot,Ft,"global"in kt?kt.global:this==it,kt.state)}function wt(Nt){var kt,At=Nt.length,Bt=this,Ft=0,Lt=Bt.i=Bt.j=0,Ot=Bt.S=[];for(At||(Nt=[At++]);Ft<ut;)Ot[Ft]=Ft++;for(Ft=0;Ft<ut;Ft++)Ot[Ft]=Ot[Lt=gt&Lt+Nt[Ft%At]+(kt=Ot[Ft])],Ot[Lt]=kt;(Bt.g=function(It){for(var Rt,Vt=0,Xt=Bt.i,Wt=Bt.j,jt=Bt.S;It--;)Rt=jt[Xt=gt&Xt+1],Vt=Vt*ut+jt[gt&(jt[Xt]=jt[Wt=gt&Wt+Rt])+(jt[Wt]=Rt)];return Bt.i=Xt,Bt.j=Wt,Vt})(ut)}function Et(Nt,kt){return kt.i=Nt.i,kt.j=Nt.j,kt.S=Nt.S.slice(),kt}function Mt(Nt,kt){var At=[],Bt=typeof Nt,Ft;if(kt&&Bt=="object")for(Ft in Nt)try{At.push(Mt(Nt[Ft],kt-1))}catch{}return At.length?At:Bt=="string"?Nt:Nt+"\0"}function Dt(Nt,kt){for(var At=Nt+"",Bt,Ft=0;Ft<At.length;)kt[gt&Ft]=gt&(Bt^=kt[gt&Ft]*19)+At.charCodeAt(Ft++);return _t(kt)}function $t(){try{var Nt;return yt&&(Nt=yt.randomBytes)?Nt=Nt(ut):(Nt=new Uint8Array(ut),(h.crypto||h.msCrypto).getRandomValues(Nt)),_t(Nt)}catch{var kt=h.navigator,At=kt&&kt.plugins;return[+new Date,h,At,h.screen,_t(g)]}}function _t(Nt){return String.fromCharCode.apply(0,Nt)}if(Dt(it.random(),g),s.exports){s.exports=bt;try{yt=require$$0}catch{}}else it["seed"+ht]=bt})(typeof self<"u"?self:commonjsGlobal$1,[],Math)})(seedrandom$2);var seedrandomExports=seedrandom$2.exports,alea=aleaExports,xor128=xor128Exports,xorwow=xorwowExports,xorshift7=xorshift7Exports,xor4096=xor4096Exports,tychei=tycheiExports,sr=seedrandomExports;sr.alea=alea;sr.xor128=xor128;sr.xorwow=xorwow;sr.xorshift7=xorshift7;sr.xor4096=xor4096;sr.tychei=tychei;var seedrandom=sr;const seedrandom$1=getDefaultExportFromCjs(seedrandom);var singletonRandom=seedrandom$1(Date.now());function createRng(s){var h;function g(ut){h=ut===null?singletonRandom:seedrandom$1(String(ut))}g(s);function it(){return h()}return it}var name$C="pickRandom",dependencies$C=["typed","config","?on"],createPickRandom=factory(name$C,dependencies$C,s=>{var{typed:h,config:g,on:it}=s,ut=createRng(g.randomSeed);return it&&it("config",function(dt,ht){dt.randomSeed!==ht.randomSeed&&(ut=createRng(dt.randomSeed))}),h(name$C,{"Array | Matrix":function(ht){return ct(ht,{})},"Array | Matrix, Object":function(ht,pt){return ct(ht,pt)},"Array | Matrix, number":function(ht,pt){return ct(ht,{number:pt})},"Array | Matrix, Array | Matrix":function(ht,pt){return ct(ht,{weights:pt})},"Array | Matrix, Array | Matrix, number":function(ht,pt,mt){return ct(ht,{number:mt,weights:pt})},"Array | Matrix, number, Array | Matrix":function(ht,pt,mt){return ct(ht,{number:pt,weights:mt})}});function ct(dt,ht){var{number:pt,weights:mt,elementWise:vt=!0}=ht,gt=typeof pt>"u";gt&&(pt=1);var yt=isMatrix(dt)?dt.create:isMatrix(mt)?mt.create:null;dt=dt.valueOf(),mt&&(mt=mt.valueOf()),vt===!0&&(dt=flatten$1(dt),mt=flatten$1(mt));var bt=0;if(typeof mt<"u"){if(mt.length!==dt.length)throw new Error("Weights must have the same length as possibles");for(var wt=0,Et=mt.length;wt<Et;wt++){if(!isNumber(mt[wt])||mt[wt]<0)throw new Error("Weights must be an array of positive numbers");bt+=mt[wt]}}for(var Mt=dt.length,Dt=[],$t;Dt.length<pt;){if(typeof mt>"u")$t=dt[Math.floor(ut()*Mt)];else for(var _t=ut()*bt,Nt=0,kt=dt.length;Nt<kt;Nt++)if(_t-=mt[Nt],_t<0){$t=dt[Nt];break}Dt.push($t)}return gt?Dt[0]:yt?yt(Dt):Dt}});function randomMatrix(s,h){var g=[];if(s=s.slice(0),s.length>1)for(var it=0,ut=s.shift();it<ut;it++)g.push(randomMatrix(s,h));else for(var ct=0,dt=s.shift();ct<dt;ct++)g.push(h());return g}var name$B="random",dependencies$B=["typed","config","?on"],createRandom=factory(name$B,dependencies$B,s=>{var{typed:h,config:g,on:it}=s,ut=createRng(g.randomSeed);return it&&it("config",function(ht,pt){ht.randomSeed!==pt.randomSeed&&(ut=createRng(ht.randomSeed))}),h(name$B,{"":()=>dt(0,1),number:ht=>dt(0,ht),"number, number":(ht,pt)=>dt(ht,pt),"Array | Matrix":ht=>ct(ht,0,1),"Array | Matrix, number":(ht,pt)=>ct(ht,0,pt),"Array | Matrix, number, number":(ht,pt,mt)=>ct(ht,pt,mt)});function ct(ht,pt,mt){var vt=randomMatrix(ht.valueOf(),()=>dt(pt,mt));return isMatrix(ht)?ht.create(vt):vt}function dt(ht,pt){return ht+ut()*(pt-ht)}}),name$A="randomInt",dependencies$A=["typed","config","?on"],createRandomInt=factory(name$A,dependencies$A,s=>{var{typed:h,config:g,on:it}=s,ut=createRng(g.randomSeed);return it&&it("config",function(ht,pt){ht.randomSeed!==pt.randomSeed&&(ut=createRng(ht.randomSeed))}),h(name$A,{"":()=>dt(0,1),number:ht=>dt(0,ht),"number, number":(ht,pt)=>dt(ht,pt),"Array | Matrix":ht=>ct(ht,0,1),"Array | Matrix, number":(ht,pt)=>ct(ht,0,pt),"Array | Matrix, number, number":(ht,pt,mt)=>ct(ht,pt,mt)});function ct(ht,pt,mt){var vt=randomMatrix(ht.valueOf(),()=>dt(pt,mt));return isMatrix(ht)?ht.create(vt):vt}function dt(ht,pt){return Math.floor(ht+ut()*(pt-ht))}}),name$z="stirlingS2",dependencies$z=["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],createStirlingS2=factory(name$z,dependencies$z,s=>{var{typed:h,addScalar:g,subtract:it,multiplyScalar:ut,divideScalar:ct,pow:dt,factorial:ht,combinations:pt,isNegative:mt,isInteger:vt,number:gt,bignumber:yt,larger:bt}=s,wt=[],Et=[];return h(name$z,{"number | BigNumber, number | BigNumber":function(Dt,$t){if(!vt(Dt)||mt(Dt)||!vt($t)||mt($t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(bt($t,Dt))throw new TypeError("k must be less than or equal to n in function stirlingS2");var _t=!(isNumber(Dt)&&isNumber($t)),Nt=_t?Et:wt,kt=_t?yt:gt,At=gt(Dt),Bt=gt($t);if(Nt[At]&&Nt[At].length>Bt)return Nt[At][Bt];for(var Ft=0;Ft<=At;++Ft)if(Nt[Ft]||(Nt[Ft]=[kt(Ft===0?1:0)]),Ft!==0)for(var Lt=Nt[Ft],Ot=Nt[Ft-1],It=Lt.length;It<=Ft&&It<=Bt;++It)It===Ft?Lt[It]=1:Lt[It]=g(ut(kt(It),Ot[It]),Ot[It-1]);return Nt[At][Bt]}})}),name$y="bellNumbers",dependencies$y=["typed","addScalar","isNegative","isInteger","stirlingS2"],createBellNumbers=factory(name$y,dependencies$y,s=>{var{typed:h,addScalar:g,isNegative:it,isInteger:ut,stirlingS2:ct}=s;return h(name$y,{"number | BigNumber":function(ht){if(!ut(ht)||it(ht))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var pt=0,mt=0;mt<=ht;mt++)pt=g(pt,ct(ht,mt));return pt}})}),name$x="catalan",dependencies$x=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],createCatalan=factory(name$x,dependencies$x,s=>{var{typed:h,addScalar:g,divideScalar:it,multiplyScalar:ut,combinations:ct,isNegative:dt,isInteger:ht}=s;return h(name$x,{"number | BigNumber":function(mt){if(!ht(mt)||dt(mt))throw new TypeError("Non-negative integer value expected in function catalan");return it(ct(ut(mt,2),mt),g(mt,1))}})}),name$w="composition",dependencies$w=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],createComposition=factory(name$w,dependencies$w,s=>{var{typed:h,addScalar:g,combinations:it,isPositive:ut,isNegative:ct,isInteger:dt,larger:ht}=s;return h(name$w,{"number | BigNumber, number | BigNumber":function(mt,vt){if(!dt(mt)||!ut(mt)||!dt(vt)||!ut(vt))throw new TypeError("Positive integer value expected in function composition");if(ht(vt,mt))throw new TypeError("k must be less than or equal to n in function composition");return it(g(mt,-1),g(vt,-1))}})}),name$v="leafCount",dependencies$v=["parse","typed"],createLeafCount=factory(name$v,dependencies$v,s=>{var{parse:h,typed:g}=s;function it(ut){var ct=0;return ut.forEach(dt=>{ct+=it(dt)}),ct||1}return g(name$v,{Node:function(ct){return it(ct)}})});function isNumericNode(s){return isConstantNode(s)||isOperatorNode(s)&&s.isUnary()&&isConstantNode(s.args[0])}function isConstantExpression(s){return!!(isConstantNode(s)||(isFunctionNode(s)||isOperatorNode(s))&&s.args.every(isConstantExpression)||isParenthesisNode(s)&&isConstantExpression(s.content))}function ownKeys$1(s,h){var g=Object.keys(s);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(s);h&&(it=it.filter(function(ut){return Object.getOwnPropertyDescriptor(s,ut).enumerable})),g.push.apply(g,it)}return g}function _objectSpread(s){for(var h=1;h<arguments.length;h++){var g=arguments[h]!=null?arguments[h]:{};h%2?ownKeys$1(Object(g),!0).forEach(function(it){_defineProperty(s,it,g[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(g)):ownKeys$1(Object(g)).forEach(function(it){Object.defineProperty(s,it,Object.getOwnPropertyDescriptor(g,it))})}return s}var name$u="simplifyUtil",dependencies$u=["FunctionNode","OperatorNode","SymbolNode"],createUtil=factory(name$u,dependencies$u,s=>{var{FunctionNode:h,OperatorNode:g,SymbolNode:it}=s,ut=!0,ct=!1,dt="defaultF",ht={add:{trivial:ut,total:ut,commutative:ut,associative:ut},unaryPlus:{trivial:ut,total:ut,commutative:ut,associative:ut},subtract:{trivial:ct,total:ut,commutative:ct,associative:ct},multiply:{trivial:ut,total:ut,commutative:ut,associative:ut},divide:{trivial:ct,total:ut,commutative:ct,associative:ct},paren:{trivial:ut,total:ut,commutative:ut,associative:ct},defaultF:{trivial:ct,total:ut,commutative:ct,associative:ct}},pt={divide:{total:ct},log:{total:ct}},mt={subtract:{total:ct},abs:{trivial:ut},log:{total:ut}};function vt(_t,Nt){var kt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ht,At=dt;if(typeof _t=="string"?At=_t:isOperatorNode(_t)?At=_t.fn.toString():isFunctionNode(_t)?At=_t.name:isParenthesisNode(_t)&&(At="paren"),hasOwnProperty$1(kt,At)){var Bt=kt[At];if(hasOwnProperty$1(Bt,Nt))return Bt[Nt];if(hasOwnProperty$1(ht,At))return ht[At][Nt]}if(hasOwnProperty$1(kt,dt)){var Ft=kt[dt];return hasOwnProperty$1(Ft,Nt)?Ft[Nt]:ht[dt][Nt]}if(hasOwnProperty$1(ht,At)){var Lt=ht[At];if(hasOwnProperty$1(Lt,Nt))return Lt[Nt]}return ht[dt][Nt]}function gt(_t){var Nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ht;return vt(_t,"commutative",Nt)}function yt(_t){var Nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ht;return vt(_t,"associative",Nt)}function bt(_t,Nt){var kt=_objectSpread({},_t);for(var At in Nt)hasOwnProperty$1(_t,At)?kt[At]=_objectSpread(_objectSpread({},Nt[At]),_t[At]):kt[At]=Nt[At];return kt}function wt(_t,Nt){if(!_t.args||_t.args.length===0)return _t;_t.args=Et(_t,Nt);for(var kt=0;kt<_t.args.length;kt++)wt(_t.args[kt],Nt)}function Et(_t,Nt){var kt,At=[],Bt=function Ft(Lt){for(var Ot=0;Ot<Lt.args.length;Ot++){var It=Lt.args[Ot];isOperatorNode(It)&&kt===It.op?Ft(It):At.push(It)}};return yt(_t,Nt)?(kt=_t.op,Bt(_t),At):_t.args}function Mt(_t,Nt){if(!(!_t.args||_t.args.length===0)){for(var kt=$t(_t),At=_t.args.length,Bt=0;Bt<At;Bt++)Mt(_t.args[Bt],Nt);if(At>2&&yt(_t,Nt)){for(var Ft=_t.args.pop();_t.args.length>0;)Ft=kt([_t.args.pop(),Ft]);_t.args=Ft.args}}}function Dt(_t,Nt){if(!(!_t.args||_t.args.length===0)){for(var kt=$t(_t),At=_t.args.length,Bt=0;Bt<At;Bt++)Dt(_t.args[Bt],Nt);if(At>2&&yt(_t,Nt)){for(var Ft=_t.args.shift();_t.args.length>0;)Ft=kt([Ft,_t.args.shift()]);_t.args=Ft.args}}}function $t(_t){return isOperatorNode(_t)?function(Nt){try{return new g(_t.op,_t.fn,Nt,_t.implicit)}catch(kt){return console.error(kt),[]}}:function(Nt){return new h(new it(_t.name),Nt)}}return{createMakeNodeFunction:$t,hasProperty:vt,isCommutative:gt,isAssociative:yt,mergeContext:bt,flatten:wt,allChildren:Et,unflattenr:Mt,unflattenl:Dt,defaultContext:ht,realContext:pt,positiveContext:mt}}),name$t="simplify",dependencies$t=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],createSimplify=factory(name$t,dependencies$t,s=>{var{config:h,typed:g,parse:it,add:ut,subtract:ct,multiply:dt,divide:ht,pow:pt,isZero:mt,equal:vt,resolve:gt,simplifyConstant:yt,simplifyCore:bt,fraction:wt,bignumber:Et,mathWithTransform:Mt,matrix:Dt,AccessorNode:$t,ArrayNode:_t,ConstantNode:Nt,FunctionNode:kt,IndexNode:At,ObjectNode:Bt,OperatorNode:Ft,ParenthesisNode:Lt,SymbolNode:Ot}=s,{hasProperty:It,isCommutative:Rt,isAssociative:Vt,mergeContext:Xt,flatten:Wt,unflattenr:jt,unflattenl:qt,createMakeNodeFunction:Zt,defaultContext:Ut,realContext:Yt,positiveContext:lr}=createUtil({FunctionNode:kt,OperatorNode:Ft,SymbolNode:Ot});g.addConversion({from:"Object",to:"Map",convert:createMap$1});var rr=g("simplify",{Node:Mr,"Node, Map":(nr,cr)=>Mr(nr,!1,cr),"Node, Map, Object":(nr,cr,gr)=>Mr(nr,!1,cr,gr),"Node, Array":Mr,"Node, Array, Map":Mr,"Node, Array, Map, Object":Mr});g.removeConversion({from:"Object",to:"Map",convert:createMap$1}),rr.defaultContext=Ut,rr.realContext=Yt,rr.positiveContext=lr;function Qt(nr){return nr.transform(function(cr,gr,Sr){return isParenthesisNode(cr)?Qt(cr.content):cr})}var ur={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};rr.rules=[bt,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},yt,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},yt,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function wr(nr,cr){var gr={};if(nr.s){var Sr=nr.s.split("->");if(Sr.length===2)gr.l=Sr[0],gr.r=Sr[1];else throw SyntaxError("Could not parse rule: "+nr.s)}else gr.l=nr.l,gr.r=nr.r;gr.l=Qt(it(gr.l)),gr.r=Qt(it(gr.r));for(var kr of["imposeContext","repeat","assuming"])kr in nr&&(gr[kr]=nr[kr]);if(nr.evaluate&&(gr.evaluate=it(nr.evaluate)),Vt(gr.l,cr)){var er=!Rt(gr.l,cr),ar;er&&(ar=Or());var xr=Zt(gr.l),Tr=Or();gr.expanded={},gr.expanded.l=xr([gr.l,Tr]),Wt(gr.expanded.l,cr),jt(gr.expanded.l,cr),gr.expanded.r=xr([gr.r,Tr]),er&&(gr.expandedNC1={},gr.expandedNC1.l=xr([ar,gr.l]),gr.expandedNC1.r=xr([ar,gr.r]),gr.expandedNC2={},gr.expandedNC2.l=xr([ar,gr.expanded.l]),gr.expandedNC2.r=xr([ar,gr.expanded.r]))}return gr}function vr(nr,cr){for(var gr=[],Sr=0;Sr<nr.length;Sr++){var kr=nr[Sr],er=void 0,ar=typeof kr;switch(ar){case"string":kr={s:kr};case"object":er=wr(kr,cr);break;case"function":er=kr;break;default:throw TypeError("Unsupported type of rule: "+ar)}gr.push(er)}return gr}var Dr=0;function Or(){return new Ot("_p"+Dr++)}function Mr(nr,cr){var gr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:createEmptyMap(),Sr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},kr=Sr.consoleDebug;cr=vr(cr||rr.rules,Sr.context);var er=gt(nr,gr);er=Qt(er);for(var ar={},xr=er.toString({parenthesis:"all"});!ar[xr];){ar[xr]=!0,Dr=0;var Tr=xr;kr&&console.log("Working on: ",xr);for(var Fr=0;Fr<cr.length;Fr++){var Er="";if(typeof cr[Fr]=="function"?(er=cr[Fr](er,Sr),kr&&(Er=cr[Fr].name)):(Wt(er,Sr.context),er=_r(er,cr[Fr],Sr.context),kr&&(Er="".concat(cr[Fr].l.toString()," -> ").concat(cr[Fr].r.toString()))),kr){var jr=er.toString({parenthesis:"all"});jr!==Tr&&(console.log("Applying",Er,"produced",jr),Tr=jr)}qt(er,Sr.context)}xr=er.toString({parenthesis:"all"})}return er}function dr(nr,cr,gr){var Sr=nr;if(nr)for(var kr=0;kr<nr.length;++kr){var er=_r(nr[kr],cr,gr);er!==nr[kr]&&(Sr===nr&&(Sr=nr.slice()),Sr[kr]=er)}return Sr}function _r(nr,cr,gr){if(cr.assuming){for(var Sr in cr.assuming)for(var kr in cr.assuming[Sr])if(It(Sr,kr,gr)!==cr.assuming[Sr][kr])return nr}var er=Xt(cr.imposeContext,gr),ar=nr;if(ar instanceof Ft||ar instanceof kt){var xr=dr(ar.args,cr,gr);xr!==ar.args&&(ar=ar.clone(),ar.args=xr)}else if(ar instanceof Lt){if(ar.content){var Tr=_r(ar.content,cr,gr);Tr!==ar.content&&(ar=new Lt(Tr))}}else if(ar instanceof _t){var Fr=dr(ar.items,cr,gr);Fr!==ar.items&&(ar=new _t(Fr))}else if(ar instanceof $t){var Er=ar.object;ar.object&&(Er=_r(ar.object,cr,gr));var jr=ar.index;ar.index&&(jr=_r(ar.index,cr,gr)),(Er!==ar.object||jr!==ar.index)&&(ar=new $t(Er,jr))}else if(ar instanceof At){var Kr=dr(ar.dimensions,cr,gr);Kr!==ar.dimensions&&(ar=new At(Kr))}else if(ar instanceof Bt){var Xr=!1,Hr={};for(var gn in ar.properties)Hr[gn]=_r(ar.properties[gn],cr,gr),Hr[gn]!==ar.properties[gn]&&(Xr=!0);Xr&&(ar=new Bt(Hr))}var xn=cr.r,hn=ir(cr.l,ar,er)[0];if(!hn&&cr.expanded&&(xn=cr.expanded.r,hn=ir(cr.expanded.l,ar,er)[0]),!hn&&cr.expandedNC1&&(xn=cr.expandedNC1.r,hn=ir(cr.expandedNC1.l,ar,er)[0],hn||(xn=cr.expandedNC2.r,hn=ir(cr.expandedNC2.l,ar,er)[0])),hn){var Ar=ar.implicit;ar=xn.clone(),Ar&&"implicit"in xn&&(ar.implicit=!0),ar=ar.transform(function(_n){return _n.isSymbolNode&&hasOwnProperty$1(hn.placeholders,_n.name)?hn.placeholders[_n.name].clone():_n})}return cr.repeat&&ar!==nr&&(ar=_r(ar,cr,gr)),ar}function zr(nr,cr){var gr=[],Sr,kr,er=Zt(nr);if(Rt(nr,cr))for(var ar=0;ar<nr.args.length;ar++)kr=nr.args.slice(0),kr.splice(ar,1),Sr=kr.length===1?kr[0]:er(kr),gr.push(er([nr.args[ar],Sr]));else for(var xr=1;xr<nr.args.length;xr++){var Tr=nr.args[0];xr>1&&(Tr=er(nr.args.slice(0,xr))),kr=nr.args.slice(xr),Sr=kr.length===1?kr[0]:er(kr),gr.push(er([Tr,Sr]))}return gr}function yr(nr,cr){var gr={placeholders:{}};if(!nr.placeholders&&!cr.placeholders)return gr;if(nr.placeholders){if(!cr.placeholders)return nr}else return cr;for(var Sr in nr.placeholders)if(hasOwnProperty$1(nr.placeholders,Sr)&&(gr.placeholders[Sr]=nr.placeholders[Sr],hasOwnProperty$1(cr.placeholders,Sr)&&!br(nr.placeholders[Sr],cr.placeholders[Sr])))return null;for(var kr in cr.placeholders)hasOwnProperty$1(cr.placeholders,kr)&&(gr.placeholders[kr]=cr.placeholders[kr]);return gr}function Lr(nr,cr){var gr=[];if(nr.length===0||cr.length===0)return gr;for(var Sr,kr=0;kr<nr.length;kr++)for(var er=0;er<cr.length;er++)Sr=yr(nr[kr],cr[er]),Sr&&gr.push(Sr);return gr}function tr(nr){if(nr.length===0)return nr;for(var cr=nr.reduce(Lr),gr=[],Sr={},kr=0;kr<cr.length;kr++){var er=JSON.stringify(cr[kr]);Sr[er]||(Sr[er]=!0,gr.push(cr[kr]))}return gr}function ir(nr,cr,gr,Sr){var kr=[{placeholders:{}}];if(nr instanceof Ft&&cr instanceof Ft||nr instanceof kt&&cr instanceof kt){if(nr instanceof Ft){if(nr.op!==cr.op||nr.fn!==cr.fn)return[]}else if(nr instanceof kt&&nr.name!==cr.name)return[];if(cr.args.length===1&&nr.args.length===1||!Vt(cr,gr)&&cr.args.length===nr.args.length||Sr){for(var er=[],ar=0;ar<nr.args.length;ar++){var xr=ir(nr.args[ar],cr.args[ar],gr);if(xr.length===0)break;er.push(xr)}if(er.length!==nr.args.length){if(!Rt(cr,gr)||nr.args.length===1)return[];if(nr.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var Tr=ir(nr.args[0],cr.args[1],gr);if(Tr.length===0)return[];var Fr=ir(nr.args[1],cr.args[0],gr);if(Fr.length===0)return[];er=[Tr,Fr]}kr=tr(er)}else if(cr.args.length>=2&&nr.args.length===2){for(var Er=zr(cr,gr),jr=[],Kr=0;Kr<Er.length;Kr++){var Xr=ir(nr,Er[Kr],gr,!0);jr=jr.concat(Xr)}return jr}else{if(nr.args.length>2)throw Error("Unexpected non-binary associative function: "+nr.toString());return[]}}else if(nr instanceof Ot){if(nr.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(ur[nr.name]){if(nr.name!==cr.name)return[]}else switch(nr.name[1]>="a"&&nr.name[1]<="z"?nr.name.substring(0,2):nr.name[0]){case"n":case"_p":kr[0].placeholders[nr.name]=cr;break;case"c":case"cl":if(isConstantNode(cr))kr[0].placeholders[nr.name]=cr;else return[];break;case"v":if(!isConstantNode(cr))kr[0].placeholders[nr.name]=cr;else return[];break;case"vl":if(isSymbolNode(cr))kr[0].placeholders[nr.name]=cr;else return[];break;case"cd":if(isNumericNode(cr))kr[0].placeholders[nr.name]=cr;else return[];break;case"vd":if(!isNumericNode(cr))kr[0].placeholders[nr.name]=cr;else return[];break;case"ce":if(isConstantExpression(cr))kr[0].placeholders[nr.name]=cr;else return[];break;case"ve":if(!isConstantExpression(cr))kr[0].placeholders[nr.name]=cr;else return[];break;default:throw new Error("Invalid symbol in rule: "+nr.name)}}else if(nr instanceof Nt){if(!vt(nr.value,cr.value))return[]}else return[];return kr}function br(nr,cr){if(nr instanceof Nt&&cr instanceof Nt){if(!vt(nr.value,cr.value))return!1}else if(nr instanceof Ot&&cr instanceof Ot){if(nr.name!==cr.name)return!1}else if(nr instanceof Ft&&cr instanceof Ft||nr instanceof kt&&cr instanceof kt){if(nr instanceof Ft){if(nr.op!==cr.op||nr.fn!==cr.fn)return!1}else if(nr instanceof kt&&nr.name!==cr.name)return!1;if(nr.args.length!==cr.args.length)return!1;for(var gr=0;gr<nr.args.length;gr++)if(!br(nr.args[gr],cr.args[gr]))return!1}else return!1;return!0}return rr}),name$s="simplifyConstant",dependencies$s=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],createSimplifyConstant=factory(name$s,dependencies$s,s=>{var{typed:h,config:g,mathWithTransform:it,matrix:ut,fraction:ct,bignumber:dt,AccessorNode:ht,ArrayNode:pt,ConstantNode:mt,FunctionNode:vt,IndexNode:gt,ObjectNode:yt,OperatorNode:bt,SymbolNode:wt}=s,{isCommutative:Et,isAssociative:Mt,allChildren:Dt,createMakeNodeFunction:$t}=createUtil({FunctionNode:vt,OperatorNode:bt,SymbolNode:wt}),_t=h("simplifyConstant",{Node:Wt=>Bt(Xt(Wt,{})),"Node, Object":function(jt,qt){return Bt(Xt(jt,qt))}});function Nt(Wt){return isFraction(Wt)?Wt.valueOf():Wt instanceof Array?Wt.map(Nt):isMatrix(Wt)?ut(Nt(Wt.valueOf())):Wt}function kt(Wt,jt,qt){try{return it[Wt].apply(null,jt)}catch{return jt=jt.map(Nt),Lt(it[Wt].apply(null,jt),qt)}}var At=h({Fraction:It,number:function(jt){return jt<0?Ot(new mt(-jt)):new mt(jt)},BigNumber:function(jt){return jt<0?Ot(new mt(-jt)):new mt(jt)},Complex:function(jt){throw new Error("Cannot convert Complex number to Node")},string:function(jt){return new mt(jt)},Matrix:function(jt){return new pt(jt.valueOf().map(qt=>At(qt)))}});function Bt(Wt){return isNode(Wt)?Wt:At(Wt)}function Ft(Wt,jt){var qt=jt&&jt.exactFractions!==!1;if(qt&&isFinite(Wt)&&ct){var Zt=ct(Wt),Ut=jt&&typeof jt.fractionsLimit=="number"?jt.fractionsLimit:1/0;if(Zt.valueOf()===Wt&&Zt.n<Ut&&Zt.d<Ut)return Zt}return Wt}var Lt=h({"string, Object":function(jt,qt){if(g.number==="BigNumber")return dt===void 0&&noBignumber(),dt(jt);if(g.number==="Fraction")return ct===void 0&&noFraction(),ct(jt);var Zt=parseFloat(jt);return Ft(Zt,qt)},"Fraction, Object":function(jt,qt){return jt},"BigNumber, Object":function(jt,qt){return jt},"number, Object":function(jt,qt){return Ft(jt,qt)},"Complex, Object":function(jt,qt){return jt.im!==0?jt:Ft(jt.re,qt)},"Matrix, Object":function(jt,qt){return ut(Ft(jt.valueOf()))},"Array, Object":function(jt,qt){return jt.map(Ft)}});function Ot(Wt){return new bt("-","unaryMinus",[Wt])}function It(Wt){var jt,qt=Wt.s*Wt.n;return qt<0?jt=new bt("-","unaryMinus",[new mt(-qt)]):jt=new mt(qt),Wt.d===1?jt:new bt("/","divide",[jt,new mt(Wt.d)])}function Rt(Wt,jt,qt){if(!isIndexNode(jt))return new ht(Bt(Wt),Bt(jt));if(isArrayNode(Wt)||isMatrix(Wt)){for(var Zt=Array.from(jt.dimensions);Zt.length>0;)if(isConstantNode(Zt[0])&&typeof Zt[0].value!="string"){var Ut=Lt(Zt.shift().value,qt);isArrayNode(Wt)?Wt=Wt.items[Ut-1]:(Wt=Wt.valueOf()[Ut-1],Wt instanceof Array&&(Wt=ut(Wt)))}else if(Zt.length>1&&isConstantNode(Zt[1])&&typeof Zt[1].value!="string"){var Yt=Lt(Zt[1].value,qt),lr=[],rr=isArrayNode(Wt)?Wt.items:Wt.valueOf();for(var Qt of rr)if(isArrayNode(Qt))lr.push(Qt.items[Yt-1]);else if(isMatrix(Wt))lr.push(Qt[Yt-1]);else break;if(lr.length===rr.length)isArrayNode(Wt)?Wt=new pt(lr):Wt=ut(lr),Zt.splice(1,1);else break}else break;return Zt.length===jt.dimensions.length?new ht(Bt(Wt),jt):Zt.length>0?(jt=new gt(Zt),new ht(Bt(Wt),jt)):Wt}if(isObjectNode(Wt)&&jt.dimensions.length===1&&isConstantNode(jt.dimensions[0])){var ur=jt.dimensions[0].value;return ur in Wt.properties?Wt.properties[ur]:new mt}return new ht(Bt(Wt),jt)}function Vt(Wt,jt,qt,Zt){var Ut=jt.shift(),Yt=jt.reduce((lr,rr)=>{if(!isNode(rr)){var Qt=lr.pop();if(isNode(Qt))return[Qt,rr];try{return lr.push(kt(Wt,[Qt,rr],Zt)),lr}catch{lr.push(Qt)}}lr.push(Bt(lr.pop()));var ur=lr.length===1?lr[0]:qt(lr);return[qt([ur,Bt(rr)])]},[Ut]);return Yt.length===1?Yt[0]:qt([Yt[0],At(Yt[1])])}function Xt(Wt,jt){switch(Wt.type){case"SymbolNode":return Wt;case"ConstantNode":switch(typeof Wt.value){case"number":return Lt(Wt.value,jt);case"string":return Wt.value;default:if(!isNaN(Wt.value))return Lt(Wt.value,jt)}return Wt;case"FunctionNode":if(it[Wt.name]&&it[Wt.name].rawArgs)return Wt;{var qt=["add","multiply"];if(qt.indexOf(Wt.name)===-1){var Zt=Wt.args.map(_r=>Xt(_r,jt));if(!Zt.some(isNode))try{return kt(Wt.name,Zt,jt)}catch{}if(Wt.name==="size"&&Zt.length===1&&isArrayNode(Zt[0])){for(var Ut=[],Yt=Zt[0];isArrayNode(Yt);)Ut.push(Yt.items.length),Yt=Yt.items[0];return ut(Ut)}return new vt(Wt.name,Zt.map(Bt))}}case"OperatorNode":{var lr=Wt.fn.toString(),rr,Qt,ur=$t(Wt);if(isOperatorNode(Wt)&&Wt.isUnary())rr=[Xt(Wt.args[0],jt)],isNode(rr[0])?Qt=ur(rr):Qt=kt(lr,rr,jt);else if(Mt(Wt,jt.context))if(rr=Dt(Wt,jt.context),rr=rr.map(_r=>Xt(_r,jt)),Et(lr,jt.context)){for(var wr=[],vr=[],Dr=0;Dr<rr.length;Dr++)isNode(rr[Dr])?vr.push(rr[Dr]):wr.push(rr[Dr]);wr.length>1?(Qt=Vt(lr,wr,ur,jt),vr.unshift(Qt),Qt=Vt(lr,vr,ur,jt)):Qt=Vt(lr,rr,ur,jt)}else Qt=Vt(lr,rr,ur,jt);else rr=Wt.args.map(_r=>Xt(_r,jt)),Qt=Vt(lr,rr,ur,jt);return Qt}case"ParenthesisNode":return Xt(Wt.content,jt);case"AccessorNode":return Rt(Xt(Wt.object,jt),Xt(Wt.index,jt),jt);case"ArrayNode":{var Or=Wt.items.map(_r=>Xt(_r,jt));return Or.some(isNode)?new pt(Or.map(Bt)):ut(Or)}case"IndexNode":return new gt(Wt.dimensions.map(_r=>_t(_r,jt)));case"ObjectNode":{var Mr={};for(var dr in Wt.properties)Mr[dr]=_t(Wt.properties[dr],jt);return new yt(Mr)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(Wt.type))}}return _t}),name$r="simplifyCore",dependencies$r=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],createSimplifyCore=factory(name$r,dependencies$r,s=>{var{typed:h,parse:g,equal:it,isZero:ut,add:ct,subtract:dt,multiply:ht,divide:pt,pow:mt,AccessorNode:vt,ArrayNode:gt,ConstantNode:yt,FunctionNode:bt,IndexNode:wt,ObjectNode:Et,OperatorNode:Mt,ParenthesisNode:Dt,SymbolNode:$t}=s,_t=new yt(0),Nt=new yt(1),kt=new yt(!0),At=new yt(!1);function Bt(It){return isOperatorNode(It)&&["and","not","or"].includes(It.op)}var{hasProperty:Ft,isCommutative:Lt}=createUtil({FunctionNode:bt,OperatorNode:Mt,SymbolNode:$t});function Ot(It){var Rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Vt=Rt?Rt.context:void 0;if(Ft(It,"trivial",Vt)){if(isFunctionNode(It)&&It.args.length===1)return Ot(It.args[0],Rt);var Xt=!1,Wt=0;if(It.forEach(vr=>{++Wt,Wt===1&&(Xt=Ot(vr,Rt))}),Wt===1)return Xt}var jt=It;if(isFunctionNode(jt)){var qt=getOperator(jt.name);if(qt){if(jt.args.length>2&&Ft(jt,"associative",Vt))for(;jt.args.length>2;){var Zt=jt.args.pop(),Ut=jt.args.pop();jt.args.push(new Mt(qt,jt.name,[Zt,Ut]))}jt=new Mt(qt,jt.name,jt.args)}else return new bt(Ot(jt.fn),jt.args.map(vr=>Ot(vr,Rt)))}if(isOperatorNode(jt)&&jt.isUnary()){var Yt=Ot(jt.args[0],Rt);if(jt.op==="~"&&isOperatorNode(Yt)&&Yt.isUnary()&&Yt.op==="~"||jt.op==="not"&&isOperatorNode(Yt)&&Yt.isUnary()&&Yt.op==="not"&&Bt(Yt.args[0]))return Yt.args[0];var lr=!0;if(jt.op==="-"&&isOperatorNode(Yt)&&(Yt.isBinary()&&Yt.fn==="subtract"&&(jt=new Mt("-","subtract",[Yt.args[1],Yt.args[0]]),lr=!1),Yt.isUnary()&&Yt.op==="-"))return Yt.args[0];if(lr)return new Mt(jt.op,jt.fn,[Yt])}if(isOperatorNode(jt)&&jt.isBinary()){var rr=Ot(jt.args[0],Rt),Qt=Ot(jt.args[1],Rt);if(jt.op==="+"){if(isConstantNode(rr)&&ut(rr.value))return Qt;if(isConstantNode(Qt)&&ut(Qt.value))return rr;isOperatorNode(Qt)&&Qt.isUnary()&&Qt.op==="-"&&(Qt=Qt.args[0],jt=new Mt("-","subtract",[rr,Qt]))}if(jt.op==="-")return isOperatorNode(Qt)&&Qt.isUnary()&&Qt.op==="-"?Ot(new Mt("+","add",[rr,Qt.args[0]]),Rt):isConstantNode(rr)&&ut(rr.value)?Ot(new Mt("-","unaryMinus",[Qt])):isConstantNode(Qt)&&ut(Qt.value)?rr:new Mt(jt.op,jt.fn,[rr,Qt]);if(jt.op==="*"){if(isConstantNode(rr)){if(ut(rr.value))return _t;if(it(rr.value,1))return Qt}if(isConstantNode(Qt)){if(ut(Qt.value))return _t;if(it(Qt.value,1))return rr;if(Lt(jt,Vt))return new Mt(jt.op,jt.fn,[Qt,rr],jt.implicit)}return new Mt(jt.op,jt.fn,[rr,Qt],jt.implicit)}if(jt.op==="/")return isConstantNode(rr)&&ut(rr.value)?_t:isConstantNode(Qt)&&it(Qt.value,1)?rr:new Mt(jt.op,jt.fn,[rr,Qt]);if(jt.op==="^"&&isConstantNode(Qt)){if(ut(Qt.value))return Nt;if(it(Qt.value,1))return rr}if(jt.op==="and"){if(isConstantNode(rr))if(rr.value){if(Bt(Qt))return Qt}else return At;if(isConstantNode(Qt))if(Qt.value){if(Bt(rr))return rr}else return At}if(jt.op==="or"){if(isConstantNode(rr)){if(rr.value)return kt;if(Bt(Qt))return Qt}if(isConstantNode(Qt)){if(Qt.value)return kt;if(Bt(rr))return rr}}return new Mt(jt.op,jt.fn,[rr,Qt])}if(isOperatorNode(jt))return new Mt(jt.op,jt.fn,jt.args.map(vr=>Ot(vr,Rt)));if(isArrayNode(jt))return new gt(jt.items.map(vr=>Ot(vr,Rt)));if(isAccessorNode(jt))return new vt(Ot(jt.object,Rt),Ot(jt.index,Rt));if(isIndexNode(jt))return new wt(jt.dimensions.map(vr=>Ot(vr,Rt)));if(isObjectNode(jt)){var ur={};for(var wr in jt.properties)ur[wr]=Ot(jt.properties[wr],Rt);return new Et(ur)}return jt}return h(name$r,{Node:Ot,"Node,Object":Ot})}),name$q="resolve",dependencies$q=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],createResolve=factory(name$q,dependencies$q,s=>{var{typed:h,parse:g,ConstantNode:it,FunctionNode:ut,OperatorNode:ct,ParenthesisNode:dt}=s;function ht(pt,mt){var vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!mt)return pt;if(isSymbolNode(pt)){if(vt.has(pt.name)){var gt=Array.from(vt).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(gt,"}"))}var yt=mt.get(pt.name);if(isNode(yt)){var bt=new Set(vt);return bt.add(pt.name),ht(yt,mt,bt)}else return typeof yt=="number"?g(String(yt)):yt!==void 0?new it(yt):pt}else if(isOperatorNode(pt)){var wt=pt.args.map(function(Mt){return ht(Mt,mt,vt)});return new ct(pt.op,pt.fn,wt,pt.implicit)}else{if(isParenthesisNode(pt))return new dt(ht(pt.content,mt,vt));if(isFunctionNode(pt)){var Et=pt.args.map(function(Mt){return ht(Mt,mt,vt)});return new ut(pt.name,Et)}}return pt.map(Mt=>ht(Mt,mt,vt))}return h("resolve",{Node:ht,"Node, Map | null | undefined":ht,"Node, Object":(pt,mt)=>ht(pt,createMap$1(mt)),"Array | Matrix":h.referToSelf(pt=>mt=>mt.map(vt=>pt(vt))),"Array | Matrix, null | undefined":h.referToSelf(pt=>mt=>mt.map(vt=>pt(vt))),"Array, Object":h.referTo("Array,Map",pt=>(mt,vt)=>pt(mt,createMap$1(vt))),"Matrix, Object":h.referTo("Matrix,Map",pt=>(mt,vt)=>pt(mt,createMap$1(vt))),"Array | Matrix, Map":h.referToSelf(pt=>(mt,vt)=>mt.map(gt=>pt(gt,vt)))})}),name$p="symbolicEqual",dependencies$p=["parse","simplify","typed","OperatorNode"],createSymbolicEqual=factory(name$p,dependencies$p,s=>{var{parse:h,simplify:g,typed:it,OperatorNode:ut}=s;function ct(dt,ht){var pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},mt=new ut("-","subtract",[dt,ht]),vt=g(mt,{},pt);return isConstantNode(vt)&&!vt.value}return it(name$p,{"Node, Node":ct,"Node, Node, Object":ct})}),name$o="derivative",dependencies$o=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],createDerivative=factory(name$o,dependencies$o,s=>{var{typed:h,config:g,parse:it,simplify:ut,equal:ct,isZero:dt,numeric:ht,ConstantNode:pt,FunctionNode:mt,OperatorNode:vt,ParenthesisNode:gt,SymbolNode:yt}=s;function bt(Nt,kt){var At=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},Bt={};Mt(Bt,Nt,kt.name);var Ft=Dt(Nt,Bt);return At.simplify?ut(Ft):Ft}h.addConversion({from:"identifier",to:"SymbolNode",convert:it});var wt=h(name$o,{"Node, SymbolNode":bt,"Node, SymbolNode, Object":bt});h.removeConversion({from:"identifier",to:"SymbolNode",convert:it}),wt._simplify=!0,wt.toTex=function(Nt){return Et.apply(null,Nt.args)};var Et=h("_derivTex",{"Node, SymbolNode":function(kt,At){return isConstantNode(kt)&&typeOf$1(kt.value)==="string"?Et(it(kt.value).toString(),At.toString(),1):Et(kt.toTex(),At.toString(),1)},"Node, ConstantNode":function(kt,At){if(typeOf$1(At.value)==="string")return Et(kt,it(At.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(kt,At,Bt){return Et(kt.toString(),At.name,Bt.value)},"string, string, number":function(kt,At,Bt){var Ft;return Bt===1?Ft="{d\\over d"+At+"}":Ft="{d^{"+Bt+"}\\over d"+At+"^{"+Bt+"}}",Ft+"\\left[".concat(kt,"\\right]")}}),Mt=h("constTag",{"Object, ConstantNode, string":function(kt,At){return kt[At]=!0,!0},"Object, SymbolNode, string":function(kt,At,Bt){return At.name!==Bt?(kt[At]=!0,!0):!1},"Object, ParenthesisNode, string":function(kt,At,Bt){return Mt(kt,At.content,Bt)},"Object, FunctionAssignmentNode, string":function(kt,At,Bt){return At.params.indexOf(Bt)===-1?(kt[At]=!0,!0):Mt(kt,At.expr,Bt)},"Object, FunctionNode | OperatorNode, string":function(kt,At,Bt){if(At.args.length>0){for(var Ft=Mt(kt,At.args[0],Bt),Lt=1;Lt<At.args.length;++Lt)Ft=Mt(kt,At.args[Lt],Bt)&&Ft;if(Ft)return kt[At]=!0,!0}return!1}}),Dt=h("_derivative",{"ConstantNode, Object":function(kt){return _t(0)},"SymbolNode, Object":function(kt,At){return At[kt]!==void 0?_t(0):_t(1)},"ParenthesisNode, Object":function(kt,At){return new gt(Dt(kt.content,At))},"FunctionAssignmentNode, Object":function(kt,At){return At[kt]!==void 0?_t(0):Dt(kt.expr,At)},"FunctionNode, Object":function(kt,At){if(kt.args.length!==1&&$t(kt),At[kt]!==void 0)return _t(0);var Bt=kt.args[0],Ft,Lt=!1,Ot=!1,It;switch(kt.name){case"cbrt":Lt=!0,It=new vt("*","multiply",[_t(3),new vt("^","pow",[Bt,new vt("/","divide",[_t(2),_t(3)])])]);break;case"sqrt":case"nthRoot":if(kt.args.length===1)Lt=!0,It=new vt("*","multiply",[_t(2),new mt("sqrt",[Bt])]);else if(kt.args.length===2)return Ft=new vt("/","divide",[_t(1),kt.args[1]]),At[Ft]=At[kt.args[1]],Dt(new vt("^","pow",[Bt,Ft]),At);break;case"log10":Ft=_t(10);case"log":if(!Ft&&kt.args.length===1)It=Bt.clone(),Lt=!0;else if(kt.args.length===1&&Ft||kt.args.length===2&&At[kt.args[1]]!==void 0)It=new vt("*","multiply",[Bt.clone(),new mt("log",[Ft||kt.args[1]])]),Lt=!0;else if(kt.args.length===2)return Dt(new vt("/","divide",[new mt("log",[Bt]),new mt("log",[kt.args[1]])]),At);break;case"pow":return At[Ft]=At[kt.args[1]],Dt(new vt("^","pow",[Bt,kt.args[1]]),At);case"exp":It=new mt("exp",[Bt.clone()]);break;case"sin":It=new mt("cos",[Bt.clone()]);break;case"cos":It=new vt("-","unaryMinus",[new mt("sin",[Bt.clone()])]);break;case"tan":It=new vt("^","pow",[new mt("sec",[Bt.clone()]),_t(2)]);break;case"sec":It=new vt("*","multiply",[kt,new mt("tan",[Bt.clone()])]);break;case"csc":Ot=!0,It=new vt("*","multiply",[kt,new mt("cot",[Bt.clone()])]);break;case"cot":Ot=!0,It=new vt("^","pow",[new mt("csc",[Bt.clone()]),_t(2)]);break;case"asin":Lt=!0,It=new mt("sqrt",[new vt("-","subtract",[_t(1),new vt("^","pow",[Bt.clone(),_t(2)])])]);break;case"acos":Lt=!0,Ot=!0,It=new mt("sqrt",[new vt("-","subtract",[_t(1),new vt("^","pow",[Bt.clone(),_t(2)])])]);break;case"atan":Lt=!0,It=new vt("+","add",[new vt("^","pow",[Bt.clone(),_t(2)]),_t(1)]);break;case"asec":Lt=!0,It=new vt("*","multiply",[new mt("abs",[Bt.clone()]),new mt("sqrt",[new vt("-","subtract",[new vt("^","pow",[Bt.clone(),_t(2)]),_t(1)])])]);break;case"acsc":Lt=!0,Ot=!0,It=new vt("*","multiply",[new mt("abs",[Bt.clone()]),new mt("sqrt",[new vt("-","subtract",[new vt("^","pow",[Bt.clone(),_t(2)]),_t(1)])])]);break;case"acot":Lt=!0,Ot=!0,It=new vt("+","add",[new vt("^","pow",[Bt.clone(),_t(2)]),_t(1)]);break;case"sinh":It=new mt("cosh",[Bt.clone()]);break;case"cosh":It=new mt("sinh",[Bt.clone()]);break;case"tanh":It=new vt("^","pow",[new mt("sech",[Bt.clone()]),_t(2)]);break;case"sech":Ot=!0,It=new vt("*","multiply",[kt,new mt("tanh",[Bt.clone()])]);break;case"csch":Ot=!0,It=new vt("*","multiply",[kt,new mt("coth",[Bt.clone()])]);break;case"coth":Ot=!0,It=new vt("^","pow",[new mt("csch",[Bt.clone()]),_t(2)]);break;case"asinh":Lt=!0,It=new mt("sqrt",[new vt("+","add",[new vt("^","pow",[Bt.clone(),_t(2)]),_t(1)])]);break;case"acosh":Lt=!0,It=new mt("sqrt",[new vt("-","subtract",[new vt("^","pow",[Bt.clone(),_t(2)]),_t(1)])]);break;case"atanh":Lt=!0,It=new vt("-","subtract",[_t(1),new vt("^","pow",[Bt.clone(),_t(2)])]);break;case"asech":Lt=!0,Ot=!0,It=new vt("*","multiply",[Bt.clone(),new mt("sqrt",[new vt("-","subtract",[_t(1),new vt("^","pow",[Bt.clone(),_t(2)])])])]);break;case"acsch":Lt=!0,Ot=!0,It=new vt("*","multiply",[new mt("abs",[Bt.clone()]),new mt("sqrt",[new vt("+","add",[new vt("^","pow",[Bt.clone(),_t(2)]),_t(1)])])]);break;case"acoth":Lt=!0,Ot=!0,It=new vt("-","subtract",[_t(1),new vt("^","pow",[Bt.clone(),_t(2)])]);break;case"abs":It=new vt("/","divide",[new mt(new yt("abs"),[Bt.clone()]),Bt.clone()]);break;case"gamma":default:throw new Error('Function "'+kt.name+'" is not supported by derivative, or a wrong number of arguments is passed')}var Rt,Vt;Lt?(Rt="/",Vt="divide"):(Rt="*",Vt="multiply");var Xt=Dt(Bt,At);return Ot&&(Xt=new vt("-","unaryMinus",[Xt])),new vt(Rt,Vt,[Xt,It])},"OperatorNode, Object":function(kt,At){if(At[kt]!==void 0)return _t(0);if(kt.op==="+")return new vt(kt.op,kt.fn,kt.args.map(function(jt){return Dt(jt,At)}));if(kt.op==="-"){if(kt.isUnary())return new vt(kt.op,kt.fn,[Dt(kt.args[0],At)]);if(kt.isBinary())return new vt(kt.op,kt.fn,[Dt(kt.args[0],At),Dt(kt.args[1],At)])}if(kt.op==="*"){var Bt=kt.args.filter(function(jt){return At[jt]!==void 0});if(Bt.length>0){var Ft=kt.args.filter(function(jt){return At[jt]===void 0}),Lt=Ft.length===1?Ft[0]:new vt("*","multiply",Ft),Ot=Bt.concat(Dt(Lt,At));return new vt("*","multiply",Ot)}return new vt("+","add",kt.args.map(function(jt){return new vt("*","multiply",kt.args.map(function(qt){return qt===jt?Dt(qt,At):qt.clone()}))}))}if(kt.op==="/"&&kt.isBinary()){var It=kt.args[0],Rt=kt.args[1];return At[Rt]!==void 0?new vt("/","divide",[Dt(It,At),Rt]):At[It]!==void 0?new vt("*","multiply",[new vt("-","unaryMinus",[It]),new vt("/","divide",[Dt(Rt,At),new vt("^","pow",[Rt.clone(),_t(2)])])]):new vt("/","divide",[new vt("-","subtract",[new vt("*","multiply",[Dt(It,At),Rt.clone()]),new vt("*","multiply",[It.clone(),Dt(Rt,At)])]),new vt("^","pow",[Rt.clone(),_t(2)])])}if(kt.op==="^"&&kt.isBinary()){var Vt=kt.args[0],Xt=kt.args[1];if(At[Vt]!==void 0)return isConstantNode(Vt)&&(dt(Vt.value)||ct(Vt.value,1))?_t(0):new vt("*","multiply",[kt,new vt("*","multiply",[new mt("log",[Vt.clone()]),Dt(Xt.clone(),At)])]);if(At[Xt]!==void 0){if(isConstantNode(Xt)){if(dt(Xt.value))return _t(0);if(ct(Xt.value,1))return Dt(Vt,At)}var Wt=new vt("^","pow",[Vt.clone(),new vt("-","subtract",[Xt,_t(1)])]);return new vt("*","multiply",[Xt.clone(),new vt("*","multiply",[Dt(Vt,At),Wt])])}return new vt("*","multiply",[new vt("^","pow",[Vt.clone(),Xt.clone()]),new vt("+","add",[new vt("*","multiply",[Dt(Vt,At),new vt("/","divide",[Xt.clone(),Vt.clone()])]),new vt("*","multiply",[Dt(Xt,At),new mt("log",[Vt.clone()])])])])}throw new Error('Operator "'+kt.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function $t(Nt){if(!((Nt.name==="log"||Nt.name==="nthRoot"||Nt.name==="pow")&&Nt.args.length===2)){for(var kt=0;kt<Nt.args.length;++kt)Nt.args[kt]=_t(0);throw Nt.compile().evaluate(),new Error("Expected TypeError, but none found")}}function _t(Nt,kt){return new pt(ht(Nt,kt||g.number))}return wt}),name$n="rationalize",dependencies$n=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],createRationalize=factory(name$n,dependencies$n,s=>{var{config:h,typed:g,equal:it,isZero:ut,add:ct,subtract:dt,multiply:ht,divide:pt,pow:mt,parse:vt,simplifyConstant:gt,simplifyCore:yt,simplify:bt,fraction:wt,bignumber:Et,mathWithTransform:Mt,matrix:Dt,AccessorNode:$t,ArrayNode:_t,ConstantNode:Nt,FunctionNode:kt,IndexNode:At,ObjectNode:Bt,OperatorNode:Ft,SymbolNode:Lt,ParenthesisNode:Ot}=s;function It(jt){var qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Zt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ut=Vt(),Yt=Rt(jt,qt,!0,Ut.firstRules),lr=Yt.variables.length,rr={exactFractions:!1},Qt={exactFractions:!0};if(jt=Yt.expression,lr>=1){jt=Xt(jt);var ur,wr,vr=!0,Dr=!1;jt=bt(jt,Ut.firstRules,{},rr);for(var Or;wr=vr?Ut.distrDivRules:Ut.sucDivRules,jt=bt(jt,wr,{},Qt),vr=!vr,Or=jt.toString(),Or!==ur;)Dr=!0,ur=Or;Dr&&(jt=bt(jt,Ut.firstRulesAgain,{},rr)),jt=bt(jt,Ut.finalRules,{},rr)}var Mr=[],dr={};return jt.type==="OperatorNode"&&jt.isBinary()&&jt.op==="/"?(lr===1&&(jt.args[0]=Wt(jt.args[0],Mr),jt.args[1]=Wt(jt.args[1])),Zt&&(dr.numerator=jt.args[0],dr.denominator=jt.args[1])):(lr===1&&(jt=Wt(jt,Mr)),Zt&&(dr.numerator=jt,dr.denominator=null)),Zt?(dr.coefficients=Mr,dr.variables=Yt.variables,dr.expression=jt,dr):jt}return g(name$n,{Node:It,"Node, boolean":(jt,qt)=>It(jt,{},qt),"Node, Object":It,"Node, Object, boolean":It});function Rt(jt,qt,Zt,Ut){var Yt=[],lr=bt(jt,Ut,qt,{exactFractions:!1});Zt=!!Zt;var rr="+-*"+(Zt?"/":"");ur(lr);var Qt={};return Qt.expression=lr,Qt.variables=Yt,Qt;function ur(wr){var vr=wr.type;if(vr==="FunctionNode")throw new Error("There is an unsolved function call");if(vr==="OperatorNode")if(wr.op==="^"){if(wr.args[1].type!=="ConstantNode"||!isInteger$1(parseFloat(wr.args[1].value)))throw new Error("There is a non-integer exponent");ur(wr.args[0])}else{if(rr.indexOf(wr.op)===-1)throw new Error("Operator "+wr.op+" invalid in polynomial expression");for(var Dr=0;Dr<wr.args.length;Dr++)ur(wr.args[Dr])}else if(vr==="SymbolNode"){var Or=wr.name,Mr=Yt.indexOf(Or);Mr===-1&&Yt.push(Or)}else if(vr==="ParenthesisNode")ur(wr.content);else if(vr!=="ConstantNode")throw new Error("type "+vr+" is not allowed in polynomial expression")}}function Vt(){var jt=[yt,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},gt,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],qt=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],Zt=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],Ut=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],Yt={};return Yt.firstRules=jt.concat(qt,Ut),Yt.distrDivRules=Zt,Yt.sucDivRules=Ut,Yt.firstRulesAgain=jt.concat(qt),Yt.finalRules=[yt,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},gt,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],Yt}function Xt(jt,qt,Zt){var Ut=jt.type,Yt=arguments.length>1;if(Ut==="OperatorNode"&&jt.isBinary()){var lr=!1,rr;if(jt.op==="^"&&(jt.args[0].type==="ParenthesisNode"||jt.args[0].type==="OperatorNode")&&jt.args[1].type==="ConstantNode"&&(rr=parseFloat(jt.args[1].value),lr=rr>=2&&isInteger$1(rr)),lr){if(rr>2){var Qt=jt.args[0],ur=new Ft("^","pow",[jt.args[0].cloneDeep(),new Nt(rr-1)]);jt=new Ft("*","multiply",[Qt,ur])}else jt=new Ft("*","multiply",[jt.args[0],jt.args[0].cloneDeep()]);Yt&&(Zt==="content"?qt.content=jt:qt.args[Zt]=jt)}}if(Ut==="ParenthesisNode")Xt(jt.content,jt,"content");else if(Ut!=="ConstantNode"&&Ut!=="SymbolNode")for(var wr=0;wr<jt.args.length;wr++)Xt(jt.args[wr],jt,wr);if(!Yt)return jt}function Wt(jt,qt){qt===void 0&&(qt=[]),qt[0]=0;var Zt={};Zt.cte=1,Zt.oper="+",Zt.fire="";var Ut=0,Yt="";Or(jt,null,Zt),Ut=qt.length-1;for(var lr=!0,rr,Qt=Ut;Qt>=0;Qt--)if(qt[Qt]!==0){var ur=new Nt(lr?qt[Qt]:Math.abs(qt[Qt])),wr=qt[Qt]<0?"-":"+";if(Qt>0){var vr=new Lt(Yt);if(Qt>1){var Dr=new Nt(Qt);vr=new Ft("^","pow",[vr,Dr])}qt[Qt]===-1&&lr?ur=new Ft("-","unaryMinus",[vr]):Math.abs(qt[Qt])===1?ur=vr:ur=new Ft("*","multiply",[ur,vr])}lr?rr=ur:wr==="+"?rr=new Ft("+","add",[rr,ur]):rr=new Ft("-","subtract",[rr,ur]),lr=!1}if(lr)return new Nt(0);return rr;function Or(Mr,dr,_r){var zr=Mr.type;if(zr==="FunctionNode")throw new Error("There is an unsolved function call");if(zr==="OperatorNode"){if("+-*^".indexOf(Mr.op)===-1)throw new Error("Operator "+Mr.op+" invalid");if(dr!==null){if((Mr.fn==="unaryMinus"||Mr.fn==="pow")&&dr.fn!=="add"&&dr.fn!=="subtract"&&dr.fn!=="multiply")throw new Error("Invalid "+Mr.op+" placing");if((Mr.fn==="subtract"||Mr.fn==="add"||Mr.fn==="multiply")&&dr.fn!=="add"&&dr.fn!=="subtract")throw new Error("Invalid "+Mr.op+" placing");if((Mr.fn==="subtract"||Mr.fn==="add"||Mr.fn==="unaryMinus")&&_r.noFil!==0)throw new Error("Invalid "+Mr.op+" placing")}(Mr.op==="^"||Mr.op==="*")&&(_r.fire=Mr.op);for(var yr=0;yr<Mr.args.length;yr++)Mr.fn==="unaryMinus"&&(_r.oper="-"),(Mr.op==="+"||Mr.fn==="subtract")&&(_r.fire="",_r.cte=1,_r.oper=yr===0?"+":Mr.op),_r.noFil=yr,Or(Mr.args[yr],Mr,_r)}else if(zr==="SymbolNode"){if(Mr.name!==Yt&&Yt!=="")throw new Error("There is more than one variable");if(Yt=Mr.name,dr===null){qt[1]=1;return}if(dr.op==="^"&&_r.noFil!==0)throw new Error("In power the variable should be the first parameter");if(dr.op==="*"&&_r.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(_r.fire===""||_r.fire==="*")&&(Ut<1&&(qt[1]=0),qt[1]+=_r.cte*(_r.oper==="+"?1:-1),Ut=Math.max(1,Ut))}else if(zr==="ConstantNode"){var Lr=parseFloat(Mr.value);if(dr===null){qt[0]=Lr;return}if(dr.op==="^"){if(_r.noFil!==1)throw new Error("Constant cannot be powered");if(!isInteger$1(Lr)||Lr<=0)throw new Error("Non-integer exponent is not allowed");for(var tr=Ut+1;tr<Lr;tr++)qt[tr]=0;Lr>Ut&&(qt[Lr]=0),qt[Lr]+=_r.cte*(_r.oper==="+"?1:-1),Ut=Math.max(Lr,Ut);return}_r.cte=Lr,_r.fire===""&&(qt[0]+=_r.cte*(_r.oper==="+"?1:-1))}else throw new Error("Type "+zr+" is not allowed")}}}),name$m="zpk2tf",dependencies$m=["typed","add","multiply","Complex","number"],createZpk2tf=factory(name$m,dependencies$m,s=>{var{typed:h,add:g,multiply:it,Complex:ut,number:ct}=s;return h(name$m,{"Array,Array,number":function(mt,vt,gt){return dt(mt,vt,gt)},"Array,Array":function(mt,vt){return dt(mt,vt,1)},"Matrix,Matrix,number":function(mt,vt,gt){return dt(mt.valueOf(),vt.valueOf(),gt)},"Matrix,Matrix":function(mt,vt){return dt(mt.valueOf(),vt.valueOf(),1)}});function dt(pt,mt,vt){pt.some($t=>$t.type==="BigNumber")&&(pt=pt.map($t=>ct($t))),mt.some($t=>$t.type==="BigNumber")&&(mt=mt.map($t=>ct($t)));for(var gt=[ut(1,0)],yt=[ut(1,0)],bt=0;bt<pt.length;bt++){var wt=pt[bt];typeof wt=="number"&&(wt=ut(wt,0)),gt=ht(gt,[ut(1,0),ut(-wt.re,-wt.im)])}for(var Et=0;Et<mt.length;Et++){var Mt=mt[Et];typeof Mt=="number"&&(Mt=ut(Mt,0)),yt=ht(yt,[ut(1,0),ut(-Mt.re,-Mt.im)])}for(var Dt=0;Dt<gt.length;Dt++)gt[Dt]=it(gt[Dt],vt);return[gt,yt]}function ht(pt,mt){for(var vt=[],gt=0;gt<pt.length+mt.length-1;gt++){vt[gt]=ut(0,0);for(var yt=0;yt<pt.length;yt++)gt-yt>=0&&gt-yt<mt.length&&(vt[gt]=g(vt[gt],it(pt[yt],mt[gt-yt])))}return vt}}),name$l="freqz",dependencies$l=["typed","add","multiply","Complex","divide","matrix"],createFreqz=factory(name$l,dependencies$l,s=>{var{typed:h,add:g,multiply:it,Complex:ut,divide:ct,matrix:dt}=s;return h(name$l,{"Array, Array":function(vt,gt){var yt=pt(512);return ht(vt,gt,yt)},"Array, Array, Array":function(vt,gt,yt){return ht(vt,gt,yt)},"Array, Array, number":function(vt,gt,yt){if(yt<0)throw new Error("w must be a positive number");var bt=pt(yt);return ht(vt,gt,bt)},"Matrix, Matrix":function(vt,gt){var yt=pt(512),{w:bt,h:wt}=ht(vt.valueOf(),gt.valueOf(),yt);return{w:dt(bt),h:dt(wt)}},"Matrix, Matrix, Matrix":function(vt,gt,yt){var{h:bt}=ht(vt.valueOf(),gt.valueOf(),yt.valueOf());return{h:dt(bt),w:dt(yt)}},"Matrix, Matrix, number":function(vt,gt,yt){if(yt<0)throw new Error("w must be a positive number");var bt=pt(yt),{h:wt}=ht(vt.valueOf(),gt.valueOf(),bt);return{h:dt(wt),w:dt(bt)}}});function ht(mt,vt,gt){for(var yt=[],bt=[],wt=0;wt<gt.length;wt++){for(var Et=ut(0,0),Mt=ut(0,0),Dt=0;Dt<mt.length;Dt++)Et=g(Et,it(mt[Dt],ut(Math.cos(-Dt*gt[wt]),Math.sin(-Dt*gt[wt]))));for(var $t=0;$t<vt.length;$t++)Mt=g(Mt,it(vt[$t],ut(Math.cos(-$t*gt[wt]),Math.sin(-$t*gt[wt]))));yt.push(Et),bt.push(Mt)}for(var _t=[],Nt=0;Nt<yt.length;Nt++)_t.push(ct(yt[Nt],bt[Nt]));return{h:_t,w:gt}}function pt(mt){for(var vt=[],gt=0;gt<mt;gt++)vt.push(gt/mt*Math.PI);return vt}}),name$k="reviver",dependencies$k=["classes"],createReviver=factory(name$k,dependencies$k,s=>{var{classes:h}=s;return function(it,ut){var ct=h[ut&&ut.mathjs];return ct&&typeof ct.fromJSON=="function"?ct.fromJSON(ut):ut}}),name$j="replacer",dependencies$j=[],createReplacer=factory(name$j,dependencies$j,()=>function(h,g){return typeof g=="number"&&(!isFinite(g)||isNaN(g))?{mathjs:"number",value:String(g)}:g}),version$1="11.11.0",createTrue=factory("true",[],()=>!0),createFalse=factory("false",[],()=>!1),createNull=factory("null",[],()=>null),createInfinity=recreateFactory("Infinity",["config","?BigNumber"],s=>{var{config:h,BigNumber:g}=s;return h.number==="BigNumber"?new g(1/0):1/0}),createNaN=recreateFactory("NaN",["config","?BigNumber"],s=>{var{config:h,BigNumber:g}=s;return h.number==="BigNumber"?new g(NaN):NaN}),createPi=recreateFactory("pi",["config","?BigNumber"],s=>{var{config:h,BigNumber:g}=s;return h.number==="BigNumber"?createBigNumberPi(g):pi$1}),createTau=recreateFactory("tau",["config","?BigNumber"],s=>{var{config:h,BigNumber:g}=s;return h.number==="BigNumber"?createBigNumberTau(g):tau$1}),createE=recreateFactory("e",["config","?BigNumber"],s=>{var{config:h,BigNumber:g}=s;return h.number==="BigNumber"?createBigNumberE(g):e$1}),createPhi=recreateFactory("phi",["config","?BigNumber"],s=>{var{config:h,BigNumber:g}=s;return h.number==="BigNumber"?createBigNumberPhi(g):phi$1}),createLN2=recreateFactory("LN2",["config","?BigNumber"],s=>{var{config:h,BigNumber:g}=s;return h.number==="BigNumber"?new g(2).ln():Math.LN2}),createLN10=recreateFactory("LN10",["config","?BigNumber"],s=>{var{config:h,BigNumber:g}=s;return h.number==="BigNumber"?new g(10).ln():Math.LN10}),createLOG2E=recreateFactory("LOG2E",["config","?BigNumber"],s=>{var{config:h,BigNumber:g}=s;return h.number==="BigNumber"?new g(1).div(new g(2).ln()):Math.LOG2E}),createLOG10E=recreateFactory("LOG10E",["config","?BigNumber"],s=>{var{config:h,BigNumber:g}=s;return h.number==="BigNumber"?new g(1).div(new g(10).ln()):Math.LOG10E}),createSQRT1_2=recreateFactory("SQRT1_2",["config","?BigNumber"],s=>{var{config:h,BigNumber:g}=s;return h.number==="BigNumber"?new g("0.5").sqrt():Math.SQRT1_2}),createSQRT2=recreateFactory("SQRT2",["config","?BigNumber"],s=>{var{config:h,BigNumber:g}=s;return h.number==="BigNumber"?new g(2).sqrt():Math.SQRT2}),createI=recreateFactory("i",["Complex"],s=>{var{Complex:h}=s;return h.I}),createVersion=factory("version",[],()=>version$1);function recreateFactory(s,h,g){return factory(s,h,g,{recreateOnConfigChange:!0})}var createSpeedOfLight=unitFactory("speedOfLight","299792458","m s^-1"),createGravitationConstant=unitFactory("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),createPlanckConstant=unitFactory("planckConstant","6.62607015e-34","J s"),createReducedPlanckConstant=unitFactory("reducedPlanckConstant","1.0545718176461565e-34","J s"),createMagneticConstant=unitFactory("magneticConstant","1.25663706212e-6","N A^-2"),createElectricConstant=unitFactory("electricConstant","8.8541878128e-12","F m^-1"),createVacuumImpedance=unitFactory("vacuumImpedance","376.730313667","ohm"),createCoulomb=unitFactory("coulomb","8.987551792261171e9","N m^2 C^-2"),createElementaryCharge=unitFactory("elementaryCharge","1.602176634e-19","C"),createBohrMagneton=unitFactory("bohrMagneton","9.2740100783e-24","J T^-1"),createConductanceQuantum=unitFactory("conductanceQuantum","7.748091729863649e-5","S"),createInverseConductanceQuantum=unitFactory("inverseConductanceQuantum","12906.403729652257","ohm"),createMagneticFluxQuantum=unitFactory("magneticFluxQuantum","2.0678338484619295e-15","Wb"),createNuclearMagneton=unitFactory("nuclearMagneton","5.0507837461e-27","J T^-1"),createKlitzing=unitFactory("klitzing","25812.807459304513","ohm"),createBohrRadius=unitFactory("bohrRadius","5.29177210903e-11","m"),createClassicalElectronRadius=unitFactory("classicalElectronRadius","2.8179403262e-15","m"),createElectronMass=unitFactory("electronMass","9.1093837015e-31","kg"),createFermiCoupling=unitFactory("fermiCoupling","1.1663787e-5","GeV^-2"),createFineStructure=numberFactory("fineStructure",.0072973525693),createHartreeEnergy=unitFactory("hartreeEnergy","4.3597447222071e-18","J"),createProtonMass=unitFactory("protonMass","1.67262192369e-27","kg"),createDeuteronMass=unitFactory("deuteronMass","3.3435830926e-27","kg"),createNeutronMass=unitFactory("neutronMass","1.6749271613e-27","kg"),createQuantumOfCirculation=unitFactory("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),createRydberg=unitFactory("rydberg","10973731.568160","m^-1"),createThomsonCrossSection=unitFactory("thomsonCrossSection","6.6524587321e-29","m^2"),createWeakMixingAngle=numberFactory("weakMixingAngle",.2229),createEfimovFactor=numberFactory("efimovFactor",22.7),createAtomicMass=unitFactory("atomicMass","1.66053906660e-27","kg"),createAvogadro=unitFactory("avogadro","6.02214076e23","mol^-1"),createBoltzmann=unitFactory("boltzmann","1.380649e-23","J K^-1"),createFaraday=unitFactory("faraday","96485.33212331001","C mol^-1"),createFirstRadiation=unitFactory("firstRadiation","3.7417718521927573e-16","W m^2"),createLoschmidt=unitFactory("loschmidt","2.686780111798444e25","m^-3"),createGasConstant=unitFactory("gasConstant","8.31446261815324","J K^-1 mol^-1"),createMolarPlanckConstant=unitFactory("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),createMolarVolume=unitFactory("molarVolume","0.022413969545014137","m^3 mol^-1"),createSackurTetrode=numberFactory("sackurTetrode",-1.16487052358),createSecondRadiation=unitFactory("secondRadiation","0.014387768775039337","m K"),createStefanBoltzmann=unitFactory("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),createWienDisplacement=unitFactory("wienDisplacement","2.897771955e-3","m K"),createMolarMass=unitFactory("molarMass","0.99999999965e-3","kg mol^-1"),createMolarMassC12=unitFactory("molarMassC12","11.9999999958e-3","kg mol^-1"),createGravity=unitFactory("gravity","9.80665","m s^-2"),createPlanckLength=unitFactory("planckLength","1.616255e-35","m"),createPlanckMass=unitFactory("planckMass","2.176435e-8","kg"),createPlanckTime=unitFactory("planckTime","5.391245e-44","s"),createPlanckCharge=unitFactory("planckCharge","1.87554603778e-18","C"),createPlanckTemperature=unitFactory("planckTemperature","1.416785e+32","K");function unitFactory(s,h,g){var it=["config","Unit","BigNumber"];return factory(s,it,ut=>{var{config:ct,Unit:dt,BigNumber:ht}=ut,pt=ct.number==="BigNumber"?new ht(h):parseFloat(h),mt=new dt(pt,g);return mt.fixPrefix=!0,mt})}function numberFactory(s,h){var g=["config","BigNumber"];return factory(s,g,it=>{var{config:ut,BigNumber:ct}=it;return ut.number==="BigNumber"?new ct(h):h})}var name$i="apply",dependencies$i=["typed","isInteger"],createApplyTransform=factory(name$i,dependencies$i,s=>{var{typed:h,isInteger:g}=s,it=createApply({typed:h,isInteger:g});return h("apply",{"...any":function(ct){var dt=ct[1];isNumber(dt)?ct[1]=dt-1:isBigNumber(dt)&&(ct[1]=dt.minus(1));try{return it.apply(null,ct)}catch(ht){throw errorTransform(ht)}}})},{isTransformFunction:!0}),name$h="column",dependencies$h=["typed","Index","matrix","range"],createColumnTransform=factory(name$h,dependencies$h,s=>{var{typed:h,Index:g,matrix:it,range:ut}=s,ct=createColumn({typed:h,Index:g,matrix:it,range:ut});return h("column",{"...any":function(ht){var pt=ht.length-1,mt=ht[pt];isNumber(mt)&&(ht[pt]=mt-1);try{return ct.apply(null,ht)}catch(vt){throw errorTransform(vt)}}})},{isTransformFunction:!0});function compileInlineExpression(s,h,g){var it=s.filter(function(ht){return isSymbolNode(ht)&&!(ht.name in h)&&!g.has(ht.name)})[0];if(!it)throw new Error('No undefined variable found in inline expression "'+s+'"');var ut=it.name,ct=createSubScope(g),dt=s.compile();return function(pt){return ct.set(ut,pt),dt.evaluate(ct)}}var name$g="filter",dependencies$g=["typed"],createFilterTransform=factory(name$g,dependencies$g,s=>{var{typed:h}=s;function g(ut,ct,dt){var ht,pt;return ut[0]&&(ht=ut[0].compile().evaluate(dt)),ut[1]&&(isSymbolNode(ut[1])||isFunctionAssignmentNode(ut[1])?pt=ut[1].compile().evaluate(dt):pt=compileInlineExpression(ut[1],ct,dt)),it(ht,pt)}g.rawArgs=!0;var it=h("filter",{"Array, function":_filter,"Matrix, function":function(ct,dt){return ct.create(_filter(ct.toArray(),dt))},"Array, RegExp":filterRegExp,"Matrix, RegExp":function(ct,dt){return ct.create(filterRegExp(ct.toArray(),dt))}});return g},{isTransformFunction:!0});function _filter(s,h){return filter$1(s,function(g,it,ut){return applyCallback(h,g,[it+1],ut,"filter")})}var name$f="forEach",dependencies$f=["typed"],createForEachTransform=factory(name$f,dependencies$f,s=>{var{typed:h}=s;function g(ut,ct,dt){var ht,pt;return ut[0]&&(ht=ut[0].compile().evaluate(dt)),ut[1]&&(isSymbolNode(ut[1])||isFunctionAssignmentNode(ut[1])?pt=ut[1].compile().evaluate(dt):pt=compileInlineExpression(ut[1],ct,dt)),it(ht,pt)}g.rawArgs=!0;var it=h("forEach",{"Array | Matrix, function":function(ct,dt){var ht=function pt(mt,vt){if(Array.isArray(mt))forEach$1(mt,function(gt,yt){pt(gt,vt.concat(yt+1))});else return applyCallback(dt,mt,vt,ct,"forEach")};ht(ct.valueOf(),[])}});return g},{isTransformFunction:!0}),name$e="index",dependencies$e=["Index","getMatrixDataType"],createIndexTransform=factory(name$e,dependencies$e,s=>{var{Index:h,getMatrixDataType:g}=s;return function(){for(var ut=[],ct=0,dt=arguments.length;ct<dt;ct++){var ht=arguments[ct];if(isRange(ht))ht.start--,ht.end-=ht.step>0?0:2;else if(ht&&ht.isSet===!0)ht=ht.map(function(mt){return mt-1});else if(isArray(ht)||isMatrix(ht))g(ht)!=="boolean"&&(ht=ht.map(function(mt){return mt-1}));else if(isNumber(ht))ht--;else if(isBigNumber(ht))ht=ht.toNumber()-1;else if(typeof ht!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");ut[ct]=ht}var pt=new h;return h.apply(pt,ut),pt}},{isTransformFunction:!0}),name$d="map",dependencies$d=["typed"],createMapTransform=factory(name$d,dependencies$d,s=>{var{typed:h}=s;function g(ut,ct,dt){var ht,pt;return ut[0]&&(ht=ut[0].compile().evaluate(dt)),ut[1]&&(isSymbolNode(ut[1])||isFunctionAssignmentNode(ut[1])?pt=ut[1].compile().evaluate(dt):pt=compileInlineExpression(ut[1],ct,dt)),it(ht,pt)}g.rawArgs=!0;var it=h("map",{"Array, function":function(ct,dt){return _map(ct,dt,ct)},"Matrix, function":function(ct,dt){return ct.create(_map(ct.valueOf(),dt,ct))}});return g},{isTransformFunction:!0});function _map(s,h,g){function it(ut,ct){return Array.isArray(ut)?map$1(ut,function(dt,ht){return it(dt,ct.concat(ht+1))}):applyCallback(h,ut,ct,g,"map")}return it(s,[])}function lastDimToZeroBase(s){if(s.length===2&&isCollection(s[0])){s=s.slice();var h=s[1];isNumber(h)?s[1]=h-1:isBigNumber(h)&&(s[1]=h.minus(1))}return s}var name$c="max",dependencies$c=["typed","config","numeric","larger"],createMaxTransform=factory(name$c,dependencies$c,s=>{var{typed:h,config:g,numeric:it,larger:ut}=s,ct=createMax({typed:h,config:g,numeric:it,larger:ut});return h("max",{"...any":function(ht){ht=lastDimToZeroBase(ht);try{return ct.apply(null,ht)}catch(pt){throw errorTransform(pt)}}})},{isTransformFunction:!0}),name$b="mean",dependencies$b=["typed","add","divide"],createMeanTransform=factory(name$b,dependencies$b,s=>{var{typed:h,add:g,divide:it}=s,ut=createMean({typed:h,add:g,divide:it});return h("mean",{"...any":function(dt){dt=lastDimToZeroBase(dt);try{return ut.apply(null,dt)}catch(ht){throw errorTransform(ht)}}})},{isTransformFunction:!0}),name$a="min",dependencies$a=["typed","config","numeric","smaller"],createMinTransform=factory(name$a,dependencies$a,s=>{var{typed:h,config:g,numeric:it,smaller:ut}=s,ct=createMin({typed:h,config:g,numeric:it,smaller:ut});return h("min",{"...any":function(ht){ht=lastDimToZeroBase(ht);try{return ct.apply(null,ht)}catch(pt){throw errorTransform(pt)}}})},{isTransformFunction:!0}),name$9="range",dependencies$9=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],createRangeTransform=factory(name$9,dependencies$9,s=>{var{typed:h,config:g,matrix:it,bignumber:ut,smaller:ct,smallerEq:dt,larger:ht,largerEq:pt,add:mt,isPositive:vt}=s,gt=createRange({typed:h,config:g,matrix:it,bignumber:ut,smaller:ct,smallerEq:dt,larger:ht,largerEq:pt,add:mt,isPositive:vt});return h("range",{"...any":function(bt){var wt=bt.length-1,Et=bt[wt];return typeof Et!="boolean"&&bt.push(!0),gt.apply(null,bt)}})},{isTransformFunction:!0}),name$8="row",dependencies$8=["typed","Index","matrix","range"],createRowTransform=factory(name$8,dependencies$8,s=>{var{typed:h,Index:g,matrix:it,range:ut}=s,ct=createRow({typed:h,Index:g,matrix:it,range:ut});return h("row",{"...any":function(ht){var pt=ht.length-1,mt=ht[pt];isNumber(mt)&&(ht[pt]=mt-1);try{return ct.apply(null,ht)}catch(vt){throw errorTransform(vt)}}})},{isTransformFunction:!0}),name$7="subset",dependencies$7=["typed","matrix","zeros","add"],createSubsetTransform=factory(name$7,dependencies$7,s=>{var{typed:h,matrix:g,zeros:it,add:ut}=s,ct=createSubset({typed:h,matrix:g,zeros:it,add:ut});return h("subset",{"...any":function(ht){try{return ct.apply(null,ht)}catch(pt){throw errorTransform(pt)}}})},{isTransformFunction:!0}),name$6="concat",dependencies$6=["typed","matrix","isInteger"],createConcatTransform=factory(name$6,dependencies$6,s=>{var{typed:h,matrix:g,isInteger:it}=s,ut=createConcat({typed:h,matrix:g,isInteger:it});return h("concat",{"...any":function(dt){var ht=dt.length-1,pt=dt[ht];isNumber(pt)?dt[ht]=pt-1:isBigNumber(pt)&&(dt[ht]=pt.minus(1));try{return ut.apply(null,dt)}catch(mt){throw errorTransform(mt)}}})},{isTransformFunction:!0}),name$5="diff",dependencies$5=["typed","matrix","subtract","number","bignumber"],createDiffTransform=factory(name$5,dependencies$5,s=>{var{typed:h,matrix:g,subtract:it,number:ut,bignumber:ct}=s,dt=createDiff({typed:h,matrix:g,subtract:it,number:ut,bignumber:ct});return h(name$5,{"...any":function(pt){pt=lastDimToZeroBase(pt);try{return dt.apply(null,pt)}catch(mt){throw errorTransform(mt)}}})},{isTransformFunction:!0}),name$4="std",dependencies$4=["typed","map","sqrt","variance"],createStdTransform=factory(name$4,dependencies$4,s=>{var{typed:h,map:g,sqrt:it,variance:ut}=s,ct=createStd({typed:h,map:g,sqrt:it,variance:ut});return h("std",{"...any":function(ht){ht=lastDimToZeroBase(ht);try{return ct.apply(null,ht)}catch(pt){throw errorTransform(pt)}}})},{isTransformFunction:!0}),name$3="sum",dependencies$3=["typed","config","add","numeric"],createSumTransform=factory(name$3,dependencies$3,s=>{var{typed:h,config:g,add:it,numeric:ut}=s,ct=createSum({typed:h,config:g,add:it,numeric:ut});return h(name$3,{"...any":function(ht){ht=lastDimToZeroBase(ht);try{return ct.apply(null,ht)}catch(pt){throw errorTransform(pt)}}})},{isTransformFunction:!0}),name$2="quantileSeq",dependencies$2=["typed","add","multiply","partitionSelect","compare","isInteger"],createQuantileSeqTransform=factory(name$2,dependencies$2,s=>{var{typed:h,add:g,multiply:it,partitionSelect:ut,compare:ct,isInteger:dt}=s,ht=createQuantileSeq({typed:h,add:g,multiply:it,partitionSelect:ut,compare:ct,isInteger:dt});return h("quantileSeq",{"Array|Matrix, number|BigNumber|Array, number":(mt,vt,gt)=>ht(mt,vt,pt(gt)),"Array|Matrix, number|BigNumber|Array, boolean, number":(mt,vt,gt,yt)=>ht(mt,vt,gt,pt(yt))});function pt(mt){return lastDimToZeroBase([[],mt])[1]}},{isTransformFunction:!0}),name$1="cumsum",dependencies$1=["typed","add","unaryPlus"],createCumSumTransform=factory(name$1,dependencies$1,s=>{var{typed:h,add:g,unaryPlus:it}=s,ut=createCumSum({typed:h,add:g,unaryPlus:it});return h(name$1,{"...any":function(dt){if(dt.length===2&&isCollection(dt[0])){var ht=dt[1];isNumber(ht)?dt[1]=ht-1:isBigNumber(ht)&&(dt[1]=ht.minus(1))}try{return ut.apply(null,dt)}catch(pt){throw errorTransform(pt)}}})},{isTransformFunction:!0}),name="variance",dependencies=["typed","add","subtract","multiply","divide","apply","isNaN"],createVarianceTransform=factory(name,dependencies,s=>{var{typed:h,add:g,subtract:it,multiply:ut,divide:ct,apply:dt,isNaN:ht}=s,pt=createVariance({typed:h,add:g,subtract:it,multiply:ut,divide:ct,apply:dt,isNaN:ht});return h(name,{"...any":function(vt){vt=lastDimToZeroBase(vt);try{return pt.apply(null,vt)}catch(gt){throw errorTransform(gt)}}})},{isTransformFunction:!0}),BigNumber=createBigNumberClass({config:config$1}),Complex=createComplexClass({}),e=createE({BigNumber,config:config$1}),_false=createFalse({}),fineStructure=createFineStructure({BigNumber,config:config$1}),Fraction=createFractionClass({}),i=createI({Complex}),_Infinity=createInfinity({BigNumber,config:config$1}),LN10=createLN10({BigNumber,config:config$1}),LOG10E=createLOG10E({BigNumber,config:config$1}),Matrix=createMatrixClass({}),_NaN=createNaN({BigNumber,config:config$1}),_null=createNull({}),phi=createPhi({BigNumber,config:config$1}),Range=createRangeClass({}),ResultSet=createResultSet({}),SQRT1_2=createSQRT1_2({BigNumber,config:config$1}),sackurTetrode=createSackurTetrode({BigNumber,config:config$1}),tau=createTau({BigNumber,config:config$1}),_true=createTrue({}),version=createVersion({}),DenseMatrix=createDenseMatrixClass({Matrix}),efimovFactor=createEfimovFactor({BigNumber,config:config$1}),LN2=createLN2({BigNumber,config:config$1}),pi=createPi({BigNumber,config:config$1}),replacer=createReplacer({}),SQRT2=createSQRT2({BigNumber,config:config$1}),typed=createTyped({BigNumber,Complex,DenseMatrix,Fraction}),unaryPlus=createUnaryPlus({BigNumber,config:config$1,typed}),weakMixingAngle=createWeakMixingAngle({BigNumber,config:config$1}),abs=createAbs({typed}),acos=createAcos({Complex,config:config$1,typed}),acot=createAcot({BigNumber,typed}),acsc=createAcsc({BigNumber,Complex,config:config$1,typed}),addScalar=createAddScalar({typed}),arg=createArg({typed}),asech=createAsech({BigNumber,Complex,config:config$1,typed}),asinh=createAsinh({typed}),atan=createAtan({typed}),atanh=createAtanh({Complex,config:config$1,typed}),bignumber=createBignumber({BigNumber,typed}),bitNot=createBitNot({typed}),boolean=createBoolean({typed}),clone=createClone({typed}),combinations=createCombinations({typed}),complex=createComplex({Complex,typed}),conj=createConj({typed}),cos=createCos({typed}),cot=createCot({BigNumber,typed}),csc=createCsc({BigNumber,typed}),cube=createCube({typed}),equalScalar=createEqualScalar({config:config$1,typed}),erf=createErf({typed}),exp=createExp({typed}),expm1=createExpm1({Complex,typed}),filter=createFilter({typed}),forEach=createForEach({typed}),format=createFormat({typed}),getMatrixDataType=createGetMatrixDataType({typed}),hex=createHex({format,typed}),im=createIm({typed}),isInteger=createIsInteger({typed}),isNegative=createIsNegative({typed}),isPositive=createIsPositive({typed}),isZero=createIsZero({typed}),LOG2E=createLOG2E({BigNumber,config:config$1}),lgamma=createLgamma({Complex,typed}),log10=createLog10({Complex,config:config$1,typed}),log2=createLog2({Complex,config:config$1,typed}),map=createMap({typed}),multiplyScalar=createMultiplyScalar({typed}),not=createNot({typed}),number=createNumber({typed}),oct=createOct({format,typed}),pickRandom=createPickRandom({config:config$1,typed}),print=createPrint({typed}),random=createRandom({config:config$1,typed}),re=createRe({typed}),sec=createSec({BigNumber,typed}),sign=createSign({BigNumber,Fraction,complex,typed}),sin=createSin({typed}),SparseMatrix=createSparseMatrixClass({Matrix,equalScalar,typed}),splitUnit=createSplitUnit({typed}),square=createSquare({typed}),string=createString({typed}),tan=createTan({typed}),typeOf=createTypeOf({typed}),acosh=createAcosh({Complex,config:config$1,typed}),acsch=createAcsch({BigNumber,typed}),apply=createApply({isInteger,typed}),asec=createAsec({BigNumber,Complex,config:config$1,typed}),bin=createBin({format,typed}),combinationsWithRep=createCombinationsWithRep({typed}),cosh=createCosh({typed}),csch=createCsch({BigNumber,typed}),isNaN$1=createIsNaN({typed}),isPrime=createIsPrime({typed}),randomInt=createRandomInt({config:config$1,typed}),sech=createSech({BigNumber,typed}),sinh=createSinh({typed}),sparse=createSparse({SparseMatrix,typed}),sqrt=createSqrt({Complex,config:config$1,typed}),tanh=createTanh({typed}),unaryMinus=createUnaryMinus({typed}),acoth=createAcoth({BigNumber,Complex,config:config$1,typed}),coth=createCoth({BigNumber,typed}),fraction=createFraction({Fraction,typed}),isNumeric=createIsNumeric({typed}),matrix=createMatrix({DenseMatrix,Matrix,SparseMatrix,typed}),matrixFromFunction=createMatrixFromFunction({isZero,matrix,typed}),mode=createMode({isNaN:isNaN$1,isNumeric,typed}),numeric=createNumeric({bignumber,fraction,number}),prod=createProd({config:config$1,multiplyScalar,numeric,typed}),reshape=createReshape({isInteger,matrix,typed}),size=createSize({matrix,config:config$1,typed}),squeeze=createSqueeze({matrix,typed}),transpose=createTranspose({matrix,typed}),xgcd=createXgcd({BigNumber,config:config$1,matrix,typed}),zeros=createZeros({BigNumber,config:config$1,matrix,typed}),asin=createAsin({Complex,config:config$1,typed}),cbrt=createCbrt({BigNumber,Complex,Fraction,config:config$1,isNegative,matrix,typed,unaryMinus}),concat=createConcat({isInteger,matrix,typed}),count=createCount({prod,size,typed}),ctranspose=createCtranspose({conj,transpose,typed}),diag=createDiag({DenseMatrix,SparseMatrix,matrix,typed}),divideScalar=createDivideScalar({numeric,typed}),dotDivide=createDotDivide({DenseMatrix,concat,divideScalar,equalScalar,matrix,typed}),equal=createEqual({DenseMatrix,concat,equalScalar,matrix,typed}),flatten=createFlatten({matrix,typed}),gcd=createGcd({BigNumber,DenseMatrix,concat,equalScalar,matrix,typed}),hasNumericValue=createHasNumericValue({isNumeric,typed}),identity=createIdentity({BigNumber,DenseMatrix,SparseMatrix,config:config$1,matrix,typed}),kron=createKron({matrix,multiplyScalar,typed}),largerEq=createLargerEq({DenseMatrix,concat,config:config$1,matrix,typed}),leftShift=createLeftShift({DenseMatrix,concat,equalScalar,matrix,typed,zeros}),matrixFromColumns=createMatrixFromColumns({flatten,matrix,size,typed}),mod=createMod({DenseMatrix,concat,equalScalar,matrix,typed}),nthRoot=createNthRoot({BigNumber,concat,equalScalar,matrix,typed}),ones=createOnes({BigNumber,config:config$1,matrix,typed}),resize=createResize({config:config$1,matrix}),rightArithShift=createRightArithShift({DenseMatrix,concat,equalScalar,matrix,typed,zeros}),round=createRound({BigNumber,DenseMatrix,equalScalar,matrix,typed,zeros}),smaller=createSmaller({DenseMatrix,concat,config:config$1,matrix,typed}),subtract=createSubtract({DenseMatrix,addScalar,concat,equalScalar,matrix,typed,unaryMinus}),to=createTo({concat,matrix,typed}),unequal=createUnequal({DenseMatrix,concat,config:config$1,equalScalar,matrix,typed}),usolve=createUsolve({DenseMatrix,divideScalar,equalScalar,matrix,multiplyScalar,subtract,typed}),xor=createXor({DenseMatrix,concat,matrix,typed}),add=createAdd({DenseMatrix,SparseMatrix,addScalar,concat,equalScalar,matrix,typed}),atan2=createAtan2({BigNumber,DenseMatrix,concat,equalScalar,matrix,typed}),bitAnd=createBitAnd({concat,equalScalar,matrix,typed}),bitXor=createBitXor({DenseMatrix,concat,matrix,typed}),catalan=createCatalan({addScalar,combinations,divideScalar,isInteger,isNegative,multiplyScalar,typed}),compare=createCompare({BigNumber,DenseMatrix,Fraction,concat,config:config$1,equalScalar,matrix,typed}),compareText=createCompareText({concat,matrix,typed}),cumsum=createCumSum({add,typed,unaryPlus}),deepEqual=createDeepEqual({equal,typed}),diff=createDiff({matrix,number,subtract,typed}),distance=createDistance({abs,addScalar,deepEqual,divideScalar,multiplyScalar,sqrt,subtract,typed}),dot=createDot({addScalar,conj,multiplyScalar,size,typed}),equalText=createEqualText({compareText,isZero,typed}),floor=createFloor({DenseMatrix,config:config$1,equalScalar,matrix,round,typed,zeros}),hypot=createHypot({abs,addScalar,divideScalar,isPositive,multiplyScalar,smaller,sqrt,typed}),ImmutableDenseMatrix=createImmutableDenseMatrixClass({DenseMatrix,smaller}),Index=createIndexClass({ImmutableDenseMatrix,getMatrixDataType}),invmod=createInvmod({BigNumber,add,config:config$1,equal,isInteger,mod,smaller,typed,xgcd}),larger=createLarger({DenseMatrix,concat,config:config$1,matrix,typed}),log=createLog({Complex,config:config$1,divideScalar,typed}),lsolve=createLsolve({DenseMatrix,divideScalar,equalScalar,matrix,multiplyScalar,subtract,typed}),matrixFromRows=createMatrixFromRows({flatten,matrix,size,typed}),min=createMin({config:config$1,numeric,smaller,typed}),multiply=createMultiply({addScalar,dot,equalScalar,matrix,multiplyScalar,typed}),nthRoots=createNthRoots({Complex,config:config$1,divideScalar,typed}),or=createOr({DenseMatrix,concat,equalScalar,matrix,typed}),partitionSelect=createPartitionSelect({compare,isNaN:isNaN$1,isNumeric,typed}),qr=createQr({addScalar,complex,conj,divideScalar,equal,identity,isZero,matrix,multiplyScalar,sign,sqrt,subtract,typed,unaryMinus,zeros}),rightLogShift=createRightLogShift({DenseMatrix,concat,equalScalar,matrix,typed,zeros}),slu=createSlu({SparseMatrix,abs,add,divideScalar,larger,largerEq,multiply,subtract,transpose,typed}),subset=createSubset({add,matrix,typed,zeros}),sum=createSum({add,config:config$1,numeric,typed}),trace=createTrace({add,matrix,typed}),usolveAll=createUsolveAll({DenseMatrix,divideScalar,equalScalar,matrix,multiplyScalar,subtract,typed}),zpk2tf=createZpk2tf({Complex,add,multiply,number,typed}),bitOr=createBitOr({DenseMatrix,concat,equalScalar,matrix,typed}),ceil=createCeil({DenseMatrix,config:config$1,equalScalar,matrix,round,typed,zeros}),compareNatural=createCompareNatural({compare,typed}),composition=createComposition({addScalar,combinations,isInteger,isNegative,isPositive,larger,typed}),cross=createCross({matrix,multiply,subtract,typed}),det=createDet({divideScalar,isZero,matrix,multiply,subtract,typed,unaryMinus}),dotMultiply=createDotMultiply({concat,equalScalar,matrix,multiplyScalar,typed}),FibonacciHeap=createFibonacciHeapClass({larger,smaller}),fix=createFix({Complex,DenseMatrix,ceil,equalScalar,floor,matrix,typed,zeros}),index=createIndex({Index,typed}),intersect=createIntersect({abs,add,addScalar,config:config$1,divideScalar,equalScalar,flatten,isNumeric,isZero,matrix,multiply,multiplyScalar,smaller,subtract,typed}),lcm=createLcm({concat,equalScalar,matrix,typed}),log1p=createLog1p({Complex,config:config$1,divideScalar,log,typed}),lsolveAll=createLsolveAll({DenseMatrix,divideScalar,equalScalar,matrix,multiplyScalar,subtract,typed}),max=createMax({config:config$1,larger,numeric,typed}),quantileSeq=createQuantileSeq({add,compare,isInteger,multiply,partitionSelect,typed}),setCartesian=createSetCartesian({DenseMatrix,Index,compareNatural,size,subset,typed}),setDistinct=createSetDistinct({DenseMatrix,Index,compareNatural,size,subset,typed}),setIsSubset=createSetIsSubset({Index,compareNatural,size,subset,typed}),setPowerset=createSetPowerset({Index,compareNatural,size,subset,typed}),smallerEq=createSmallerEq({DenseMatrix,concat,config:config$1,matrix,typed}),sort=createSort({compare,compareNatural,matrix,typed}),and=createAnd({concat,equalScalar,matrix,not,typed,zeros}),range=createRange({bignumber,matrix,add,config:config$1,isPositive,larger,largerEq,smaller,smallerEq,typed}),row=createRow({Index,matrix,range,typed}),setDifference=createSetDifference({DenseMatrix,Index,compareNatural,size,subset,typed}),setMultiplicity=createSetMultiplicity({Index,compareNatural,size,subset,typed}),setSymDifference=createSetSymDifference({Index,concat,setDifference,size,subset,typed}),Spa=createSpaClass({FibonacciHeap,addScalar,equalScalar}),column=createColumn({Index,matrix,range,typed}),inv=createInv({abs,addScalar,det,divideScalar,identity,matrix,multiply,typed,unaryMinus}),lup=createLup({DenseMatrix,Spa,SparseMatrix,abs,addScalar,divideScalar,equalScalar,larger,matrix,multiplyScalar,subtract,typed,unaryMinus}),pinv=createPinv({Complex,add,ctranspose,deepEqual,divideScalar,dot,dotDivide,equal,inv,matrix,multiply,typed}),pow=createPow({Complex,config:config$1,fraction,identity,inv,matrix,multiply,number,typed}),setIntersect=createSetIntersect({DenseMatrix,Index,compareNatural,size,subset,typed}),setUnion=createSetUnion({Index,concat,setIntersect,setSymDifference,size,subset,typed}),sqrtm=createSqrtm({abs,add,identity,inv,map,max,multiply,size,sqrt,subtract,typed}),Unit=createUnitClass({BigNumber,Complex,Fraction,abs,addScalar,config:config$1,divideScalar,equal,fix,format,isNumeric,multiplyScalar,number,pow,round,subtract}),vacuumImpedance=createVacuumImpedance({BigNumber,Unit,config:config$1}),wienDisplacement=createWienDisplacement({BigNumber,Unit,config:config$1}),atomicMass=createAtomicMass({BigNumber,Unit,config:config$1}),bohrMagneton=createBohrMagneton({BigNumber,Unit,config:config$1}),boltzmann=createBoltzmann({BigNumber,Unit,config:config$1}),conductanceQuantum=createConductanceQuantum({BigNumber,Unit,config:config$1}),coulomb=createCoulomb({BigNumber,Unit,config:config$1}),deuteronMass=createDeuteronMass({BigNumber,Unit,config:config$1}),dotPow=createDotPow({DenseMatrix,concat,equalScalar,matrix,pow,typed}),electricConstant=createElectricConstant({BigNumber,Unit,config:config$1}),elementaryCharge=createElementaryCharge({BigNumber,Unit,config:config$1}),expm=createExpm({abs,add,identity,inv,multiply,typed}),faraday=createFaraday({BigNumber,Unit,config:config$1}),fft=createFft({addScalar,ceil,conj,divideScalar,dotDivide,exp,i,log2,matrix,multiplyScalar,pow,tau,typed}),gamma=createGamma({BigNumber,Complex,config:config$1,multiplyScalar,pow,typed}),gravitationConstant=createGravitationConstant({BigNumber,Unit,config:config$1}),hartreeEnergy=createHartreeEnergy({BigNumber,Unit,config:config$1}),ifft=createIfft({conj,dotDivide,fft,typed}),klitzing=createKlitzing({BigNumber,Unit,config:config$1}),loschmidt=createLoschmidt({BigNumber,Unit,config:config$1}),magneticConstant=createMagneticConstant({BigNumber,Unit,config:config$1}),molarMass=createMolarMass({BigNumber,Unit,config:config$1}),molarPlanckConstant=createMolarPlanckConstant({BigNumber,Unit,config:config$1}),neutronMass=createNeutronMass({BigNumber,Unit,config:config$1}),nuclearMagneton=createNuclearMagneton({BigNumber,Unit,config:config$1}),planckCharge=createPlanckCharge({BigNumber,Unit,config:config$1}),planckLength=createPlanckLength({BigNumber,Unit,config:config$1}),planckTemperature=createPlanckTemperature({BigNumber,Unit,config:config$1}),protonMass=createProtonMass({BigNumber,Unit,config:config$1}),reducedPlanckConstant=createReducedPlanckConstant({BigNumber,Unit,config:config$1}),rydberg=createRydberg({BigNumber,Unit,config:config$1}),secondRadiation=createSecondRadiation({BigNumber,Unit,config:config$1}),speedOfLight=createSpeedOfLight({BigNumber,Unit,config:config$1}),stefanBoltzmann=createStefanBoltzmann({BigNumber,Unit,config:config$1}),thomsonCrossSection=createThomsonCrossSection({BigNumber,Unit,config:config$1}),avogadro=createAvogadro({BigNumber,Unit,config:config$1}),bohrRadius=createBohrRadius({BigNumber,Unit,config:config$1}),createUnit=createCreateUnit({Unit,typed}),divide=createDivide({divideScalar,equalScalar,inv,matrix,multiply,typed}),electronMass=createElectronMass({BigNumber,Unit,config:config$1}),factorial=createFactorial({gamma,typed}),firstRadiation=createFirstRadiation({BigNumber,Unit,config:config$1}),gravity=createGravity({BigNumber,Unit,config:config$1}),inverseConductanceQuantum=createInverseConductanceQuantum({BigNumber,Unit,config:config$1}),lusolve=createLusolve({DenseMatrix,lsolve,lup,matrix,slu,typed,usolve}),magneticFluxQuantum=createMagneticFluxQuantum({BigNumber,Unit,config:config$1}),molarMassC12=createMolarMassC12({BigNumber,Unit,config:config$1}),multinomial=createMultinomial({add,divide,factorial,isInteger,isPositive,multiply,typed}),permutations=createPermutations({factorial,typed}),planckMass=createPlanckMass({BigNumber,Unit,config:config$1}),polynomialRoot=createPolynomialRoot({add,cbrt,divide,equalScalar,im,isZero,multiply,re,sqrt,subtract,typeOf,typed,unaryMinus}),setSize=createSetSize({compareNatural,typed}),solveODE=createSolveODE({abs,add,bignumber,divide,isNegative,isPositive,larger,map,matrix,max,multiply,smaller,subtract,typed,unaryMinus}),stirlingS2=createStirlingS2({bignumber,addScalar,combinations,divideScalar,factorial,isInteger,isNegative,larger,multiplyScalar,number,pow,subtract,typed}),unit=createUnitFunction({Unit,typed}),bellNumbers=createBellNumbers({addScalar,isInteger,isNegative,stirlingS2,typed}),eigs=createEigs({abs,add,addScalar,atan,bignumber,column,complex,config:config$1,cos,diag,divideScalar,dot,equal,flatten,im,inv,larger,matrix,matrixFromColumns,multiply,multiplyScalar,number,qr,re,sin,smaller,sqrt,subtract,typed,usolve,usolveAll}),fermiCoupling=createFermiCoupling({BigNumber,Unit,config:config$1}),gasConstant=createGasConstant({BigNumber,Unit,config:config$1}),mean=createMean({add,divide,typed}),molarVolume=createMolarVolume({BigNumber,Unit,config:config$1}),planckConstant=createPlanckConstant({BigNumber,Unit,config:config$1}),quantumOfCirculation=createQuantumOfCirculation({BigNumber,Unit,config:config$1}),variance=createVariance({add,apply,divide,isNaN:isNaN$1,multiply,subtract,typed}),classicalElectronRadius=createClassicalElectronRadius({BigNumber,Unit,config:config$1}),median=createMedian({add,compare,divide,partitionSelect,typed}),corr=createCorr({add,divide,matrix,mean,multiply,pow,sqrt,subtract,sum,typed}),freqz=createFreqz({Complex,add,divide,matrix,multiply,typed}),mad=createMad({abs,map,median,subtract,typed}),std=createStd({map,sqrt,typed,variance}),zeta=createZeta({BigNumber,Complex,add,config:config$1,divide,equal,factorial,gamma,isNegative,multiply,pi,pow,sin,smallerEq,subtract,typed}),norm=createNorm({abs,add,conj,ctranspose,eigs,equalScalar,larger,matrix,multiply,pow,smaller,sqrt,typed}),rotationMatrix=createRotationMatrix({BigNumber,DenseMatrix,SparseMatrix,addScalar,config:config$1,cos,matrix,multiplyScalar,norm,sin,typed,unaryMinus}),kldivergence=createKldivergence({divide,dotDivide,isNumeric,log,map,matrix,multiply,sum,typed}),planckTime=createPlanckTime({BigNumber,Unit,config:config$1}),schur=createSchur({identity,matrix,multiply,norm,qr,subtract,typed}),rotate=createRotate({multiply,rotationMatrix,typed}),sylvester=createSylvester({abs,add,concat,identity,index,lusolve,matrix,matrixFromColumns,multiply,range,schur,subset,subtract,transpose,typed}),lyap=createLyap({matrix,multiply,sylvester,transpose,typed}),math={},mathWithTransform={},classes={},Node=createNode({mathWithTransform}),ObjectNode=createObjectNode({Node}),OperatorNode=createOperatorNode({Node}),ParenthesisNode=createParenthesisNode({Node}),RelationalNode=createRelationalNode({Node}),ArrayNode=createArrayNode({Node}),BlockNode=createBlockNode({Node,ResultSet}),ConditionalNode=createConditionalNode({Node}),ConstantNode=createConstantNode({Node}),RangeNode=createRangeNode({Node}),reviver=createReviver({classes}),Chain=createChainClass({math,typed}),FunctionAssignmentNode=createFunctionAssignmentNode({Node,typed}),chain=createChain({Chain,typed}),IndexNode=createIndexNode({Node,size}),AccessorNode=createAccessorNode({Node,subset}),AssignmentNode=createAssignmentNode({matrix,Node,subset}),SymbolNode=createSymbolNode({Unit,Node,math}),FunctionNode=createFunctionNode({Node,SymbolNode,math}),parse=createParse({AccessorNode,ArrayNode,AssignmentNode,BlockNode,ConditionalNode,ConstantNode,FunctionAssignmentNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,ParenthesisNode,RangeNode,RelationalNode,SymbolNode,config:config$1,numeric,typed}),resolve=createResolve({ConstantNode,FunctionNode,OperatorNode,ParenthesisNode,parse,typed}),simplifyConstant=createSimplifyConstant({bignumber,fraction,AccessorNode,ArrayNode,ConstantNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,SymbolNode,config:config$1,mathWithTransform,matrix,typed}),compile=createCompile({parse,typed}),Help=createHelpClass({parse}),leafCount=createLeafCount({parse,typed}),simplifyCore=createSimplifyCore({AccessorNode,ArrayNode,ConstantNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,ParenthesisNode,SymbolNode,add,divide,equal,isZero,multiply,parse,pow,subtract,typed}),evaluate=createEvaluate({parse,typed}),help=createHelp({Help,mathWithTransform,typed}),Parser=createParserClass({evaluate}),simplify=createSimplify({bignumber,fraction,AccessorNode,ArrayNode,ConstantNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,ParenthesisNode,SymbolNode,add,config:config$1,divide,equal,isZero,mathWithTransform,matrix,multiply,parse,pow,resolve,simplifyConstant,simplifyCore,subtract,typed}),symbolicEqual=createSymbolicEqual({OperatorNode,parse,simplify,typed}),parser$1=createParser({Parser,typed}),rationalize=createRationalize({bignumber,fraction,AccessorNode,ArrayNode,ConstantNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,ParenthesisNode,SymbolNode,add,config:config$1,divide,equal,isZero,mathWithTransform,matrix,multiply,parse,pow,simplify,simplifyConstant,simplifyCore,subtract,typed}),derivative=createDerivative({ConstantNode,FunctionNode,OperatorNode,ParenthesisNode,SymbolNode,config:config$1,equal,isZero,numeric,parse,simplify,typed});_extends$1(math,{e,false:_false,fineStructure,i,Infinity:_Infinity,LN10,LOG10E,NaN:_NaN,null:_null,phi,SQRT1_2,sackurTetrode,tau,true:_true,E:e,version,efimovFactor,LN2,pi,replacer,reviver,SQRT2,typed,unaryPlus,PI:pi,weakMixingAngle,abs,acos,acot,acsc,addScalar,arg,asech,asinh,atan,atanh,bignumber,bitNot,boolean,clone,combinations,complex,conj,cos,cot,csc,cube,equalScalar,erf,exp,expm1,filter,forEach,format,getMatrixDataType,hex,im,isInteger,isNegative,isPositive,isZero,LOG2E,lgamma,log10,log2,map,multiplyScalar,not,number,oct,pickRandom,print,random,re,sec,sign,sin,splitUnit,square,string,tan,typeOf,acosh,acsch,apply,asec,bin,chain,combinationsWithRep,cosh,csch,isNaN:isNaN$1,isPrime,randomInt,sech,sinh,sparse,sqrt,tanh,unaryMinus,acoth,coth,fraction,isNumeric,matrix,matrixFromFunction,mode,numeric,prod,reshape,size,squeeze,transpose,xgcd,zeros,asin,cbrt,concat,count,ctranspose,diag,divideScalar,dotDivide,equal,flatten,gcd,hasNumericValue,identity,kron,largerEq,leftShift,matrixFromColumns,mod,nthRoot,ones,resize,rightArithShift,round,smaller,subtract,to,unequal,usolve,xor,add,atan2,bitAnd,bitXor,catalan,compare,compareText,cumsum,deepEqual,diff,distance,dot,equalText,floor,hypot,invmod,larger,log,lsolve,matrixFromRows,min,multiply,nthRoots,or,partitionSelect,qr,rightLogShift,slu,subset,sum,trace,usolveAll,zpk2tf,bitOr,ceil,compareNatural,composition,cross,det,dotMultiply,fix,index,intersect,lcm,log1p,lsolveAll,max,quantileSeq,setCartesian,setDistinct,setIsSubset,setPowerset,smallerEq,sort,and,range,row,setDifference,setMultiplicity,setSymDifference,column,inv,lup,pinv,pow,setIntersect,setUnion,sqrtm,vacuumImpedance,wienDisplacement,atomicMass,bohrMagneton,boltzmann,conductanceQuantum,coulomb,deuteronMass,dotPow,electricConstant,elementaryCharge,expm,faraday,fft,gamma,gravitationConstant,hartreeEnergy,ifft,klitzing,loschmidt,magneticConstant,molarMass,molarPlanckConstant,neutronMass,nuclearMagneton,planckCharge,planckLength,planckTemperature,protonMass,reducedPlanckConstant,rydberg,secondRadiation,speedOfLight,stefanBoltzmann,thomsonCrossSection,avogadro,bohrRadius,createUnit,divide,electronMass,factorial,firstRadiation,gravity,inverseConductanceQuantum,lusolve,magneticFluxQuantum,molarMassC12,multinomial,parse,permutations,planckMass,polynomialRoot,resolve,setSize,simplifyConstant,solveODE,stirlingS2,unit,bellNumbers,compile,eigs,fermiCoupling,gasConstant,leafCount,mean,molarVolume,planckConstant,quantumOfCirculation,simplifyCore,variance,classicalElectronRadius,evaluate,help,median,simplify,symbolicEqual,corr,freqz,mad,parser:parser$1,rationalize,std,zeta,derivative,norm,rotationMatrix,kldivergence,planckTime,schur,rotate,sylvester,lyap,config:config$1});_extends$1(mathWithTransform,math,{filter:createFilterTransform({typed}),forEach:createForEachTransform({typed}),map:createMapTransform({typed}),apply:createApplyTransform({isInteger,typed}),concat:createConcatTransform({isInteger,matrix,typed}),max:createMaxTransform({config:config$1,larger,numeric,typed}),quantileSeq:createQuantileSeqTransform({add,compare,isInteger,multiply,partitionSelect,typed}),diff:createDiffTransform({bignumber,matrix,number,subtract,typed}),min:createMinTransform({config:config$1,numeric,smaller,typed}),subset:createSubsetTransform({add,matrix,typed,zeros}),cumsum:createCumSumTransform({add,typed,unaryPlus}),index:createIndexTransform({Index,getMatrixDataType}),sum:createSumTransform({add,config:config$1,numeric,typed}),range:createRangeTransform({bignumber,matrix,add,config:config$1,isPositive,larger,largerEq,smaller,smallerEq,typed}),row:createRowTransform({Index,matrix,range,typed}),column:createColumnTransform({Index,matrix,range,typed}),mean:createMeanTransform({add,divide,typed}),variance:createVarianceTransform({add,apply,divide,isNaN:isNaN$1,multiply,subtract,typed}),std:createStdTransform({map,sqrt,typed,variance})});_extends$1(classes,{BigNumber,Complex,Fraction,Matrix,Node,ObjectNode,OperatorNode,ParenthesisNode,Range,RelationalNode,ResultSet,ArrayNode,BlockNode,ConditionalNode,ConstantNode,DenseMatrix,RangeNode,Chain,FunctionAssignmentNode,SparseMatrix,IndexNode,ImmutableDenseMatrix,Index,AccessorNode,AssignmentNode,FibonacciHeap,Spa,Unit,SymbolNode,FunctionNode,Help,Parser});Chain.createProxy(math);function extractPointsFromCommandString(s){try{var h=/\(([A-Za-z]+),\s*([A-Za-z]+)\)/,g=h.exec(s);return[g[1],g[2]]}catch{return[null,null]}}async function extractCoefficientsFromLine(ref,name,functionString){try{const a=eval(await ref.current.evalCommandCAS(`x(${name})`)),b=eval(await ref.current.evalCommandCAS(`y(${name})`)),c=eval(await ref.current.evalCommandCAS(`z(${name})`)),slope=-a/b,yIntersection=-c/b;return[slope,yIntersection]}catch(s){const h=functionString.split(/:|=/);if(h.length==2){const g=rationalize(h[1],{},!0).coefficients[0],it=g[1],ut=g[0];return[it,ut]}else if(h.length==3){var vars=rationalize(h[1],{},!0).variables;if(vars.length==2)rationalize(h[1],{y:0},!0).coefficients[1],rationalize(h[2],{x:0},!0).coefficients[1];else{if(vars.length==1&&vars.includes("x"))return[null,null];vars.length==1&&vars.includes("y")&&rationalize(h[2],{x:0},!0).coefficients[1]}const it=-parseFloat(h[2])/b;return[slope,it]}else return[null,null]}}async function ggbLinearRegression(s,h){const it=Object.values(h).map(ht=>`(${ht.x}, ${ht.y})`).join(", "),ut=await s.current.evalCommandCAS(`FitLine({${it}})`),ct=await s.current.evalCommandGetLabels(ut);var dt=await extractCoefficientsFromLine(s,ct,ut);return await s.current.deleteObject(ct),dt}async function ggbSolveEquation(ref,equation,conditions,variables,target){try{const temp=await ref.current.evalCommandCAS(`NSolve({${equation},${conditions}},{${variables}})`),pattern=new RegExp(`${target}\\s*=\\s*([^,}]+)(?=[,}])`),matches=temp.match(pattern),result=eval(matches[1]);return result}catch(s){return null}}function createCoordStart(s){var h=s[0],g=s[1];return{xMin:-h.x/g.x,xMax:h.x,yMin:-h.y/g.y,yMax:h.y}}function moveData(s){return s}function findDeltaM(s,h){try{var g=Math.atan(s),it=Math.PI/180,ut=h*it,ct=g+ut,dt=Math.tan(ct);return Math.abs(dt-s)}catch{return null}}async function createRegression(s,h,g=0){try{var[it,ut]=await ggbLinearRegression(s,h);if(it==null||ut==null)return null;var ct=findDeltaM(it,g);if(ct==null)return null;var dt={m:[it,ct],c:[0,0]};return dt}catch(ht){return console.log(ht),null}}async function createValuePair(s,h,g,it,ut){try{return await ggbSolveEquation(s,h,g,it,ut)}catch{return null}}function calc(input,calculationString){const replacedCalculation=calculationString.replace(/x/g,input);try{const sol=eval(replacedCalculation);return sol}catch(s){return null}}const updaterMapper={moveData,createRegression,createValuePair,calc};function Updater({ggbRef:s,commands:h,progressData:g,solHandler:it}){const[ut,ct]=it,dt={solData:ut},ht=pt=>{try{for(var mt=dt[pt[0]],vt=1;vt<pt.length;vt++)typeof pt[vt]=="number"&&isObject(mt)?mt=mt[Object.keys(mt)[pt[vt]]]:mt=mt[pt[vt]];return mt}catch{return null}};return reactExports.useEffect(()=>{const pt=async gt=>{var yt=ht(gt.input);if(gt.ggbRef==!0)var bt=await updaterMapper[gt.action](s,yt,...gt.args);else var bt=updaterMapper[gt.action](yt,...gt.args);bt!=null&&ct(gt.target,bt)};for(var mt=0;mt<h.length;mt++){var vt=h[mt];g[vt.when]&&pt(vt)}},[g]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function FlowControl({step:s,taskData:h,progressHandler:g,solHandler:it,tableData:ut,ggbData:ct,ggbRef:dt,inputData:ht}){const[pt,mt]=g,[vt,gt]=it,yt=Et=>{for(const Mt in Et)gt(Mt,Et.step)},bt=jsxRuntimeExports.jsx(Checker,{commands:h[s].checker,progressHandler:g,solHandler:it,tableData:ut,ggbData:ct,inputData:ht}),wt=jsxRuntimeExports.jsx(Updater,{commands:h[s].updater,ggbRef:dt,progressData:pt,solHandler:it,parentCallback:yt});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[bt,wt]})}function StepTemplate(){const{progressData:s,updateProgressData:h}=reactExports.useContext(ProgressDataContext$1),{taskData:g,setTaskData:it}=reactExports.useContext(TaskDataContext$1);return reactExports.useContext(SolDataContext$1),reactExports.useContext(MiscDataContext$1),reactExports.useContext(TableDataContext$1),reactExports.useContext(GGBDataContext$1),reactExports.useContext(InputDataContext$1),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(StepHeading,{children:g.stepTemplate.heading.text}),jsxRuntimeExports.jsx(Instructions,{instructions:g.stepTemplate.instructions,taskHandler:[g,it],progressData:s})]})}const clozeText$1="Das ist ein  <Test>.",stepTemplate_initSol={},stepTemplate_data={heading:{text:"Test"},instructions:[{text:"Temp",display:"true",check:"true",help:!1,displayHelp:!1,bottomSpace:"20px",topSpace:"20px"}],cloze:{text:clozeText$1,display:"false",remove:"step",action:["x","y"],updateProgress:"step"},ggb:{coordStart:createCoordStart([{x:1,y:1},{x:10,y:10}]),axislabels:["x","y"],sliderSettings:{left:{min:1,max:1e3,step:1},bottom:{min:1,max:1e3,step:1}},customToolBar:"0|6|1"},checker:[{after:"true",step:"step",action:"checker function",input:["ggbData","points"],sol:["solData","step"],args:[0,0]}],updater:[{when:"step",action:"updater function",input:["solData","step"],args:[0],ggbRef:!1,target:"new solData entry"}],next:{visible:"step",click:"step"}},helpTemplate_initSol={},helpTemplate_data={heading:{text:"Test"},instructions:[{text:"Temp",display:"step",check:"step",help:!1,displayHelp:!1,bottomSpace:"20px",topSpace:"20px"}],checker:[{after:"true",step:"step",action:"checker function",input:["ggbData","points"],sol:["solData","step"],args:[0,0]}],updater:[{when:"step",action:"updater function",input:["solData","step"],args:[0],ggbRef:!1,target:"new solData entry"}]},ProgressDataContext$1=reactExports.createContext(),TaskDataContext$1=reactExports.createContext(),SolDataContext$1=reactExports.createContext(),MiscDataContext$1=reactExports.createContext(),TableDataContext$1=reactExports.createContext(),GGBDataContext$1=reactExports.createContext(),InputDataContext$1=reactExports.createContext();function Template(){const[s,h]=reactExports.useState({stepTemplate:stepTemplate_data,helpTemplate:helpTemplate_data}),[g,it]=useLocalStorageState("solDataTemplate",{defaultValue:{stepTemplate_initSol,helpTemplate_initSol}}),ut=(kt,At)=>{it(Bt=>({...Bt,[kt]:At}))},[ct,dt]=useLocalStorageState("progressDataTemplate",{defaultValue:{true:!0,false:!1}}),ht=(kt,At)=>{dt(Bt=>({...Bt,[kt]:At}))},pt=reactResponsiveExports.useMediaQuery({query:"(orientation: portrait)"}),[mt,vt]=useLocalStorageState("miscDataTemplate",{defaultValue:{isPortrait:!1,mainWidth:pt?750:1e3}}),gt=(kt,At)=>{vt(Bt=>({...Bt,[kt]:At}))};reactExports.useEffect(()=>{gt("isPortrait",pt)},[pt]);const[yt,bt]=useLocalStorageState("tableDataTemplate",{defaultValue:[]}),wt=kt=>{bt(kt)},[Et,Mt]=useLocalStorageState("ggbDataTemplate",{defaultValue:{points:[],lines:[]}}),Dt=kt=>{Mt(kt)},[$t,_t]=useLocalStorageState("inputDataTemplate",{defaultValue:{}}),Nt=kt=>{_t(kt)};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(ProgressDataContext$1.Provider,{value:{progressData:ct,updateProgressData:ht},children:jsxRuntimeExports.jsx(TaskDataContext$1.Provider,{value:{taskData:s,setTaskData:h},children:jsxRuntimeExports.jsx(SolDataContext$1.Provider,{value:{solData:g,updateSolData:ut},children:jsxRuntimeExports.jsx(MiscDataContext$1.Provider,{value:{miscData:mt,updateMiscData:gt},children:jsxRuntimeExports.jsx(TableDataContext$1.Provider,{value:{tableData:yt,updateTableData:wt},children:jsxRuntimeExports.jsx(GGBDataContext$1.Provider,{value:{ggbData:Et,updateGGBData:Dt},children:jsxRuntimeExports.jsx(InputDataContext$1.Provider,{value:{inputData:$t,updateInputData:Nt},children:jsxRuntimeExports.jsx(MainContainer,{mainwidth:mt.mainWidth,children:jsxRuntimeExports.jsxs(WritingContainer,{children:[jsxRuntimeExports.jsx(StepTemplate,{}),jsxRuntimeExports.jsx(VerticalSpace$2,{size:"500px"})]})})})})})})})})})})}function Materials({materials:s}){const h=[];for(var g=0;g<s.length;g++)h.push(jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{textAlign:"center"},children:s[g].name}),jsxRuntimeExports.jsx(MaterialPhoto,{src:s[g].src})]},g));return jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",gap:"50px"},children:h})}function Step0(){const{progressData:s,updateProgressData:h}=reactExports.useContext(ProgressDataContext),{taskData:g,setTaskData:it}=reactExports.useContext(TaskDataContext);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h1",{style:{textAlign:"center",textDecoration:"underline"},children:g.step0.heading.text}),jsxRuntimeExports.jsx(VerticalSpace$2,{}),jsxRuntimeExports.jsx(Instructions,{instructions:g.step0.instructions,taskHandler:[g,it],progressData:s}),jsxRuntimeExports.jsx(VerticalSpace$2,{}),jsxRuntimeExports.jsx(Materials,{materials:g.step0.materials}),jsxRuntimeExports.jsx(VerticalSpace$2,{}),s[g.step0.next.visible]&&!s.step0&&jsxRuntimeExports.jsx(MoveOnButton,{onClick:()=>h(g.step0.next.click,!0),children:"Weiter"})]})}function Step1(){const{progressData:s,updateProgressData:h}=reactExports.useContext(ProgressDataContext),{taskData:g,setTaskData:it}=reactExports.useContext(TaskDataContext);reactExports.useContext(SolDataContext);const{miscData:ut,updateMiscData:ct}=reactExports.useContext(MiscDataContext),dt=reactExports.useCallback((mt,vt)=>{ct("canvasData",mt),ct("imgData",vt)},[]),[ht,pt]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(StepHeading,{children:g.step1.heading.text}),jsxRuntimeExports.jsx(Instructions,{instructions:g.step1.instructions,taskHandler:[g,it],progressData:s}),jsxRuntimeExports.jsx(VerticalSpace$2,{}),jsxRuntimeExports.jsx(ExperimentPhoto,{canvasWidth:ut.mainWidth-10,canvasHeight:500,cameraWidth:300,cameraHeight:500,isPortrait:ut.isPortrait,parentCallback:dt,savedCanvas:ut.canvasData,savedImg:ut.imgData,saveSignal:ht}),jsxRuntimeExports.jsx(VerticalSpace$2,{}),s[g.step1.next.visible]&&!s.step1&&jsxRuntimeExports.jsx(MoveOnButton,{onClick:()=>{h(g.step1.next.click,!0),pt(!0)},children:"Weiter"})]})}const table="",MyDeleteRowButton=st.button`
    width: 100%;
    height: 100%; 
    padding: 0px;
    background-color: rgb(242, 242, 242);
    border: 0px;
    color: black;
    font-size: 20px
`,MyAddRowButton=st.button`
    width: 100%;
    border: solid black 1px;
    font-size: 20px; 
    color: black; 
    background: rgb(242, 242, 242);
    border-top: 0;
    height:${s=>s.height?`${s.height}`:"40px"}
`,latexCell="";var dist$1={},DataSheetGrid={},useColumnWidths={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.useColumnWidths=s.getColumnWidths=void 0;const h=reactExports,g=(ut,ct)=>{const dt=ct.map(({basis:pt,minWidth:mt,maxWidth:vt})=>({basis:pt,minWidth:mt,maxWidth:vt,size:pt,violation:0,frozen:!1,factor:0}));let ht=dt.reduce((pt,mt)=>pt-mt.size,ut);ht>0?ct.forEach(({grow:pt},mt)=>{dt[mt].factor=pt}):ht<0&&ct.forEach(({shrink:pt},mt)=>{dt[mt].factor=pt});for(const pt of dt)pt.factor===0&&(pt.frozen=!0);for(;dt.some(({frozen:pt})=>!pt);){const pt=dt.reduce((vt,gt)=>vt+(gt.frozen?0:gt.factor),0);let mt=0;for(const vt of dt)vt.frozen||(vt.size+=ht*vt.factor/pt,vt.size<vt.minWidth?vt.violation=vt.minWidth-vt.size:vt.maxWidth!==void 0&&vt.size>vt.maxWidth?vt.violation=vt.maxWidth-vt.size:vt.violation=0,vt.size+=vt.violation,mt+=vt.violation);if(mt>0)for(const vt of dt)vt.violation>0&&(vt.frozen=!0);else if(mt<0)for(const vt of dt)vt.violation<0&&(vt.frozen=!0);else break;ht=dt.reduce((vt,gt)=>vt-gt.size,ut)}return dt.map(({size:pt})=>pt)};s.getColumnWidths=g;const it=(ut,ct)=>{const dt=ut.map(({basis:ht,minWidth:pt,maxWidth:mt,grow:vt,shrink:gt})=>[ht,pt,mt,vt,gt].join(",")).join("|");return(0,h.useMemo)(()=>{if(ct===void 0)return{fullWidth:!1,columnWidths:void 0,columnRights:void 0,totalWidth:void 0};const ht=(0,s.getColumnWidths)(ct,ut);let pt=0;const mt=ht.map((vt,gt)=>(pt+=vt,gt===ht.length-1?1/0:pt));return{fullWidth:Math.abs(ct-pt)<.1,columnWidths:ht,columnRights:mt,totalWidth:pt}},[ct,dt])};s.useColumnWidths=it})(useColumnWidths);var extendStatics=function(s,h){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,it){g.__proto__=it}||function(g,it){for(var ut in it)Object.prototype.hasOwnProperty.call(it,ut)&&(g[ut]=it[ut])},extendStatics(s,h)};function __extends(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");extendStatics(s,h);function g(){this.constructor=s}s.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}var __assign=function(){return __assign=Object.assign||function(h){for(var g,it=1,ut=arguments.length;it<ut;it++){g=arguments[it];for(var ct in g)Object.prototype.hasOwnProperty.call(g,ct)&&(h[ct]=g[ct])}return h},__assign.apply(this,arguments)};function __rest$2(s,h){var g={};for(var it in s)Object.prototype.hasOwnProperty.call(s,it)&&h.indexOf(it)<0&&(g[it]=s[it]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ut=0,it=Object.getOwnPropertySymbols(s);ut<it.length;ut++)h.indexOf(it[ut])<0&&Object.prototype.propertyIsEnumerable.call(s,it[ut])&&(g[it[ut]]=s[it[ut]]);return g}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function isObject$3(s){var h=typeof s;return s!=null&&(h=="object"||h=="function")}var isObject_1=isObject$3,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$2=freeGlobal||freeSelf||Function("return this")(),_root=root$2,root$1=_root,now$1=function(){return root$1.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(s){for(var h=s.length;h--&&reWhitespace.test(s.charAt(h)););return h}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(s){return s&&s.slice(0,trimmedEndIndex(s)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,root=_root,Symbol$2=root.Symbol,_Symbol=Symbol$2,Symbol$1=_Symbol,objectProto$1=Object.prototype,hasOwnProperty=objectProto$1.hasOwnProperty,nativeObjectToString$1=objectProto$1.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag$1(s){var h=hasOwnProperty.call(s,symToStringTag$1),g=s[symToStringTag$1];try{s[symToStringTag$1]=void 0;var it=!0}catch{}var ut=nativeObjectToString$1.call(s);return it&&(h?s[symToStringTag$1]=g:delete s[symToStringTag$1]),ut}var _getRawTag=getRawTag$1,objectProto=Object.prototype,nativeObjectToString=objectProto.toString;function objectToString$1(s){return nativeObjectToString.call(s)}var _objectToString=objectToString$1,Symbol$3=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$3?Symbol$3.toStringTag:void 0;function baseGetTag$1(s){return s==null?s===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(s)?getRawTag(s):objectToString(s)}var _baseGetTag=baseGetTag$1;function isObjectLike$1(s){return s!=null&&typeof s=="object"}var isObjectLike_1=isObjectLike$1,baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$1(s){return typeof s=="symbol"||isObjectLike(s)&&baseGetTag(s)==symbolTag}var isSymbol_1=isSymbol$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(s){if(typeof s=="number")return s;if(isSymbol(s))return NAN;if(isObject$2(s)){var h=typeof s.valueOf=="function"?s.valueOf():s;s=isObject$2(h)?h+"":h}if(typeof s!="string")return s===0?s:+s;s=baseTrim(s);var g=reIsBinary.test(s);return g||reIsOctal.test(s)?freeParseInt(s.slice(2),g?2:8):reIsBadHex.test(s)?NAN:+s}var toNumber_1=toNumber$1,isObject$1=isObject_1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$1(s,h,g){var it,ut,ct,dt,ht,pt,mt=0,vt=!1,gt=!1,yt=!0;if(typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT$1);h=toNumber(h)||0,isObject$1(g)&&(vt=!!g.leading,gt="maxWait"in g,ct=gt?nativeMax(toNumber(g.maxWait)||0,h):ct,yt="trailing"in g?!!g.trailing:yt);function bt(At){var Bt=it,Ft=ut;return it=ut=void 0,mt=At,dt=s.apply(Ft,Bt),dt}function wt(At){return mt=At,ht=setTimeout(Dt,h),vt?bt(At):dt}function Et(At){var Bt=At-pt,Ft=At-mt,Lt=h-Bt;return gt?nativeMin(Lt,ct-Ft):Lt}function Mt(At){var Bt=At-pt,Ft=At-mt;return pt===void 0||Bt>=h||Bt<0||gt&&Ft>=ct}function Dt(){var At=now();if(Mt(At))return $t(At);ht=setTimeout(Dt,Et(At))}function $t(At){return ht=void 0,yt&&it?bt(At):(it=ut=void 0,dt)}function _t(){ht!==void 0&&clearTimeout(ht),mt=0,it=pt=ut=ht=void 0}function Nt(){return ht===void 0?dt:$t(now())}function kt(){var At=now(),Bt=Mt(At);if(it=arguments,ut=this,pt=At,Bt){if(ht===void 0)return wt(pt);if(gt)return clearTimeout(ht),ht=setTimeout(Dt,h),bt(pt)}return ht===void 0&&(ht=setTimeout(Dt,h)),dt}return kt.cancel=_t,kt.flush=Nt,kt}var debounce_1=debounce$1,debounce$2=debounce_1,isObject$4=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle$1(s,h,g){var it=!0,ut=!0;if(typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$4(g)&&(it="leading"in g?!!g.leading:it,ut="trailing"in g?!!g.trailing:ut),debounce$2(s,h,{leading:it,maxWait:h,trailing:ut})}var throttle_1=throttle$1,patchResizeHandler=function(s,h,g,it){switch(h){case"debounce":return debounce_1(s,g,it);case"throttle":return throttle_1(s,g,it);default:return s}},isFunction=function(s){return typeof s=="function"},isSSR=function(){return typeof window>"u"},isDOMElement=function(s){return s instanceof Element||s instanceof HTMLDocument},createNotifier=function(s,h,g,it){return function(ut){var ct=ut.width,dt=ut.height;h(function(ht){return ht.width===ct&&ht.height===dt||ht.width===ct&&!it||ht.height===dt&&!g?ht:(s&&isFunction(s)&&s(ct,dt),{width:ct,height:dt})})}},ResizeDetector=function(s){__extends(h,s);function h(g){var it=s.call(this,g)||this;it.cancelHandler=function(){it.resizeHandler&&it.resizeHandler.cancel&&(it.resizeHandler.cancel(),it.resizeHandler=null)},it.attachObserver=function(){var mt=it.props,vt=mt.targetRef,gt=mt.observerOptions;if(!isSSR()){vt&&vt.current&&(it.targetRef.current=vt.current);var yt=it.getElement();yt&&(it.observableElement&&it.observableElement===yt||(it.observableElement=yt,it.resizeObserver.observe(yt,gt)))}},it.getElement=function(){var mt=it.props,vt=mt.querySelector,gt=mt.targetDomEl;if(isSSR())return null;if(vt)return document.querySelector(vt);if(gt&&isDOMElement(gt))return gt;if(it.targetRef&&isDOMElement(it.targetRef.current))return it.targetRef.current;var yt=reactDomExports.findDOMNode(it);if(!yt)return null;var bt=it.getRenderType();switch(bt){case"renderProp":return yt;case"childFunction":return yt;case"child":return yt;case"childArray":return yt;default:return yt.parentElement}},it.createResizeHandler=function(mt){var vt=it.props,gt=vt.handleWidth,yt=gt===void 0?!0:gt,bt=vt.handleHeight,wt=bt===void 0?!0:bt,Et=vt.onResize;if(!(!yt&&!wt)){var Mt=createNotifier(Et,it.setState.bind(it),yt,wt);mt.forEach(function(Dt){var $t=Dt&&Dt.contentRect||{},_t=$t.width,Nt=$t.height,kt=!it.skipOnMount&&!isSSR();kt&&Mt({width:_t,height:Nt}),it.skipOnMount=!1})}},it.getRenderType=function(){var mt=it.props,vt=mt.render,gt=mt.children;return isFunction(vt)?"renderProp":isFunction(gt)?"childFunction":reactExports.isValidElement(gt)?"child":Array.isArray(gt)?"childArray":"parent"};var ut=g.skipOnMount,ct=g.refreshMode,dt=g.refreshRate,ht=dt===void 0?1e3:dt,pt=g.refreshOptions;return it.state={width:void 0,height:void 0},it.skipOnMount=ut,it.targetRef=reactExports.createRef(),it.observableElement=null,isSSR()||(it.resizeHandler=patchResizeHandler(it.createResizeHandler,ct,ht,pt),it.resizeObserver=new window.ResizeObserver(it.resizeHandler)),it}return h.prototype.componentDidMount=function(){this.attachObserver()},h.prototype.componentDidUpdate=function(){this.attachObserver()},h.prototype.componentWillUnmount=function(){isSSR()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},h.prototype.render=function(){var g=this.props,it=g.render,ut=g.children,ct=g.nodeType,dt=ct===void 0?"div":ct,ht=this.state,pt=ht.width,mt=ht.height,vt={width:pt,height:mt,targetRef:this.targetRef},gt=this.getRenderType(),yt;switch(gt){case"renderProp":return it&&it(vt);case"childFunction":return yt=ut,yt(vt);case"child":if(yt=ut,yt.type&&typeof yt.type=="string"){vt.targetRef;var bt=__rest$2(vt,["targetRef"]);return reactExports.cloneElement(yt,bt)}return reactExports.cloneElement(yt,vt);case"childArray":return yt=ut,yt.map(function(wt){return!!wt&&reactExports.cloneElement(wt,vt)});default:return reactExports.createElement(dt,null)}},h}(reactExports.PureComponent);function withResizeDetector(s,h){h===void 0&&(h={});var g=function(ct){__extends(dt,ct);function dt(){var ht=ct!==null&&ct.apply(this,arguments)||this;return ht.ref=reactExports.createRef(),ht}return dt.prototype.render=function(){var ht=this.props,pt=ht.forwardedRef,mt=__rest$2(ht,["forwardedRef"]),vt=pt??this.ref;return reactExports.createElement(ResizeDetector,__assign({},h,{targetRef:vt}),reactExports.createElement(s,__assign({targetRef:vt},mt)))},dt}(reactExports.Component);function it(ct,dt){return reactExports.createElement(g,__assign({},ct,{forwardedRef:dt}))}var ut=s.displayName||s.name;return it.displayName="withResizeDetector(".concat(ut,")"),reactExports.forwardRef(it)}var useEnhancedEffect=isSSR()?reactExports.useEffect:reactExports.useLayoutEffect;function useResizeDetector(s){s===void 0&&(s={});var h=s.skipOnMount,g=h===void 0?!1:h,it=s.refreshMode,ut=s.refreshRate,ct=ut===void 0?1e3:ut,dt=s.refreshOptions,ht=s.handleWidth,pt=ht===void 0?!0:ht,mt=s.handleHeight,vt=mt===void 0?!0:mt,gt=s.targetRef,yt=s.observerOptions,bt=s.onResize,wt=reactExports.useRef(g),Et=reactExports.useRef(null),Mt=gt??Et,Dt=reactExports.useRef(),$t=reactExports.useState({width:void 0,height:void 0}),_t=$t[0],Nt=$t[1];return useEnhancedEffect(function(){if(!isSSR()){var kt=createNotifier(bt,Nt,pt,vt),At=function(Ft){!pt&&!vt||Ft.forEach(function(Lt){var Ot=Lt&&Lt.contentRect||{},It=Ot.width,Rt=Ot.height,Vt=!wt.current&&!isSSR();Vt&&kt({width:It,height:Rt}),wt.current=!1})};Dt.current=patchResizeHandler(At,it,ct,dt);var Bt=new window.ResizeObserver(Dt.current);return Mt.current&&Bt.observe(Mt.current,yt),function(){Bt.disconnect();var Ft=Dt.current;Ft&&Ft.cancel&&Ft.cancel()}}},[it,ct,dt,pt,vt,bt,yt,Mt.current]),__assign({ref:Mt},_t)}const index_esm=Object.freeze(Object.defineProperty({__proto__:null,default:ResizeDetector,useResizeDetector,withResizeDetector},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(index_esm);var useColumns={};(function(s){var h=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(wt,Et,Mt,Dt){Dt===void 0&&(Dt=Mt);var $t=Object.getOwnPropertyDescriptor(Et,Mt);(!$t||("get"in $t?!Et.__esModule:$t.writable||$t.configurable))&&($t={enumerable:!0,get:function(){return Et[Mt]}}),Object.defineProperty(wt,Dt,$t)}:function(wt,Et,Mt,Dt){Dt===void 0&&(Dt=Mt),wt[Dt]=Et[Mt]}),g=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(wt,Et){Object.defineProperty(wt,"default",{enumerable:!0,value:Et})}:function(wt,Et){wt.default=Et}),it=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(wt){if(wt&&wt.__esModule)return wt;var Et={};if(wt!=null)for(var Mt in wt)Mt!=="default"&&Object.prototype.hasOwnProperty.call(wt,Mt)&&h(Et,wt,Mt);return g(Et,wt),Et};Object.defineProperty(s,"__esModule",{value:!0}),s.useColumns=s.parseFlexValue=void 0;const ut=it(reactExports),ct=()=>ut.default.createElement(ut.default.Fragment,null),dt=()=>!1,ht=({rowData:wt})=>wt,pt=()=>null,mt=({rowIndex:wt})=>ut.default.createElement(ut.default.Fragment,null,wt+1),vt=()=>!0,gt=wt=>wt,yt=wt=>{if(typeof wt=="number")return{basis:0,grow:wt,shrink:1};if(wt.match(/^ *\d+(\.\d*)? *$/))return{basis:0,grow:parseFloat(wt.trim()),shrink:1};if(wt.match(/^ *\d+(\.\d*)? *px *$/))return{basis:parseFloat(wt.trim()),grow:1,shrink:1};if(wt.match(/^ *\d+(\.\d*)? \d+(\.\d*)? *$/)){const[Et,Mt]=wt.trim().split(" ");return{basis:0,grow:parseFloat(Et),shrink:parseFloat(Mt)}}if(wt.match(/^ *\d+(\.\d*)? \d+(\.\d*)? *px *$/)){const[Et,Mt]=wt.trim().split(" ");return{basis:parseFloat(Mt),grow:parseFloat(Et),shrink:1}}if(wt.match(/^ *\d+(\.\d*)? \d+(\.\d*)? \d+(\.\d*)? *px *$/)){const[Et,Mt,Dt]=wt.trim().split(" ");return{basis:parseFloat(Dt),grow:parseFloat(Et),shrink:parseFloat(Mt)}}return{basis:0,grow:1,shrink:1}};s.parseFlexValue=yt;const bt=(wt,Et,Mt)=>(0,ut.useMemo)(()=>{var Dt,$t,_t,Nt,kt,At,Bt,Ft,Lt,Ot;const It=[Et===!1?{basis:0,grow:0,shrink:0,minWidth:0,component:()=>ut.default.createElement(ut.default.Fragment,null),headerClassName:"dsg-hidden-cell",cellClassName:"dsg-hidden-cell",isCellEmpty:vt}:Object.assign(Object.assign({},Et),{basis:(Dt=Et==null?void 0:Et.basis)!==null&&Dt!==void 0?Dt:40,grow:($t=Et==null?void 0:Et.grow)!==null&&$t!==void 0?$t:0,shrink:(_t=Et==null?void 0:Et.shrink)!==null&&_t!==void 0?_t:0,minWidth:(Nt=Et==null?void 0:Et.minWidth)!==null&&Nt!==void 0?Nt:0,title:(kt=Et==null?void 0:Et.title)!==null&&kt!==void 0?kt:ut.default.createElement("div",{className:"dsg-corner-indicator"}),component:(At=Et==null?void 0:Et.component)!==null&&At!==void 0?At:mt,isCellEmpty:vt}),...wt];return Mt&&It.push(Object.assign(Object.assign({},Mt),{basis:(Bt=Mt==null?void 0:Mt.basis)!==null&&Bt!==void 0?Bt:40,grow:(Ft=Mt==null?void 0:Mt.grow)!==null&&Ft!==void 0?Ft:0,shrink:(Lt=Mt==null?void 0:Mt.shrink)!==null&&Lt!==void 0?Lt:0,minWidth:(Ot=Mt.minWidth)!==null&&Ot!==void 0?Ot:0,isCellEmpty:vt})),It.map(Rt=>{var Vt,Xt,Wt,jt,qt,Zt,Ut,Yt,lr,rr,Qt,ur,wr,vr,Dr,Or;const Mr=Rt.width!==void 0?(0,s.parseFlexValue)(Rt.width):{basis:void 0,grow:void 0,shrink:void 0};return Object.assign(Object.assign({},Rt),{basis:(Xt=(Vt=Rt.basis)!==null&&Vt!==void 0?Vt:Mr.basis)!==null&&Xt!==void 0?Xt:0,grow:(jt=(Wt=Rt.grow)!==null&&Wt!==void 0?Wt:Mr.grow)!==null&&jt!==void 0?jt:1,shrink:(Zt=(qt=Rt.shrink)!==null&&qt!==void 0?qt:Mr.shrink)!==null&&Zt!==void 0?Zt:1,minWidth:(Ut=Rt.minWidth)!==null&&Ut!==void 0?Ut:100,component:(Yt=Rt.component)!==null&&Yt!==void 0?Yt:ct,disableKeys:(lr=Rt.disableKeys)!==null&&lr!==void 0?lr:!1,disabled:(rr=Rt.disabled)!==null&&rr!==void 0?rr:!1,keepFocus:(Qt=Rt.keepFocus)!==null&&Qt!==void 0?Qt:!1,deleteValue:(ur=Rt.deleteValue)!==null&&ur!==void 0?ur:ht,copyValue:(wr=Rt.copyValue)!==null&&wr!==void 0?wr:pt,pasteValue:(vr=Rt.pasteValue)!==null&&vr!==void 0?vr:ht,prePasteValues:(Dr=Rt.prePasteValues)!==null&&Dr!==void 0?Dr:gt,isCellEmpty:(Or=Rt.isCellEmpty)!==null&&Or!==void 0?Or:dt})})},[Et,Mt,wt]);s.useColumns=bt})(useColumns);var useEdges$1={},cjs={};Object.defineProperty(cjs,"__esModule",{value:!0});function throttle(s,h,g,it){var ut,ct=!1,dt=0;function ht(){ut&&clearTimeout(ut)}function pt(){ht(),ct=!0}typeof h!="boolean"&&(it=g,g=h,h=void 0);function mt(){for(var vt=arguments.length,gt=new Array(vt),yt=0;yt<vt;yt++)gt[yt]=arguments[yt];var bt=this,wt=Date.now()-dt;if(ct)return;function Et(){dt=Date.now(),g.apply(bt,gt)}function Mt(){ut=void 0}it&&!ut&&Et(),ht(),it===void 0&&wt>s?Et():h!==!0&&(ut=setTimeout(it?Mt:Et,it===void 0?s-wt:s))}return mt.cancel=pt,mt}function debounce(s,h,g){return g===void 0?throttle(s,h,!1):throttle(s,g,h!==!1)}cjs.debounce=debounce;cjs.throttle=throttle;var useDeepEqualState$1={},fastDeepEqual=function s(h,g){if(h===g)return!0;if(h&&g&&typeof h=="object"&&typeof g=="object"){if(h.constructor!==g.constructor)return!1;var it,ut,ct;if(Array.isArray(h)){if(it=h.length,it!=g.length)return!1;for(ut=it;ut--!==0;)if(!s(h[ut],g[ut]))return!1;return!0}if(h.constructor===RegExp)return h.source===g.source&&h.flags===g.flags;if(h.valueOf!==Object.prototype.valueOf)return h.valueOf()===g.valueOf();if(h.toString!==Object.prototype.toString)return h.toString()===g.toString();if(ct=Object.keys(h),it=ct.length,it!==Object.keys(g).length)return!1;for(ut=it;ut--!==0;)if(!Object.prototype.hasOwnProperty.call(g,ct[ut]))return!1;for(ut=it;ut--!==0;){var dt=ct[ut];if(!s(h[dt],g[dt]))return!1}return!0}return h!==h&&g!==g},__importDefault$6=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(useDeepEqualState$1,"__esModule",{value:!0});useDeepEqualState$1.useDeepEqualState=void 0;const react_1$f=reactExports,fast_deep_equal_1=__importDefault$6(fastDeepEqual),useDeepEqualState=s=>{const[h,g]=(0,react_1$f.useState)(s),it=(0,react_1$f.useCallback)(ut=>{g(ct=>{const dt=typeof ut=="function"?ut(ct):ut;return(0,fast_deep_equal_1.default)(dt,ct)?ct:dt})},[g]);return[h,it]};useDeepEqualState$1.useDeepEqualState=useDeepEqualState;Object.defineProperty(useEdges$1,"__esModule",{value:!0});useEdges$1.useEdges=void 0;const react_1$e=reactExports,throttle_debounce_1$2=cjs,useDeepEqualState_1=useDeepEqualState$1,useEdges=(s,h,g)=>{const[it,ut]=(0,useDeepEqualState_1.useDeepEqualState)({top:!0,right:!0,bottom:!0,left:!0});return(0,react_1$e.useEffect)(()=>{const ct=(0,throttle_debounce_1$2.throttle)(100,()=>{var ht,pt,mt,vt,gt,yt,bt,wt,Et,Mt;ut({top:((ht=s.current)===null||ht===void 0?void 0:ht.scrollTop)===0,right:((mt=(pt=s.current)===null||pt===void 0?void 0:pt.scrollLeft)!==null&&mt!==void 0?mt:0)>=((gt=(vt=s.current)===null||vt===void 0?void 0:vt.scrollWidth)!==null&&gt!==void 0?gt:0)-(h??0)-1,bottom:((bt=(yt=s.current)===null||yt===void 0?void 0:yt.scrollTop)!==null&&bt!==void 0?bt:0)>=((Et=(wt=s.current)===null||wt===void 0?void 0:wt.scrollHeight)!==null&&Et!==void 0?Et:0)-(g??0)-1,left:((Mt=s.current)===null||Mt===void 0?void 0:Mt.scrollLeft)===0})}),dt=s.current;return dt==null||dt.addEventListener("scroll",ct),setTimeout(ct,100),()=>{dt==null||dt.removeEventListener("scroll",ct),ct.cancel()}},[g,h,s,ut]),it};useEdges$1.useEdges=useEdges;var useDocumentEventListener$1={};Object.defineProperty(useDocumentEventListener$1,"__esModule",{value:!0});useDocumentEventListener$1.useDocumentEventListener=void 0;const react_1$d=reactExports,useDocumentEventListener=(s,h)=>{(0,react_1$d.useEffect)(()=>(document.addEventListener(s,h),()=>{document.removeEventListener(s,h)}),[h,s])};useDocumentEventListener$1.useDocumentEventListener=useDocumentEventListener;var useGetBoundingClientRect$1={};Object.defineProperty(useGetBoundingClientRect$1,"__esModule",{value:!0});useGetBoundingClientRect$1.useGetBoundingClientRect=void 0;const react_1$c=reactExports,throttle_debounce_1$1=cjs,useGetBoundingClientRect=(s,h=200)=>{const g=(0,react_1$c.useRef)(null),it=(0,react_1$c.useMemo)(()=>(0,throttle_debounce_1$1.throttle)(h,!0,()=>{setTimeout(()=>{var ut;return g.current=((ut=s.current)===null||ut===void 0?void 0:ut.getBoundingClientRect())||null},0)}),[s,h]);return(0,react_1$c.useCallback)((ut=!1)=>{var ct;return ut?g.current=((ct=s.current)===null||ct===void 0?void 0:ct.getBoundingClientRect())||null:it(),g.current},[s,it])};useGetBoundingClientRect$1.useGetBoundingClientRect=useGetBoundingClientRect;var AddRows={};(function(s){var h=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(dt,ht,pt,mt){mt===void 0&&(mt=pt);var vt=Object.getOwnPropertyDescriptor(ht,pt);(!vt||("get"in vt?!ht.__esModule:vt.writable||vt.configurable))&&(vt={enumerable:!0,get:function(){return ht[pt]}}),Object.defineProperty(dt,mt,vt)}:function(dt,ht,pt,mt){mt===void 0&&(mt=pt),dt[mt]=ht[pt]}),g=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(dt,ht){Object.defineProperty(dt,"default",{enumerable:!0,value:ht})}:function(dt,ht){dt.default=ht}),it=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(dt){if(dt&&dt.__esModule)return dt;var ht={};if(dt!=null)for(var pt in dt)pt!=="default"&&Object.prototype.hasOwnProperty.call(dt,pt)&&h(ht,dt,pt);return g(ht,dt),ht};Object.defineProperty(s,"__esModule",{value:!0}),s.AddRows=s.createAddRowsComponent=void 0;const ut=it(reactExports),ct=(dt={})=>({addRows:ht})=>{var pt,mt;const[vt,gt]=(0,ut.useState)(1),[yt,bt]=(0,ut.useState)(String(vt));return ut.default.createElement("div",{className:"dsg-add-row"},ut.default.createElement("button",{type:"button",className:"dsg-add-row-btn",onClick:()=>ht(vt)},(pt=dt.button)!==null&&pt!==void 0?pt:"Add")," ",ut.default.createElement("input",{className:"dsg-add-row-input",value:yt,onBlur:()=>bt(String(vt)),type:"number",min:1,onChange:wt=>{bt(wt.target.value),gt(Math.max(1,Math.round(parseInt(wt.target.value)||0)))},onKeyDown:wt=>{wt.key==="Enter"&&ht(vt)}})," ",(mt=dt.unit)!==null&&mt!==void 0?mt:"rows")};s.createAddRowsComponent=ct,s.AddRows=(0,s.createAddRowsComponent)(),s.AddRows.displayName="AddRows"})(AddRows);var useDebounceState$1={};Object.defineProperty(useDebounceState$1,"__esModule",{value:!0});useDebounceState$1.useDebounceState=void 0;const react_1$b=reactExports,throttle_debounce_1=cjs,useDebounceState=(s,h)=>{const[g,it]=(0,react_1$b.useState)(s),ut=(0,react_1$b.useRef)();(0,react_1$b.useEffect)(()=>()=>{var dt;return(dt=ut.current)===null||dt===void 0?void 0:dt.cancel()},[]);const ct=(0,react_1$b.useMemo)(()=>ut.current=(0,throttle_debounce_1.debounce)(h,dt=>{it(dt)}),[h]);return[g,ct]};useDebounceState$1.useDebounceState=useDebounceState;var ContextMenu={};(function(s){var h=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(mt,vt,gt,yt){yt===void 0&&(yt=gt);var bt=Object.getOwnPropertyDescriptor(vt,gt);(!bt||("get"in bt?!vt.__esModule:bt.writable||bt.configurable))&&(bt={enumerable:!0,get:function(){return vt[gt]}}),Object.defineProperty(mt,yt,bt)}:function(mt,vt,gt,yt){yt===void 0&&(yt=gt),mt[yt]=vt[gt]}),g=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(mt,vt){Object.defineProperty(mt,"default",{enumerable:!0,value:vt})}:function(mt,vt){mt.default=vt}),it=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(mt){if(mt&&mt.__esModule)return mt;var vt={};if(mt!=null)for(var gt in mt)gt!=="default"&&Object.prototype.hasOwnProperty.call(mt,gt)&&h(vt,mt,gt);return g(vt,mt),vt};Object.defineProperty(s,"__esModule",{value:!0}),s.ContextMenu=s.createContextMenuComponent=s.defaultRenderItem=void 0;const ut=it(reactExports),ct=reactExports,dt=useDocumentEventListener$1,ht=mt=>mt.type==="CUT"?ut.createElement(ut.Fragment,null,"Cut"):mt.type==="COPY"?ut.createElement(ut.Fragment,null,"Copy"):mt.type==="PASTE"?ut.createElement(ut.Fragment,null,"Paste"):mt.type==="DELETE_ROW"?ut.createElement(ut.Fragment,null,"Delete row"):mt.type==="DELETE_ROWS"?ut.createElement(ut.Fragment,null,"Delete rows ",ut.createElement("b",null,mt.fromRow)," to ",ut.createElement("b",null,mt.toRow)):mt.type==="INSERT_ROW_BELLOW"?ut.createElement(ut.Fragment,null,"Insert row below"):mt.type==="DUPLICATE_ROW"?ut.createElement(ut.Fragment,null,"Duplicate row"):mt.type==="DUPLICATE_ROWS"?ut.createElement(ut.Fragment,null,"Duplicate rows ",ut.createElement("b",null,mt.fromRow)," to ",ut.createElement("b",null,mt.toRow)):mt.type;s.defaultRenderItem=ht;const pt=(mt=s.defaultRenderItem)=>({clientX:vt,clientY:gt,items:yt,close:bt})=>{const wt=(0,ct.useRef)(null),Et=(0,ct.useCallback)(Mt=>{var Dt;((Dt=wt.current)===null||Dt===void 0?void 0:Dt.contains(Mt.target))||bt()},[bt]);return(0,dt.useDocumentEventListener)("mousedown",Et),ut.createElement("div",{className:"dsg-context-menu",style:{left:vt+"px",top:gt+"px"},ref:wt},yt.map(Mt=>ut.createElement("div",{key:Mt.type,onClick:Mt.action,className:"dsg-context-menu-item"},mt(Mt))))};s.createContextMenuComponent=pt,s.ContextMenu=(0,s.createContextMenuComponent)(s.defaultRenderItem),s.ContextMenu.displayName="ContextMenu"})(ContextMenu);var copyPasting={},domParser={};Object.defineProperty(domParser,"__esModule",{value:!0});domParser.parseDom=void 0;const parser=typeof DOMParser<"u"?new DOMParser:{parseFromString:()=>null},parseDom=s=>parser.parseFromString(s,"text/html");domParser.parseDom=parseDom;Object.defineProperty(copyPasting,"__esModule",{value:!0});copyPasting.encodeHtml=copyPasting.parseTextPlainData=copyPasting.parseTextHtmlData=void 0;const domParser_1=domParser,parseTextHtmlData=s=>{var h,g;const it=(0,domParser_1.parseDom)(s.replace(/<br\/?>/g,`
`)),ut=it.getElementsByTagName("table")[0];if(ut){const dt=[];for(let ht=0;ht<ut.rows.length;ht++){const pt=[];dt.push(pt);for(let mt=0;mt<ut.rows[ht].cells.length;mt++)pt.push((h=ut.rows[ht].cells[mt].textContent)!==null&&h!==void 0?h:"")}return dt}const ct=it.getElementsByTagName("span")[0];return ct?[[(g=ct.textContent)!==null&&g!==void 0?g:""]]:[[""]]};copyPasting.parseTextHtmlData=parseTextHtmlData;const parseTextPlainData=s=>{const h=s.replace(/\r|\n$/g,""),g=[[]];let it=0,ut=0,ct=!1,dt=0;const ht=()=>{let pt=h.slice(ut,it);ct&&pt[pt.length-1]==='"'&&pt.includes(`
`)&&(pt=pt.slice(1,pt.length-1).replace(/""/g,'"')),ct&&pt[pt.length-1]!=='"'?pt.split(`
`).forEach((mt,vt,{length:gt})=>{g[dt].push(mt),vt<gt-1&&(g.push([]),dt++)}):g[dt].push(pt)};for(;it<h.length;)ct&&h[it]==='"'&&![void 0,"	",'"'].includes(h[it+1])&&(ct=!1),ct&&h[it]==='"'&&h[it+1]==='"'&&it++,it===ut&&h[it]==='"'&&(ct=!0),h[it]==="	"&&(ht(),ut=it+1,ct=!1),h[it]===`
`&&!ct&&(ht(),g.push([]),ut=it+1,dt++),it++;return ht(),g};copyPasting.parseTextPlainData=parseTextPlainData;const encodeHtml=s=>s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");copyPasting.encodeHtml=encodeHtml;var typeCheck={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.getSelectionWithId=s.getSelection=s.getCellWithId=s.getCell=void 0;const h=(ct,dt,ht,pt)=>{if(ct===null||!dt||!ht)return null;if(typeof ct!="object")throw new Error("Value must be an object or null");const mt=pt.findIndex(gt=>gt.id===ct.col),vt={col:Math.max(0,Math.min(dt-1,mt===-1?Number(ct.col):mt-1)),row:Math.max(0,Math.min(ht-1,Number(ct.row)))};if(isNaN(vt.col)||isNaN(vt.row))throw new Error("col or cell are not valid positive numbers");return vt};s.getCell=h;const g=(ct,dt)=>{var ht;return ct?{col:ct.col,row:ct.row,colId:(ht=dt[ct.col+1])===null||ht===void 0?void 0:ht.id}:null};s.getCellWithId=g;const it=(ct,dt,ht,pt)=>{if(ct===null||!dt||!ht)return null;if(typeof ct!="object")throw new Error("Value must be an object or null");const mt={min:(0,s.getCell)(ct.min,dt,ht,pt),max:(0,s.getCell)(ct.max,dt,ht,pt)};if(!mt.min||!mt.max)throw new Error("min and max must be defined");return mt};s.getSelection=it;const ut=(ct,dt)=>ct?{min:(0,s.getCellWithId)(ct.min,dt),max:(0,s.getCellWithId)(ct.max,dt)}:null;s.getSelectionWithId=ut})(typeCheck);var tab={};Object.defineProperty(tab,"__esModule",{value:!0});tab.getAllTabbableElements=void 0;const getAllTabbableElements=()=>Array.from(document.querySelectorAll("*")).filter(s=>s instanceof HTMLElement&&typeof s.tabIndex=="number"&&s.tabIndex>=0&&!s.disabled&&(!(s instanceof HTMLAnchorElement)||!!s.href||s.getAttribute("tabIndex")!==null)&&getComputedStyle(s).visibility!=="collapse");tab.getAllTabbableElements=getAllTabbableElements;var Grid$1={},lib$1={},_rollupPluginBabelHelpers$2={};/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */(function(s){Object.defineProperty(s,"__esModule",{value:!0});function h(){return h=Object.assign?Object.assign.bind():function(g){for(var it=1;it<arguments.length;it++){var ut=arguments[it];for(var ct in ut)Object.prototype.hasOwnProperty.call(ut,ct)&&(g[ct]=ut[ct])}return g},h.apply(this,arguments)}s.extends=h})(_rollupPluginBabelHelpers$2);var lib={},_rollupPluginBabelHelpers$1={};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */(function(s){Object.defineProperty(s,"__esModule",{value:!0});function h(){return h=Object.assign?Object.assign.bind():function(g){for(var it=1;it<arguments.length;it++){var ut=arguments[it];for(var ct in ut)Object.prototype.hasOwnProperty.call(ut,ct)&&(g[ct]=ut[ct])}return g},h.apply(this,arguments)}s.extends=h})(_rollupPluginBabelHelpers$1);var utils$1={};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */Object.defineProperty(utils$1,"__esModule",{value:!0});function memo(s,h,g){var it,ut=(it=g.initialDeps)!=null?it:[],ct;return function(){var dt;g.key&&g.debug!=null&&g.debug()&&(dt=Date.now());var ht=s(),pt=ht.length!==ut.length||ht.some(function(wt,Et){return ut[Et]!==wt});if(!pt)return ct;ut=ht;var mt;if(g.key&&g.debug!=null&&g.debug()&&(mt=Date.now()),ct=h.apply(void 0,ht),g.key&&g.debug!=null&&g.debug()){var vt=Math.round((Date.now()-dt)*100)/100,gt=Math.round((Date.now()-mt)*100)/100,yt=gt/16,bt=function(Et,Mt){for(Et=String(Et);Et.length<Mt;)Et=" "+Et;return Et};console.info("%c⏱ "+bt(gt,5)+" /"+bt(vt,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*yt,120))+"deg 100% 31%);",g==null?void 0:g.key)}return g==null||g.onChange==null||g.onChange(ct),ct}}function notUndefined(s,h){if(s===void 0)throw new Error("Unexpected undefined"+(h?": "+h:""));return s}var approxEqual=function s(h,g){return Math.abs(h-g)<1};utils$1.approxEqual=approxEqual;utils$1.memo=memo;utils$1.notUndefined=notUndefined;/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */Object.defineProperty(lib,"__esModule",{value:!0});var _rollupPluginBabelHelpers=_rollupPluginBabelHelpers$1,utils=utils$1,defaultKeyExtractor=function s(h){return h},defaultRangeExtractor=function s(h){for(var g=Math.max(h.startIndex-h.overscan,0),it=Math.min(h.endIndex+h.overscan,h.count-1),ut=[],ct=g;ct<=it;ct++)ut.push(ct);return ut},observeElementRect=function s(h,g){var it=h.scrollElement;if(it){var ut=function(ht){var pt=ht.width,mt=ht.height;g({width:Math.round(pt),height:Math.round(mt)})};ut(it.getBoundingClientRect());var ct=new ResizeObserver(function(dt){var ht=dt[0];if(ht!=null&&ht.borderBoxSize){var pt=ht.borderBoxSize[0];if(pt){ut({width:pt.inlineSize,height:pt.blockSize});return}}ut(it.getBoundingClientRect())});return ct.observe(it,{box:"border-box"}),function(){ct.unobserve(it)}}},observeWindowRect=function s(h,g){var it=h.scrollElement;if(it){var ut=function(){g({width:it.innerWidth,height:it.innerHeight})};return ut(),it.addEventListener("resize",ut,{passive:!0}),function(){it.removeEventListener("resize",ut)}}},observeElementOffset=function s(h,g){var it=h.scrollElement;if(it){var ut=function(){g(it[h.options.horizontal?"scrollLeft":"scrollTop"])};return ut(),it.addEventListener("scroll",ut,{passive:!0}),function(){it.removeEventListener("scroll",ut)}}},observeWindowOffset=function s(h,g){var it=h.scrollElement;if(it){var ut=function(){g(it[h.options.horizontal?"scrollX":"scrollY"])};return ut(),it.addEventListener("scroll",ut,{passive:!0}),function(){it.removeEventListener("scroll",ut)}}},measureElement=function s(h,g,it){if(g!=null&&g.borderBoxSize){var ut=g.borderBoxSize[0];if(ut){var ct=Math.round(ut[it.options.horizontal?"inlineSize":"blockSize"]);return ct}}return Math.round(h.getBoundingClientRect()[it.options.horizontal?"width":"height"])},windowScroll=function s(h,g,it){var ut,ct,dt=g.adjustments,ht=dt===void 0?window.scrollY:dt,pt=g.behavior,mt=h+ht;(ut=it.scrollElement)==null||ut.scrollTo==null||ut.scrollTo((ct={},ct[it.options.horizontal?"left":"top"]=mt,ct.behavior=pt,ct))},elementScroll=function s(h,g,it){var ut,ct,dt=g.adjustments,ht=dt===void 0?0:dt,pt=g.behavior,mt=h+ht;(ut=it.scrollElement)==null||ut.scrollTo==null||ut.scrollTo((ct={},ct[it.options.horizontal?"left":"top"]=mt,ct.behavior=pt,ct))},Virtualizer=function s(h){var g=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var it=null,ut=function(){return it||(typeof ResizeObserver<"u"?it=new ResizeObserver(function(dt){dt.forEach(function(ht){g._measureElement(ht.target,ht)})}):null)};return{disconnect:function(){var dt;return(dt=ut())==null?void 0:dt.disconnect()},observe:function(dt){var ht;return(ht=ut())==null?void 0:ht.observe(dt,{box:"border-box"})},unobserve:function(dt){var ht;return(ht=ut())==null?void 0:ht.unobserve(dt)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(it){Object.entries(it).forEach(function(ut){var ct=ut[0],dt=ut[1];typeof dt>"u"&&delete it[ct]}),g.options=_rollupPluginBabelHelpers.extends({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:defaultKeyExtractor,rangeExtractor:defaultRangeExtractor,onChange:function(){},measureElement,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",elementKeyAttribute:"data-element-key",initialMeasurementsCache:[],lanes:1},it)},this.notify=function(){g.options.onChange==null||g.options.onChange(g)},this.cleanup=function(){g.unsubs.filter(Boolean).forEach(function(it){return it()}),g.unsubs=[],g.scrollElement=null},this._didMount=function(){return g.measureElementCache.forEach(g.observer.observe),function(){g.observer.disconnect(),g.cleanup()}},this._willUpdate=function(){var it=g.options.getScrollElement();g.scrollElement!==it&&(g.cleanup(),g.scrollElement=it,g._scrollToOffset(g.scrollOffset,{adjustments:void 0,behavior:void 0}),g.unsubs.push(g.options.observeElementRect(g,function(ut){var ct=g.scrollRect;g.scrollRect=ut,(g.options.horizontal?ut.width!==ct.width:ut.height!==ct.height)&&g.maybeNotify()})),g.unsubs.push(g.options.observeElementOffset(g,function(ut){g.scrollAdjustments=0,g.scrollOffset!==ut&&(g.isScrollingTimeoutId!==null&&(clearTimeout(g.isScrollingTimeoutId),g.isScrollingTimeoutId=null),g.isScrolling=!0,g.scrollDirection=g.scrollOffset<ut?"forward":"backward",g.scrollOffset=ut,g.maybeNotify(),g.isScrollingTimeoutId=setTimeout(function(){g.isScrollingTimeoutId=null,g.isScrolling=!1,g.scrollDirection=null,g.maybeNotify()},g.options.scrollingDelay))})))},this.getSize=function(){return g.scrollRect[g.options.horizontal?"width":"height"]},this.memoOptions=utils.memo(function(){return[g.options.count,g.options.paddingStart,g.options.scrollMargin,g.options.getItemKey]},function(it,ut,ct,dt){return g.pendingMeasuredCacheIndexes=[],{count:it,paddingStart:ut,scrollMargin:ct,getItemKey:dt}},{key:!1}),this.getFurthestMeasurement=function(it,ut){for(var ct=new Map,dt=new Map,ht=ut-1;ht>=0;ht--){var pt=it[ht];if(!ct.has(pt.lane)){var mt=dt.get(pt.lane);if(mt==null||pt.end>mt.end?dt.set(pt.lane,pt):pt.end<mt.end&&ct.set(pt.lane,!0),ct.size===g.options.lanes)break}}return dt.size===g.options.lanes?Array.from(dt.values()).sort(function(vt,gt){return vt.end-gt.end})[0]:void 0},this.getMeasurements=utils.memo(function(){return[g.memoOptions(),g.itemSizeCache]},function(it,ut){var ct=it.count,dt=it.paddingStart,ht=it.scrollMargin,pt=it.getItemKey,mt=g.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,g.pendingMeasuredCacheIndexes):0;g.pendingMeasuredCacheIndexes=[];for(var vt=g.measurementsCache.slice(0,mt),gt=mt;gt<ct;gt++){var yt=pt(gt),bt=g.options.lanes===1?vt[gt-1]:g.getFurthestMeasurement(vt,gt),wt=bt?bt.end:dt+ht,Et=ut.get(yt),Mt=typeof Et=="number"?Et:g.options.estimateSize(gt),Dt=wt+Mt,$t=bt?bt.lane:gt%g.options.lanes;vt[gt]={index:gt,start:wt,size:Mt,end:Dt,key:yt,lane:$t}}return g.measurementsCache=vt,vt},{key:!1,debug:function(){return g.options.debug}}),this.calculateRange=utils.memo(function(){return[g.getMeasurements(),g.getSize(),g.scrollOffset]},function(it,ut,ct){return g.range=calculateRange({measurements:it,outerSize:ut,scrollOffset:ct})},{key:!1,debug:function(){return g.options.debug}}),this.maybeNotify=utils.memo(function(){var it=g.calculateRange();return[it.startIndex,it.endIndex,g.isScrolling]},function(){g.notify()},{key:!1,debug:function(){return g.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=utils.memo(function(){return[g.options.rangeExtractor,g.calculateRange(),g.options.overscan,g.options.count]},function(it,ut,ct,dt){return it(_rollupPluginBabelHelpers.extends({},ut,{overscan:ct,count:dt}))},{key:!1,debug:function(){return g.options.debug}}),this.indexFromElement=function(it){var ut=g.options.indexAttribute,ct=it.getAttribute(ut);return ct?parseInt(ct,10):(console.warn("Missing attribute name '"+ut+"={index}' on measured element."),-1)},this._measureElement=function(it,ut){var ct,dt=g.indexFromElement(it),ht=utils.notUndefined(g.measurementsCache[dt]),pt=(ct=it.getAttribute(g.options.elementKeyAttribute))!=null?ct:ht.key,mt=g.measureElementCache.get(pt);if(!it.isConnected){g.observer.unobserve(it),it===mt&&g.measureElementCache.delete(pt);return}mt!==it&&(mt&&g.observer.unobserve(mt),g.observer.observe(it),g.measureElementCache.set(pt,it));var vt=g.options.measureElement(it,ut,g);g.resizeItem(dt,vt)},this.resizeItem=function(it,ut){var ct,dt=g.measurementsCache[it];if(dt){var ht=(ct=g.itemSizeCache.get(dt.key))!=null?ct:dt.size,pt=ut-ht;pt!==0&&(dt.start<g.scrollOffset&&g._scrollToOffset(g.scrollOffset,{adjustments:g.scrollAdjustments+=pt,behavior:void 0}),g.pendingMeasuredCacheIndexes.push(it),g.itemSizeCache=new Map(g.itemSizeCache.set(dt.key,ut)),g.notify())}},this.measureElement=function(it){it&&g._measureElement(it,void 0)},this.getVirtualItems=utils.memo(function(){return[g.getIndexes(),g.getMeasurements()]},function(it,ut){for(var ct=[],dt=0,ht=it.length;dt<ht;dt++){var pt=it[dt],mt=ut[pt];ct.push(mt)}return ct},{key:!1,debug:function(){return g.options.debug}}),this.getVirtualItemForOffset=function(it){var ut=g.getMeasurements();return utils.notUndefined(ut[findNearestBinarySearch(0,ut.length-1,function(ct){return utils.notUndefined(ut[ct]).start},it)])},this.getOffsetForAlignment=function(it,ut){var ct=g.getSize();ut==="auto"&&(it<=g.scrollOffset?ut="start":it>=g.scrollOffset+ct?ut="end":ut="start"),ut==="start"?it=it:ut==="end"?it=it-ct:ut==="center"&&(it=it-ct/2);var dt=g.options.horizontal?"scrollWidth":"scrollHeight",ht=g.scrollElement?"document"in g.scrollElement?g.scrollElement.document.documentElement[dt]:g.scrollElement[dt]:0,pt=ht-g.getSize();return Math.max(Math.min(pt,it),0)},this.getOffsetForIndex=function(it,ut){ut===void 0&&(ut="auto"),it=Math.max(0,Math.min(it,g.options.count-1));var ct=utils.notUndefined(g.getMeasurements()[it]);if(ut==="auto")if(ct.end>=g.scrollOffset+g.getSize()-g.options.scrollPaddingEnd)ut="end";else if(ct.start<=g.scrollOffset+g.options.scrollPaddingStart)ut="start";else return[g.scrollOffset,ut];var dt=ut==="end"?ct.end+g.options.scrollPaddingEnd:ct.start-g.options.scrollPaddingStart;return[g.getOffsetForAlignment(dt,ut),ut]},this.isDynamicMode=function(){return g.measureElementCache.size>0},this.cancelScrollToIndex=function(){g.scrollToIndexTimeoutId!==null&&(clearTimeout(g.scrollToIndexTimeoutId),g.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(it,ut){var ct=ut===void 0?{}:ut,dt=ct.align,ht=dt===void 0?"start":dt,pt=ct.behavior;g.cancelScrollToIndex(),pt==="smooth"&&g.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),g._scrollToOffset(g.getOffsetForAlignment(it,ht),{adjustments:void 0,behavior:pt})},this.scrollToIndex=function(it,ut){var ct=ut===void 0?{}:ut,dt=ct.align,ht=dt===void 0?"auto":dt,pt=ct.behavior;it=Math.max(0,Math.min(it,g.options.count-1)),g.cancelScrollToIndex(),pt==="smooth"&&g.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var mt=g.getOffsetForIndex(it,ht),vt=mt[0],gt=mt[1];g._scrollToOffset(vt,{adjustments:void 0,behavior:pt}),pt!=="smooth"&&g.isDynamicMode()&&(g.scrollToIndexTimeoutId=setTimeout(function(){g.scrollToIndexTimeoutId=null;var yt=g.measureElementCache.has(g.options.getItemKey(it));if(yt){var bt=g.getOffsetForIndex(it,gt),wt=bt[0];utils.approxEqual(wt,g.scrollOffset)||g.scrollToIndex(it,{align:gt,behavior:pt})}else g.scrollToIndex(it,{align:gt,behavior:pt})}))},this.scrollBy=function(it,ut){var ct=ut===void 0?{}:ut,dt=ct.behavior;g.cancelScrollToIndex(),dt==="smooth"&&g.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),g._scrollToOffset(g.scrollOffset+it,{adjustments:void 0,behavior:dt})},this.getTotalSize=function(){var it;return(((it=g.getMeasurements()[g.options.count-1])==null?void 0:it.end)||g.options.paddingStart)-g.options.scrollMargin+g.options.paddingEnd},this._scrollToOffset=function(it,ut){var ct=ut.adjustments,dt=ut.behavior;g.options.scrollToFn(it,{behavior:dt,adjustments:ct},g)},this.measure=function(){g.itemSizeCache=new Map,g.notify()},this.setOptions(h),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(it){g.itemSizeCache.set(it.key,it.size)}),this.maybeNotify()},findNearestBinarySearch=function s(h,g,it,ut){for(;h<=g;){var ct=(h+g)/2|0,dt=it(ct);if(dt<ut)h=ct+1;else if(dt>ut)g=ct-1;else return ct}return h>0?h-1:0};function calculateRange(s){for(var h=s.measurements,g=s.outerSize,it=s.scrollOffset,ut=h.length-1,ct=function(mt){return h[mt].start},dt=findNearestBinarySearch(0,ut,ct,it),ht=dt;ht<ut&&h[ht].end<it+g;)ht++;return{startIndex:dt,endIndex:ht}}lib.approxEqual=utils.approxEqual;lib.memo=utils.memo;lib.notUndefined=utils.notUndefined;lib.Virtualizer=Virtualizer;lib.defaultKeyExtractor=defaultKeyExtractor;lib.defaultRangeExtractor=defaultRangeExtractor;lib.elementScroll=elementScroll;lib.measureElement=measureElement;lib.observeElementOffset=observeElementOffset;lib.observeElementRect=observeElementRect;lib.observeWindowOffset=observeWindowOffset;lib.observeWindowRect=observeWindowRect;lib.windowScroll=windowScroll;/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */(function(s){Object.defineProperty(s,"__esModule",{value:!0});var h=_rollupPluginBabelHelpers$2,g=reactExports,it=lib;function ut(vt){if(vt&&vt.__esModule)return vt;var gt=Object.create(null);return vt&&Object.keys(vt).forEach(function(yt){if(yt!=="default"){var bt=Object.getOwnPropertyDescriptor(vt,yt);Object.defineProperty(gt,yt,bt.get?bt:{enumerable:!0,get:function(){return vt[yt]}})}}),gt.default=vt,Object.freeze(gt)}var ct=ut(g),dt=typeof document<"u"?ct.useLayoutEffect:ct.useEffect;function ht(vt){var gt=ct.useReducer(function(){return{}},{})[1],yt=h.extends({},vt,{onChange:function(Mt){gt(),vt.onChange==null||vt.onChange(Mt)}}),bt=ct.useState(function(){return new it.Virtualizer(yt)}),wt=bt[0];return wt.setOptions(yt),ct.useEffect(function(){return wt._didMount()},[]),dt(function(){return wt._willUpdate()}),wt}function pt(vt){return ht(h.extends({observeElementRect:it.observeElementRect,observeElementOffset:it.observeElementOffset,scrollToFn:it.elementScroll},vt))}function mt(vt){return ht(h.extends({getScrollElement:function(){return typeof document<"u"?window:null},observeElementRect:it.observeWindowRect,observeElementOffset:it.observeWindowOffset,scrollToFn:it.windowScroll},vt))}s.useVirtualizer=pt,s.useWindowVirtualizer=mt,Object.keys(it).forEach(function(vt){vt!=="default"&&!s.hasOwnProperty(vt)&&Object.defineProperty(s,vt,{enumerable:!0,get:function(){return it[vt]}})})})(lib$1);var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(s){(function(){var h={}.hasOwnProperty;function g(){for(var it=[],ut=0;ut<arguments.length;ut++){var ct=arguments[ut];if(ct){var dt=typeof ct;if(dt==="string"||dt==="number")it.push(ct);else if(Array.isArray(ct)){if(ct.length){var ht=g.apply(null,ct);ht&&it.push(ht)}}else if(dt==="object"){if(ct.toString!==Object.prototype.toString&&!ct.toString.toString().includes("[native code]")){it.push(ct.toString());continue}for(var pt in ct)h.call(ct,pt)&&ct[pt]&&it.push(pt)}}}return it.join(" ")}s.exports?(g.default=g,s.exports=g):window.classNames=g})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);var Cell$1={},__importDefault$5=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Cell$1,"__esModule",{value:!0});Cell$1.Cell=void 0;const react_1$a=__importDefault$5(reactExports),classnames_1$4=__importDefault$5(classnamesExports),Cell=({children:s,gutter:h,stickyRight:g,active:it,disabled:ut,className:ct,width:dt,left:ht})=>react_1$a.default.createElement("div",{className:(0,classnames_1$4.default)("dsg-cell",h&&"dsg-cell-gutter",ut&&"dsg-cell-disabled",h&&it&&"dsg-cell-gutter-active",g&&"dsg-cell-sticky-right",ct),style:{width:dt,left:g?void 0:ht}},s);Cell$1.Cell=Cell;var useMemoizedIndexCallback$1={};Object.defineProperty(useMemoizedIndexCallback$1,"__esModule",{value:!0});useMemoizedIndexCallback$1.useMemoizedIndexCallback=void 0;const react_1$9=reactExports,useMemoizedIndexCallback=(s,h)=>(0,react_1$9.useMemo)(()=>{const g=new Map;return it=>(g.has(it)||g.set(it,(...ut)=>{s(it,...ut.slice(0,h))}),g.get(it))},[h,s]);useMemoizedIndexCallback$1.useMemoizedIndexCallback=useMemoizedIndexCallback;var __createBinding$5=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(s,h,g,it){it===void 0&&(it=g);var ut=Object.getOwnPropertyDescriptor(h,g);(!ut||("get"in ut?!h.__esModule:ut.writable||ut.configurable))&&(ut={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(s,it,ut)}:function(s,h,g,it){it===void 0&&(it=g),s[it]=h[g]}),__setModuleDefault$5=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(s,h){Object.defineProperty(s,"default",{enumerable:!0,value:h})}:function(s,h){s.default=h}),__importStar$5=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(s){if(s&&s.__esModule)return s;var h={};if(s!=null)for(var g in s)g!=="default"&&Object.prototype.hasOwnProperty.call(s,g)&&__createBinding$5(h,s,g);return __setModuleDefault$5(h,s),h},__importDefault$4=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Grid$1,"__esModule",{value:!0});Grid$1.Grid=void 0;const react_virtual_1=lib$1,react_1$8=__importStar$5(reactExports),classnames_1$3=__importDefault$4(classnamesExports),Cell_1=Cell$1,useMemoizedIndexCallback_1=useMemoizedIndexCallback$1,Grid=({data:s,columns:h,outerRef:g,innerRef:it,columnWidths:ut,hasStickyRightColumn:ct,displayHeight:dt,headerRowHeight:ht,rowHeight:pt,rowKey:mt,fullWidth:vt,selection:gt,activeCell:yt,rowClassName:bt,cellClassName:wt,children:Et,editing:Mt,getContextMenuItems:Dt,setRowData:$t,deleteRows:_t,duplicateRows:Nt,insertRowAfter:kt,stopEditing:At,onScroll:Bt})=>{var Ft,Lt,Ot,It;const Rt=(0,react_virtual_1.useVirtualizer)({count:s.length,getScrollElement:()=>g.current,paddingStart:ht,estimateSize:rr=>pt(rr).height,getItemKey:rr=>{if(mt&&rr>0){const Qt=s[rr-1];if(typeof mt=="function")return mt({rowData:Qt,rowIndex:rr});if(typeof mt=="string"&&Qt instanceof Object&&mt in Qt){const ur=Qt[mt];if(typeof ur=="string"||typeof ur=="number")return ur}}return rr},overscan:5}),Vt=(0,react_virtual_1.useVirtualizer)({count:h.length,getScrollElement:()=>g.current,estimateSize:rr=>{var Qt;return(Qt=ut==null?void 0:ut[rr])!==null&&Qt!==void 0?Qt:100},horizontal:!0,getItemKey:rr=>{var Qt;return(Qt=h[rr].id)!==null&&Qt!==void 0?Qt:rr},overscan:1,rangeExtractor:rr=>{const Qt=(0,react_virtual_1.defaultRangeExtractor)(rr);return Qt[0]!==0&&Qt.unshift(0),ct&&Qt[Qt.length-1]!==h.length-1&&Qt.push(h.length-1),Qt}});(0,react_1$8.useEffect)(()=>{Vt.measure()},[Vt,ut]);const Xt=(0,useMemoizedIndexCallback_1.useMemoizedIndexCallback)($t,1),Wt=(0,useMemoizedIndexCallback_1.useMemoizedIndexCallback)(_t,0),jt=(0,useMemoizedIndexCallback_1.useMemoizedIndexCallback)(Nt,0),qt=(0,useMemoizedIndexCallback_1.useMemoizedIndexCallback)(kt,0),Zt=(Ft=gt==null?void 0:gt.min.col)!==null&&Ft!==void 0?Ft:yt==null?void 0:yt.col,Ut=(Lt=gt==null?void 0:gt.max.col)!==null&&Lt!==void 0?Lt:yt==null?void 0:yt.col,Yt=(Ot=gt==null?void 0:gt.min.row)!==null&&Ot!==void 0?Ot:yt==null?void 0:yt.row,lr=(It=gt==null?void 0:gt.max.row)!==null&&It!==void 0?It:yt==null?void 0:yt.row;return react_1$8.default.createElement("div",{ref:g,className:"dsg-container",onScroll:Bt,style:{height:dt}},react_1$8.default.createElement("div",{ref:it,style:{width:vt?"100%":Vt.getTotalSize(),height:Rt.getTotalSize()}},ht>0&&react_1$8.default.createElement("div",{className:(0,classnames_1$3.default)("dsg-row","dsg-row-header"),style:{width:vt?"100%":Vt.getTotalSize(),height:ht}},Vt.getVirtualItems().map(rr=>react_1$8.default.createElement(Cell_1.Cell,{key:rr.key,gutter:rr.index===0,stickyRight:ct&&rr.index===h.length-1,width:rr.size,left:rr.start,className:(0,classnames_1$3.default)("dsg-cell-header",Zt!==void 0&&Ut!==void 0&&Zt<=rr.index-1&&Ut>=rr.index-1&&"dsg-cell-header-active",h[rr.index].headerClassName)},react_1$8.default.createElement("div",{className:"dsg-cell-header-container"},h[rr.index].title)))),Rt.getVirtualItems().map(rr=>{const Qt=rr.index>=(Yt??1/0)&&rr.index<=(lr??-1/0);return react_1$8.default.createElement("div",{key:rr.key,className:(0,classnames_1$3.default)("dsg-row",typeof bt=="string"?bt:null,typeof bt=="function"?bt({rowData:s[rr.index],rowIndex:rr.index}):null),style:{height:rr.size,top:rr.start,width:vt?"100%":Vt.getTotalSize()}},Vt.getVirtualItems().map(ur=>{const wr=h[ur.index].cellClassName,vr=h[ur.index].disabled,Dr=h[ur.index].component,Or=vr===!0||typeof vr=="function"&&vr({rowData:s[rr.index],rowIndex:rr.index}),Mr=(yt==null?void 0:yt.row)===rr.index&&yt.col===ur.index-1;return react_1$8.default.createElement(Cell_1.Cell,{key:ur.key,gutter:ur.index===0,stickyRight:ct&&ur.index===h.length-1,active:ur.index===0&&Qt,disabled:Or,className:(0,classnames_1$3.default)(typeof wr=="function"?wr({rowData:s[rr.index],rowIndex:rr.index,columnId:h[ur.index].id}):wr,typeof wt=="function"?wt({rowData:s[rr.index],rowIndex:rr.index,columnId:h[ur.index].id}):wt),width:ur.size,left:ur.start},react_1$8.default.createElement(Dr,{rowData:s[rr.index],getContextMenuItems:Dt,disabled:Or,active:Mr,columnIndex:ur.index-1,rowIndex:rr.index,focus:Mr&&Mt,deleteRow:Wt(rr.index),duplicateRow:jt(rr.index),stopEditing:At,insertRowBelow:qt(rr.index),setRowData:Xt(rr.index),columnData:h[ur.index].columnData}))}))}),Et))};Grid$1.Grid=Grid;var SelectionRect={};(function(s){var h=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(mt,vt,gt,yt){yt===void 0&&(yt=gt);var bt=Object.getOwnPropertyDescriptor(vt,gt);(!bt||("get"in bt?!vt.__esModule:bt.writable||bt.configurable))&&(bt={enumerable:!0,get:function(){return vt[gt]}}),Object.defineProperty(mt,yt,bt)}:function(mt,vt,gt,yt){yt===void 0&&(yt=gt),mt[yt]=vt[gt]}),g=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(mt,vt){Object.defineProperty(mt,"default",{enumerable:!0,value:vt})}:function(mt,vt){mt.default=vt}),it=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(mt){if(mt&&mt.__esModule)return mt;var vt={};if(mt!=null)for(var gt in mt)gt!=="default"&&Object.prototype.hasOwnProperty.call(mt,gt)&&h(vt,mt,gt);return g(vt,mt),vt},ut=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(mt){return mt&&mt.__esModule?mt:{default:mt}};Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionRect=void 0;const ct=it(reactExports),dt=ut(classnamesExports),ht=(mt,vt,gt,yt)=>[[yt,mt],[vt,mt],[vt,gt],[yt,gt],[yt,mt]],pt=(mt,vt,gt,yt)=>`polygon(evenodd, ${[...ht(0,"100%","100%",0),...ht(mt,vt,gt,yt)].map(wt=>wt.map(Et=>typeof Et=="number"&&Et!==0?Et+"px":Et).join(" ")).join(",")})`;s.SelectionRect=ct.default.memo(({columnWidths:mt,columnRights:vt,headerRowHeight:gt,selection:yt,rowHeight:bt,activeCell:wt,hasStickyRightColumn:Et,dataLength:Mt,viewWidth:Dt,viewHeight:$t,contentWidth:_t,edges:Nt,isCellDisabled:kt,editing:At,expandSelection:Bt})=>{var Ft,Lt,Ot,It;const Rt=wt?kt(wt):!1,Vt=(0,ct.useMemo)(()=>{if(!yt)return Rt;for(let rr=yt.min.col;rr<=yt.max.col;++rr)for(let Qt=yt.min.row;Qt<=yt.max.row;++Qt)if(!kt({col:rr,row:Qt}))return!1;return!0},[Rt,kt,yt]);if(!mt||!vt)return null;const Xt=rr=>rr<Mt-1?1:0,Wt=rr=>rr<mt.length-(Et?3:2)?1:0,jt=wt&&{width:mt[wt.col+1]+Wt(wt.col),height:bt(wt.row).height+Xt(wt.row),left:vt[wt.col],top:bt(wt.row).top+gt},qt=yt&&{width:mt.slice(yt.min.col+1,yt.max.col+2).reduce((rr,Qt)=>rr+Qt)+Wt(yt.max.col),height:bt(yt.max.row).top+bt(yt.max.row).height-bt(yt.min.row).top+Xt(yt.max.row),left:vt[yt.min.col],top:bt(yt.min.row).top+gt},Zt=(yt==null?void 0:yt.min)||wt,Ut=(yt==null?void 0:yt.max)||wt,Yt=Ut&&Bt!==null&&{left:vt[Ut.col]+mt[Ut.col+1],top:bt(Ut.row).top+bt(Ut.row).height+gt,transform:`translate(-${Ut.col<mt.length-(Et?3:2)?50:100}%, -${Ut.row<Mt-1?50:100}%)`},lr=Zt&&Ut&&Bt!==null&&{width:mt.slice(Zt.col+1,Ut.col+2).reduce((rr,Qt)=>rr+Qt)+Wt(Ut.col),height:bt(Ut.row+Bt).top+bt(Ut.row+Bt).height-bt(Ut.row+1).top+Xt(Ut.row+Bt)-1,left:vt[Zt.col],top:bt(Ut.row).top+bt(Ut.row).height+gt+1};return ct.default.createElement(ct.default.Fragment,null,ct.default.createElement("div",{className:"dsg-scrollable-view-container",style:{height:bt(Mt-1).top+bt(Mt-1).height+gt,width:_t||"100%"}},ct.default.createElement("div",{className:(0,dt.default)({"dsg-scrollable-view":!0,"dsg-scrollable-view-t":!Nt.top,"dsg-scrollable-view-r":!Nt.right,"dsg-scrollable-view-b":!Nt.bottom,"dsg-scrollable-view-l":!Nt.left}),style:{top:gt,left:mt[0],height:$t?$t-gt:0,width:_t&&Dt?Dt-mt[0]-(Et?mt[mt.length-1]:0):`calc(100% - ${mt[0]+(Et?mt[mt.length-1]:0)}px)`}})),(qt||jt)&&ct.default.createElement("div",{className:"dsg-selection-col-marker-container",style:{left:(Ft=qt==null?void 0:qt.left)!==null&&Ft!==void 0?Ft:jt==null?void 0:jt.left,width:(Lt=qt==null?void 0:qt.width)!==null&&Lt!==void 0?Lt:jt==null?void 0:jt.width,height:bt(Mt-1).top+bt(Mt-1).height+gt}},ct.default.createElement("div",{className:(0,dt.default)("dsg-selection-col-marker",Vt&&"dsg-selection-col-marker-disabled"),style:{top:gt}})),(qt||jt)&&ct.default.createElement("div",{className:"dsg-selection-row-marker-container",style:{top:(Ot=qt==null?void 0:qt.top)!==null&&Ot!==void 0?Ot:jt==null?void 0:jt.top,height:(It=qt==null?void 0:qt.height)!==null&&It!==void 0?It:jt==null?void 0:jt.height,width:_t||"100%"}},ct.default.createElement("div",{className:(0,dt.default)("dsg-selection-row-marker",Vt&&"dsg-selection-row-marker-disabled"),style:{left:mt[0]}})),jt&&wt&&ct.default.createElement("div",{className:(0,dt.default)("dsg-active-cell",{"dsg-active-cell-focus":At,"dsg-active-cell-disabled":Rt}),style:jt}),qt&&jt&&ct.default.createElement("div",{className:(0,dt.default)("dsg-selection-rect",Vt&&"dsg-selection-rect-disabled"),style:Object.assign(Object.assign({},qt),{clipPath:pt(jt.top-qt.top,jt.left-qt.left,jt.top+jt.height-qt.top,jt.left+jt.width-qt.left)})}),lr&&ct.default.createElement("div",{className:(0,dt.default)("dsg-expand-rows-rect"),style:lr}),Yt&&ct.default.createElement("div",{className:(0,dt.default)("dsg-expand-rows-indicator",Vt&&"dsg-expand-rows-indicator-disabled"),style:Yt}))}),s.SelectionRect.displayName="SelectionRect"})(SelectionRect);var useRowHeights$1={};Object.defineProperty(useRowHeights$1,"__esModule",{value:!0});useRowHeights$1.useRowHeights=void 0;const react_1$7=reactExports,useRowHeights=({value:s,rowHeight:h})=>{const g=(0,react_1$7.useRef)([]),[,it]=(0,react_1$7.useState)(0);return(0,react_1$7.useMemo)(()=>{const ut=ct=>{if(typeof h=="number")return Math.min(s.length-1,Math.max(-1,Math.floor(ct/h)));let dt=0,ht=g.current.length-1;for(;dt<=ht;){const pt=Math.floor((dt+ht)/2);if(g.current[pt].top<ct)dt=pt+1;else if(g.current[pt].top>ct)ht=pt-1;else return pt}if(ht===g.current.length-1&&s.length>g.current.length&&(!g.current.length||ct>=g.current[ht].top+g.current[ht].height)){let pt=ht===-1?0:g.current[ht].top+g.current[ht].height;do{ht++;const mt=h({rowIndex:ht,rowData:s[ht]});g.current.push({height:mt,top:pt}),pt+=mt}while(pt<=ct&&ht<g.current.length-1)}return ht};return{resetAfter:ct=>{g.current=g.current.slice(0,ct),it(dt=>dt+1)},getRowSize:ct=>{if(typeof h=="number")return{height:h,top:h*ct};if(ct>=s.length)return{height:0,top:0};if(ct<g.current.length)return g.current[ct];let dt=g.current[g.current.length-1].top+g.current[g.current.length-1].height;for(let ht=g.current.length;ht<=ct;ht++){const pt=h({rowIndex:ht,rowData:s[ht]});g.current.push({height:pt,top:dt}),dt+=pt}return g.current[ct]},getRowIndex:ut,totalSize:ct=>{if(typeof h=="number")return s.length*h;const dt=ut(ct);return g.current[dt].top+g.current[dt].height}}},[h,s])};useRowHeights$1.useRowHeights=useRowHeights;(function(s){var h=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(Vt,Xt,Wt,jt){jt===void 0&&(jt=Wt);var qt=Object.getOwnPropertyDescriptor(Xt,Wt);(!qt||("get"in qt?!Xt.__esModule:qt.writable||qt.configurable))&&(qt={enumerable:!0,get:function(){return Xt[Wt]}}),Object.defineProperty(Vt,jt,qt)}:function(Vt,Xt,Wt,jt){jt===void 0&&(jt=Wt),Vt[jt]=Xt[Wt]}),g=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(Vt,Xt){Object.defineProperty(Vt,"default",{enumerable:!0,value:Xt})}:function(Vt,Xt){Vt.default=Xt}),it=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(Vt){if(Vt&&Vt.__esModule)return Vt;var Xt={};if(Vt!=null)for(var Wt in Vt)Wt!=="default"&&Object.prototype.hasOwnProperty.call(Vt,Wt)&&h(Xt,Vt,Wt);return g(Xt,Vt),Xt},ut=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(Vt,Xt,Wt,jt){function qt(Zt){return Zt instanceof Wt?Zt:new Wt(function(Ut){Ut(Zt)})}return new(Wt||(Wt=Promise))(function(Zt,Ut){function Yt(Qt){try{rr(jt.next(Qt))}catch(ur){Ut(ur)}}function lr(Qt){try{rr(jt.throw(Qt))}catch(ur){Ut(ur)}}function rr(Qt){Qt.done?Zt(Qt.value):qt(Qt.value).then(Yt,lr)}rr((jt=jt.apply(Vt,Xt||[])).next())})},ct=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(Vt){return Vt&&Vt.__esModule?Vt:{default:Vt}};Object.defineProperty(s,"__esModule",{value:!0}),s.DataSheetGrid=void 0;const dt=it(reactExports),ht=useColumnWidths,pt=require$$2,mt=useColumns,vt=useEdges$1,gt=useDeepEqualState$1,yt=useDocumentEventListener$1,bt=useGetBoundingClientRect$1,wt=AddRows,Et=useDebounceState$1,Mt=ct(fastDeepEqual),Dt=ContextMenu,$t=copyPasting,_t=typeCheck,Nt=tab,kt=Grid$1,At=SelectionRect,Bt=useRowHeights$1,Ft=[],Lt=[],Ot=()=>({}),It=()=>null,Rt=({rowData:Vt})=>Object.assign({},Vt);s.DataSheetGrid=dt.default.memo(dt.default.forwardRef(({value:Vt=Ft,className:Xt,style:Wt,height:jt=400,onChange:qt=It,columns:Zt=Lt,rowHeight:Ut=40,headerRowHeight:Yt=typeof Ut=="number"?Ut:40,gutterColumn:lr,stickyRightColumn:rr,rowKey:Qt,addRowsComponent:ur=wt.AddRows,createRow:wr=Ot,autoAddRow:vr=!1,lockRows:Dr=!1,disableExpandSelection:Or=!1,duplicateRow:Mr=Rt,contextMenuComponent:dr=Dt.ContextMenu,disableContextMenu:_r=!1,onFocus:zr=It,onBlur:yr=It,onActiveCellChange:Lr=It,onSelectionChange:tr=It,rowClassName:ir,cellClassName:br,onScroll:nr},cr)=>{var gr,Sr,kr,er,ar,xr;const Tr=(0,dt.useRef)(null),Fr=_r||Dr,Er=(0,mt.useColumns)(Zt,lr,rr),jr=!!rr,Kr=(0,dt.useRef)(null),Xr=(0,dt.useRef)(null),Hr=(0,dt.useRef)(null),gn=(0,dt.useRef)(null),[xn,hn]=(0,Et.useDebounceState)(1,100),{getRowSize:Ar,totalSize:_n,getRowIndex:Gt}=(0,Bt.useRowHeights)({value:Vt,rowHeight:Ut}),pr=Math.min(jt,Yt+_n(jt)+xn),{width:Br,height:Vr}=(0,pt.useResizeDetector)({targetRef:Xr,refreshMode:"throttle",refreshRate:100});hn(Vr?pr-Math.ceil(Vr):0);const vn=(0,vt.useEdges)(Xr,Br,Vr),{fullWidth:wn,totalWidth:Wn,columnWidths:Nn,columnRights:Qn}=(0,ht.useColumnWidths)(Er,Br),[bo,$a]=(0,dt.useState)(null),[Bo,Uo]=(0,dt.useState)([]),[sn,Zn]=(0,dt.useState)(!1),[Oo,Ko]=(0,dt.useState)(0),[Mo,Jn]=(0,dt.useState)(null),[$r,cn]=(0,gt.useDeepEqualState)(null),[fn,pn]=(0,gt.useDeepEqualState)(null),Nr=(0,dt.useMemo)(()=>$r&&fn&&{min:{col:Math.min($r.col,fn.col),row:Math.min($r.row,fn.row)},max:{col:Math.max($r.col,fn.col),row:Math.max($r.row,fn.row)}},[$r,fn]),[Un,_i]=(0,gt.useDeepEqualState)({columns:!1,rows:!1,active:!1}),po=Or||sn||Un.active||($r==null?void 0:$r.row)===(Vt==null?void 0:Vt.length)-1||(Nr==null?void 0:Nr.max.row)===(Vt==null?void 0:Vt.length)-1||$r&&Er.slice(((gr=Nr==null?void 0:Nr.min.col)!==null&&gr!==void 0?gr:$r.col)+1,((Sr=Nr==null?void 0:Nr.max.col)!==null&&Sr!==void 0?Sr:$r.col)+2).every(Cr=>Cr.disabled===!0)?null:Oo,Lo=(0,bt.useGetBoundingClientRect)(Kr),ns=(0,bt.useGetBoundingClientRect)(Xr);(0,dt.useEffect)(()=>{var Cr;$r!==null&&(document.activeElement.blur(),(Cr=window.getSelection())===null||Cr===void 0||Cr.removeAllRanges())},[$r!==null]);const $o=(0,dt.useCallback)((Cr,Wr=!1,en=!1)=>{const tn=Lo(Wr),mn=en&&ns(Wr);if(tn&&Qn&&Nn){let Fn=Cr.clientX-tn.left,nn=Cr.clientY-tn.top;return mn&&(Cr.clientY-mn.top<=Yt&&(nn=0),Cr.clientX-mn.left<=Nn[0]&&(Fn=0),jr&&mn.right-Cr.clientX<=Nn[Nn.length-1]&&(Fn=Qn[Qn.length-2]+1)),{col:Qn.findIndex(bn=>Fn<bn)-1,row:Gt(nn-Yt)}}return null},[Qn,Nn,Vt.length,Lo,ns,Yt,jr,Gt]),On=(0,dt.useRef)(Vt);On.current=Vt;const na=(0,dt.useCallback)(Cr=>{const Wr=Er[Cr.col+1].disabled;return!!(typeof Wr=="function"?Wr({rowData:On.current[Cr.row],rowIndex:Cr.row}):Wr)},[Er]),oo=(0,dt.useCallback)((Cr,Wr=1)=>{Dr||(pn(null),Zn(!1),qt([...On.current.slice(0,Cr+1),...new Array(Wr).fill(0).map(wr),...On.current.slice(Cr+1)],[{type:"CREATE",fromRowIndex:Cr+1,toRowIndex:Cr+1+Wr}]),cn(en=>({col:(en==null?void 0:en.col)||0,row:Cr+Wr,doNotScrollX:!0})))},[wr,Dr,qt,cn,pn]),En=(0,dt.useCallback)((Cr,Wr=Cr)=>{Dr||(qt([...On.current.slice(0,Wr+1),...On.current.slice(Cr,Wr+1).map((en,tn)=>Mr({rowData:en,rowIndex:tn+Cr})),...On.current.slice(Wr+1)],[{type:"CREATE",fromRowIndex:Wr+1,toRowIndex:Wr+2+Wr-Cr}]),cn({col:0,row:Wr+1,doNotScrollX:!0}),pn({col:Er.length-(jr?3:2),row:2*Wr-Cr+1,doNotScrollX:!0}),Zn(!1))},[Er.length,Mr,Dr,qt,cn,pn,jr]),Kn=(0,dt.useCallback)(Cr=>{if(!(!Vr||!Br)){if(!Cr.doNotScrollY){const Wr=Ar(Cr.row).top,en=Ar(Cr.row).top+Ar(Cr.row).height+Yt-Vr+1,tn=Xr.current.scrollTop;tn>Wr?Xr.current.scrollTop=Wr:tn<en&&(Xr.current.scrollTop=en)}if(Qn&&Nn&&Xr.current&&!Cr.doNotScrollX){const Wr=Qn[Cr.col]-Qn[0],en=Qn[Cr.col]+Nn[Cr.col+1]+(jr?Nn[Nn.length-1]:0)-Br+1,tn=Xr.current.scrollLeft;tn>Wr?Xr.current.scrollLeft=Wr:tn<en&&(Xr.current.scrollLeft=en)}}},[Vr,Br,Yt,Qn,Nn,Ar,jr]);(0,dt.useEffect)(()=>{fn&&Kn(fn)},[fn,Kn]),(0,dt.useEffect)(()=>{$r&&Kn($r)},[$r,Kn]);const ks=(0,dt.useCallback)((Cr,Wr)=>{var en,tn;qt([...(en=On.current)===null||en===void 0?void 0:en.slice(0,Cr),Wr,...(tn=On.current)===null||tn===void 0?void 0:tn.slice(Cr+1)],[{type:"UPDATE",fromRowIndex:Cr,toRowIndex:Cr+1}])},[qt]),lo=(0,dt.useCallback)((Cr,Wr=Cr)=>{Dr||(Zn(!1),cn(en=>{const tn=Math.min(On.current.length-2-Wr+Cr,Cr);return tn<0?null:en&&{col:en.col,row:tn}}),pn(null),qt([...On.current.slice(0,Cr),...On.current.slice(Wr+1)],[{type:"DELETE",fromRowIndex:Cr,toRowIndex:Wr+1}]))},[Dr,qt,cn,pn]),eo=(0,dt.useCallback)((Cr=!0)=>{if(!$r)return;const Wr=(Nr==null?void 0:Nr.min)||$r,en=(Nr==null?void 0:Nr.max)||$r;if(Vt.slice(Wr.row,en.row+1).every((mn,Fn)=>Er.every(nn=>nn.isCellEmpty({rowData:mn,rowIndex:Fn+Wr.row})))){Cr&&lo(Wr.row,en.row);return}const tn=[...Vt];for(let mn=Wr.row;mn<=en.row;++mn)for(let Fn=Wr.col;Fn<=en.col;++Fn)if(!na({col:Fn,row:mn})){const{deleteValue:nn=({rowData:bn})=>bn}=Er[Fn+1];tn[mn]=nn({rowData:tn[mn],rowIndex:mn})}if(Cr&&(0,Mt.default)(tn,Vt)){cn({col:0,row:Wr.row,doNotScrollX:!0}),pn({col:Er.length-(jr?3:2),row:en.row,doNotScrollX:!0});return}qt(tn,[{type:"UPDATE",fromRowIndex:Wr.row,toRowIndex:en.row+1}])},[$r,Er,Vt,lo,na,qt,Nr==null?void 0:Nr.max,Nr==null?void 0:Nr.min,cn,pn,jr]),Vo=(0,dt.useCallback)(({nextRow:Cr=!0}={})=>{($r==null?void 0:$r.row)===On.current.length-1?Cr&&vr?oo($r.row):Zn(!1):(Zn(!1),Cr&&cn(Wr=>Wr&&{col:Wr.col,row:Wr.row+1}))},[$r==null?void 0:$r.row,vr,oo,cn]),mo=(0,dt.useCallback)(Cr=>ut(void 0,void 0,void 0,function*(){var Wr,en;if(!sn&&$r){const tn=[],mn=(Nr==null?void 0:Nr.min)||$r,Fn=(Nr==null?void 0:Nr.max)||$r;for(let yn=mn.row;yn<=Fn.row;++yn){tn.push([]);for(let Rn=mn.col;Rn<=Fn.col;++Rn){const{copyValue:In=()=>null}=Er[Rn+1];tn[yn-mn.row].push(In({rowData:Vt[yn],rowIndex:yn}))}}const nn=tn.map(yn=>yn.join("	")).join(`
`),bn=`<table>${tn.map(yn=>`<tr>${yn.map(Rn=>`<td>${(0,$t.encodeHtml)(String(Rn??"")).replace(/\n/g,"<br/>")}</td>`).join("")}</tr>`).join("")}</table>`;if(Cr!==void 0){(Wr=Cr.clipboardData)===null||Wr===void 0||Wr.setData("text/plain",nn),(en=Cr.clipboardData)===null||en===void 0||en.setData("text/html",bn),Cr.preventDefault();return}let Bn=!1;if(navigator.clipboard.write!==void 0){const yn=new Blob([nn],{type:"text/plain"}),Rn=new Blob([bn],{type:"text/html"}),In=[new ClipboardItem({"text/plain":yn,"text/html":Rn})];yield navigator.clipboard.write(In).then(()=>{Bn=!0})}else navigator.clipboard.writeText!==void 0?yield navigator.clipboard.writeText(nn).then(()=>{Bn=!0}):document.execCommand!==void 0&&document.execCommand("copy")&&(Bn=!0);Bn||alert("This action is unavailable in your browser, but you can still use Ctrl+C for copy or Ctrl+X for cut")}}),[$r,Er,Vt,sn,Nr]);(0,yt.useDocumentEventListener)("copy",mo);const gs=(0,dt.useCallback)(Cr=>{!sn&&$r&&(mo(Cr),eo(!1))},[$r,eo,sn,mo]);(0,yt.useDocumentEventListener)("cut",gs);const Ns=(0,dt.useCallback)(Cr=>ut(void 0,void 0,void 0,function*(){var Wr,en;if(!sn&&$r){const tn=(Nr==null?void 0:Nr.min)||$r,mn=(Nr==null?void 0:Nr.max)||$r,Fn=yield Promise.all(Cr[0].map((nn,bn)=>{var Bn,yn;const Rn=(Bn=Er[tn.col+bn+1])===null||Bn===void 0?void 0:Bn.prePasteValues,In=Cr.map(wo=>wo[bn]);return(yn=Rn==null?void 0:Rn(In))!==null&&yn!==void 0?yn:In}));if(Cr=Cr.map((nn,bn)=>Fn.map(Bn=>Bn[bn])),Cr.length===1){const nn=[...Vt];for(let bn=0;bn<Cr[0].length;bn++){const Bn=(Wr=Er[tn.col+bn+1])===null||Wr===void 0?void 0:Wr.pasteValue;if(Bn)for(let yn=tn.row;yn<=mn.row;yn++)na({col:bn+tn.col,row:yn})||(nn[yn]=yield Bn({rowData:nn[yn],value:Cr[0][bn],rowIndex:yn}))}qt(nn,[{type:"UPDATE",fromRowIndex:tn.row,toRowIndex:mn.row+1}]),cn({col:tn.col,row:tn.row}),pn({col:Math.min(tn.col+Cr[0].length-1,Er.length-(jr?3:2)),row:mn.row})}else{let nn=[...Vt];const bn=tn.row+Cr.length-Vt.length;bn>0&&(Dr?Cr.splice(Cr.length-bn,bn):nn=[...nn,...new Array(bn).fill(0).map(()=>wr())]);for(let yn=0;yn<Cr[0].length&&tn.col+yn<Er.length-(jr?2:1);yn++){const Rn=(en=Er[tn.col+yn+1])===null||en===void 0?void 0:en.pasteValue;if(Rn)for(let In=0;In<Cr.length;In++)na({col:tn.col+yn,row:tn.row+In})||(nn[tn.row+In]=yield Rn({rowData:nn[tn.row+In],value:Cr[In][yn],rowIndex:tn.row+In}))}const Bn=[{type:"UPDATE",fromRowIndex:tn.row,toRowIndex:tn.row+Cr.length-(!Dr&&bn>0?bn:0)}];bn>0&&!Dr&&Bn.push({type:"CREATE",fromRowIndex:tn.row+Cr.length-bn,toRowIndex:tn.row+Cr.length}),qt(nn,Bn),cn({col:tn.col,row:tn.row}),pn({col:Math.min(tn.col+Cr[0].length-1,Er.length-(jr?3:2)),row:tn.row+Cr.length-1})}}}),[$r,Er,wr,Vt,sn,jr,na,Dr,qt,Nr==null?void 0:Nr.max,Nr==null?void 0:Nr.min,cn,pn]),Ho=(0,dt.useCallback)(Cr=>{var Wr,en,tn,mn,Fn,nn;if($r&&!sn){let bn=[[""]];!((Wr=Cr.clipboardData)===null||Wr===void 0)&&Wr.types.includes("text/html")?bn=(0,$t.parseTextHtmlData)((en=Cr.clipboardData)===null||en===void 0?void 0:en.getData("text/html")):!((tn=Cr.clipboardData)===null||tn===void 0)&&tn.types.includes("text/plain")?bn=(0,$t.parseTextPlainData)((mn=Cr.clipboardData)===null||mn===void 0?void 0:mn.getData("text/plain")):!((Fn=Cr.clipboardData)===null||Fn===void 0)&&Fn.types.includes("text")&&(bn=(0,$t.parseTextPlainData)((nn=Cr.clipboardData)===null||nn===void 0?void 0:nn.getData("text"))),Ns(bn),Cr.preventDefault()}},[$r,Ns,sn]);(0,yt.useDocumentEventListener)("paste",Ho);const xo=(0,dt.useCallback)(Cr=>{var Wr,en,tn;if(bo&&Bo.length)return;const mn=Cr.button===2||Cr.button===0&&Cr.ctrlKey,Fn=((Wr=Kr.current)===null||Wr===void 0?void 0:Wr.contains(Cr.target))||!1,nn=Fn?$o(Cr,!0,!0):null;if(!Fn&&sn&&$r&&Er[$r.col+1].keepFocus)return;if(Cr.target instanceof HTMLElement&&Cr.target.className.includes("dsg-expand-rows-indicator")){Jn(Math.max((en=$r==null?void 0:$r.row)!==null&&en!==void 0?en:0,(tn=Nr==null?void 0:Nr.max.row)!==null&&tn!==void 0?tn:0));return}const bn=nn&&$r&&$r.col===nn.col&&$r.row===nn.row&&!na($r);if(bn&&sn)return;const Bn=(nn==null?void 0:nn.col)===Er.length-2&&jr,yn=mn&&Nr&&nn&&nn.row>=Nr.min.row&&nn.row<=Nr.max.row&&nn.col>=Nr.min.col&&nn.col<=Nr.max.col,Rn=mn&&Nr&&nn&&nn.row===-1&&nn.col>=Nr.min.col&&nn.col<=Nr.max.col,In=mn&&Nr&&nn&&nn.row>=Nr.min.row&&nn.row<=Nr.max.row&&nn.col===-1,wo=Bn&&Nr&&nn&&nn.row>=Nr.min.row&&nn.row<=Nr.max.row;if(mn&&!Fr&&$a({x:Cr.clientX,y:Cr.clientY,cursorIndex:nn}),(!(Cr.shiftKey&&$r)||mn)&&Vt.length>0&&cn(nn&&{col:(yn||Rn)&&$r?$r.col:Math.max(0,Bn?0:nn.col),row:(yn||In||wo)&&$r?$r.row:Math.max(0,nn.row),doNotScrollX:!!(yn&&$r||Bn||nn.col===-1),doNotScrollY:!!(yn&&$r||nn.row===-1)}),bn&&!mn&&(Tr.current=$r),Zn(!!(bn&&!mn)),_i(nn&&!mn?{columns:nn.col!==-1&&!Bn||!!(Cr.shiftKey&&$r),rows:nn.row!==-1||!!(Cr.shiftKey&&$r),active:!0}:{columns:!1,rows:!1,active:!1}),Cr.shiftKey&&$r&&!mn)pn(nn&&{col:Math.max(0,nn.col-(Bn?1:0)),row:Math.max(0,nn.row)});else if(!yn){if(nn&&((nn==null?void 0:nn.col)===-1||(nn==null?void 0:nn.row)===-1||Bn)){let ho=nn.col,So=nn.row,vo=!1,Ao=!1;(nn.col===-1||Bn)&&(ho=Er.length-(jr?3:2),vo=!0),nn.row===-1&&(So=Vt.length-1,Ao=!0),Rn&&fn&&(ho=fn.col,Ao=!0),(In||wo)&&fn&&(So=fn.row,vo=!0),pn({col:ho,row:So,doNotScrollX:vo,doNotScrollY:Ao})}else pn(null);Fn&&Cr.preventDefault()}},[bo,Bo.length,$o,sn,$r,Er,na,Nr,jr,Fr,_i,cn,pn,fn,Vt.length]);(0,yt.useDocumentEventListener)("mousedown",xo);const as=(0,dt.useCallback)(()=>{var Cr,Wr,en,tn,mn,Fn,nn,bn,Bn;if(Mo!==null){if(Oo>0&&$r){let yn=[];const Rn=(Nr==null?void 0:Nr.min)||$r,In=(Nr==null?void 0:Nr.max)||$r;for(let wo=Rn.row;wo<=In.row;++wo){yn.push([]);for(let ho=Rn.col;ho<=In.col;++ho){const{copyValue:So=()=>null}=Er[ho+1];yn[wo-Rn.row].push(String((Cr=So({rowData:Vt[wo],rowIndex:wo}))!==null&&Cr!==void 0?Cr:""))}}Promise.all(yn[0].map((wo,ho)=>{var So,vo;const Ao=(So=Er[Rn.col+ho+1])===null||So===void 0?void 0:So.prePasteValues,Eo=yn.map(Ys=>Ys[ho]);return(vo=Ao==null?void 0:Ao(Eo))!==null&&vo!==void 0?vo:Eo})).then(wo=>{var ho;yn=yn.map((vo,Ao)=>wo.map(Eo=>Eo[Ao]));const So=[...Vt];for(let vo=0;vo<yn[0].length;vo++){const Ao=(ho=Er[Rn.col+vo+1])===null||ho===void 0?void 0:ho.pasteValue;if(Ao)for(let Eo=In.row+1;Eo<=In.row+Oo;Eo++)na({col:vo+Rn.col,row:Eo})||(So[Eo]=Ao({rowData:So[Eo],value:yn[(Eo-In.row-1)%yn.length][vo],rowIndex:Eo}))}qt(So,[{type:"UPDATE",fromRowIndex:In.row+1,toRowIndex:In.row+1+Oo}])}),Ko(0),cn({col:Math.min((Wr=$r==null?void 0:$r.col)!==null&&Wr!==void 0?Wr:1/0,(en=Nr==null?void 0:Nr.min.col)!==null&&en!==void 0?en:1/0),row:Math.min((tn=$r==null?void 0:$r.row)!==null&&tn!==void 0?tn:1/0,(mn=Nr==null?void 0:Nr.min.row)!==null&&mn!==void 0?mn:1/0),doNotScrollX:!0,doNotScrollY:!0}),pn({col:Math.max((Fn=$r==null?void 0:$r.col)!==null&&Fn!==void 0?Fn:0,(nn=Nr==null?void 0:Nr.max.col)!==null&&nn!==void 0?nn:0),row:Math.max((bn=$r==null?void 0:$r.row)!==null&&bn!==void 0?bn:0,(Bn=Nr==null?void 0:Nr.max.row)!==null&&Bn!==void 0?Bn:0)+Oo})}Jn(null)}_i({columns:!1,rows:!1,active:!1})},[Mo,_i,Oo,$r,Nr==null?void 0:Nr.min,Nr==null?void 0:Nr.max,Vt,qt,cn,pn,Er,na]);(0,yt.useDocumentEventListener)("mouseup",as);const Ts=(0,dt.useCallback)(Cr=>{if(Mo!==null){const Wr=$o(Cr);Wr&&(Ko(Math.max(0,Wr.row-Mo)),Kn({col:Wr.col,row:Math.max(Wr.row,Mo)}))}if(Un.active){const Wr=$o(Cr),en=Er.length-(jr?3:2);pn(Wr&&{col:Un.columns?Math.max(0,Math.min(en,Wr.col)):en,row:Un.rows?Math.max(0,Wr.row):Vt.length-1,doNotScrollX:!Un.columns,doNotScrollY:!Un.rows}),Zn(!1)}},[Kn,Un.active,Un.columns,Un.rows,$o,Er.length,jr,pn,Vt.length,Mo]);(0,yt.useDocumentEventListener)("mousemove",Ts);const np=(0,dt.useCallback)(Cr=>{if($r&&!Cr.isComposing){if(Cr.key==="Tab"&&!Cr.shiftKey&&$r.col===Er.length-(jr?3:2)&&!Er[$r.col+1].disableKeys)if($r.row===Vt.length-1){if(gn.current){Cr.preventDefault(),cn(null),pn(null),Zn(!1);const Wr=(0,Nt.getAllTabbableElements)(),en=Wr.indexOf(gn.current);Wr[(en+1)%Wr.length].focus();return}}else{cn(Wr=>{var en;return{col:0,row:((en=Wr==null?void 0:Wr.row)!==null&&en!==void 0?en:0)+1}}),pn(null),Zn(!1),Cr.preventDefault();return}if(Cr.key==="Tab"&&Cr.shiftKey&&$r.col===0&&!Er[$r.col+1].disableKeys)if($r.row===0){if(Hr.current){Cr.preventDefault(),cn(null),pn(null),Zn(!1);const Wr=(0,Nt.getAllTabbableElements)(),en=Wr.indexOf(Hr.current);Wr[(en-1+Wr.length)%Wr.length].focus();return}}else{cn(Wr=>{var en;return{col:Er.length-(jr?3:2),row:((en=Wr==null?void 0:Wr.row)!==null&&en!==void 0?en:1)-1}}),pn(null),Zn(!1),Cr.preventDefault();return}if(Cr.key.startsWith("Arrow")||Cr.key==="Tab"){if(sn&&Er[$r.col+1].disableKeys||sn&&["ArrowLeft","ArrowRight"].includes(Cr.key))return;const Wr=([en,tn],mn)=>mn&&{col:Math.max(0,Math.min(Er.length-(jr?3:2),mn.col+en)),row:Math.max(0,Math.min(Vt.length-1,mn.row+tn))};if(Cr.key==="Tab"&&Cr.shiftKey)cn(en=>Wr([-1,0],en)),pn(null);else{const en={ArrowDown:[0,1],ArrowUp:[0,-1],ArrowLeft:[-1,0],ArrowRight:[1,0],Tab:[1,0]}[Cr.key];(Cr.ctrlKey||Cr.metaKey)&&(en[0]*=Er.length,en[1]*=Vt.length),Cr.shiftKey?pn(tn=>Wr(en,tn||$r)):(cn(tn=>Wr(en,tn)),pn(null))}Zn(!1),Cr.preventDefault()}else Cr.key==="Escape"?(!sn&&!fn&&cn(null),pn(null),Zn(!1)):(Cr.key==="Enter"||Cr.key==="F2")&&!Cr.ctrlKey&&!Cr.metaKey&&!Cr.altKey&&!Cr.shiftKey?(pn(null),sn?Er[$r.col+1].disableKeys||(Vo(),Cr.preventDefault()):na($r)||(Tr.current=$r,Zn(!0),Kn($r),Cr.preventDefault())):Cr.key==="Enter"&&!Cr.ctrlKey&&!Cr.metaKey&&!Cr.altKey&&Cr.shiftKey?oo((Nr==null?void 0:Nr.max.row)||$r.row):Cr.key==="d"&&(Cr.ctrlKey||Cr.metaKey)&&!Cr.altKey&&!Cr.shiftKey?(En((Nr==null?void 0:Nr.min.row)||$r.row,Nr==null?void 0:Nr.max.row),Cr.preventDefault()):(Cr.key.match(/^[ -~]$/)||Cr.code.match(/Key[A-Z]$/))&&!Cr.ctrlKey&&!Cr.metaKey&&!Cr.altKey?!sn&&!na($r)&&(Tr.current=$r,pn(null),Zn(!0),Kn($r)):["Backspace","Delete"].includes(Cr.key)?sn||(eo(),Cr.preventDefault()):Cr.key==="a"&&(Cr.ctrlKey||Cr.metaKey)&&(sn||(cn({col:0,row:0,doNotScrollY:!0,doNotScrollX:!0}),pn({col:Er.length-(jr?3:2),row:Vt.length-1,doNotScrollY:!0,doNotScrollX:!0}),Cr.preventDefault()))}},[$r,Er,Vt.length,eo,En,sn,oo,na,Kn,Nr==null?void 0:Nr.max.row,Nr==null?void 0:Nr.min.row,fn,cn,pn,Vo,jr]);(0,yt.useDocumentEventListener)("keydown",np);const ap=(0,dt.useCallback)(Cr=>{var Wr;const en=((Wr=Kr.current)===null||Wr===void 0?void 0:Wr.contains(Cr.target))||!1,tn=en?$o(Cr,!0,!0):null,mn=tn&&$r&&$r.col===tn.col&&$r.row===tn.row&&sn;en&&!mn&&Cr.preventDefault()},[$o,$r,sn]);(0,yt.useDocumentEventListener)("contextmenu",ap),(0,dt.useEffect)(()=>{const Cr=[];($r==null?void 0:$r.row)!==void 0&&Cr.push({type:"COPY",action:()=>{mo(),$a(null)}},{type:"CUT",action:()=>{gs(),$a(null)}},{type:"PASTE",action:()=>ut(void 0,void 0,void 0,function*(){if(navigator.clipboard.read!==void 0)(yield navigator.clipboard.read()).forEach(en=>ut(void 0,void 0,void 0,function*(){let tn=[[""]];if(en.types.includes("text/plain")){const mn=yield en.getType("text/plain");tn=(0,$t.parseTextPlainData)(yield mn.text())}else if(en.types.includes("text/html")){const mn=yield en.getType("text/html");tn=(0,$t.parseTextHtmlData)(yield mn.text())}else if(en.types.includes("text")){const mn=yield en.getType("text");tn=(0,$t.parseTextHtmlData)(yield mn.text())}Ns(tn)}));else if(navigator.clipboard.readText!==void 0){const Wr=yield navigator.clipboard.readText();Ns((0,$t.parseTextPlainData)(Wr))}else alert("This action is unavailable in your browser, but you can still use Ctrl+V for paste");$a(null)})}),(Nr==null?void 0:Nr.max.row)!==void 0?Cr.push({type:"INSERT_ROW_BELLOW",action:()=>{$a(null),oo(Nr.max.row)}}):($r==null?void 0:$r.row)!==void 0&&Cr.push({type:"INSERT_ROW_BELLOW",action:()=>{$a(null),oo($r.row)}}),(Nr==null?void 0:Nr.min.row)!==void 0&&Nr.min.row!==Nr.max.row?Cr.push({type:"DUPLICATE_ROWS",fromRow:Nr.min.row+1,toRow:Nr.max.row+1,action:()=>{$a(null),En(Nr.min.row,Nr.max.row)}}):($r==null?void 0:$r.row)!==void 0&&Cr.push({type:"DUPLICATE_ROW",action:()=>{$a(null),En($r.row)}}),(Nr==null?void 0:Nr.min.row)!==void 0&&Nr.min.row!==Nr.max.row?Cr.push({type:"DELETE_ROWS",fromRow:Nr.min.row+1,toRow:Nr.max.row+1,action:()=>{$a(null),lo(Nr.min.row,Nr.max.row)}}):($r==null?void 0:$r.row)!==void 0&&Cr.push({type:"DELETE_ROW",action:()=>{$a(null),lo($r.row)}}),Uo(Cr),Cr.length||$a(null)},[Nr,$r,lo,En,oo,gs,mo,Ns]);const vu=(0,dt.useRef)(Bo);vu.current=Bo;const is=(0,dt.useCallback)(()=>vu.current,[]);(0,dt.useImperativeHandle)(cr,()=>({activeCell:(0,_t.getCellWithId)($r,Er),selection:(0,_t.getSelectionWithId)(Nr??($r?{min:$r,max:$r}:null),Er),setSelection:Cr=>{const Wr=(0,_t.getSelection)(Cr,Er.length-(jr?2:1),Vt.length,Er);cn((Wr==null?void 0:Wr.min)||null),Zn(!1),_i({columns:!1,active:!1,rows:!1}),pn((Wr==null?void 0:Wr.max)||null)},setActiveCell:Cr=>{const Wr=(0,_t.getCell)(Cr,Er.length-(jr?2:1),Vt.length,Er);cn(Wr),Zn(!1),_i({columns:!1,active:!1,rows:!1}),pn(null)}}));const Qo=(0,dt.useRef)({onFocus:zr,onBlur:yr,onActiveCellChange:Lr,onSelectionChange:tr});return Qo.current.onFocus=zr,Qo.current.onBlur=yr,Qo.current.onActiveCellChange=Lr,Qo.current.onSelectionChange=tr,(0,dt.useEffect)(()=>{Tr.current&&(sn?Qo.current.onFocus({cell:(0,_t.getCellWithId)(Tr.current,Er)}):Qo.current.onBlur({cell:(0,_t.getCellWithId)(Tr.current,Er)}))},[sn,Er]),(0,dt.useEffect)(()=>{Qo.current.onActiveCellChange({cell:(0,_t.getCellWithId)($r,Er)})},[$r==null?void 0:$r.col,$r==null?void 0:$r.row,Er]),(0,dt.useEffect)(()=>{Qo.current.onSelectionChange({selection:(0,_t.getSelectionWithId)(Nr??($r?{min:$r,max:$r}:null),Er)})},[(kr=Nr==null?void 0:Nr.min.col)!==null&&kr!==void 0?kr:$r==null?void 0:$r.col,(er=Nr==null?void 0:Nr.min.row)!==null&&er!==void 0?er:$r==null?void 0:$r.row,(ar=Nr==null?void 0:Nr.max.col)!==null&&ar!==void 0?ar:$r==null?void 0:$r.col,(xr=Nr==null?void 0:Nr.max.row)!==null&&xr!==void 0?xr:$r==null?void 0:$r.row,$r==null?void 0:$r.col,$r==null?void 0:$r.row,Er]),dt.default.createElement("div",{className:Xt,style:Wt},dt.default.createElement("div",{ref:Hr,tabIndex:Zt.length&&Vt.length?0:void 0,onFocus:Cr=>{Cr.target.blur(),cn({col:0,row:0})}}),dt.default.createElement(kt.Grid,{columns:Er,outerRef:Xr,columnWidths:Nn,hasStickyRightColumn:jr,displayHeight:pr,data:Vt,fullWidth:wn,headerRowHeight:Yt,activeCell:$r,innerRef:Kr,rowHeight:Ar,rowKey:Qt,selection:Nr,rowClassName:ir,editing:sn,getContextMenuItems:is,setRowData:ks,deleteRows:lo,insertRowAfter:oo,duplicateRows:En,stopEditing:Vo,cellClassName:br,onScroll:nr},dt.default.createElement(At.SelectionRect,{columnRights:Qn,columnWidths:Nn,activeCell:$r,selection:Nr,headerRowHeight:Yt,rowHeight:Ar,hasStickyRightColumn:jr,dataLength:Vt.length,viewHeight:Vr,viewWidth:Br,contentWidth:wn?void 0:Wn,edges:vn,editing:sn,isCellDisabled:na,expandSelection:po})),dt.default.createElement("div",{ref:gn,tabIndex:Zt.length&&Vt.length?0:void 0,onFocus:Cr=>{Cr.target.blur(),cn({col:Er.length-(jr?3:2),row:Vt.length-1})}}),!Dr&&ur&&dt.default.createElement(ur,{addRows:Cr=>oo(Vt.length-1,Cr)}),bo&&Bo.length>0&&dt.default.createElement(dr,{clientX:bo.x,clientY:bo.y,cursorIndex:bo.cursorIndex,items:Bo,close:()=>$a(null)}))})),s.DataSheetGrid.displayName="DataSheetGrid"})(DataSheetGrid);var StaticDataSheetGrid={},__rest$1=commonjsGlobal$1&&commonjsGlobal$1.__rest||function(s,h){var g={};for(var it in s)Object.prototype.hasOwnProperty.call(s,it)&&h.indexOf(it)<0&&(g[it]=s[it]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ut=0,it=Object.getOwnPropertySymbols(s);ut<it.length;ut++)h.indexOf(it[ut])<0&&Object.prototype.propertyIsEnumerable.call(s,it[ut])&&(g[it[ut]]=s[it[ut]]);return g},__importDefault$3=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(StaticDataSheetGrid,"__esModule",{value:!0});StaticDataSheetGrid.StaticDataSheetGrid=void 0;const react_1$6=reactExports,DataSheetGrid_1=DataSheetGrid,react_2=__importDefault$3(reactExports);StaticDataSheetGrid.StaticDataSheetGrid=react_2.default.forwardRef((s,h)=>{var{columns:g,gutterColumn:it,stickyRightColumn:ut,addRowsComponent:ct,createRow:dt,duplicateRow:ht,style:pt,rowKey:mt,onFocus:vt,onBlur:gt,onActiveCellChange:yt,onSelectionChange:bt,rowClassName:wt,rowHeight:Et}=s,Mt=__rest$1(s,["columns","gutterColumn","stickyRightColumn","addRowsComponent","createRow","duplicateRow","style","rowKey","onFocus","onBlur","onActiveCellChange","onSelectionChange","rowClassName","rowHeight"]);const[Dt]=(0,react_1$6.useState)({columns:g,gutterColumn:it,stickyRightColumn:ut,addRowsComponent:ct,createRow:dt,duplicateRow:ht,style:pt,rowKey:mt,onFocus:vt,onBlur:gt,onActiveCellChange:yt,onSelectionChange:bt,rowClassName:wt,rowHeight:Et});return react_2.default.createElement(DataSheetGrid_1.DataSheetGrid,Object.assign({},Dt,Mt,{rowHeight:typeof Et=="number"?Et:Dt.rowHeight,ref:h}))});var textColumn={},useFirstRender$1={};Object.defineProperty(useFirstRender$1,"__esModule",{value:!0});useFirstRender$1.useFirstRender=void 0;const react_1$5=reactExports,useFirstRender=()=>{const s=(0,react_1$5.useRef)(!0),h=s.current;return s.current=!1,h};useFirstRender$1.useFirstRender=useFirstRender;var __createBinding$4=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(s,h,g,it){it===void 0&&(it=g);var ut=Object.getOwnPropertyDescriptor(h,g);(!ut||("get"in ut?!h.__esModule:ut.writable||ut.configurable))&&(ut={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(s,it,ut)}:function(s,h,g,it){it===void 0&&(it=g),s[it]=h[g]}),__setModuleDefault$4=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(s,h){Object.defineProperty(s,"default",{enumerable:!0,value:h})}:function(s,h){s.default=h}),__importStar$4=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(s){if(s&&s.__esModule)return s;var h={};if(s!=null)for(var g in s)g!=="default"&&Object.prototype.hasOwnProperty.call(s,g)&&__createBinding$4(h,s,g);return __setModuleDefault$4(h,s),h},__importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(textColumn,"__esModule",{value:!0});textColumn.createTextColumn=textColumn.textColumn=void 0;const react_1$4=__importStar$4(reactExports),classnames_1$2=__importDefault$2(classnamesExports),useFirstRender_1=useFirstRender$1,TextComponent=react_1$4.default.memo(({active:s,focus:h,rowData:g,setRowData:it,columnData:{placeholder:ut,alignRight:ct,formatInputOnFocus:dt,formatBlurredInput:ht,parseUserInput:pt,continuousUpdates:mt}})=>{const vt=(0,react_1$4.useRef)(null),gt=(0,useFirstRender_1.useFirstRender)(),yt=(0,react_1$4.useRef)({rowData:g,formatInputOnFocus:dt,formatBlurredInput:ht,setRowData:it,parseUserInput:pt,continuousUpdates:mt,firstRender:gt,focusedAt:0,changedAt:0,escPressed:!1});return yt.current={rowData:g,formatInputOnFocus:dt,formatBlurredInput:ht,setRowData:it,parseUserInput:pt,continuousUpdates:mt,firstRender:gt,focusedAt:yt.current.focusedAt,changedAt:yt.current.changedAt,escPressed:yt.current.escPressed},(0,react_1$4.useLayoutEffect)(()=>{h?(vt.current&&(vt.current.value=yt.current.formatInputOnFocus(yt.current.rowData),vt.current.focus(),vt.current.select()),yt.current.escPressed=!1,yt.current.focusedAt=Date.now()):vt.current&&(!yt.current.escPressed&&!yt.current.continuousUpdates&&!yt.current.firstRender&&yt.current.changedAt>=yt.current.focusedAt&&yt.current.setRowData(yt.current.parseUserInput(vt.current.value)),vt.current.blur())},[h]),(0,react_1$4.useEffect)(()=>{!h&&vt.current&&(vt.current.value=yt.current.formatBlurredInput(g))},[h,g]),react_1$4.default.createElement("input",{defaultValue:ht(g),className:(0,classnames_1$2.default)("dsg-input",ct&&"dsg-input-align-right"),placeholder:s?ut:void 0,tabIndex:-1,ref:vt,style:{pointerEvents:h?"auto":"none"},onChange:bt=>{yt.current.changedAt=Date.now(),mt&&it(pt(bt.target.value))},onKeyDown:bt=>{bt.key==="Escape"&&(yt.current.escPressed=!0)}})});TextComponent.displayName="TextComponent";textColumn.textColumn=createTextColumn();function createTextColumn({placeholder:s,alignRight:h=!1,continuousUpdates:g=!0,deletedValue:it=null,parseUserInput:ut=mt=>mt.trim()||null,formatBlurredInput:ct=mt=>String(mt??""),formatInputOnFocus:dt=mt=>String(mt??""),formatForCopy:ht=mt=>String(mt??""),parsePastedValue:pt=mt=>mt.replace(/[\n\r]+/g," ").trim()||null}={}){return{component:TextComponent,columnData:{placeholder:s,alignRight:h,continuousUpdates:g,formatInputOnFocus:dt,formatBlurredInput:ct,parseUserInput:ut},deleteValue:()=>it,copyValue:({rowData:mt})=>ht(mt),pasteValue:({value:mt})=>pt(mt),isCellEmpty:({rowData:mt})=>mt==null}}textColumn.createTextColumn=createTextColumn;var checkboxColumn={},__createBinding$3=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(s,h,g,it){it===void 0&&(it=g);var ut=Object.getOwnPropertyDescriptor(h,g);(!ut||("get"in ut?!h.__esModule:ut.writable||ut.configurable))&&(ut={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(s,it,ut)}:function(s,h,g,it){it===void 0&&(it=g),s[it]=h[g]}),__setModuleDefault$3=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(s,h){Object.defineProperty(s,"default",{enumerable:!0,value:h})}:function(s,h){s.default=h}),__importStar$3=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(s){if(s&&s.__esModule)return s;var h={};if(s!=null)for(var g in s)g!=="default"&&Object.prototype.hasOwnProperty.call(s,g)&&__createBinding$3(h,s,g);return __setModuleDefault$3(h,s),h};Object.defineProperty(checkboxColumn,"__esModule",{value:!0});checkboxColumn.checkboxColumn=void 0;const react_1$3=__importStar$3(reactExports),FALSY=["","false","no","off","disabled","0","n","f","unchecked","undefined","null","wrong","negative"],CheckboxComponent=react_1$3.default.memo(({focus:s,rowData:h,setRowData:g,active:it,stopEditing:ut,disabled:ct})=>{const dt=(0,react_1$3.useRef)(null);return(0,react_1$3.useLayoutEffect)(()=>{s&&(g(!h),ut({nextRow:!1}))},[s,ut]),react_1$3.default.createElement("input",{className:"dsg-checkbox",tabIndex:-1,type:"checkbox",ref:dt,disabled:ct,checked:!!h,onMouseDown:()=>!it&&g(!h),onChange:()=>null})});CheckboxComponent.displayName="CheckboxComponent";checkboxColumn.checkboxColumn={component:CheckboxComponent,deleteValue:()=>!1,copyValue:({rowData:s})=>s?"YES":"NO",pasteValue:({value:s})=>!FALSY.includes(s.toLowerCase()),isCellEmpty:({rowData:s})=>!s};var floatColumn={};Object.defineProperty(floatColumn,"__esModule",{value:!0});floatColumn.floatColumn=void 0;const textColumn_1$2=textColumn;floatColumn.floatColumn=(0,textColumn_1$2.createTextColumn)({alignRight:!0,formatBlurredInput:s=>typeof s=="number"?new Intl.NumberFormat().format(s):"",parseUserInput:s=>{const h=parseFloat(s);return isNaN(h)?null:h},parsePastedValue:s=>{const h=parseFloat(s);return isNaN(h)?null:h}});var intColumn={};Object.defineProperty(intColumn,"__esModule",{value:!0});intColumn.intColumn=void 0;const textColumn_1$1=textColumn;intColumn.intColumn=(0,textColumn_1$1.createTextColumn)({alignRight:!0,formatBlurredInput:s=>typeof s=="number"?new Intl.NumberFormat().format(s):"",parseUserInput:s=>{const h=parseFloat(s);return isNaN(h)?null:Math.round(h)},parsePastedValue:s=>{const h=parseFloat(s);return isNaN(h)?null:Math.round(h)}});var percentColumn={};Object.defineProperty(percentColumn,"__esModule",{value:!0});percentColumn.percentColumn=void 0;const textColumn_1=textColumn,TEN_TO_THE_12=1e12,TEN_TO_THE_10=1e10;percentColumn.percentColumn=(0,textColumn_1.createTextColumn)({alignRight:!0,formatBlurredInput:s=>typeof s=="number"?new Intl.NumberFormat(void 0,{style:"percent"}).format(s):"",formatInputOnFocus:s=>typeof s=="number"&&!isNaN(s)?String(Math.round(s*TEN_TO_THE_12)/TEN_TO_THE_10):"",parseUserInput:s=>{const h=parseFloat(s);return isNaN(h)?null:h/100},parsePastedValue:s=>{const h=parseFloat(s);return isNaN(h)?null:h}});var dateColumn={},__createBinding$2=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(s,h,g,it){it===void 0&&(it=g);var ut=Object.getOwnPropertyDescriptor(h,g);(!ut||("get"in ut?!h.__esModule:ut.writable||ut.configurable))&&(ut={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(s,it,ut)}:function(s,h,g,it){it===void 0&&(it=g),s[it]=h[g]}),__setModuleDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(s,h){Object.defineProperty(s,"default",{enumerable:!0,value:h})}:function(s,h){s.default=h}),__importStar$2=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(s){if(s&&s.__esModule)return s;var h={};if(s!=null)for(var g in s)g!=="default"&&Object.prototype.hasOwnProperty.call(s,g)&&__createBinding$2(h,s,g);return __setModuleDefault$2(h,s),h},__importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(dateColumn,"__esModule",{value:!0});dateColumn.dateColumn=void 0;const react_1$2=__importStar$2(reactExports),classnames_1$1=__importDefault$1(classnamesExports),DateComponent=react_1$2.default.memo(({focus:s,active:h,rowData:g,setRowData:it})=>{var ut;const ct=(0,react_1$2.useRef)(null);return(0,react_1$2.useLayoutEffect)(()=>{var dt,ht;s?(dt=ct.current)===null||dt===void 0||dt.select():(ht=ct.current)===null||ht===void 0||ht.blur()},[s]),react_1$2.default.createElement("input",{className:(0,classnames_1$1.default)("dsg-input",!h&&"dsg-hide-date-picker"),type:"date",tabIndex:-1,max:"9999-12-31",ref:ct,style:{pointerEvents:s?"auto":"none",opacity:g||h?void 0:0},value:(ut=g==null?void 0:g.toISOString().substr(0,10))!==null&&ut!==void 0?ut:"",onChange:dt=>{const ht=new Date(dt.target.value);it(isNaN(ht.getTime())?null:ht)}})});DateComponent.displayName="DateComponent";dateColumn.dateColumn={component:DateComponent,deleteValue:()=>null,copyValue:({rowData:s})=>s?s.toISOString().substr(0,10):null,pasteValue:({value:s})=>{const h=new Date(s.replace(/\.\s?|\//g,"-"));return isNaN(h.getTime())?null:h},minWidth:170,isCellEmpty:({rowData:s})=>!s};var isoDateColumn={},__createBinding$1=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(s,h,g,it){it===void 0&&(it=g);var ut=Object.getOwnPropertyDescriptor(h,g);(!ut||("get"in ut?!h.__esModule:ut.writable||ut.configurable))&&(ut={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(s,it,ut)}:function(s,h,g,it){it===void 0&&(it=g),s[it]=h[g]}),__setModuleDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(s,h){Object.defineProperty(s,"default",{enumerable:!0,value:h})}:function(s,h){s.default=h}),__importStar$1=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(s){if(s&&s.__esModule)return s;var h={};if(s!=null)for(var g in s)g!=="default"&&Object.prototype.hasOwnProperty.call(s,g)&&__createBinding$1(h,s,g);return __setModuleDefault$1(h,s),h},__importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(isoDateColumn,"__esModule",{value:!0});isoDateColumn.isoDateColumn=void 0;const react_1$1=__importStar$1(reactExports),classnames_1=__importDefault(classnamesExports),IsoDateComponent=react_1$1.default.memo(({focus:s,active:h,rowData:g,setRowData:it})=>{const ut=(0,react_1$1.useRef)(null);return(0,react_1$1.useLayoutEffect)(()=>{var ct,dt;s?(ct=ut.current)===null||ct===void 0||ct.select():(dt=ut.current)===null||dt===void 0||dt.blur()},[s]),react_1$1.default.createElement("input",{className:(0,classnames_1.default)("dsg-input",!h&&"dsg-hide-date-picker"),type:"date",tabIndex:-1,max:"9999-12-31",ref:ut,style:{pointerEvents:s?"auto":"none",opacity:g||h?void 0:0},value:g??"",onChange:ct=>{const dt=new Date(ct.target.value);it(isNaN(dt.getTime())?null:dt.toISOString().substr(0,10))}})});IsoDateComponent.displayName="IsoDateComponent";isoDateColumn.isoDateColumn={component:IsoDateComponent,deleteValue:()=>null,pasteValue:({value:s})=>{const h=new Date(s.replace(/\.\s?|\//g,"-"));return isNaN(h.getTime())?null:h.toISOString().substr(0,10)},minWidth:170,isCellEmpty:({rowData:s})=>!s};var keyColumn$1={},__createBinding=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(s,h,g,it){it===void 0&&(it=g);var ut=Object.getOwnPropertyDescriptor(h,g);(!ut||("get"in ut?!h.__esModule:ut.writable||ut.configurable))&&(ut={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(s,it,ut)}:function(s,h,g,it){it===void 0&&(it=g),s[it]=h[g]}),__setModuleDefault=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(s,h){Object.defineProperty(s,"default",{enumerable:!0,value:h})}:function(s,h){s.default=h}),__importStar=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(s){if(s&&s.__esModule)return s;var h={};if(s!=null)for(var g in s)g!=="default"&&Object.prototype.hasOwnProperty.call(s,g)&&__createBinding(h,s,g);return __setModuleDefault(h,s),h},__rest=commonjsGlobal$1&&commonjsGlobal$1.__rest||function(s,h){var g={};for(var it in s)Object.prototype.hasOwnProperty.call(s,it)&&h.indexOf(it)<0&&(g[it]=s[it]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ut=0,it=Object.getOwnPropertySymbols(s);ut<it.length;ut++)h.indexOf(it[ut])<0&&Object.prototype.propertyIsEnumerable.call(s,it[ut])&&(g[it[ut]]=s[it[ut]]);return g};Object.defineProperty(keyColumn$1,"__esModule",{value:!0});keyColumn$1.keyColumn=void 0;const react_1=__importStar(reactExports),KeyComponent=s=>{var{columnData:{key:h,original:g},rowData:it,setRowData:ut}=s,ct=__rest(s,["columnData","rowData","setRowData"]);const dt=(0,react_1.useRef)(it);dt.current=it;const ht=(0,react_1.useCallback)(mt=>{ut(Object.assign(Object.assign({},dt.current),{[h]:mt}))},[h,ut]);if(!g.component)return react_1.default.createElement(react_1.default.Fragment,null);const pt=g.component;return react_1.default.createElement(pt,Object.assign({columnData:g.columnData,setRowData:ht,rowData:it[h]},ct))},keyColumn=(s,h)=>Object.assign(Object.assign({id:s},h),{columnData:{key:s,original:h},component:KeyComponent,copyValue:({rowData:g,rowIndex:it})=>{var ut,ct;return(ct=(ut=h.copyValue)===null||ut===void 0?void 0:ut.call(h,{rowData:g[s],rowIndex:it}))!==null&&ct!==void 0?ct:null},deleteValue:({rowData:g,rowIndex:it})=>{var ut,ct;return Object.assign(Object.assign({},g),{[s]:(ct=(ut=h.deleteValue)===null||ut===void 0?void 0:ut.call(h,{rowData:g[s],rowIndex:it}))!==null&&ct!==void 0?ct:null})},pasteValue:({rowData:g,value:it,rowIndex:ut})=>{var ct,dt;return Object.assign(Object.assign({},g),{[s]:(dt=(ct=h.pasteValue)===null||ct===void 0?void 0:ct.call(h,{rowData:g[s],value:it,rowIndex:ut}))!==null&&dt!==void 0?dt:null})},disabled:typeof h.disabled=="function"?({rowData:g,rowIndex:it})=>{var ut;return typeof h.disabled=="function"?h.disabled({rowData:g[s],rowIndex:it}):(ut=h.disabled)!==null&&ut!==void 0?ut:!1}:h.disabled,cellClassName:typeof h.cellClassName=="function"?({rowData:g,rowIndex:it,columnId:ut})=>{var ct;return typeof h.cellClassName=="function"?h.cellClassName({rowData:g[s],rowIndex:it,columnId:ut}):(ct=h.cellClassName)!==null&&ct!==void 0?ct:void 0}:h.cellClassName,isCellEmpty:({rowData:g,rowIndex:it})=>{var ut,ct;return(ct=(ut=h.isCellEmpty)===null||ut===void 0?void 0:ut.call(h,{rowData:g[s],rowIndex:it}))!==null&&ct!==void 0?ct:!1}});keyColumn$1.keyColumn=keyColumn;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.renderContextMenuItem=s.createContextMenuComponent=s.createAddRowsComponent=s.keyColumn=s.isoDateColumn=s.dateColumn=s.percentColumn=s.intColumn=s.floatColumn=s.checkboxColumn=s.createTextColumn=s.textColumn=s.DataSheetGrid=s.DynamicDataSheetGrid=void 0;const h=DataSheetGrid,g=StaticDataSheetGrid;s.DynamicDataSheetGrid=h.DataSheetGrid,s.DataSheetGrid=g.StaticDataSheetGrid;var it=textColumn;Object.defineProperty(s,"textColumn",{enumerable:!0,get:function(){return it.textColumn}}),Object.defineProperty(s,"createTextColumn",{enumerable:!0,get:function(){return it.createTextColumn}});var ut=checkboxColumn;Object.defineProperty(s,"checkboxColumn",{enumerable:!0,get:function(){return ut.checkboxColumn}});var ct=floatColumn;Object.defineProperty(s,"floatColumn",{enumerable:!0,get:function(){return ct.floatColumn}});var dt=intColumn;Object.defineProperty(s,"intColumn",{enumerable:!0,get:function(){return dt.intColumn}});var ht=percentColumn;Object.defineProperty(s,"percentColumn",{enumerable:!0,get:function(){return ht.percentColumn}});var pt=dateColumn;Object.defineProperty(s,"dateColumn",{enumerable:!0,get:function(){return pt.dateColumn}});var mt=isoDateColumn;Object.defineProperty(s,"isoDateColumn",{enumerable:!0,get:function(){return mt.isoDateColumn}});var vt=keyColumn$1;Object.defineProperty(s,"keyColumn",{enumerable:!0,get:function(){return vt.keyColumn}});var gt=AddRows;Object.defineProperty(s,"createAddRowsComponent",{enumerable:!0,get:function(){return gt.createAddRowsComponent}});var yt=ContextMenu;Object.defineProperty(s,"createContextMenuComponent",{enumerable:!0,get:function(){return yt.createContextMenuComponent}}),Object.defineProperty(s,"renderContextMenuItem",{enumerable:!0,get:function(){return yt.defaultRenderItem}})})(dist$1);function LatexCell({setRowData:s,rowData:h,columnData:g,columnIndex:it}){const[ut,ct]=reactExports.useState(""),dt=reactExports.useRef();return reactExports.useEffect(()=>{dt.current.smartFence=!0,dt.current.mathVirtualKeyboardPolicy="manual",typeof h<"u"&&(dt.current.executeCommand("deleteAll"),dt.current.insert(h)),dt.current.addEventListener("click",()=>{dt.current.focus()}),dt.current.addEventListener("focusin",()=>{mathVirtualKeyboard.hide()}),dt.current.addEventListener("focusout",()=>mathVirtualKeyboard.hide()),dt.current.addEventListener("input",ht=>{ct(ht.target.value),s(ht.target.value.replace(/,/g,"."))})},[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("math-field",{style:{height:"80%",alignItems:"center"},ref:dt})})}function Table({width:s="100%",colNumber:h,header:g,startValues:it,parentCallback:ut,savedData:ct}){const[dt,ht]=reactExports.useState(ct.length!=0?ct:it);reactExports.useEffect(()=>{ut(dt)},[dt]);const pt=reactExports.useMemo(()=>{const mt=()=>({component:LatexCell,cellClassName:({rowIndex:yt,columnId:bt})=>bt.toString()+yt.toString()}),vt=[];for(var gt=0;gt<h;gt++){const yt=`col${gt}`;vt.push({...dist$1.keyColumn(yt,mt()),title:g[gt]})}return vt.push({component:({deleteRow:yt})=>jsxRuntimeExports.jsx(MyDeleteRowButton,{onClick:yt,children:"✕"}),maxWidth:"40",minWidth:"40"}),vt},[]);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{style:{width:s,margin:"0 auto"},children:jsxRuntimeExports.jsx(dist$1.DataSheetGrid,{value:dt,onChange:ht,columns:pt,rowHeight:50,height:800,addRowsComponent:({addRows:mt})=>jsxRuntimeExports.jsx(MyAddRowButton,{onClick:()=>mt(1),children:"+"}),gutterColumn:!0})})})}const TimerButton=st.button`
    border: solid black 1px;
    border-right: ${s=>s.endpart?null:"0"};
    border-radius: 0;
    background-color: rgb(242, 242, 242);
    color: black;
    padding-left: 20px;
    padding-right: 20px;
    padding-top: 10px;
    padding-bottom: 10px;
    font-size: 20px;
    margin: 0
`,ButtonGroup=st.div`
    display: flex;
    flex-direction: row;
    justify-content: center;
`,VerticalSpace=st.div` 
    height: ${s=>s.size?`${s.size}`:"20px"};
`;var dist={exports:{}};(function(s,h){(function(g,it){s.exports=it(reactExports)})(typeof self<"u"?self:commonjsGlobal$1,g=>(()=>{var it={156:ht=>{ht.exports=g}},ut={};function ct(ht){var pt=ut[ht];if(pt!==void 0)return pt.exports;var mt=ut[ht]={exports:{}};return it[ht](mt,mt.exports,ct),mt.exports}ct.d=(ht,pt)=>{for(var mt in pt)ct.o(pt,mt)&&!ct.o(ht,mt)&&Object.defineProperty(ht,mt,{enumerable:!0,get:pt[mt]})},ct.o=(ht,pt)=>Object.prototype.hasOwnProperty.call(ht,pt),ct.r=ht=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ht,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ht,"__esModule",{value:!0})};var dt={};return(()=>{ct.r(dt),ct.d(dt,{default:()=>Mt,useStopwatch:()=>wt,useTime:()=>Et,useTimer:()=>bt});var ht=ct(156);class pt{static expiryTimestamp($t){const _t=new Date($t).getTime()>0;return _t||console.warn("react-timer-hook: { useTimer } Invalid expiryTimestamp settings",$t),_t}static onExpire($t){const _t=$t&&typeof $t=="function";return $t&&!_t&&console.warn("react-timer-hook: { useTimer } Invalid onExpire settings function",$t),_t}}class mt{static getTimeFromSeconds($t){const _t=Math.ceil($t),Nt=Math.floor(_t/86400),kt=Math.floor(_t%86400/3600),At=Math.floor(_t%3600/60);return{totalSeconds:_t,seconds:Math.floor(_t%60),minutes:At,hours:kt,days:Nt}}static getSecondsFromExpiry($t,_t){const Nt=$t-new Date().getTime();if(Nt>0){const kt=Nt/1e3;return _t?Math.round(kt):kt}return 0}static getSecondsFromPrevTime($t,_t){const Nt=new Date().getTime()-$t;if(Nt>0){const kt=Nt/1e3;return _t?Math.round(kt):kt}return 0}static getSecondsFromTimeNow(){const $t=new Date;return $t.getTime()/1e3-60*$t.getTimezoneOffset()}static getFormattedTimeFromSeconds($t,_t){const{seconds:Nt,minutes:kt,hours:At}=mt.getTimeFromSeconds($t);let Bt="",Ft=At;return _t==="12-hour"&&(Bt=At>=12?"pm":"am",Ft=At%12),{seconds:Nt,minutes:kt,hours:Ft,ampm:Bt}}}function vt(Dt,$t){const _t=(0,ht.useRef)();(0,ht.useEffect)(()=>{_t.current=Dt}),(0,ht.useEffect)(()=>{if(!$t)return()=>{};const Nt=setInterval(()=>{_t.current&&_t.current()},$t);return()=>clearInterval(Nt)},[$t])}const gt=1e3;function yt(Dt){if(!pt.expiryTimestamp(Dt))return null;const $t=mt.getSecondsFromExpiry(Dt),_t=Math.floor(1e3*($t-Math.floor($t)));return _t>0?_t:gt}function bt(){let{expiryTimestamp:Dt,onExpire:$t,autoStart:_t=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[Nt,kt]=(0,ht.useState)(Dt),[At,Bt]=(0,ht.useState)(mt.getSecondsFromExpiry(Nt)),[Ft,Lt]=(0,ht.useState)(_t),[Ot,It]=(0,ht.useState)(_t),[Rt,Vt]=(0,ht.useState)(yt(Nt)),Xt=(0,ht.useCallback)(()=>{pt.onExpire($t)&&$t(),Lt(!1),Vt(null)},[$t]),Wt=(0,ht.useCallback)(()=>{Lt(!1)},[]),jt=(0,ht.useCallback)(function(Ut){let Yt=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];Vt(yt(Ut)),It(Yt),Lt(Yt),kt(Ut),Bt(mt.getSecondsFromExpiry(Ut))},[]),qt=(0,ht.useCallback)(()=>{const Ut=new Date;Ut.setMilliseconds(Ut.getMilliseconds()+1e3*At),jt(Ut)},[At,jt]),Zt=(0,ht.useCallback)(()=>{Ot?(Bt(mt.getSecondsFromExpiry(Nt)),Lt(!0)):qt()},[Nt,Ot,qt]);return vt(()=>{Rt!==gt&&Vt(gt);const Ut=mt.getSecondsFromExpiry(Nt);Bt(Ut),Ut<=0&&Xt()},Ft?Rt:null),{...mt.getTimeFromSeconds(At),start:Zt,pause:Wt,resume:qt,restart:jt,isRunning:Ft}}function wt(){let{autoStart:Dt,offsetTimestamp:$t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[_t,Nt]=(0,ht.useState)(mt.getSecondsFromExpiry($t,!0)||0),[kt,At]=(0,ht.useState)(new Date),[Bt,Ft]=(0,ht.useState)(_t+mt.getSecondsFromPrevTime(kt||0,!0)),[Lt,Ot]=(0,ht.useState)(Dt);vt(()=>{Ft(_t+mt.getSecondsFromPrevTime(kt,!0))},Lt?1e3:null);const It=(0,ht.useCallback)(()=>{const Xt=new Date;At(Xt),Ot(!0),Ft(_t+mt.getSecondsFromPrevTime(Xt,!0))},[_t]),Rt=(0,ht.useCallback)(()=>{Nt(Bt),Ot(!1)},[Bt]),Vt=(0,ht.useCallback)(function(){let Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Wt=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const jt=mt.getSecondsFromExpiry(Xt,!0)||0,qt=new Date;At(qt),Nt(jt),Ot(Wt),Ft(jt+mt.getSecondsFromPrevTime(qt,!0))},[]);return{...mt.getTimeFromSeconds(Bt),start:It,pause:Rt,reset:Vt,isRunning:Lt}}function Et(){let{format:Dt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[$t,_t]=(0,ht.useState)(mt.getSecondsFromTimeNow());return vt(()=>{_t(mt.getSecondsFromTimeNow())},1e3),{...mt.getFormattedTimeFromSeconds($t,Dt)}}function Mt(Dt){if((0,ht.useEffect)(()=>{console.warn("react-timer-hook: default export useTimer is deprecated, use named exports { useTimer, useStopwatch, useTime } instead")},[]),Dt.expiryTimestamp){const _t=bt(Dt);return{..._t,startTimer:_t.start,stopTimer:_t.pause,resetTimer:()=>{}}}const $t=wt(Dt);return{...$t,startTimer:$t.start,stopTimer:$t.pause,resetTimer:$t.reset}}})(),dt})())})(dist);var distExports=dist.exports;function MyStopwatch({width:s=null}){const{seconds:h,minutes:g,hours:it,days:ut,start:ct,pause:dt,reset:ht}=distExports.useStopwatch({autoStart:!1});return jsxRuntimeExports.jsx("div",{style:{width:s,margin:"0 auto"},children:jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsxs(ButtonGroup,{children:[jsxRuntimeExports.jsx(TimerButton,{onClick:ht,children:"Start"}),jsxRuntimeExports.jsx(TimerButton,{onClick:dt,children:"Pause"}),jsxRuntimeExports.jsx(TimerButton,{onClick:ct,endpart:"yes",children:"Weiter"})]}),jsxRuntimeExports.jsx(VerticalSpace,{}),jsxRuntimeExports.jsx(Timer,{seconds:h,minutes:g})]})})}function Digit({value:s}){const h=s>=10?s.toString()[0]:"0",g=s>=10?s.toString()[1]:s.toString();return jsxRuntimeExports.jsxs("div",{children:[h,g]})}function Timer({seconds:s,minutes:h}){return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",fontSize:"72px"},children:[jsxRuntimeExports.jsx(Digit,{value:h}),":",jsxRuntimeExports.jsx(Digit,{value:s})]})}function Measurement({taskDataTable:s,progressData:h,tableHandler:g,isPortrait:it}){const[ut,ct]=g,dt=reactExports.useCallback(ht=>{ct(ht)});return jsxRuntimeExports.jsxs(MeasurementBlock,{children:[jsxRuntimeExports.jsx(Table,{width:it?"70%":"60%",colNumber:s.col,header:s.header,startValues:s.startValues,parentCallback:dt,savedData:ut}),jsxRuntimeExports.jsx(VerticalSpace$2,{query:"xs",size:"50px"}),jsxRuntimeExports.jsx(VerticalSpace$2,{query:"lg",size:"0px"}),(s&&h?h[s.showTimer]:!0)&&jsxRuntimeExports.jsx(MyStopwatch,{})]})}function Step2(){const{progressData:s,updateProgressData:h}=reactExports.useContext(ProgressDataContext),{taskData:g,setTaskData:it}=reactExports.useContext(TaskDataContext),{solData:ut,updateSolData:ct}=reactExports.useContext(SolDataContext),{miscData:dt,updateMiscData:ht}=reactExports.useContext(MiscDataContext),{tableData:pt,updateTableData:mt}=reactExports.useContext(TableDataContext);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FlowControl,{step:"step2",taskData:g,progressHandler:[s,h],solHandler:[ut,ct],tableData:pt}),jsxRuntimeExports.jsx(StepHeading,{children:g.step2.heading.text}),jsxRuntimeExports.jsx(Instructions,{instructions:g.step2.instructions,taskHandler:[g,it],progressData:s}),jsxRuntimeExports.jsx(VerticalSpace$2,{size:"50px"}),jsxRuntimeExports.jsx(Measurement,{taskDataTable:g.step2.table,tableHandler:[pt,mt],progressData:s,isPortrait:dt.isPortrait}),jsxRuntimeExports.jsx(VerticalSpace$2,{size:"50px"}),s[g.step2.next.visible]&&!s.step2&&jsxRuntimeExports.jsx(MoveOnButton,{onClick:()=>h(g.step2.next.click,!0),children:"Weiter"})]})}const colorMapper={blue:[0,102,204],black:[0,0,0]},AppletContainer=st.div`
    display: flex;
    flex-direction: column;
    justify-content: center;
    margin: 0 auto;
    border: solid black;
    width: ${s=>s.width?Number(s.width)+10+"px":null};
    height: ${s=>s.height?Number(s.height)+10+"px":null};
    align-items: center;
`;st.button`
    border: solid black 1px;
    border-radius: 0;
    background-color: white;
    color: black;
`;const ggbConstructionStyle={point:{color:colorMapper.black,size:5}};function GGBApplet({commands:s,...h},g){return reactExports.useEffect(()=>{s!=null&&s.forEach(it=>{g.current.evalCommand(it)})},[s]),reactExports.useEffect(()=>{(async()=>{await g.current.evalCommandCAS("x(x=0)")})()},[g]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(AppletContainer,{width:h.width,height:h.width,children:jsxRuntimeExports.jsx("geogebra-applet",{ref:g,...h})})})}const GGBApplet$1=reactExports.forwardRef(GGBApplet);function GGBListenerWrapper({children:s,ggbRef:h,parentCallback:g,useAddListener:it,useRemoveListener:ut}){const[ct,dt]=reactExports.useState(null),[ht,pt]=reactExports.useState(null);reactExports.useEffect(()=>{h.current!=null&&(it==!0?h.current.registerAddListener(mt):it==!1&&h.current.unregisterAddListener(mt),ut==!0?h.current.registerRemoveListener(vt):ut==!1&&h.current.unregisterRemoveListener(vt))},[h,it,ut]);const mt=async gt=>{dt(h.current.querySelector(".undoButton")),pt(h.current.querySelector(".redoButton")),g(gt)},vt=async gt=>g("remove");return reactExports.useEffect(()=>{ct!=null&&(ct.onclick=async()=>g("undo")),ht!=null&&(ht.onclick=async()=>g("redo"))},[ct,ht]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:s})}function GGBDataWrapper({children:s,ggbRef:h,parentCallback:g,changeEvent:it,reload:ut,ggbData:ct}){const[dt,ht]=reactExports.useState([]),[pt,mt]=reactExports.useState(ut?ct:{points:{},lines:{}});reactExports.useEffect(()=>g(pt),[pt]);const vt=async()=>ht(await h.current.getAllObjectNames());reactExports.useEffect(()=>{vt()},[it]);const gt=reactExports.useCallback(async(yt,bt)=>{for(var wt=bt.points,Et=await h.current.getMode(),Mt={},Dt={},$t=0;$t<yt.length;$t++){var _t=await h.current.getObjectType(yt[$t]);if(_t=="point"){await h.current.setColor(yt[$t],...ggbConstructionStyle.point.color),await h.current.setPointSize(yt[$t],ggbConstructionStyle.point.size);var Nt=await h.current.getXcoord(yt[$t]),kt=await h.current.getYcoord(yt[$t]);if(Mt[yt[$t]]={},Mt[yt[$t]].x=Nt,Mt[yt[$t]].y=kt,wt.hasOwnProperty(yt[$t])){var At=wt[yt[$t]].visible;Mt[yt[$t]].visible=At}else Et==1&&(Mt[yt[$t]].visible=!0),Et==2&&(await h.current.setVisible(yt[$t],!1),Mt[yt[$t]].visible=!1)}if(_t=="line"){Dt[yt[$t]]={};const Ot=extractPointsFromCommandString(await h.current.getCommandString(yt[$t]));Dt[yt[$t]].points=Ot;var Bt=await h.current.getValueString(yt[$t]);Dt[yt[$t]].eq=Bt.replace(/^[a-zA-Z]:\s*/,"");var[Ft,Lt]=await extractCoefficientsFromLine(h,yt[$t],Bt);Dt[yt[$t]].m=Ft,Dt[yt[$t]].c=Lt}}mt({points:Mt,lines:Dt})},[]);return reactExports.useEffect(()=>{dt.length>0&&gt(dt,pt)},[dt]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:s})}function GGBReloadWrapper({children:s,ggbRef:h,reloadHandler:g,ggbHandler:it}){const[ut,ct]=it,[dt,ht]=g;reactExports.useEffect(()=>{if(dt==!0&&h.current!=null&&ut!=null){for(const mt in ut){const vt=ut[mt];if(mt=="points")for(const gt in vt)h.current.evalCommand(`${gt}=(${vt[gt].x},${vt[gt].y})`),vt[gt].visible==!1?h.current.setVisible(gt,!1):pt(vt[gt]);else if(mt=="lines")for(const gt in vt)h.current.evalCommand(`${gt}=Line(${vt[gt].points[0]},${vt[gt].points[1]})`)}ht(!1)}},[dt]);const pt=reactExports.useCallback(async mt=>{await h.current.setColor(mt,...ggbConstructionStyle.point.color),await h.current.setPointSize(mt,ggbConstructionStyle.point.size)},[]);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:s})}const ggbSlider="";function _arrayLikeToArray(s,h){(h==null||h>s.length)&&(h=s.length);for(var g=0,it=new Array(h);g<h;g++)it[g]=s[g];return it}function _arrayWithoutHoles(s){if(Array.isArray(s))return _arrayLikeToArray(s)}function _iterableToArray(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function _unsupportedIterableToArray(s,h){if(s){if(typeof s=="string")return _arrayLikeToArray(s,h);var g=Object.prototype.toString.call(s).slice(8,-1);if(g==="Object"&&s.constructor&&(g=s.constructor.name),g==="Map"||g==="Set")return Array.from(s);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return _arrayLikeToArray(s,h)}}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(s){return _arrayWithoutHoles(s)||_iterableToArray(s)||_unsupportedIterableToArray(s)||_nonIterableSpread()}function _arrayWithHoles(s){if(Array.isArray(s))return s}function _iterableToArrayLimit(s,h){var g=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(g!=null){var it,ut,ct,dt,ht=[],pt=!0,mt=!1;try{if(ct=(g=g.call(s)).next,h===0){if(Object(g)!==g)return;pt=!1}else for(;!(pt=(it=ct.call(g)).done)&&(ht.push(it.value),ht.length!==h);pt=!0);}catch(vt){mt=!0,ut=vt}finally{try{if(!pt&&g.return!=null&&(dt=g.return(),Object(dt)!==dt))return}finally{if(mt)throw ut}}return ht}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(s,h){return _arrayWithHoles(s)||_iterableToArrayLimit(s,h)||_unsupportedIterableToArray(s,h)||_nonIterableRest()}var warned={},preMessage=function s(h){};function warning(s,h){}function note(s,h){}function resetWarned(){warned={}}function call(s,h,g){!h&&!warned[g]&&(s(!1,g),warned[g]=!0)}function warningOnce(s,h){call(warning,s,h)}function noteOnce(s,h){call(note,s,h)}warningOnce.preMessage=preMessage;warningOnce.resetWarned=resetWarned;warningOnce.noteOnce=noteOnce;function isEqual(s,h){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,it=new Set;function ut(ct,dt){var ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,pt=it.has(ct);if(warningOnce(!pt,"Warning: There may be circular references"),pt)return!1;if(ct===dt)return!0;if(g&&ht>1)return!1;it.add(ct);var mt=ht+1;if(Array.isArray(ct)){if(!Array.isArray(dt)||ct.length!==dt.length)return!1;for(var vt=0;vt<ct.length;vt++)if(!ut(ct[vt],dt[vt],mt))return!1;return!0}if(ct&&dt&&_typeof(ct)==="object"&&_typeof(dt)==="object"){var gt=Object.keys(ct);return gt.length!==Object.keys(dt).length?!1:gt.every(function(yt){return ut(ct[yt],dt[yt],mt)})}return!1}return ut(s,h)}function useEvent(s){var h=reactExports.useRef();h.current=s;var g=reactExports.useCallback(function(){for(var it,ut=arguments.length,ct=new Array(ut),dt=0;dt<ut;dt++)ct[dt]=arguments[dt];return(it=h.current)===null||it===void 0?void 0:it.call.apply(it,[h].concat(ct))},[]);return g}function canUseDom(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var useInternalLayoutEffect=canUseDom()?reactExports.useLayoutEffect:reactExports.useEffect,useLayoutEffect=function s(h,g){var it=reactExports.useRef(!0);useInternalLayoutEffect(function(){return h(it.current)},g),useInternalLayoutEffect(function(){return it.current=!1,function(){it.current=!0}},[])},useLayoutUpdateEffect=function s(h,g){useLayoutEffect(function(it){if(!it)return h()},g)};function useSafeState(s){var h=reactExports.useRef(!1),g=reactExports.useState(s),it=_slicedToArray(g,2),ut=it[0],ct=it[1];reactExports.useEffect(function(){return h.current=!1,function(){h.current=!0}},[]);function dt(ht,pt){pt&&h.current||ct(ht)}return[ut,dt]}function hasValue(s){return s!==void 0}function useMergedState(s,h){var g=h||{},it=g.defaultValue,ut=g.value,ct=g.onChange,dt=g.postState,ht=useSafeState(function(){return hasValue(ut)?ut:hasValue(it)?typeof it=="function"?it():it:typeof s=="function"?s():s}),pt=_slicedToArray(ht,2),mt=pt[0],vt=pt[1],gt=ut!==void 0?ut:mt,yt=dt?dt(gt):gt,bt=useEvent(ct),wt=useSafeState([gt]),Et=_slicedToArray(wt,2),Mt=Et[0],Dt=Et[1];useLayoutUpdateEffect(function(){var _t=Mt[0];mt!==_t&&bt(mt,_t)},[Mt]),useLayoutUpdateEffect(function(){hasValue(ut)||vt(ut)},[ut]);var $t=useEvent(function(_t,Nt){vt(_t,Nt),Dt([gt],Nt)});return[yt,$t]}function _objectWithoutPropertiesLoose(s,h){if(s==null)return{};var g={},it=Object.keys(s),ut,ct;for(ct=0;ct<it.length;ct++)ut=it[ct],!(h.indexOf(ut)>=0)&&(g[ut]=s[ut]);return g}function _objectWithoutProperties(s,h){if(s==null)return{};var g=_objectWithoutPropertiesLoose(s,h),it,ut;if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(s);for(ut=0;ut<ct.length;ut++)it=ct[ut],!(h.indexOf(it)>=0)&&Object.prototype.propertyIsEnumerable.call(s,it)&&(g[it]=s[it])}return g}function ownKeys(s,h){var g=Object.keys(s);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(s);h&&(it=it.filter(function(ut){return Object.getOwnPropertyDescriptor(s,ut).enumerable})),g.push.apply(g,it)}return g}function _objectSpread2(s){for(var h=1;h<arguments.length;h++){var g=arguments[h]!=null?arguments[h]:{};h%2?ownKeys(Object(g),!0).forEach(function(it){_defineProperty(s,it,g[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(g)):ownKeys(Object(g)).forEach(function(it){Object.defineProperty(s,it,Object.getOwnPropertyDescriptor(g,it))})}return s}var KeyCode={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function s(h){var g=h.keyCode;if(h.altKey&&!h.ctrlKey||h.metaKey||g>=KeyCode.F1&&g<=KeyCode.F12)return!1;switch(g){case KeyCode.ALT:case KeyCode.CAPS_LOCK:case KeyCode.CONTEXT_MENU:case KeyCode.CTRL:case KeyCode.DOWN:case KeyCode.END:case KeyCode.ESC:case KeyCode.HOME:case KeyCode.INSERT:case KeyCode.LEFT:case KeyCode.MAC_FF_META:case KeyCode.META:case KeyCode.NUMLOCK:case KeyCode.NUM_CENTER:case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAUSE:case KeyCode.PRINT_SCREEN:case KeyCode.RIGHT:case KeyCode.SHIFT:case KeyCode.UP:case KeyCode.WIN_KEY:case KeyCode.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function s(h){if(h>=KeyCode.ZERO&&h<=KeyCode.NINE||h>=KeyCode.NUM_ZERO&&h<=KeyCode.NUM_MULTIPLY||h>=KeyCode.A&&h<=KeyCode.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&h===0)return!0;switch(h){case KeyCode.SPACE:case KeyCode.QUESTION_MARK:case KeyCode.NUM_PLUS:case KeyCode.NUM_MINUS:case KeyCode.NUM_PERIOD:case KeyCode.NUM_DIVISION:case KeyCode.SEMICOLON:case KeyCode.DASH:case KeyCode.EQUALS:case KeyCode.COMMA:case KeyCode.PERIOD:case KeyCode.SLASH:case KeyCode.APOSTROPHE:case KeyCode.SINGLE_QUOTE:case KeyCode.OPEN_SQUARE_BRACKET:case KeyCode.BACKSLASH:case KeyCode.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},SliderContext=reactExports.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0});function getOffset(s,h,g){return(s-h)/(g-h)}function getDirectionStyle(s,h,g,it){var ut=getOffset(h,g,it),ct={};switch(s){case"rtl":ct.right="".concat(ut*100,"%"),ct.transform="translateX(50%)";break;case"btt":ct.bottom="".concat(ut*100,"%"),ct.transform="translateY(50%)";break;case"ttb":ct.top="".concat(ut*100,"%"),ct.transform="translateY(-50%)";break;default:ct.left="".concat(ut*100,"%"),ct.transform="translateX(-50%)";break}return ct}function getIndex(s,h){return Array.isArray(s)?s[h]:s}var _excluded$1=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],Handle=reactExports.forwardRef(function(s,h){var g,it,ut=s.prefixCls,ct=s.value,dt=s.valueIndex,ht=s.onStartMove,pt=s.style,mt=s.render,vt=s.dragging,gt=s.onOffsetChange,yt=_objectWithoutProperties(s,_excluded$1),bt=reactExports.useContext(SliderContext),wt=bt.min,Et=bt.max,Mt=bt.direction,Dt=bt.disabled,$t=bt.keyboard,_t=bt.range,Nt=bt.tabIndex,kt=bt.ariaLabelForHandle,At=bt.ariaLabelledByForHandle,Bt=bt.ariaValueTextFormatterForHandle,Ft="".concat(ut,"-handle"),Lt=function(Xt){Dt||ht(Xt,dt)},Ot=function(Xt){if(!Dt&&$t){var Wt=null;switch(Xt.which||Xt.keyCode){case KeyCode.LEFT:Wt=Mt==="ltr"||Mt==="btt"?-1:1;break;case KeyCode.RIGHT:Wt=Mt==="ltr"||Mt==="btt"?1:-1;break;case KeyCode.UP:Wt=Mt!=="ttb"?1:-1;break;case KeyCode.DOWN:Wt=Mt!=="ttb"?-1:1;break;case KeyCode.HOME:Wt="min";break;case KeyCode.END:Wt="max";break;case KeyCode.PAGE_UP:Wt=2;break;case KeyCode.PAGE_DOWN:Wt=-2;break}Wt!==null&&(Xt.preventDefault(),gt(Wt,dt))}},It=getDirectionStyle(Mt,ct,wt,Et),Rt=reactExports.createElement("div",_extends$1({ref:h,className:classNames(Ft,(g={},_defineProperty(g,"".concat(Ft,"-").concat(dt+1),_t),_defineProperty(g,"".concat(Ft,"-dragging"),vt),g)),style:_objectSpread2(_objectSpread2({},It),pt),onMouseDown:Lt,onTouchStart:Lt,onKeyDown:Ot,tabIndex:Dt?null:getIndex(Nt,dt),role:"slider","aria-valuemin":wt,"aria-valuemax":Et,"aria-valuenow":ct,"aria-disabled":Dt,"aria-label":getIndex(kt,dt),"aria-labelledby":getIndex(At,dt),"aria-valuetext":(it=getIndex(Bt,dt))===null||it===void 0?void 0:it(ct),"aria-orientation":Mt==="ltr"||Mt==="rtl"?"horizontal":"vertical"},yt));return mt&&(Rt=mt(Rt,{index:dt,prefixCls:ut,value:ct,dragging:vt})),Rt}),_excluded=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],Handles=reactExports.forwardRef(function(s,h){var g=s.prefixCls,it=s.style,ut=s.onStartMove,ct=s.onOffsetChange,dt=s.values,ht=s.handleRender,pt=s.draggingIndex,mt=_objectWithoutProperties(s,_excluded),vt=reactExports.useRef({});return reactExports.useImperativeHandle(h,function(){return{focus:function(yt){var bt;(bt=vt.current[yt])===null||bt===void 0||bt.focus()}}}),reactExports.createElement(reactExports.Fragment,null,dt.map(function(gt,yt){return reactExports.createElement(Handle,_extends$1({ref:function(wt){wt?vt.current[yt]=wt:delete vt.current[yt]},dragging:pt===yt,prefixCls:g,style:getIndex(it,yt),key:yt,value:gt,valueIndex:yt,onStartMove:ut,onOffsetChange:ct,render:ht},mt))}))});function getPosition(s){var h="touches"in s?s.touches[0]:s;return{pageX:h.pageX,pageY:h.pageY}}function useDrag(s,h,g,it,ut,ct,dt,ht,pt){var mt=reactExports.useState(null),vt=_slicedToArray(mt,2),gt=vt[0],yt=vt[1],bt=reactExports.useState(-1),wt=_slicedToArray(bt,2),Et=wt[0],Mt=wt[1],Dt=reactExports.useState(g),$t=_slicedToArray(Dt,2),_t=$t[0],Nt=$t[1],kt=reactExports.useState(g),At=_slicedToArray(kt,2),Bt=At[0],Ft=At[1],Lt=reactExports.useRef(null),Ot=reactExports.useRef(null);reactExports.useEffect(function(){Et===-1&&Nt(g)},[g,Et]),reactExports.useEffect(function(){return function(){document.removeEventListener("mousemove",Lt.current),document.removeEventListener("mouseup",Ot.current),document.removeEventListener("touchmove",Lt.current),document.removeEventListener("touchend",Ot.current)}},[]);var It=function(qt,Zt){_t.some(function(Ut,Yt){return Ut!==qt[Yt]})&&(Zt!==void 0&&yt(Zt),Nt(qt),dt(qt))},Rt=function(qt,Zt){if(qt===-1){var Ut=Bt[0],Yt=Bt[Bt.length-1],lr=it-Ut,rr=ut-Yt,Qt=Zt*(ut-it);Qt=Math.max(Qt,lr),Qt=Math.min(Qt,rr);var ur=ct(Ut+Qt);Qt=ur-Ut;var wr=Bt.map(function(Mr){return Mr+Qt});It(wr)}else{var vr=(ut-it)*Zt,Dr=_toConsumableArray(_t);Dr[qt]=Bt[qt];var Or=pt(Dr,vr,qt,"dist");It(Or.values,Or.value)}},Vt=reactExports.useRef(Rt);Vt.current=Rt;var Xt=function(qt,Zt){qt.stopPropagation();var Ut=g[Zt];Mt(Zt),yt(Ut),Ft(g);var Yt=getPosition(qt),lr=Yt.pageX,rr=Yt.pageY,Qt=function(vr){vr.preventDefault();var Dr=getPosition(vr),Or=Dr.pageX,Mr=Dr.pageY,dr=Or-lr,_r=Mr-rr,zr=s.current.getBoundingClientRect(),yr=zr.width,Lr=zr.height,tr;switch(h){case"btt":tr=-_r/Lr;break;case"ttb":tr=_r/Lr;break;case"rtl":tr=-dr/yr;break;default:tr=dr/yr}Vt.current(Zt,tr)},ur=function wr(vr){vr.preventDefault(),document.removeEventListener("mouseup",wr),document.removeEventListener("mousemove",Qt),document.removeEventListener("touchend",wr),document.removeEventListener("touchmove",Qt),Lt.current=null,Ot.current=null,Mt(-1),ht()};document.addEventListener("mouseup",ur),document.addEventListener("mousemove",Qt),document.addEventListener("touchend",ur),document.addEventListener("touchmove",Qt),Lt.current=Qt,Ot.current=ur},Wt=reactExports.useMemo(function(){var jt=_toConsumableArray(g).sort(function(Zt,Ut){return Zt-Ut}),qt=_toConsumableArray(_t).sort(function(Zt,Ut){return Zt-Ut});return jt.every(function(Zt,Ut){return Zt===qt[Ut]})?_t:g},[g,_t]);return[Et,gt,Wt,Xt]}function Track(s){var h,g=s.prefixCls,it=s.style,ut=s.start,ct=s.end,dt=s.index,ht=s.onStartMove,pt=reactExports.useContext(SliderContext),mt=pt.direction,vt=pt.min,gt=pt.max,yt=pt.disabled,bt=pt.range,wt="".concat(g,"-track"),Et=getOffset(ut,vt,gt),Mt=getOffset(ct,vt,gt),Dt=function(Nt){!yt&&ht&&ht(Nt,-1)},$t={};switch(mt){case"rtl":$t.right="".concat(Et*100,"%"),$t.width="".concat(Mt*100-Et*100,"%");break;case"btt":$t.bottom="".concat(Et*100,"%"),$t.height="".concat(Mt*100-Et*100,"%");break;case"ttb":$t.top="".concat(Et*100,"%"),$t.height="".concat(Mt*100-Et*100,"%");break;default:$t.left="".concat(Et*100,"%"),$t.width="".concat(Mt*100-Et*100,"%")}return reactExports.createElement("div",{className:classNames(wt,(h={},_defineProperty(h,"".concat(wt,"-").concat(dt+1),bt),_defineProperty(h,"".concat(g,"-track-draggable"),ht),h)),style:_objectSpread2(_objectSpread2({},$t),it),onMouseDown:Dt,onTouchStart:Dt})}function Tracks(s){var h=s.prefixCls,g=s.style,it=s.values,ut=s.startPoint,ct=s.onStartMove,dt=reactExports.useContext(SliderContext),ht=dt.included,pt=dt.range,mt=dt.min,vt=reactExports.useMemo(function(){if(!pt){if(it.length===0)return[];var gt=ut??mt,yt=it[0];return[{start:Math.min(gt,yt),end:Math.max(gt,yt)}]}for(var bt=[],wt=0;wt<it.length-1;wt+=1)bt.push({start:it[wt],end:it[wt+1]});return bt},[it,pt,ut,mt]);return ht?vt.map(function(gt,yt){var bt=gt.start,wt=gt.end;return reactExports.createElement(Track,{index:yt,prefixCls:h,style:getIndex(g,yt),start:bt,end:wt,key:yt,onStartMove:ct})}):null}function Mark(s){var h=s.prefixCls,g=s.style,it=s.children,ut=s.value,ct=s.onClick,dt=reactExports.useContext(SliderContext),ht=dt.min,pt=dt.max,mt=dt.direction,vt=dt.includedStart,gt=dt.includedEnd,yt=dt.included,bt="".concat(h,"-text"),wt=getDirectionStyle(mt,ut,ht,pt);return reactExports.createElement("span",{className:classNames(bt,_defineProperty({},"".concat(bt,"-active"),yt&&vt<=ut&&ut<=gt)),style:_objectSpread2(_objectSpread2({},wt),g),onMouseDown:function(Mt){Mt.stopPropagation()},onClick:function(){ct(ut)}},it)}function Marks(s){var h=s.prefixCls,g=s.marks,it=s.onClick,ut="".concat(h,"-mark");return g.length?reactExports.createElement("div",{className:ut},g.map(function(ct){var dt=ct.value,ht=ct.style,pt=ct.label;return reactExports.createElement(Mark,{key:dt,prefixCls:ut,style:ht,value:dt,onClick:it},pt)})):null}function Dot(s){var h=s.prefixCls,g=s.value,it=s.style,ut=s.activeStyle,ct=reactExports.useContext(SliderContext),dt=ct.min,ht=ct.max,pt=ct.direction,mt=ct.included,vt=ct.includedStart,gt=ct.includedEnd,yt="".concat(h,"-dot"),bt=mt&&vt<=g&&g<=gt,wt=_objectSpread2(_objectSpread2({},getDirectionStyle(pt,g,dt,ht)),typeof it=="function"?it(g):it);return bt&&(wt=_objectSpread2(_objectSpread2({},wt),typeof ut=="function"?ut(g):ut)),reactExports.createElement("span",{className:classNames(yt,_defineProperty({},"".concat(yt,"-active"),bt)),style:wt})}function Steps(s){var h=s.prefixCls,g=s.marks,it=s.dots,ut=s.style,ct=s.activeStyle,dt=reactExports.useContext(SliderContext),ht=dt.min,pt=dt.max,mt=dt.step,vt=reactExports.useMemo(function(){var gt=new Set;if(g.forEach(function(bt){gt.add(bt.value)}),it&&mt!==null)for(var yt=ht;yt<=pt;)gt.add(yt),yt+=mt;return Array.from(gt)},[ht,pt,mt,it,g]);return reactExports.createElement("div",{className:"".concat(h,"-step")},vt.map(function(gt){return reactExports.createElement(Dot,{prefixCls:h,key:gt,value:gt,style:ut,activeStyle:ct})}))}function useOffset(s,h,g,it,ut,ct){var dt=reactExports.useCallback(function(bt){var wt=isFinite(bt)?bt:s;return wt=Math.min(h,bt),wt=Math.max(s,wt),wt},[s,h]),ht=reactExports.useCallback(function(bt){if(g!==null){var wt=s+Math.round((dt(bt)-s)/g)*g,Et=function(_t){return(String(_t).split(".")[1]||"").length},Mt=Math.max(Et(g),Et(h),Et(s)),Dt=Number(wt.toFixed(Mt));return s<=Dt&&Dt<=h?Dt:null}return null},[g,s,h,dt]),pt=reactExports.useCallback(function(bt){var wt=dt(bt),Et=it.map(function($t){return $t.value});g!==null&&Et.push(ht(bt)),Et.push(s,h);var Mt=Et[0],Dt=h-s;return Et.forEach(function($t){var _t=Math.abs(wt-$t);_t<=Dt&&(Mt=$t,Dt=_t)}),Mt},[s,h,it,g,dt,ht]),mt=function bt(wt,Et,Mt){var Dt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof Et=="number"){var $t,_t=wt[Mt],Nt=_t+Et,kt=[];it.forEach(function(Ot){kt.push(Ot.value)}),kt.push(s,h),kt.push(ht(_t));var At=Et>0?1:-1;Dt==="unit"?kt.push(ht(_t+At*g)):kt.push(ht(Nt)),kt=kt.filter(function(Ot){return Ot!==null}).filter(function(Ot){return Et<0?Ot<=_t:Ot>=_t}),Dt==="unit"&&(kt=kt.filter(function(Ot){return Ot!==_t}));var Bt=Dt==="unit"?_t:Nt;$t=kt[0];var Ft=Math.abs($t-Bt);if(kt.forEach(function(Ot){var It=Math.abs(Ot-Bt);It<Ft&&($t=Ot,Ft=It)}),$t===void 0)return Et<0?s:h;if(Dt==="dist")return $t;if(Math.abs(Et)>1){var Lt=_toConsumableArray(wt);return Lt[Mt]=$t,bt(Lt,Et-At,Mt,Dt)}return $t}else{if(Et==="min")return s;if(Et==="max")return h}},vt=function(wt,Et,Mt){var Dt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",$t=wt[Mt],_t=mt(wt,Et,Mt,Dt);return{value:_t,changed:_t!==$t}},gt=function(wt){return ct===null&&wt===0||typeof ct=="number"&&wt<ct},yt=function(wt,Et,Mt){var Dt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",$t=wt.map(pt),_t=$t[Mt],Nt=mt($t,Et,Mt,Dt);if($t[Mt]=Nt,ut===!1){var kt=ct||0;Mt>0&&$t[Mt-1]!==_t&&($t[Mt]=Math.max($t[Mt],$t[Mt-1]+kt)),Mt<$t.length-1&&$t[Mt+1]!==_t&&($t[Mt]=Math.min($t[Mt],$t[Mt+1]-kt))}else if(typeof ct=="number"||ct===null){for(var At=Mt+1;At<$t.length;At+=1)for(var Bt=!0;gt($t[At]-$t[At-1])&&Bt;){var Ft=vt($t,1,At);$t[At]=Ft.value,Bt=Ft.changed}for(var Lt=Mt;Lt>0;Lt-=1)for(var Ot=!0;gt($t[Lt]-$t[Lt-1])&&Ot;){var It=vt($t,-1,Lt-1);$t[Lt-1]=It.value,Ot=It.changed}for(var Rt=$t.length-1;Rt>0;Rt-=1)for(var Vt=!0;gt($t[Rt]-$t[Rt-1])&&Vt;){var Xt=vt($t,-1,Rt-1);$t[Rt-1]=Xt.value,Vt=Xt.changed}for(var Wt=0;Wt<$t.length-1;Wt+=1)for(var jt=!0;gt($t[Wt+1]-$t[Wt])&&jt;){var qt=vt($t,1,Wt+1);$t[Wt+1]=qt.value,jt=qt.changed}}return{value:$t[Mt],values:$t}};return[pt,yt]}var Slider=reactExports.forwardRef(function(s,h){var g,it=s.prefixCls,ut=it===void 0?"rc-slider":it,ct=s.className,dt=s.style,ht=s.disabled,pt=ht===void 0?!1:ht,mt=s.keyboard,vt=mt===void 0?!0:mt,gt=s.autoFocus,yt=s.onFocus,bt=s.onBlur,wt=s.min,Et=wt===void 0?0:wt,Mt=s.max,Dt=Mt===void 0?100:Mt,$t=s.step,_t=$t===void 0?1:$t,Nt=s.value,kt=s.defaultValue,At=s.range,Bt=s.count,Ft=s.onChange,Lt=s.onBeforeChange,Ot=s.onAfterChange,It=s.allowCross,Rt=It===void 0?!0:It,Vt=s.pushable,Xt=Vt===void 0?!1:Vt,Wt=s.draggableTrack,jt=s.reverse,qt=s.vertical,Zt=s.included,Ut=Zt===void 0?!0:Zt,Yt=s.startPoint,lr=s.trackStyle,rr=s.handleStyle,Qt=s.railStyle,ur=s.dotStyle,wr=s.activeDotStyle,vr=s.marks,Dr=s.dots,Or=s.handleRender,Mr=s.tabIndex,dr=Mr===void 0?0:Mr,_r=s.ariaLabelForHandle,zr=s.ariaLabelledByForHandle,yr=s.ariaValueTextFormatterForHandle,Lr=reactExports.useRef(),tr=reactExports.useRef(),ir=reactExports.useMemo(function(){return qt?jt?"ttb":"btt":jt?"rtl":"ltr"},[jt,qt]),br=reactExports.useMemo(function(){return isFinite(Et)?Et:0},[Et]),nr=reactExports.useMemo(function(){return isFinite(Dt)?Dt:100},[Dt]),cr=reactExports.useMemo(function(){return _t!==null&&_t<=0?1:_t},[_t]),gr=reactExports.useMemo(function(){return typeof Xt=="boolean"?Xt?cr:!1:Xt>=0?Xt:!1},[Xt,cr]),Sr=reactExports.useMemo(function(){var $r=Object.keys(vr||{});return $r.map(function(cn){var fn=vr[cn],pn={value:Number(cn)};return fn&&_typeof(fn)==="object"&&!reactExports.isValidElement(fn)&&("label"in fn||"style"in fn)?(pn.style=fn.style,pn.label=fn.label):pn.label=fn,pn}).filter(function(cn){var fn=cn.label;return fn||typeof fn=="number"}).sort(function(cn,fn){return cn.value-fn.value})},[vr]),kr=useOffset(br,nr,cr,Sr,Rt,gr),er=_slicedToArray(kr,2),ar=er[0],xr=er[1],Tr=useMergedState(kt,{value:Nt}),Fr=_slicedToArray(Tr,2),Er=Fr[0],jr=Fr[1],Kr=reactExports.useMemo(function(){var $r=Er==null?[]:Array.isArray(Er)?Er:[Er],cn=_slicedToArray($r,1),fn=cn[0],pn=fn===void 0?br:fn,Nr=Er===null?[]:[pn];if(At){if(Nr=_toConsumableArray($r),Bt||Er===void 0){var Un=Bt>=0?Bt+1:2;for(Nr=Nr.slice(0,Un);Nr.length<Un;){var _i;Nr.push((_i=Nr[Nr.length-1])!==null&&_i!==void 0?_i:br)}}Nr.sort(function(po,Lo){return po-Lo})}return Nr.forEach(function(po,Lo){Nr[Lo]=ar(po)}),Nr},[Er,At,br,Bt,ar]),Xr=reactExports.useRef(Kr);Xr.current=Kr;var Hr=function(cn){return At?cn:cn[0]},gn=function(cn){var fn=_toConsumableArray(cn).sort(function(pn,Nr){return pn-Nr});Ft&&!isEqual(fn,Xr.current,!0)&&Ft(Hr(fn)),jr(fn)},xn=function(cn){if(!pt){var fn=0,pn=nr-br;Kr.forEach(function(Un,_i){var po=Math.abs(cn-Un);po<=pn&&(pn=po,fn=_i)});var Nr=_toConsumableArray(Kr);Nr[fn]=cn,At&&!Kr.length&&Bt===void 0&&Nr.push(cn),Lt==null||Lt(Hr(Nr)),gn(Nr),Ot==null||Ot(Hr(Nr))}},hn=function(cn){cn.preventDefault();var fn=tr.current.getBoundingClientRect(),pn=fn.width,Nr=fn.height,Un=fn.left,_i=fn.top,po=fn.bottom,Lo=fn.right,ns=cn.clientX,$o=cn.clientY,On;switch(ir){case"btt":On=(po-$o)/Nr;break;case"ttb":On=($o-_i)/Nr;break;case"rtl":On=(Lo-ns)/pn;break;default:On=(ns-Un)/pn}var na=br+On*(nr-br);xn(ar(na))},Ar=reactExports.useState(null),_n=_slicedToArray(Ar,2),Gt=_n[0],pr=_n[1],Br=function(cn,fn){if(!pt){var pn=xr(Kr,cn,fn);Lt==null||Lt(Hr(Kr)),gn(pn.values),Ot==null||Ot(Hr(pn.values)),pr(pn.value)}};reactExports.useEffect(function(){if(Gt!==null){var $r=Kr.indexOf(Gt);$r>=0&&Lr.current.focus($r)}pr(null)},[Gt]);var Vr=reactExports.useMemo(function(){return Wt&&cr===null?!1:Wt},[Wt,cr]),vn=function(){Ot==null||Ot(Hr(Xr.current))},wn=useDrag(tr,ir,Kr,br,nr,ar,gn,vn,xr),Wn=_slicedToArray(wn,4),Nn=Wn[0],Qn=Wn[1],bo=Wn[2],$a=Wn[3],Bo=function(cn,fn){$a(cn,fn),Lt==null||Lt(Hr(Xr.current))},Uo=Nn!==-1;reactExports.useEffect(function(){if(!Uo){var $r=Kr.lastIndexOf(Qn);Lr.current.focus($r)}},[Uo]);var sn=reactExports.useMemo(function(){return _toConsumableArray(bo).sort(function($r,cn){return $r-cn})},[bo]),Zn=reactExports.useMemo(function(){return At?[sn[0],sn[sn.length-1]]:[br,sn[0]]},[sn,At,br]),Oo=_slicedToArray(Zn,2),Ko=Oo[0],Mo=Oo[1];reactExports.useImperativeHandle(h,function(){return{focus:function(){Lr.current.focus(0)},blur:function(){var cn=document,fn=cn.activeElement;tr.current.contains(fn)&&(fn==null||fn.blur())}}}),reactExports.useEffect(function(){gt&&Lr.current.focus(0)},[]);var Jn=reactExports.useMemo(function(){return{min:br,max:nr,direction:ir,disabled:pt,keyboard:vt,step:cr,included:Ut,includedStart:Ko,includedEnd:Mo,range:At,tabIndex:dr,ariaLabelForHandle:_r,ariaLabelledByForHandle:zr,ariaValueTextFormatterForHandle:yr}},[br,nr,ir,pt,vt,cr,Ut,Ko,Mo,At,dr,_r,zr,yr]);return reactExports.createElement(SliderContext.Provider,{value:Jn},reactExports.createElement("div",{ref:tr,className:classNames(ut,ct,(g={},_defineProperty(g,"".concat(ut,"-disabled"),pt),_defineProperty(g,"".concat(ut,"-vertical"),qt),_defineProperty(g,"".concat(ut,"-horizontal"),!qt),_defineProperty(g,"".concat(ut,"-with-marks"),Sr.length),g)),style:dt,onMouseDown:hn},reactExports.createElement("div",{className:"".concat(ut,"-rail"),style:Qt}),reactExports.createElement(Tracks,{prefixCls:ut,style:lr,values:sn,startPoint:Yt,onStartMove:Vr?Bo:null}),reactExports.createElement(Steps,{prefixCls:ut,marks:Sr,dots:Dr,style:ur,activeStyle:wr}),reactExports.createElement(Handles,{ref:Lr,prefixCls:ut,style:rr,values:bo,draggingIndex:Nn,onStartMove:Bo,onOffsetChange:Br,onFocus:yt,onBlur:bt,handleRender:Or}),reactExports.createElement(Marks,{prefixCls:ut,marks:Sr,onClick:xn})))});function GGBSlider({width:s,height:h,orientation:g,sliderSettings:it,defaultValue:ut,parentCallback:ct}){reactExports.useState(0);const dt={backgroundColor:"black",width:30,height:30,marginLeft:-12,opacity:1},ht={backgroundColor:"black",width:30,height:30,marginTop:-12,opacity:1};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{style:{width:s,height:h},children:jsxRuntimeExports.jsx(Slider,{onChange:ct,vertical:g=="vertical",defaultValue:ut||1,min:it.min,max:it.max,step:it.step,trackStyle:{backgroundColor:"black"},railStyle:{backgroundColor:"gray"},handleStyle:g=="vertical"?dt:ht})})})}function GGBSliderWrapper({children:s,ggbRef:h,parentCallback:g,visible:it,coordStart:ut,sliderStartPosition:ct,sliderSettings:dt}){const[ht,pt]=reactExports.useState(1),[mt,vt]=reactExports.useState(1);reactExports.useEffect(()=>{try{pt(ct[0])}catch{}try{vt(ct[1])}catch{}},[ct]),reactExports.useEffect(()=>{h.current.setCoordSystem(ut.xMin,ut.xMax,ut.yMin,ut.yMax)},[ut]),reactExports.useEffect(()=>{if(h.current!=null&&ut!=null&&ht!=null&&mt!=null){var bt=ut.xMin*mt,wt=ut.xMax*mt,Et=ut.yMin*ht,Mt=ut.yMax*ht;h.current.setCoordSystem(bt,wt,Et,Mt)}},[ht,mt]),reactExports.useEffect(()=>{g([ht,mt])},[it]);const gt=jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:jsxRuntimeExports.jsx(GGBSlider,{orientation:"vertical",height:"50%",parentCallback:bt=>{pt(bt)},sliderSettings:dt.left,defaultValue:ct?ct[0]:1})}),yt=jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(GGBSlider,{orientation:"horizontal",width:"50%",parentCallback:bt=>{vt(bt)},sliderSettings:dt.bottom,defaultValue:ct?ct[1]:1})});return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[it&&gt,jsxRuntimeExports.jsxs("div",{children:[s,it&&yt]})]})})}function GGBFusion({id:s,ggbRef:h,ggbHandler:g,miscHandler:it,reload:ut,width:ct,height:dt,customToolBar:ht,axislabels:pt,coordStart:mt,sliderDisplay:vt,sliderStartPosition:gt,sliderSettings:yt}){const[bt,wt]=reactExports.useState(ut),[Et,Mt]=reactExports.useState(null),Dt=reactExports.useCallback(It=>Mt(It),[]),[$t,_t]=g,Nt=reactExports.useCallback(It=>{bt==!1&&_t(It)},[bt]),kt=reactExports.useCallback(It=>{}),At=jsxRuntimeExports.jsx(GGBApplet$1,{ref:h,id:s,showToolBar:!0,customToolBar:ht,showToolBarHelp:!1,perspective:"G",width:ct,height:dt,showMenuBar:"false",showResetIcon:"false",enableUndoRedo:"true",enableShiftDragZoom:"true",borderColor:"#FFFFFF",xaxislabel:pt?pt[0]:x,yaxislabel:pt?pt[1]:y,enableRightClick:!1,commands:null}),Bt=jsxRuntimeExports.jsxs(GGBListenerWrapper,{ggbRef:h,parentCallback:Dt,useAddListener:!0,useRemoveListener:!0,children:[" ",At]}),Ft=jsxRuntimeExports.jsxs(GGBDataWrapper,{ggbRef:h,parentCallback:Nt,reload:ut,ggbData:$t,changeEvent:Et,children:[" ",Bt]}),Lt=jsxRuntimeExports.jsxs(GGBReloadWrapper,{ggbRef:h,reloadHandler:[bt,wt],ggbHandler:g,children:[" ",Ft]}),Ot=jsxRuntimeExports.jsx(GGBSliderWrapper,{ggbRef:h,parentCallback:kt,visible:vt,coordStart:mt,sliderStartPosition:gt,sliderSettings:yt,children:jsxRuntimeExports.jsx("div",{style:{margin:"50px"},children:Lt})});return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ot})}const ClozeContainer=st.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  border: solid black 1px;
  padding: 10px 20px 10px 20px
`,TextBlock=st.div`
  margin: 1em auto;
`,WordBox=st.div`
  background-color: "white";
  margin: 1px;
  padding: 0.2em 0.1em;
  cursor: pointer;
  min-width: 1em;
`,DroppableWordBox=st.div` 
  margin: 2px;
  padding: 0.1em 0.2em;
  cursor: pointer;
  min-width: 2em;
  background-color: ${s=>s.bgcolor||"rgb(242, 242, 242)"};
  border: solid rgb(191, 191, 191) 1px
`,WordWrapper=st.div`
  display: flex;
  justify-content: start;
  flex-wrap:wrap;
`,AnswerBlock=st.div`
  margin: 1em auto;
  border: solid black 1px;
  width: 90%;
  display: flex;
  flex-direction: column;
  justify-content:center;
  padding:20px;
  background-color:rgb(242, 242, 242)
`,AnswerWordWrapper=st.div`
  display: flex;
  justify-content: center;
  flex-wrap:wrap;
`,DraggableWordBox=st.div`
  background-color: white;
  margin: 5px;
  padding: 0.1em 0.2em;
  cursor: pointer;
  min-width: 1em;
  border: solid black 1px
`,getSentence=s=>s.split(" ").map((h,g)=>{if(h.startsWith("<")){const ut=h.match(/<[^>]+>/)[0].slice(1,-1);return{id:g,text:ut,type:"answer",placed:!1,displayed:""}}return{id:g,text:h,type:"word"}}),getAnswers=s=>Array.from(new Set(s.split(" "))).reduce((g,it)=>{if(it.startsWith("<")){const ut=it.match(/<[^>]+>/);if(ut){const ct=ut[0].slice(1,-1);return g.concat(ct)}}return g},[]);function Droppable({groupName:s,bgcolor:h,ndx:g,onDrop:it,children:ut}){const[ct,dt]=reactExports.useState({bgcolor:h}),ht=vt=>{it(vt,s),vt.preventDefault(),dt({bgcolor:"white"})},pt=vt=>{vt.preventDefault(),dt({bgcolor:"yellow"})},mt=vt=>{vt.preventDefault(),dt({bgcolor:"white"})};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(DroppableWordBox,{bgcolor:h||ct.bgcolor,"data-testid":`droppable${g}`,onDragLeave:mt,onDragOver:pt,onDrop:ht,children:ut})})}function SentenceBox({marked:s,sentence:h,onDrop:g}){const it=(ct,dt)=>{g(ct,dt)},ut=()=>h.map((ct,dt)=>{if(ct.type==="word")return jsxRuntimeExports.jsx(WordBox,{"data-testid":"word",children:ct.text},dt);var ht;return s&&(ht=ct.text===ct.displayed?"lightgreen":"#F77"),jsxRuntimeExports.jsx(Droppable,{bgcolor:ht,groupName:ct.id,ndx:dt,onDrop:it,children:ct.placed?ct.displayed:" "},dt)});return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(TextBlock,{children:jsxRuntimeExports.jsx(WordWrapper,{children:ut()})})})}function Draggable({name:s,bgcolor:h,onDragStart:g}){const it=ut=>{g(ut,s)};return jsxRuntimeExports.jsx(DraggableWordBox,{bgcolor:h,"data-testid":"answer",draggable:"true",onDragStart:it,children:s})}function AnswerBox({answers:s}){const h=(g,it)=>{g.dataTransfer&&g.dataTransfer.setData("text/plain",it)};return jsxRuntimeExports.jsxs(AnswerBlock,{children:[jsxRuntimeExports.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:"Bewege die Antworten in die richtigen Lücken."}),jsxRuntimeExports.jsx(AnswerWordWrapper,{children:s.map(g=>jsxRuntimeExports.jsx(Draggable,{bgcolor:"rgba(255,255,255,0)",name:g,onDragStart:h},g))})]})}function Cloze({text:s,parentCallback:h}){const[g,it]=reactExports.useState({showResults:!1,answers:getAnswers(s),sentence:getSentence(s)}),{showResults:ut,sentence:ct}=g,dt=(pt,mt)=>{const vt=pt.dataTransfer.getData("text/plain"),gt=g.sentence.map(yt=>yt.id===mt?{...yt,placed:!0,displayed:vt}:yt);it({...g,sentence:gt})},ht=()=>g.sentence.reduce((pt,mt)=>{if(mt.type==="answer"){var vt;return mt.placed&&mt.text===mt.displayed?vt=!0:vt=!1,pt.concat(vt)}return pt},[]);return reactExports.useEffect(()=>{var pt=ht();pt.every(vt=>vt===!0)==!0?(it({...g,showResults:!0}),h(!0)):(it({...g,showResults:!1}),h(!1))},[ct]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(ClozeContainer,{children:[jsxRuntimeExports.jsx(SentenceBox,{marked:ut,onDrop:dt,sentence:g.sentence}),!ut&&jsxRuntimeExports.jsx(AnswerBox,{answers:g.answers})]})})}function Questions({taskHandler:s,questionStep:h,progressData:g,inputData:it,parentCallback:ut}){const[ct,dt]=s,ht=(yt,bt,wt)=>{const Et={...ct};Et[yt].questions[bt].displayHelp=wt,dt(Et)},[pt,mt]=reactExports.useState({}),vt=(yt,bt)=>{mt(wt=>({...wt,[yt]:bt}))},gt=ct[h].questions.map((yt,bt)=>jsxRuntimeExports.jsx("div",{children:g[yt.display]&&jsxRuntimeExports.jsxs("div",{children:[yt.topSpace&&jsxRuntimeExports.jsx(VerticalSpace$2,{size:yt.topSpace}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap"},children:[yt.text,yt.input.map((wt,Et)=>wt==!0?jsxRuntimeExports.jsx(LatexInputField,{style:{width:"100px",border:"solid rgb(200, 200, 200)"},data:it[yt.id],parentCallback:Mt=>{vt(yt.id,Mt)}},Et):jsxRuntimeExports.jsx("span",{children:wt},Et)),g[yt.check]&&jsxRuntimeExports.jsx(OK,{children:"✓"}),yt.help&&jsxRuntimeExports.jsx(HelpButton,{onClick:()=>ht(h,bt,!yt.displayHelp),children:"?"})]})}),yt.displayHelp&&(yt.help?yt.help:null),yt.bottomSpace&&jsxRuntimeExports.jsx(VerticalSpace$2,{size:yt.bottomSpace})]})},bt));return reactExports.useEffect(()=>{ut(pt)},[pt]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:gt})}function Step4({ggbRef:s}){const{progressData:h,updateProgressData:g}=reactExports.useContext(ProgressDataContext),{taskData:it,setTaskData:ut}=reactExports.useContext(TaskDataContext),{solData:ct,updateSolData:dt}=reactExports.useContext(SolDataContext);reactExports.useContext(TableDataContext);const{ggbData:ht,updateGGBData:pt}=reactExports.useContext(GGBDataContext),{inputData:mt,updateInputData:vt}=reactExports.useContext(InputDataContext);return reactExports.useEffect(()=>{s.current.setCustomToolBar(it.step4.ggb.customToolBar)},[s]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FlowControl,{step:"step4",taskData:it,ggbData:ht,ggbRef:s,inputData:mt,progressHandler:[h,g],solHandler:[ct,dt]}),jsxRuntimeExports.jsx(StepHeading,{children:it.step4.heading.text}),jsxRuntimeExports.jsx(Instructions,{instructions:it.step4.instructions,taskHandler:[it,ut],progressData:h}),jsxRuntimeExports.jsx(Questions,{taskHandler:[it,ut],questionStep:"step4",progressData:h,inputData:mt,parentCallback:gt=>vt(gt)})]})}function Step3(){const{progressData:s,updateProgressData:h}=reactExports.useContext(ProgressDataContext),{taskData:g,setTaskData:it}=reactExports.useContext(TaskDataContext),{solData:ut,updateSolData:ct}=reactExports.useContext(SolDataContext),{miscData:dt,updateMiscData:ht}=reactExports.useContext(MiscDataContext),{tableData:pt,updateTableData:mt}=reactExports.useContext(TableDataContext),{ggbData:vt,updateGGBData:gt}=reactExports.useContext(GGBDataContext),yt=reactExports.useRef(null);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FlowControl,{step:"step3",taskData:g,ggbData:vt,ggbRef:yt,progressHandler:[s,h],solHandler:[ut,ct],tableData:pt}),jsxRuntimeExports.jsx(StepHeading,{children:g.step3.heading.text}),jsxRuntimeExports.jsx(Instructions,{instructions:g.step3.instructions,taskHandler:[g,it],progressData:s}),s[g.step3.cloze.display]&&!s[g.step3.cloze.remove]&&jsxRuntimeExports.jsx(Cloze,{text:g.step3.cloze.text,parentCallback:bt=>h(g.step3.cloze.updateProgress,bt)}),s[g.step3.next.visible]&&jsxRuntimeExports.jsx(VerticalSpace$2,{}),s[g.step3.next.visible]&&!s.step3&&jsxRuntimeExports.jsx(MoveOnButton,{onClick:()=>h(g.step3.next.click,!0),children:"Weiter"}),s[g.step3.next.click]&&jsxRuntimeExports.jsx(Step4,{ggbRef:yt}),jsxRuntimeExports.jsx(GGBFusion,{id:"applet",ggbRef:yt,ggbHandler:[vt,gt],miscHandler:[dt,ht],reload:!0,width:600,height:600,customToolBar:g.step3.ggb.customToolBar,axislabels:s[g.step3.cloze.updateProgress]?g.step3.cloze.action:g.step3.ggb.axislabels,coordStart:g.step3.ggb.coordStart,sliderDisplay:!0,sliderStartPosition:dt.sliderValues,sliderSettings:g.step3.ggb.sliderSettings}),s[g.step4.next.visible]&&jsxRuntimeExports.jsx(VerticalSpace$2,{size:"100px"}),s[g.step4.next.visible]&&jsxRuntimeExports.jsx(StepHeading,{style:{border:"solid black 5px",padding:"20px"},children:"Geschafft! Auf zum nächsten Experiment."})," "]})}const img1$1="/abpropfunk/img/task1/messzylinder.jpg",img2="/abpropfunk/img/task1/wasserhahn.jpg",step0_initSol={},step0_data={heading:{text:"Station 1 - Der tropfende Wasserhahn"},materials:[{name:"Messzylinder",src:img1$1},{name:"Wasserhahn",src:img2}],instructions:[{text:"In dieser Aufgabe wollen wir berechnen, wie viel Wasser verschwendet wird, wenn ein Wasserhahn einen Tag lang tropft. Du benötigst dafür folgende Materialien:",display:"true",check:"false",help:!1,displayHelp:!1}],checker:[],updater:[],next:{visible:!0,click:"step0"}},step1_initSol={},step1_data={heading:{text:"Schritt 1: Versuchsaufbau"},instructions:[{text:"Stelle den Wasserhahn so ein, dass er tropft. Halte den leeren Messzylinder unter den tropfenden Wasserhahn. In diesem Moment, wird ein Timer (wird im nächsten Schritt bereitgestellt) gestartet. Es wird dann alle 30 Sekunden der Milliliterstand im Messzylinder gemessen und eine Tabelle ausgefüllt.",display:"true",check:"false",help:!1,displayHelp:!1,bottomSpace:"20px"},{text:"Baut euren Versuch auf und macht ein Foto, in dem man die Idee des Ablaufs erkennen kann. Falls notwendig, können Beschriftungen anschließend eigefügt werden.",display:"true",check:"false",help:!1,displayHelp:!1}],checker:[],updater:[],next:{visible:"step0",click:"step1"}};function Help2A(){const{progressData:s,updateProgressData:h}=reactExports.useContext(ProgressDataContext),{taskData:g,setTaskData:it}=reactExports.useContext(TaskDataContext),{solData:ut,updateSolData:ct}=reactExports.useContext(SolDataContext),{tableData:dt,updateTableData:ht}=reactExports.useContext(TableDataContext);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FlowControl,{step:"help2A",taskData:g,progressHandler:[s,h],solHandler:[ut,ct],tableData:dt}),jsxRuntimeExports.jsx(VerticalSpace$2,{size:"10px"}),jsxRuntimeExports.jsx(HelpContainer,{children:jsxRuntimeExports.jsx(Instructions,{instructions:g.help2A.instructions,taskHandler:[g,it],progressData:s})}),jsxRuntimeExports.jsx(VerticalSpace$2,{})]})}const step2_initSol={step2A_init:[{col0:{val:0,diff:0}},{col0:{val:.5,diff:0}},{col0:{val:1,diff:0}},{col0:{val:1.5,diff:0}},{col0:{val:2,diff:0}}],step2B_init:[{col0:{val:0,diff:0},col1:{val:0,diff:1}},{col0:{val:.5,diff:0},col1:{val:1,diff:1}},{col0:{val:1,diff:0},col1:{val:2,diff:1}},{col0:{val:1.5,diff:0},col1:{val:3,diff:1}},{col0:{val:2,diff:0},col1:{val:4,diff:1}}]},step2_data={heading:{text:"Schritt 2: Messung durchführen"},instructions:[{text:"Der Versuch dauert 5 Minuten. Alle 30 Sekunden wird die Milliliteranzeige gemessen.",display:"true",check:"false",help:!1,displayHelp:!1},{text:"Bevor du startest: Trage alle Zeitschritte in die Tabelle ein.",display:"true",check:"step2A",help:jsxRuntimeExports.jsx(Help2A,{}),displayHelp:!1},{text:"Starte den Timer und halte den Messzylinder unter den tropfenden Hahn. Trage die gemessenen Werte in die Tabelle ein.",display:"step2A",check:"step2B",help:!1,displayHelp:!1}],table:{col:2,header:["Zeit in [min]","Volumen in [ml]"],startValues:[{col0:"0",col1:"0"}],showTimer:"step2A"},checker:[{after:"step1",step:"step2A",action:"compareTables",input:["tableData"],sol:["solData","step2_initSol","step2A_init"],args:[!0]},{after:"step2A",step:"step2B",action:"compareTables",input:["tableData"],sol:["solData","step2_initSol","step2B_init"],args:[!0]}],updater:[{when:"step2B",action:"moveData",input:["solData","step2B"],args:[],ggbRef:!1,target:"step3B_updater"}],next:{visible:"step2B",click:"step2"}},step3_initSol={},clozeText="Ein <Koordinatensystem> wird verwendet, um eine Zuordnung zwischen zwei verschiedenen Dingen grafisch darzustellen. Ganz allgemein wird dabei einem <x-Wert> von der einen Sache, ein y-Wert von der anderen Sache <zugeordnet> . Man drückt das durch einen <Punkt> im Koordinatensystem aus. Bei unserem Versuch, ist die <Zeit> der x-Wert und das <Wasservolumen> der y-Wert. Die <Beschriftung> der Achsen wird deshalb geändert.",solvedClozeText=clozeText.replace(/<([^>]+)>/g,`<span 
    style="margin: 2px;
    padding: 0.1em 0.2em;
    background-color:rgb(242, 242, 242)"; 
    border: solid rgb(191, 191, 191) 1px"
>$1</span>`),step3_data={heading:{text:"Schritt 3: Grafische Darstellung"},instructions:[{text:"In diesem Aufgabenteil, sollen die Messwerte aus Schritt 2 grafisch in dem Koordinatensystem dargestellt werden. Fülle zunächst den folgenden Lückentext aus.",display:"true",check:"step3A",help:!1,displayHelp:!1,bottomSpace:"20px"},{component:jsxRuntimeExports.jsx(SolvedCloze,{dangerouslySetInnerHTML:{__html:solvedClozeText}}),display:"step3A",check:"false",help:!1,displayHelp:!1,bottomSpace:"20px"},{text:"Trage deine Messwerte aus der Tabelle als Punkte in das Koordinatensystem ein. Verwende falls notwendig die Regler um die Achsen des Koordinatensystems anzupassen.",display:"step3A",check:"step3B",help:!1,displayHelp:!1}],cloze:{text:clozeText,display:"true",remove:"step3A",action:["Zeit in [min]","Volumen in [ml]"],updateProgress:"step3A"},ggb:{coordStart:createCoordStart([{x:1,y:1},{x:10,y:10}]),axislabels:["x","y"],sliderSettings:{left:{min:1,max:1e3,step:1},bottom:{min:1,max:1e3,step:1}},customToolBar:"0|6|1"},checker:[{after:"true",step:"step3B",action:"comparePointLists",input:["ggbData","points"],sol:["solData","step2B"],args:[0,0]}],updater:[{when:"step3B",action:"createRegression",input:["solData","step3B"],args:[5],ggbRef:!0,target:"regression"}],next:{visible:"step3B",click:"step3"}},img1="/abpropfunk/img/ggb_toolbar/Mode_join.svg",step4_initSol={step4A_init:[0]},step4_data={heading:{text:"Schritt 4: Grafische Lösung"},instructions:[{component:jsxRuntimeExports.jsxs("div",{children:[" Verwende das Geraden-Tool",jsxRuntimeExports.jsx("img",{src:img1,style:{border:"solid gray 1px",marginLeft:"5px",marginRight:"5px"},width:"30",height:"30"}),"um das Volumen nach einer Stunde abzuschätzen. Ziehe eine Linie durch den Ursprung, die möglichst nah an allen gemessenen Punkten liegt."]}),inLine:!0,display:"true",check:"step4B",help:null,displayHelp:null,bottomSpace:"20px"},{text:"Beantworte die Fragen, in dem du die Werte an der Geraden abliest.",display:"step4B",check:"false",bottomSpace:"20px"}],questions:[{id:"step4C",input:["In einem Tag tropfen aus dem Wasserhahn",!0,"Milliliter."],display:"step4B",check:"step4C",bottomSpace:"20px"},{id:"step4D",input:["In einem Tag tropfen aus dem Wasserhahn",!0,"Liter"],display:"step4C",check:"step4D",bottomSpace:"20px"},{id:"step4E",text:"Wie lange dauert es ungefähr, bis 1 Liter aus dem Wasserhahn tropft?",input:["Nach",!0,"Minuten ist ein Liter Wasser verschwendet worden."],display:"step4D",check:"step4E"}],ggb:{customToolBar:"0|6|1|2"},checker:[{after:"step3B",step:"step4A",action:"compareTablesLength",input:["ggbData","lines"],sol:["solData","step4_initSol","step4A_init"],args:["="]},{after:"step4A",step:"step4B",action:"compareLines",input:["ggbData","lines",0],sol:["solData","regression"],args:[!0]},{after:"step4B",step:"step4C",action:"compareNumbers",input:["inputData","step4C"],sol:["solData","answerBox0"],args:[10]},{after:"step4C",step:"step4D",action:"compareNumbers",input:["inputData","step4D"],sol:["solData","answerBox1"],args:[10/1e3]},{after:"step4D",step:"step4E",action:"compareNumbers",input:["inputData","step4E"],sol:["solData","answerBox2"],args:[10]}],updater:[{when:"step4B",action:"createValuePair",input:["solData","step4B","eq"],args:["x=1000","x,y","y"],ggbRef:!0,target:"answerBox0"},{when:"step4C",action:"calc",input:["solData","step4C"],args:["x/1000"],ggbRef:!1,target:"answerBox1"},{when:"step4D",action:"createValuePair",input:["solData","step4B","eq"],args:["y=1000",["x,y"],"x"],ggbRef:!0,target:"answerBox2"}],next:{visible:"step4E",click:"step4"}},help2A_initSol={help2AA_init:[{},{}],help2AB_init:[{col0:{val:0,diff:0}},{col0:{val:.5,diff:0}}],help2AC_init:[{col0:{val:0,diff:0}},{col0:{val:.5,diff:0}},{col0:{val:1,diff:0}}]},help2A_data={instructions:[{text:"Drücke am unteren Ende der Tabelle auf das + Symbol, um eine neue Zeile hinzuzufügen.",display:"true",check:"help2AA"},{text:"Trage den nächsten Zeitschritt in die Tabelle ein.",display:"help2AA",check:"help2AB"},{text:"Wiederhole die Schritte, bis du bei 5 Minuten angekommen bist. Wie viele Sekunden sind 5 Minuten?",display:"help2AB",check:"help2AC"}],checker:[{step:"help2AA",action:"compareTablesLength",input:["tableData"],sol:["solData","help2A_initSol","help2AA_init"],args:[">="]},{step:"help2AB",action:"compareTables",input:["tableData"],sol:["solData","help2A_initSol","help2AB_init"],args:[!0]},{step:"help2AC",action:"compareTables",input:["tableData"],sol:["solData","help2A_initSol","help2AC_init"],args:[!0]}],updater:[]},ProgressDataContext=reactExports.createContext(),TaskDataContext=reactExports.createContext(),SolDataContext=reactExports.createContext(),MiscDataContext=reactExports.createContext(),TableDataContext=reactExports.createContext(),GGBDataContext=reactExports.createContext(),InputDataContext=reactExports.createContext();function Task1(){const[s,h]=reactExports.useState({step0:step0_data,step1:step1_data,step2:step2_data,step3:step3_data,step4:step4_data,help2A:help2A_data}),[g,it]=useLocalStorageState("solDataTask1",{defaultValue:{step0_initSol,step1_initSol,step2_initSol,step3_initSol,step4_initSol,help2A_initSol}}),ut=(kt,At)=>{it(Bt=>({...Bt,[kt]:At}))},[ct,dt]=useLocalStorageState("progressDataTask1",{defaultValue:{true:!0,false:!1}}),ht=(kt,At)=>{dt(Bt=>({...Bt,[kt]:At}))},pt=reactResponsiveExports.useMediaQuery({query:"(orientation: portrait)"}),[mt,vt]=useLocalStorageState("miscDataTask1",{defaultValue:{isPortrait:!1,mainWidth:pt?750:1e3}}),gt=(kt,At)=>{vt(Bt=>({...Bt,[kt]:At}))};reactExports.useEffect(()=>{gt("isPortrait",pt)},[pt]);const[yt,bt]=useLocalStorageState("tableDataTask1",{defaultValue:[]}),wt=kt=>{bt(kt)},[Et,Mt]=useLocalStorageState("ggbDataTask1",{defaultValue:{points:[],lines:[]}}),Dt=kt=>{Mt(kt)},[$t,_t]=useLocalStorageState("inputDataTask1",{defaultValue:{}}),Nt=kt=>{_t(kt)};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(ProgressDataContext.Provider,{value:{progressData:ct,updateProgressData:ht},children:jsxRuntimeExports.jsx(TaskDataContext.Provider,{value:{taskData:s,setTaskData:h},children:jsxRuntimeExports.jsx(SolDataContext.Provider,{value:{solData:g,updateSolData:ut},children:jsxRuntimeExports.jsx(MiscDataContext.Provider,{value:{miscData:mt,updateMiscData:gt},children:jsxRuntimeExports.jsx(TableDataContext.Provider,{value:{tableData:yt,updateTableData:wt},children:jsxRuntimeExports.jsx(GGBDataContext.Provider,{value:{ggbData:Et,updateGGBData:Dt},children:jsxRuntimeExports.jsx(InputDataContext.Provider,{value:{inputData:$t,updateInputData:Nt},children:jsxRuntimeExports.jsx(MainContainer,{mainwidth:mt.mainWidth,children:jsxRuntimeExports.jsxs(WritingContainer,{children:[jsxRuntimeExports.jsx(Step0,{}),jsxRuntimeExports.jsx(VerticalSpace$2,{}),ct.step0&&jsxRuntimeExports.jsx(Step1,{}),jsxRuntimeExports.jsx(VerticalSpace$2,{}),ct.step1&&jsxRuntimeExports.jsx(Step2,{}),jsxRuntimeExports.jsx(VerticalSpace$2,{}),ct.step2&&jsxRuntimeExports.jsx(Step3,{}),jsxRuntimeExports.jsx(VerticalSpace$2,{size:"500px"})]})})})})})})})})})})}const Cards=({gap:s="20px"})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Card,{to:"/debug",mainHeader:"debug component"}),jsxRuntimeExports.jsx(VerticalSpace$2,{size:s})]}),jsxRuntimeExports.jsx(Card,{to:"/template",mainHeader:"Template",secondaryHeader:"Template"}),jsxRuntimeExports.jsx(VerticalSpace$2,{size:s}),jsxRuntimeExports.jsx(Card,{to:"/station1",mainHeader:"Station 1",secondaryHeader:"Der tropfende Wasserhahn"}),jsxRuntimeExports.jsx(VerticalSpace$2,{size:s}),jsxRuntimeExports.jsx(Card,{to:"/station2",mainHeader:"Station 2",secondaryHeader:"Hilf dem Raben"}),jsxRuntimeExports.jsx(VerticalSpace$2,{size:s}),jsxRuntimeExports.jsx(Card,{to:"/station3",mainHeader:"Station 3",secondaryHeader:"Lösen den Mordfall"}),jsxRuntimeExports.jsx(VerticalSpace$2,{size:s}),jsxRuntimeExports.jsx(Card,{to:"/station4",mainHeader:"Station 3",secondaryHeader:"Büroarbeit"}),jsxRuntimeExports.jsx(VerticalSpace$2,{size:s}),jsxRuntimeExports.jsx(Card,{to:"/station5",mainHeader:"Station 5",secondaryHeader:"Fußball, Handball oder Basketball?"}),jsxRuntimeExports.jsx(VerticalSpace$2,{size:s}),jsxRuntimeExports.jsx(Card,{to:"/station6",mainHeader:"Station 6",secondaryHeader:"Bauteilprüfung"})]});function App(){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(BrowserRouter,{basename:"/abpropfunk",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/debug",element:jsxRuntimeExports.jsx(DebugComponent,{})}),jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Cards,{})}),jsxRuntimeExports.jsx(Route,{path:"/template",element:jsxRuntimeExports.jsx(Template,{})}),jsxRuntimeExports.jsx(Route,{path:"/station1",element:jsxRuntimeExports.jsx(Task1,{})})]})})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(Me,{shouldForwardProp:s=>isPropValid(s),children:jsxRuntimeExports.jsx(App,{})})}));
